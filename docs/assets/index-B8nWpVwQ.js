var Xl=Object.defineProperty;var Yl=(S,m,y)=>m in S?Xl(S,m,{enumerable:!0,configurable:!0,writable:!0,value:y}):S[m]=y;var gt=(S,m,y)=>Yl(S,typeof m!="symbol"?m+"":m,y);(function(){const m=document.createElement("link").relList;if(m&&m.supports&&m.supports("modulepreload"))return;for(const P of document.querySelectorAll('link[rel="modulepreload"]'))w(P);new MutationObserver(P=>{for(const F of P)if(F.type==="childList")for(const c of F.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&w(c)}).observe(document,{childList:!0,subtree:!0});function y(P){const F={};return P.integrity&&(F.integrity=P.integrity),P.referrerPolicy&&(F.referrerPolicy=P.referrerPolicy),P.crossOrigin==="use-credentials"?F.credentials="include":P.crossOrigin==="anonymous"?F.credentials="omit":F.credentials="same-origin",F}function w(P){if(P.ep)return;P.ep=!0;const F=y(P);fetch(P.href,F)}})();var Qa=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Hl(S){if(Object.prototype.hasOwnProperty.call(S,"__esModule"))return S;var m=S.default;if(typeof m=="function"){var y=function w(){return this instanceof w?Reflect.construct(m,arguments,this.constructor):m.apply(this,arguments)};y.prototype=m.prototype}else y={};return Object.defineProperty(y,"__esModule",{value:!0}),Object.keys(S).forEach(function(w){var P=Object.getOwnPropertyDescriptor(S,w);Object.defineProperty(y,w,P.get?P:{enumerable:!0,get:function(){return S[w]}})}),y}var Gs={exports:{}},$l=Gs.exports,qa;function Kl(){return qa||(qa=1,function(S,m){(function(w,P){S.exports=P()})($l,()=>(()=>{var y={50792:c=>{var g=Object.prototype.hasOwnProperty,t="~";function o(){}Object.create&&(o.prototype=Object.create(null),new o().__proto__||(t=!1));function v(e,r,h){this.fn=e,this.context=r,this.once=h||!1}function a(e,r,h,n,l){if(typeof h!="function")throw new TypeError("The listener must be a function");var f=new v(h,n||e,l),u=t?t+r:r;return e._events[u]?e._events[u].fn?e._events[u]=[e._events[u],f]:e._events[u].push(f):(e._events[u]=f,e._eventsCount++),e}function i(e,r){--e._eventsCount===0?e._events=new o:delete e._events[r]}function s(){this._events=new o,this._eventsCount=0}s.prototype.eventNames=function(){var r=[],h,n;if(this._eventsCount===0)return r;for(n in h=this._events)g.call(h,n)&&r.push(t?n.slice(1):n);return Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(h)):r},s.prototype.listeners=function(r){var h=t?t+r:r,n=this._events[h];if(!n)return[];if(n.fn)return[n.fn];for(var l=0,f=n.length,u=new Array(f);l<f;l++)u[l]=n[l].fn;return u},s.prototype.listenerCount=function(r){var h=t?t+r:r,n=this._events[h];return n?n.fn?1:n.length:0},s.prototype.emit=function(r,h,n,l,f,u){var d=t?t+r:r;if(!this._events[d])return!1;var p=this._events[d],x=arguments.length,E,T;if(p.fn){switch(p.once&&this.removeListener(r,p.fn,void 0,!0),x){case 1:return p.fn.call(p.context),!0;case 2:return p.fn.call(p.context,h),!0;case 3:return p.fn.call(p.context,h,n),!0;case 4:return p.fn.call(p.context,h,n,l),!0;case 5:return p.fn.call(p.context,h,n,l,f),!0;case 6:return p.fn.call(p.context,h,n,l,f,u),!0}for(T=1,E=new Array(x-1);T<x;T++)E[T-1]=arguments[T];p.fn.apply(p.context,E)}else{var C=p.length,A;for(T=0;T<C;T++)switch(p[T].once&&this.removeListener(r,p[T].fn,void 0,!0),x){case 1:p[T].fn.call(p[T].context);break;case 2:p[T].fn.call(p[T].context,h);break;case 3:p[T].fn.call(p[T].context,h,n);break;case 4:p[T].fn.call(p[T].context,h,n,l);break;default:if(!E)for(A=1,E=new Array(x-1);A<x;A++)E[A-1]=arguments[A];p[T].fn.apply(p[T].context,E)}}return!0},s.prototype.on=function(r,h,n){return a(this,r,h,n,!1)},s.prototype.once=function(r,h,n){return a(this,r,h,n,!0)},s.prototype.removeListener=function(r,h,n,l){var f=t?t+r:r;if(!this._events[f])return this;if(!h)return i(this,f),this;var u=this._events[f];if(u.fn)u.fn===h&&(!l||u.once)&&(!n||u.context===n)&&i(this,f);else{for(var d=0,p=[],x=u.length;d<x;d++)(u[d].fn!==h||l&&!u[d].once||n&&u[d].context!==n)&&p.push(u[d]);p.length?this._events[f]=p.length===1?p[0]:p:i(this,f)}return this},s.prototype.removeAllListeners=function(r){var h;return r?(h=t?t+r:r,this._events[h]&&i(this,h)):(this._events=new o,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=t,s.EventEmitter=s,c.exports=s},11517:(c,g,t)=>{/**
 * @author       samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(38829),v=function(a,i,s,e){for(var r=a[0],h=1;h<a.length;h++){var n=a[h];o(n,r,i,s,e),r=n}return a};c.exports=v},80318:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(66979),v=function(a,i,s,e,r){return o(a,"angle",i,s,e,r)};c.exports=v},60757:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o,v){for(var a=0;a<t.length;a++){var i=t[a];o.call(v,i)}return t};c.exports=g},69927:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o,v){v===void 0&&(v=0);for(var a=v;a<t.length;a++){var i=t[a],s=!0;for(var e in o)i[e]!==o[e]&&(s=!1);if(s)return i}return null};c.exports=g},32265:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o,v){v===void 0&&(v=0);for(var a=t.length-1;a>=v;a--){var i=t[a],s=!0;for(var e in o)i[e]!==o[e]&&(s=!1);if(s)return i}return null};c.exports=g},94420:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(11879),v=t(60461),a=t(95540),i=t(29747),s=t(41481),e=new s({sys:{queueDepthSort:i,events:{once:i}}},0,0,1,1).setOrigin(0,0),r=function(h,n){n===void 0&&(n={});var l=n.hasOwnProperty("width"),f=n.hasOwnProperty("height"),u=a(n,"width",-1),d=a(n,"height",-1),p=a(n,"cellWidth",1),x=a(n,"cellHeight",p),E=a(n,"position",v.TOP_LEFT),T=a(n,"x",0),C=a(n,"y",0),A=0,M=0,R=u*p,O=d*x;e.setPosition(T,C),e.setSize(p,x);for(var L=0;L<h.length;L++)if(o(h[L],e,E),l&&u===-1)e.x+=p;else if(f&&d===-1)e.y+=x;else if(f&&!l){if(M+=x,e.y+=x,M===O&&(M=0,A+=p,e.y=C,e.x+=p,A===R))break}else if(A+=p,e.x+=p,A===R&&(A=0,M+=x,e.x=T,e.y+=x,M===O))break;return h};c.exports=r},41721:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(66979),v=function(a,i,s,e,r){return o(a,"alpha",i,s,e,r)};c.exports=v},67285:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(66979),v=function(a,i,s,e,r){return o(a,"x",i,s,e,r)};c.exports=v},9074:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(66979),v=function(a,i,s,e,r,h,n){return s==null&&(s=i),o(a,"x",i,e,h,n),o(a,"y",s,r,h,n)};c.exports=v},75222:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(66979),v=function(a,i,s,e,r){return o(a,"y",i,s,e,r)};c.exports=v},22983:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o,v,a){v===void 0&&(v=0),a===void 0&&(a=6.28);for(var i=v,s=(a-v)/t.length,e=o.x,r=o.y,h=o.radius,n=0;n<t.length;n++)t[n].x=e+h*Math.cos(i),t[n].y=r+h*Math.sin(i),i+=s;return t};c.exports=g},95253:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o,v,a){v===void 0&&(v=0),a===void 0&&(a=6.28);for(var i=v,s=(a-v)/t.length,e=o.width/2,r=o.height/2,h=0;h<t.length;h++)t[h].x=o.x+e*Math.cos(i),t[h].y=o.y+r*Math.sin(i),i+=s;return t};c.exports=g},88505:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(15258),v=t(26708),a=function(i,s,e){var r;e?r=v(s,e,i.length):r=o(s,i.length);for(var h=0;h<i.length;h++){var n=i[h],l=r[h];n.x=l.x,n.y=l.y}return i};c.exports=a},41346:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(14649),v=t(86003),a=t(49498),i=function(s,e,r){r===void 0&&(r=0);var h=o(e,!1,s.length);r>0?v(h,r):r<0&&a(h,Math.abs(r));for(var n=0;n<s.length;n++)s[n].x=h[n].x,s[n].y=h[n].y;return s};c.exports=i},11575:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(84993),v=function(a,i,s){var e=o({x1:i.x1,y1:i.y1,x2:i.x2,y2:i.y2},s),r=o({x1:i.x2,y1:i.y2,x2:i.x3,y2:i.y3},s),h=o({x1:i.x3,y1:i.y3,x2:i.x1,y2:i.y1},s);e.pop(),r.pop(),h.pop(),e=e.concat(r,h);for(var n=e.length/a.length,l=0,f=0;f<a.length;f++){var u=a[f],d=e[Math.floor(l)];u.x=d.x,u.y=d.y,l+=n}return a};c.exports=v},29953:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o,v){for(var a=0;a<t.length;a++){var i=t[a];i.anims&&i.anims.play(o,v)}return t};c.exports=g},66979:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o,v,a,i,s){a===void 0&&(a=0),i===void 0&&(i=0),s===void 0&&(s=1);var e,r=0,h=t.length;if(s===1)for(e=i;e<h;e++)t[e][o]+=v+r*a,r++;else for(e=i;e>=0;e--)t[e][o]+=v+r*a,r++;return t};c.exports=g},43967:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o,v,a,i,s){a===void 0&&(a=0),i===void 0&&(i=0),s===void 0&&(s=1);var e,r=0,h=t.length;if(s===1)for(e=i;e<h;e++)t[e][o]=v+r*a,r++;else for(e=i;e>=0;e--)t[e][o]=v+r*a,r++;return t};c.exports=g},88926:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(28176),v=function(a,i){for(var s=0;s<a.length;s++)o(i,a[s]);return a};c.exports=v},33286:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(24820),v=function(a,i){for(var s=0;s<a.length;s++)o(i,a[s]);return a};c.exports=v},96e3:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(65822),v=function(a,i){for(var s=0;s<a.length;s++)o(i,a[s]);return a};c.exports=v},28789:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(26597),v=function(a,i){for(var s=0;s<a.length;s++)o(i,a[s]);return a};c.exports=v},97154:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(90260),v=function(a,i){for(var s=0;s<a.length;s++)o(i,a[s]);return a};c.exports=v},20510:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(66979),v=function(a,i,s,e,r){return o(a,"rotation",i,s,e,r)};c.exports=v},91051:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(1163),v=t(20339),a=function(i,s,e){for(var r=s.x,h=s.y,n=0;n<i.length;n++){var l=i[n];o(l,r,h,e,Math.max(1,v(l.x,l.y,r,h)))}return i};c.exports=a},76332:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(1163),v=function(a,i,s,e){var r=i.x,h=i.y;if(e===0)return a;for(var n=0;n<a.length;n++)o(a[n],r,h,s,e);return a};c.exports=v},61619:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(66979),v=function(a,i,s,e,r){return o(a,"scaleX",i,s,e,r)};c.exports=v},94868:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(66979),v=function(a,i,s,e,r,h,n){return s==null&&(s=i),o(a,"scaleX",i,e,h,n),o(a,"scaleY",s,r,h,n)};c.exports=v},95532:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(66979),v=function(a,i,s,e,r){return o(a,"scaleY",i,s,e,r)};c.exports=v},8689:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(43967),v=function(a,i,s,e,r){return o(a,"alpha",i,s,e,r)};c.exports=v},2645:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(43967),v=function(a,i,s,e){return o(a,"blendMode",i,0,s,e)};c.exports=v},32372:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(43967),v=function(a,i,s,e,r){return o(a,"depth",i,s,e,r)};c.exports=v},85373:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o,v){for(var a=0;a<t.length;a++)t[a].setInteractive(o,v);return t};c.exports=g},81583:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(43967),v=function(a,i,s,e,r,h,n){return s==null&&(s=i),o(a,"originX",i,e,h,n),o(a,"originY",s,r,h,n),a.forEach(function(l){l.updateDisplayOrigin()}),a};c.exports=v},79939:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(43967),v=function(a,i,s,e,r){return o(a,"rotation",i,s,e,r)};c.exports=v},2699:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(43967),v=function(a,i,s,e,r,h,n){return s==null&&(s=i),o(a,"scaleX",i,e,h,n),o(a,"scaleY",s,r,h,n)};c.exports=v},98739:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(43967),v=function(a,i,s,e,r){return o(a,"scaleX",i,s,e,r)};c.exports=v},98476:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(43967),v=function(a,i,s,e,r){return o(a,"scaleY",i,s,e,r)};c.exports=v},6207:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(43967),v=function(a,i,s,e,r,h,n){return s==null&&(s=i),o(a,"scrollFactorX",i,e,h,n),o(a,"scrollFactorY",s,r,h,n)};c.exports=v},6607:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(43967),v=function(a,i,s,e,r){return o(a,"scrollFactorX",i,s,e,r)};c.exports=v},72248:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(43967),v=function(a,i,s,e,r){return o(a,"scrollFactorY",i,s,e,r)};c.exports=v},14036:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o,v,a,i){for(var s=0;s<t.length;s++)t[s].setTint(o,v,a,i);return t};c.exports=g},50159:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(43967),v=function(a,i,s,e){return o(a,"visible",i,0,s,e)};c.exports=v},77597:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(43967),v=function(a,i,s,e,r){return o(a,"x",i,s,e,r)};c.exports=v},83194:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(43967),v=function(a,i,s,e,r,h,n){return s==null&&(s=i),o(a,"x",i,e,h,n),o(a,"y",s,r,h,n)};c.exports=v},67678:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(43967),v=function(a,i,s,e,r){return o(a,"y",i,s,e,r)};c.exports=v},35850:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(26099),v=function(a,i,s,e,r){e===void 0&&(e=0),r===void 0&&(r=new o);var h,n,l=a.length;if(l===1)h=a[0].x,n=a[0].y,a[0].x=i,a[0].y=s;else{var f=1,u=0;e===0&&(u=l-1,f=l-2),h=a[u].x,n=a[u].y,a[u].x=i,a[u].y=s;for(var d=0;d<l;d++)if(!(f>=l||f===-1)){var p=a[f],x=p.x,E=p.y;p.x=h,p.y=n,h=x,n=E,e===0?f--:f++}}return r.x=h,r.y=n,r};c.exports=v},8628:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(33680),v=function(a){return o(a)};c.exports=v},21837:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(7602),v=function(a,i,s,e,r){r===void 0&&(r=!1);var h=Math.abs(e-s)/a.length,n;if(r)for(n=0;n<a.length;n++)a[n][i]+=o(n*h,s,e);else for(n=0;n<a.length;n++)a[n][i]=o(n*h,s,e);return a};c.exports=v},21910:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(54261),v=function(a,i,s,e,r){r===void 0&&(r=!1);var h=Math.abs(e-s)/a.length,n;if(r)for(n=0;n<a.length;n++)a[n][i]+=o(n*h,s,e);else for(n=0;n<a.length;n++)a[n][i]=o(n*h,s,e);return a};c.exports=v},62054:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o,v,a,i){if(i===void 0&&(i=!1),t.length===0)return t;if(t.length===1)return i?t[0][o]+=(a+v)/2:t[0][o]=(a+v)/2,t;var s=Math.abs(a-v)/(t.length-1),e;if(i)for(e=0;e<t.length;e++)t[e][o]+=e*s+v;else for(e=0;e<t.length;e++)t[e][o]=e*s+v;return t};c.exports=g},79815:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t){for(var o=0;o<t.length;o++)t[o].visible=!t[o].visible;return t};c.exports=g},39665:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       samme <samme.npm@gmail.com>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(15994),v=function(a,i,s){s===void 0&&(s=0);for(var e=0;e<a.length;e++){var r=a[e];r.x=o(r.x,i.left-s,i.right+s),r.y=o(r.y,i.top-s,i.bottom+s)}return a};c.exports=v},61061:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={AlignTo:t(11517),Angle:t(80318),Call:t(60757),GetFirst:t(69927),GetLast:t(32265),GridAlign:t(94420),IncAlpha:t(41721),IncX:t(67285),IncXY:t(9074),IncY:t(75222),PlaceOnCircle:t(22983),PlaceOnEllipse:t(95253),PlaceOnLine:t(88505),PlaceOnRectangle:t(41346),PlaceOnTriangle:t(11575),PlayAnimation:t(29953),PropertyValueInc:t(66979),PropertyValueSet:t(43967),RandomCircle:t(88926),RandomEllipse:t(33286),RandomLine:t(96e3),RandomRectangle:t(28789),RandomTriangle:t(97154),Rotate:t(20510),RotateAround:t(91051),RotateAroundDistance:t(76332),ScaleX:t(61619),ScaleXY:t(94868),ScaleY:t(95532),SetAlpha:t(8689),SetBlendMode:t(2645),SetDepth:t(32372),SetHitArea:t(85373),SetOrigin:t(81583),SetRotation:t(79939),SetScale:t(2699),SetScaleX:t(98739),SetScaleY:t(98476),SetScrollFactor:t(6207),SetScrollFactorX:t(6607),SetScrollFactorY:t(72248),SetTint:t(14036),SetVisible:t(50159),SetX:t(77597),SetXY:t(83194),SetY:t(67678),ShiftPosition:t(35850),Shuffle:t(8628),SmootherStep:t(21910),SmoothStep:t(21837),Spread:t(62054),ToggleVisible:t(79815),WrapInRectangle:t(39665)}},42099:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(45319),v=t(83419),a=t(74943),i=t(81957),s=t(41138),e=t(35154),r=t(90126),h=new v({initialize:function(l,f,u){this.manager=l,this.key=f,this.type="frame",this.frames=this.getFrames(l.textureManager,e(u,"frames",[]),e(u,"defaultTextureKey",null),e(u,"sortFrames",!0)),this.frameRate=e(u,"frameRate",null),this.duration=e(u,"duration",null),this.msPerFrame,this.skipMissedFrames=e(u,"skipMissedFrames",!0),this.delay=e(u,"delay",0),this.repeat=e(u,"repeat",0),this.repeatDelay=e(u,"repeatDelay",0),this.yoyo=e(u,"yoyo",!1),this.showBeforeDelay=e(u,"showBeforeDelay",!1),this.showOnStart=e(u,"showOnStart",!1),this.hideOnComplete=e(u,"hideOnComplete",!1),this.randomFrame=e(u,"randomFrame",!1),this.paused=!1,this.calculateDuration(this,this.getTotalFrames(),this.duration,this.frameRate),this.manager.on&&(this.manager.on(a.PAUSE_ALL,this.pause,this),this.manager.on(a.RESUME_ALL,this.resume,this))},getTotalFrames:function(){return this.frames.length},calculateDuration:function(n,l,f,u){f===null&&u===null?(n.frameRate=24,n.duration=24/l*1e3):f&&u===null?(n.duration=f,n.frameRate=l/(f/1e3)):(n.frameRate=u,n.duration=l/u*1e3),n.msPerFrame=1e3/n.frameRate},addFrame:function(n){return this.addFrameAt(this.frames.length,n)},addFrameAt:function(n,l){var f=this.getFrames(this.manager.textureManager,l);if(f.length>0){if(n===0)this.frames=f.concat(this.frames);else if(n===this.frames.length)this.frames=this.frames.concat(f);else{var u=this.frames.slice(0,n),d=this.frames.slice(n);this.frames=u.concat(f,d)}this.updateFrameSequence()}return this},checkFrame:function(n){return n>=0&&n<this.frames.length},getFirstTick:function(n){n.accumulator=0,n.nextTick=n.currentFrame.duration?n.currentFrame.duration:n.msPerFrame},getFrameAt:function(n){return this.frames[n]},getFrames:function(n,l,f,u){u===void 0&&(u=!0);var d=[],p,x,E=1,T,C;if(typeof l=="string"){if(C=l,!n.exists(C))return console.warn('Texture "%s" not found',C),d;var A=n.get(C),M=A.getFrameNames();u&&r(M),l=[],M.forEach(function(I){l.push({key:C,frame:I})})}if(!Array.isArray(l)||l.length===0)return d;for(T=0;T<l.length;T++){var R=l[T],O=e(R,"key",f);if(O){var L=e(R,"frame",0),b=n.getFrame(O,L);if(!b){console.warn('Texture "%s" not found',O);continue}x=new s(O,L,E,b),x.duration=e(R,"duration",0),x.isFirst=!p,p&&(p.nextFrame=x,x.prevFrame=p),d.push(x),p=x,E++}}if(d.length>0){x.isLast=!0,x.nextFrame=d[0],d[0].prevFrame=x;var N=1/(d.length-1);for(T=0;T<d.length;T++)d[T].progress=T*N}return d},getNextTick:function(n){n.accumulator-=n.nextTick,n.nextTick=n.currentFrame.duration?n.currentFrame.duration:n.msPerFrame},getFrameByProgress:function(n){return n=o(n,0,1),i(n,this.frames,"progress")},nextFrame:function(n){var l=n.currentFrame;l.isLast?n.yoyo?this.handleYoyoFrame(n,!1):n.repeatCounter>0?n.inReverse&&n.forward?n.forward=!1:this.repeatAnimation(n):n.complete():this.updateAndGetNextTick(n,l.nextFrame)},handleYoyoFrame:function(n,l){if(l||(l=!1),n.inReverse===!l&&n.repeatCounter>0){(n.repeatDelay===0||n.pendingRepeat)&&(n.forward=l),this.repeatAnimation(n);return}if(n.inReverse!==l&&n.repeatCounter===0){n.complete();return}n.forward=l;var f=l?n.currentFrame.nextFrame:n.currentFrame.prevFrame;this.updateAndGetNextTick(n,f)},getLastFrame:function(){return this.frames[this.frames.length-1]},previousFrame:function(n){var l=n.currentFrame;l.isFirst?n.yoyo?this.handleYoyoFrame(n,!0):n.repeatCounter>0?n.inReverse&&!n.forward?this.repeatAnimation(n):(n.forward=!0,this.repeatAnimation(n)):n.complete():this.updateAndGetNextTick(n,l.prevFrame)},updateAndGetNextTick:function(n,l){n.setCurrentFrame(l),this.getNextTick(n)},removeFrame:function(n){var l=this.frames.indexOf(n);return l!==-1&&this.removeFrameAt(l),this},removeFrameAt:function(n){return this.frames.splice(n,1),this.updateFrameSequence(),this},repeatAnimation:function(n){if(n._pendingStop===2){if(n._pendingStopValue===0)return n.stop();n._pendingStopValue--}n.repeatDelay>0&&!n.pendingRepeat?(n.pendingRepeat=!0,n.accumulator-=n.nextTick,n.nextTick+=n.repeatDelay):(n.repeatCounter--,n.forward?n.setCurrentFrame(n.currentFrame.nextFrame):n.setCurrentFrame(n.currentFrame.prevFrame),n.isPlaying&&(this.getNextTick(n),n.handleRepeat()))},toJSON:function(){var n={key:this.key,type:this.type,frames:[],frameRate:this.frameRate,duration:this.duration,skipMissedFrames:this.skipMissedFrames,delay:this.delay,repeat:this.repeat,repeatDelay:this.repeatDelay,yoyo:this.yoyo,showBeforeDelay:this.showBeforeDelay,showOnStart:this.showOnStart,randomFrame:this.randomFrame,hideOnComplete:this.hideOnComplete};return this.frames.forEach(function(l){n.frames.push(l.toJSON())}),n},updateFrameSequence:function(){for(var n=this.frames.length,l=1/(n-1),f,u=0;u<n;u++)f=this.frames[u],f.index=u+1,f.isFirst=!1,f.isLast=!1,f.progress=u*l,u===0?(f.isFirst=!0,n===1?(f.isLast=!0,f.nextFrame=f,f.prevFrame=f):(f.isLast=!1,f.prevFrame=this.frames[n-1],f.nextFrame=this.frames[u+1])):u===n-1&&n>1?(f.isLast=!0,f.prevFrame=this.frames[n-2],f.nextFrame=this.frames[0]):n>1&&(f.prevFrame=this.frames[u-1],f.nextFrame=this.frames[u+1]);return this},pause:function(){return this.paused=!0,this},resume:function(){return this.paused=!1,this},destroy:function(){this.manager.off&&(this.manager.off(a.PAUSE_ALL,this.pause,this),this.manager.off(a.RESUME_ALL,this.resume,this)),this.manager.remove(this.key);for(var n=0;n<this.frames.length;n++)this.frames[n].destroy();this.frames=[],this.manager=null}});c.exports=h},41138:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=new o({initialize:function(i,s,e,r,h){h===void 0&&(h=!1),this.textureKey=i,this.textureFrame=s,this.index=e,this.frame=r,this.isFirst=!1,this.isLast=!1,this.prevFrame=null,this.nextFrame=null,this.duration=0,this.progress=0,this.isKeyFrame=h},toJSON:function(){return{key:this.textureKey,frame:this.textureFrame,duration:this.duration,keyframe:this.isKeyFrame}},destroy:function(){this.frame=void 0}});c.exports=v},60848:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(42099),v=t(83419),a=t(90330),i=t(50792),s=t(74943),e=t(8443),r=t(95540),h=t(35154),n=t(36383),l=t(20283),f=t(41836),u=new v({Extends:i,initialize:function(p){i.call(this),this.game=p,this.textureManager=null,this.globalTimeScale=1,this.anims=new a,this.mixes=new a,this.paused=!1,this.name="AnimationManager",p.events.once(e.BOOT,this.boot,this)},boot:function(){this.textureManager=this.game.textures,this.game.events.once(e.DESTROY,this.destroy,this)},addMix:function(d,p,x){var E=this.anims,T=this.mixes,C=typeof d=="string"?d:d.key,A=typeof p=="string"?p:p.key;if(E.has(C)&&E.has(A)){var M=T.get(C);M||(M={}),M[A]=x,T.set(C,M)}return this},removeMix:function(d,p){var x=this.mixes,E=typeof d=="string"?d:d.key,T=x.get(E);if(T)if(p){var C=typeof p=="string"?p:p.key;T.hasOwnProperty(C)&&delete T[C]}else p||x.delete(E);return this},getMix:function(d,p){var x=this.mixes,E=typeof d=="string"?d:d.key,T=typeof p=="string"?p:p.key,C=x.get(E);return C&&C.hasOwnProperty(T)?C[T]:0},add:function(d,p){return this.anims.has(d)?(console.warn("Animation key exists: "+d),this):(p.key=d,this.anims.set(d,p),this.emit(s.ADD_ANIMATION,d,p),this)},exists:function(d){return this.anims.has(d)},createFromAseprite:function(d,p,x){var E=[],T=this.game.cache.json.get(d);if(!T)return console.warn("No Aseprite data found for: "+d),E;var C=this,A=h(T,"meta",null),M=h(T,"frames",null);if(A&&M){var R=h(A,"frameTags",[]);R.forEach(function(O){var L=[],b=r(O,"name",null),N=r(O,"from",0),I=r(O,"to",0),G=r(O,"direction","forward");if(b&&(!p||p&&p.indexOf(b)>-1)){for(var X=0,$=N;$<=I;$++){var J=$.toString(),z=M[J];if(z){var Y=r(z,"duration",n.MAX_SAFE_INTEGER);L.push({key:d,frame:J,duration:Y}),X+=Y}}G==="reverse"&&(L=L.reverse());var D={key:b,frames:L,duration:X,yoyo:G==="pingpong"},B;x?x.anims&&(B=x.anims.create(D)):B=C.create(D),B&&E.push(B)}})}return E},create:function(d){var p=d.key,x=!1;return p&&(x=this.get(p),x?console.warn("AnimationManager key already exists: "+p):(x=new o(this,p,d),this.anims.set(p,x),this.emit(s.ADD_ANIMATION,p,x))),x},fromJSON:function(d,p){p===void 0&&(p=!1),p&&this.anims.clear(),typeof d=="string"&&(d=JSON.parse(d));var x=[];if(d.hasOwnProperty("anims")&&Array.isArray(d.anims)){for(var E=0;E<d.anims.length;E++)x.push(this.create(d.anims[E]));d.hasOwnProperty("globalTimeScale")&&(this.globalTimeScale=d.globalTimeScale)}else d.hasOwnProperty("key")&&d.type==="frame"&&x.push(this.create(d));return x},generateFrameNames:function(d,p){var x=h(p,"prefix",""),E=h(p,"start",0),T=h(p,"end",0),C=h(p,"suffix",""),A=h(p,"zeroPad",0),M=h(p,"outputArray",[]),R=h(p,"frames",!1);if(!this.textureManager.exists(d))return console.warn('Texture "%s" not found',d),M;var O=this.textureManager.get(d);if(!O)return M;var L;if(p)for(R||(R=l(E,T)),L=0;L<R.length;L++){var b=x+f(R[L],A,"0",1)+C;O.has(b)?M.push({key:d,frame:b}):console.warn('Frame "%s" not found in texture "%s"',b,d)}else for(R=O.getFrameNames(),L=0;L<R.length;L++)M.push({key:d,frame:R[L]});return M},generateFrameNumbers:function(d,p){var x=h(p,"start",0),E=h(p,"end",-1),T=h(p,"first",!1),C=h(p,"outputArray",[]),A=h(p,"frames",!1);if(!this.textureManager.exists(d))return console.warn('Texture "%s" not found',d),C;var M=this.textureManager.get(d);if(!M)return C;T&&M.has(T)&&C.push({key:d,frame:T}),A||(E===-1&&(E=M.frameTotal-2),A=l(x,E));for(var R=0;R<A.length;R++){var O=A[R];M.has(O)?C.push({key:d,frame:O}):console.warn('Frame "%s" not found in texture "%s"',O,d)}return C},get:function(d){return this.anims.get(d)},getAnimsFromTexture:function(d){for(var p=this.textureManager.get(d),x=p.key,E=this.anims.getArray(),T=[],C=0;C<E.length;C++)for(var A=E[C],M=A.frames,R=0;R<M.length;R++)if(M[R].textureKey===x){T.push(A.key);break}return T},pauseAll:function(){return this.paused||(this.paused=!0,this.emit(s.PAUSE_ALL)),this},play:function(d,p){Array.isArray(p)||(p=[p]);for(var x=0;x<p.length;x++)p[x].anims.play(d);return this},staggerPlay:function(d,p,x,E){x===void 0&&(x=0),E===void 0&&(E=!0),Array.isArray(p)||(p=[p]);var T=p.length;E||T--;for(var C=0;C<p.length;C++){var A=x<0?Math.abs(x)*(T-C):x*C;p[C].anims.playAfterDelay(d,A)}return this},remove:function(d){var p=this.get(d);return p&&(this.emit(s.REMOVE_ANIMATION,d,p),this.anims.delete(d),this.removeMix(d)),p},resumeAll:function(){return this.paused&&(this.paused=!1,this.emit(s.RESUME_ALL)),this},toJSON:function(d){var p={anims:[],globalTimeScale:this.globalTimeScale};return d!==void 0&&d!==""?p.anims.push(this.anims.get(d).toJSON()):this.anims.each(function(x,E){p.anims.push(E.toJSON())}),p},destroy:function(){this.anims.clear(),this.mixes.clear(),this.textureManager=null,this.game=null}});c.exports=u},9674:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(42099),v=t(30976),a=t(83419),i=t(90330),s=t(74943),e=t(95540),r=new a({initialize:function(n){this.parent=n,this.animationManager=n.scene.sys.anims,this.animationManager.on(s.REMOVE_ANIMATION,this.globalRemove,this),this.textureManager=this.animationManager.textureManager,this.anims=null,this.isPlaying=!1,this.hasStarted=!1,this.currentAnim=null,this.currentFrame=null,this.nextAnim=null,this.nextAnimsQueue=[],this.timeScale=1,this.frameRate=0,this.duration=0,this.msPerFrame=0,this.skipMissedFrames=!0,this.randomFrame=!1,this.delay=0,this.repeat=0,this.repeatDelay=0,this.yoyo=!1,this.showBeforeDelay=!1,this.showOnStart=!1,this.hideOnComplete=!1,this.forward=!0,this.inReverse=!1,this.accumulator=0,this.nextTick=0,this.delayCounter=0,this.repeatCounter=0,this.pendingRepeat=!1,this._paused=!1,this._wasPlaying=!1,this._pendingStop=0,this._pendingStopValue},chain:function(h){var n=this.parent;if(h===void 0)return this.nextAnimsQueue.length=0,this.nextAnim=null,n;Array.isArray(h)||(h=[h]);for(var l=0;l<h.length;l++){var f=h[l];this.nextAnim?this.nextAnimsQueue.push(f):this.nextAnim=f}return this.parent},getName:function(){return this.currentAnim?this.currentAnim.key:""},getFrameName:function(){return this.currentFrame?this.currentFrame.textureFrame:""},load:function(h){this.isPlaying&&this.stop();var n=this.animationManager,l=typeof h=="string"?h:e(h,"key",null),f=this.exists(l)?this.get(l):n.get(l);if(!f)console.warn("Missing animation: "+l);else{this.currentAnim=f;var u=f.getTotalFrames(),d=e(h,"frameRate",f.frameRate),p=e(h,"duration",f.duration);f.calculateDuration(this,u,p,d),this.delay=e(h,"delay",f.delay),this.repeat=e(h,"repeat",f.repeat),this.repeatDelay=e(h,"repeatDelay",f.repeatDelay),this.yoyo=e(h,"yoyo",f.yoyo),this.showBeforeDelay=e(h,"showBeforeDelay",f.showBeforeDelay),this.showOnStart=e(h,"showOnStart",f.showOnStart),this.hideOnComplete=e(h,"hideOnComplete",f.hideOnComplete),this.skipMissedFrames=e(h,"skipMissedFrames",f.skipMissedFrames),this.randomFrame=e(h,"randomFrame",f.randomFrame),this.timeScale=e(h,"timeScale",this.timeScale);var x=e(h,"startFrame",0);x>u&&(x=0),this.randomFrame&&(x=v(0,u-1));var E=f.frames[x];x===0&&!this.forward&&(E=f.getLastFrame()),this.currentFrame=E}return this.parent},pause:function(h){return this._paused||(this._paused=!0,this._wasPlaying=this.isPlaying,this.isPlaying=!1),h!==void 0&&this.setCurrentFrame(h),this.parent},resume:function(h){return this._paused&&(this._paused=!1,this.isPlaying=this._wasPlaying),h!==void 0&&this.setCurrentFrame(h),this.parent},playAfterDelay:function(h,n){if(!this.isPlaying)this.delayCounter=n,this.play(h,!0);else{var l=this.nextAnim,f=this.nextAnimsQueue;l&&f.unshift(l),this.nextAnim=h,this._pendingStop=1,this._pendingStopValue=n}return this.parent},playAfterRepeat:function(h,n){if(n===void 0&&(n=1),!this.isPlaying)this.play(h);else{var l=this.nextAnim,f=this.nextAnimsQueue;l&&f.unshift(l),this.repeatCounter!==-1&&n>this.repeatCounter&&(n=this.repeatCounter),this.nextAnim=h,this._pendingStop=2,this._pendingStopValue=n}return this.parent},play:function(h,n){n===void 0&&(n=!1);var l=this.currentAnim,f=this.parent,u=typeof h=="string"?h:h.key;if(n&&this.isPlaying&&l.key===u)return f;if(l&&this.isPlaying){var d=this.animationManager.getMix(l.key,h);if(d>0)return this.playAfterDelay(h,d)}return this.forward=!0,this.inReverse=!1,this._paused=!1,this._wasPlaying=!0,this.startAnimation(h)},playReverse:function(h,n){n===void 0&&(n=!1);var l=typeof h=="string"?h:h.key;return n&&this.isPlaying&&this.currentAnim.key===l?this.parent:(this.forward=!1,this.inReverse=!0,this._paused=!1,this._wasPlaying=!0,this.startAnimation(h))},startAnimation:function(h){this.load(h);var n=this.currentAnim,l=this.parent;return n&&(this.repeatCounter=this.repeat===-1?Number.MAX_VALUE:this.repeat,n.getFirstTick(this),this.isPlaying=!0,this.pendingRepeat=!1,this.hasStarted=!1,this._pendingStop=0,this._pendingStopValue=0,this._paused=!1,this.delayCounter+=this.delay,this.delayCounter===0?this.handleStart():this.showBeforeDelay&&this.setCurrentFrame(this.currentFrame)),l},handleStart:function(){this.showOnStart&&this.parent.setVisible(!0),this.setCurrentFrame(this.currentFrame),this.hasStarted=!0,this.emitEvents(s.ANIMATION_START)},handleRepeat:function(){this.pendingRepeat=!1,this.emitEvents(s.ANIMATION_REPEAT)},handleStop:function(){this._pendingStop=0,this.isPlaying=!1,this.emitEvents(s.ANIMATION_STOP)},handleComplete:function(){this._pendingStop=0,this.isPlaying=!1,this.hideOnComplete&&this.parent.setVisible(!1),this.emitEvents(s.ANIMATION_COMPLETE,s.ANIMATION_COMPLETE_KEY)},emitEvents:function(h,n){var l=this.currentAnim;if(l){var f=this.currentFrame,u=this.parent,d=f.textureFrame;u.emit(h,l,f,u,d),n&&u.emit(n+l.key,l,f,u,d)}},reverse:function(){return this.isPlaying&&(this.inReverse=!this.inReverse,this.forward=!this.forward),this.parent},getProgress:function(){var h=this.currentFrame;if(!h)return 0;var n=h.progress;return this.inReverse&&(n*=-1),n},setProgress:function(h){return this.forward||(h=1-h),this.setCurrentFrame(this.currentAnim.getFrameByProgress(h)),this.parent},setRepeat:function(h){return this.repeatCounter=h===-1?Number.MAX_VALUE:h,this.parent},globalRemove:function(h,n){n===void 0&&(n=this.currentAnim),this.isPlaying&&n.key===this.currentAnim.key&&(this.stop(),this.setCurrentFrame(this.currentAnim.frames[0]))},restart:function(h,n){h===void 0&&(h=!1),n===void 0&&(n=!1);var l=this.currentAnim,f=this.parent;return l?(n&&(this.repeatCounter=this.repeat===-1?Number.MAX_VALUE:this.repeat),l.getFirstTick(this),this.emitEvents(s.ANIMATION_RESTART),this.isPlaying=!0,this.pendingRepeat=!1,this.hasStarted=!h,this._pendingStop=0,this._pendingStopValue=0,this._paused=!1,this.setCurrentFrame(l.frames[0]),this.parent):f},complete:function(){if(this._pendingStop=0,this.isPlaying=!1,this.currentAnim&&this.handleComplete(),this.nextAnim){var h=this.nextAnim;this.nextAnim=this.nextAnimsQueue.length>0?this.nextAnimsQueue.shift():null,this.play(h)}return this.parent},stop:function(){if(this._pendingStop=0,this.isPlaying=!1,this.delayCounter=0,this.currentAnim&&this.handleStop(),this.nextAnim){var h=this.nextAnim;this.nextAnim=this.nextAnimsQueue.shift(),this.play(h)}return this.parent},stopAfterDelay:function(h){return this._pendingStop=1,this._pendingStopValue=h,this.parent},stopAfterRepeat:function(h){return h===void 0&&(h=1),this.repeatCounter!==-1&&h>this.repeatCounter&&(h=this.repeatCounter),this._pendingStop=2,this._pendingStopValue=h,this.parent},stopOnFrame:function(h){return this._pendingStop=3,this._pendingStopValue=h,this.parent},getTotalFrames:function(){return this.currentAnim?this.currentAnim.getTotalFrames():0},update:function(h,n){var l=this.currentAnim;if(!(!this.isPlaying||!l||l.paused)){if(this.accumulator+=n*this.timeScale*this.animationManager.globalTimeScale,this._pendingStop===1&&(this._pendingStopValue-=n,this._pendingStopValue<=0))return this.stop();if(!this.hasStarted)this.accumulator>=this.delayCounter&&(this.accumulator-=this.delayCounter,this.handleStart());else if(this.accumulator>=this.nextTick&&(this.forward?l.nextFrame(this):l.previousFrame(this),this.isPlaying&&this._pendingStop===0&&this.skipMissedFrames&&this.accumulator>this.nextTick)){var f=0;do this.forward?l.nextFrame(this):l.previousFrame(this),f++;while(this.isPlaying&&this.accumulator>this.nextTick&&f<60)}}},setCurrentFrame:function(h){var n=this.parent;return this.currentFrame=h,n.texture=h.frame.texture,n.frame=h.frame,n.isCropped&&n.frame.updateCropUVs(n._crop,n.flipX,n.flipY),h.setAlpha&&(n.alpha=h.alpha),n.setSizeToFrame(),n._originComponent&&(h.frame.customPivot?n.setOrigin(h.frame.pivotX,h.frame.pivotY):n.updateDisplayOrigin()),this.isPlaying&&this.hasStarted&&(this.emitEvents(s.ANIMATION_UPDATE),this._pendingStop===3&&this._pendingStopValue===h&&this.stop()),n},nextFrame:function(){return this.currentAnim&&this.currentAnim.nextFrame(this),this.parent},previousFrame:function(){return this.currentAnim&&this.currentAnim.previousFrame(this),this.parent},get:function(h){return this.anims?this.anims.get(h):null},exists:function(h){return this.anims?this.anims.has(h):!1},create:function(h){var n=h.key,l=!1;return n&&(l=this.get(n),l?console.warn("Animation key already exists: "+n):(l=new o(this,n,h),this.anims||(this.anims=new i),this.anims.set(n,l))),l},createFromAseprite:function(h,n){return this.animationManager.createFromAseprite(h,n,this.parent)},generateFrameNames:function(h,n){return this.animationManager.generateFrameNames(h,n)},generateFrameNumbers:function(h,n){return this.animationManager.generateFrameNumbers(h,n)},remove:function(h){var n=this.get(h);return n&&(this.currentAnim===n&&this.stop(),this.anims.delete(h)),n},destroy:function(){this.animationManager.off(s.REMOVE_ANIMATION,this.globalRemove,this),this.anims&&this.anims.clear(),this.animationManager=null,this.parent=null,this.nextAnim=null,this.nextAnimsQueue.length=0,this.currentAnim=null,this.currentFrame=null},isPaused:{get:function(){return this._paused}}});c.exports=r},57090:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="add"},25312:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="animationcomplete"},89580:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="animationcomplete-"},52860:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="animationrepeat"},63850:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="animationrestart"},99085:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="animationstart"},28087:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="animationstop"},1794:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="animationupdate"},52562:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pauseall"},57953:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="remove"},68339:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="resumeall"},74943:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={ADD_ANIMATION:t(57090),ANIMATION_COMPLETE:t(25312),ANIMATION_COMPLETE_KEY:t(89580),ANIMATION_REPEAT:t(52860),ANIMATION_RESTART:t(63850),ANIMATION_START:t(99085),ANIMATION_STOP:t(28087),ANIMATION_UPDATE:t(1794),PAUSE_ALL:t(52562),REMOVE_ANIMATION:t(57953),RESUME_ALL:t(68339)}},60421:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Animation:t(42099),AnimationFrame:t(41138),AnimationManager:t(60848),AnimationState:t(9674),Events:t(74943)}},2161:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(90330),a=t(50792),i=t(24736),s=new o({initialize:function(){this.entries=new v,this.events=new a},add:function(e,r){return this.entries.set(e,r),this.events.emit(i.ADD,this,e,r),this},has:function(e){return this.entries.has(e)},exists:function(e){return this.entries.has(e)},get:function(e){return this.entries.get(e)},remove:function(e){var r=this.get(e);return r&&(this.entries.delete(e),this.events.emit(i.REMOVE,this,e,r.data)),this},getKeys:function(){return this.entries.keys()},destroy:function(){this.entries.clear(),this.events.removeAllListeners(),this.entries=null,this.events=null}});c.exports=s},24047:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(2161),v=t(83419),a=t(8443),i=new v({initialize:function(e){this.game=e,this.binary=new o,this.bitmapFont=new o,this.json=new o,this.physics=new o,this.shader=new o,this.audio=new o,this.video=new o,this.text=new o,this.html=new o,this.obj=new o,this.tilemap=new o,this.xml=new o,this.custom={},this.game.events.once(a.DESTROY,this.destroy,this)},addCustom:function(s){return this.custom.hasOwnProperty(s)||(this.custom[s]=new o),this.custom[s]},destroy:function(){for(var s=["binary","bitmapFont","json","physics","shader","audio","video","text","html","obj","tilemap","xml"],e=0;e<s.length;e++)this[s[e]].destroy(),this[s[e]]=null;for(var r in this.custom)this.custom[r].destroy();this.custom=null,this.game=null}});c.exports=i},51464:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="add"},59261:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="remove"},24736:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={ADD:t(51464),REMOVE:t(59261)}},83388:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={BaseCache:t(2161),CacheManager:t(24047),Events:t(24736)}},71911:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(31401),a=t(39506),i=t(50792),s=t(19715),e=t(87841),r=t(61340),h=t(80333),n=t(26099),l=new o({Extends:i,Mixins:[v.AlphaSingle,v.Visible],initialize:function(u,d,p,x){u===void 0&&(u=0),d===void 0&&(d=0),p===void 0&&(p=0),x===void 0&&(x=0),i.call(this),this.scene,this.sceneManager,this.scaleManager,this.cameraManager,this.id=0,this.name="",this.roundPixels=!1,this.useBounds=!1,this.worldView=new e,this.dirty=!0,this._x=u,this._y=d,this._width=p,this._height=x,this._bounds=new e,this._scrollX=0,this._scrollY=0,this._zoomX=1,this._zoomY=1,this._rotation=0,this.matrix=new r,this.transparent=!0,this.backgroundColor=h("rgba(0,0,0,0)"),this.disableCull=!1,this.culledObjects=[],this.midPoint=new n(p/2,x/2),this.originX=.5,this.originY=.5,this._customViewport=!1,this.mask=null,this._maskCamera=null,this.renderList=[],this.isSceneCamera=!0},addToRenderList:function(f){this.renderList.push(f)},setOrigin:function(f,u){return f===void 0&&(f=.5),u===void 0&&(u=f),this.originX=f,this.originY=u,this},getScroll:function(f,u,d){d===void 0&&(d=new n);var p=this.width*.5,x=this.height*.5;return d.x=f-p,d.y=u-x,this.useBounds&&(d.x=this.clampX(d.x),d.y=this.clampY(d.y)),d},centerOnX:function(f){var u=this.width*.5;return this.midPoint.x=f,this.scrollX=f-u,this.useBounds&&(this.scrollX=this.clampX(this.scrollX)),this},centerOnY:function(f){var u=this.height*.5;return this.midPoint.y=f,this.scrollY=f-u,this.useBounds&&(this.scrollY=this.clampY(this.scrollY)),this},centerOn:function(f,u){return this.centerOnX(f),this.centerOnY(u),this},centerToBounds:function(){if(this.useBounds){var f=this._bounds,u=this.width*.5,d=this.height*.5;this.midPoint.set(f.centerX,f.centerY),this.scrollX=f.centerX-u,this.scrollY=f.centerY-d}return this},centerToSize:function(){return this.scrollX=this.width*.5,this.scrollY=this.height*.5,this},cull:function(f){if(this.disableCull)return f;var u=this.matrix.matrix,d=u[0],p=u[1],x=u[2],E=u[3],T=d*E-p*x;if(!T)return f;var C=u[4],A=u[5],M=this.scrollX,R=this.scrollY,O=this.width,L=this.height,b=this.y,N=b+L,I=this.x,G=I+O,X=this.culledObjects,$=f.length;T=1/T,X.length=0;for(var J=0;J<$;++J){var z=f[J];if(!z.hasOwnProperty("width")||z.parentContainer){X.push(z);continue}var Y=z.width,D=z.height,B=z.x-M*z.scrollFactorX-Y*z.originX,U=z.y-R*z.scrollFactorY-D*z.originY,H=B*d+U*x+C,j=B*p+U*E+A,q=(B+Y)*d+(U+D)*x+C,_=(B+Y)*p+(U+D)*E+A;q>I&&H<G&&_>b&&j<N&&X.push(z)}return X},getWorldPoint:function(f,u,d){d===void 0&&(d=new n);var p=this.matrix.matrix,x=p[0],E=p[1],T=p[2],C=p[3],A=p[4],M=p[5],R=x*C-E*T;if(!R)return d.x=f,d.y=u,d;R=1/R;var O=C*R,L=-E*R,b=-T*R,N=x*R,I=(T*M-C*A)*R,G=(E*A-x*M)*R,X=Math.cos(this.rotation),$=Math.sin(this.rotation),J=this.zoomX,z=this.zoomY,Y=this.scrollX,D=this.scrollY,B=f+(Y*X-D*$)*J,U=u+(Y*$+D*X)*z;return d.x=B*O+U*b+I,d.y=B*L+U*N+G,d},ignore:function(f){var u=this.id;Array.isArray(f)||(f=[f]);for(var d=0;d<f.length;d++){var p=f[d];Array.isArray(p)?this.ignore(p):p.isParent?this.ignore(p.getChildren()):p.cameraFilter|=u}return this},preRender:function(){this.renderList.length=0;var f=this.width,u=this.height,d=f*.5,p=u*.5,x=this.zoomX,E=this.zoomY,T=this.matrix,C=f*this.originX,A=u*this.originY,M=this.scrollX,R=this.scrollY;this.useBounds&&(M=this.clampX(M),R=this.clampY(R)),this.scrollX=M,this.scrollY=R;var O=M+d,L=R+p;this.midPoint.set(O,L);var b=f/x,N=u/E;this.worldView.setTo(O-b/2,L-N/2,b,N),T.applyITRS(this.x+C,this.y+A,this.rotation,x,E),T.translate(-C,-A)},clampX:function(f){var u=this._bounds,d=this.displayWidth,p=u.x+(d-this.width)/2,x=Math.max(p,p+u.width-d);return f<p?f=p:f>x&&(f=x),f},clampY:function(f){var u=this._bounds,d=this.displayHeight,p=u.y+(d-this.height)/2,x=Math.max(p,p+u.height-d);return f<p?f=p:f>x&&(f=x),f},removeBounds:function(){return this.useBounds=!1,this.dirty=!0,this._bounds.setEmpty(),this},setAngle:function(f){return f===void 0&&(f=0),this.rotation=a(f),this},setBackgroundColor:function(f){return f===void 0&&(f="rgba(0,0,0,0)"),this.backgroundColor=h(f),this.transparent=this.backgroundColor.alpha===0,this},setBounds:function(f,u,d,p,x){return x===void 0&&(x=!1),this._bounds.setTo(f,u,d,p),this.dirty=!0,this.useBounds=!0,x?this.centerToBounds():(this.scrollX=this.clampX(this.scrollX),this.scrollY=this.clampY(this.scrollY)),this},getBounds:function(f){f===void 0&&(f=new e);var u=this._bounds;return f.setTo(u.x,u.y,u.width,u.height),f},setName:function(f){return f===void 0&&(f=""),this.name=f,this},setPosition:function(f,u){return u===void 0&&(u=f),this.x=f,this.y=u,this},setRotation:function(f){return f===void 0&&(f=0),this.rotation=f,this},setRoundPixels:function(f){return this.roundPixels=f,this},setScene:function(f,u){u===void 0&&(u=!0),this.scene&&this._customViewport&&this.sceneManager.customViewports--,this.scene=f,this.isSceneCamera=u;var d=f.sys;return this.sceneManager=d.game.scene,this.scaleManager=d.scale,this.cameraManager=d.cameras,this.updateSystem(),this},setScroll:function(f,u){return u===void 0&&(u=f),this.scrollX=f,this.scrollY=u,this},setSize:function(f,u){return u===void 0&&(u=f),this.width=f,this.height=u,this},setViewport:function(f,u,d,p){return this.x=f,this.y=u,this.width=d,this.height=p,this},setZoom:function(f,u){return f===void 0&&(f=1),u===void 0&&(u=f),f===0&&(f=.001),u===0&&(u=.001),this.zoomX=f,this.zoomY=u,this},setMask:function(f,u){return u===void 0&&(u=!0),this.mask=f,this._maskCamera=u?this.cameraManager.default:this,this},clearMask:function(f){return f===void 0&&(f=!1),f&&this.mask&&this.mask.destroy(),this.mask=null,this},toJSON:function(){var f={name:this.name,x:this.x,y:this.y,width:this.width,height:this.height,zoom:this.zoom,rotation:this.rotation,roundPixels:this.roundPixels,scrollX:this.scrollX,scrollY:this.scrollY,backgroundColor:this.backgroundColor.rgba};return this.useBounds&&(f.bounds={x:this._bounds.x,y:this._bounds.y,width:this._bounds.width,height:this._bounds.height}),f},update:function(){},setIsSceneCamera:function(f){return this.isSceneCamera=f,this},updateSystem:function(){if(!(!this.scaleManager||!this.isSceneCamera)){var f=this._x!==0||this._y!==0||this.scaleManager.width!==this._width||this.scaleManager.height!==this._height,u=this.sceneManager;f&&!this._customViewport?u.customViewports++:!f&&this._customViewport&&u.customViewports--,this.dirty=!0,this._customViewport=f}},destroy:function(){this.emit(s.DESTROY,this),this.removeAllListeners(),this.matrix.destroy(),this.culledObjects=[],this._customViewport&&this.sceneManager.customViewports--,this.renderList=[],this._bounds=null,this.scene=null,this.scaleManager=null,this.sceneManager=null,this.cameraManager=null},x:{get:function(){return this._x},set:function(f){this._x=f,this.updateSystem()}},y:{get:function(){return this._y},set:function(f){this._y=f,this.updateSystem()}},width:{get:function(){return this._width},set:function(f){this._width=f,this.updateSystem()}},height:{get:function(){return this._height},set:function(f){this._height=f,this.updateSystem()}},scrollX:{get:function(){return this._scrollX},set:function(f){f!==this._scrollX&&(this._scrollX=f,this.dirty=!0)}},scrollY:{get:function(){return this._scrollY},set:function(f){f!==this._scrollY&&(this._scrollY=f,this.dirty=!0)}},zoom:{get:function(){return(this._zoomX+this._zoomY)/2},set:function(f){this._zoomX=f,this._zoomY=f,this.dirty=!0}},zoomX:{get:function(){return this._zoomX},set:function(f){this._zoomX=f,this.dirty=!0}},zoomY:{get:function(){return this._zoomY},set:function(f){this._zoomY=f,this.dirty=!0}},rotation:{get:function(){return this._rotation},set:function(f){this._rotation=f,this.dirty=!0}},centerX:{get:function(){return this.x+.5*this.width}},centerY:{get:function(){return this.y+.5*this.height}},displayWidth:{get:function(){return this.width/this.zoomX}},displayHeight:{get:function(){return this.height/this.zoomY}}});c.exports=l},38058:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(71911),v=t(67502),a=t(45319),i=t(83419),s=t(31401),e=t(20052),r=t(19715),h=t(28915),n=t(87841),l=t(26099),f=new i({Extends:o,Mixins:[s.PostPipeline],initialize:function(d,p,x,E){o.call(this,d,p,x,E),this.initPostPipeline(),this.inputEnabled=!0,this.fadeEffect=new e.Fade(this),this.flashEffect=new e.Flash(this),this.shakeEffect=new e.Shake(this),this.panEffect=new e.Pan(this),this.rotateToEffect=new e.RotateTo(this),this.zoomEffect=new e.Zoom(this),this.lerp=new l(1,1),this.followOffset=new l,this.deadzone=null,this._follow=null},setDeadzone:function(u,d){if(u===void 0)this.deadzone=null;else{if(this.deadzone?(this.deadzone.width=u,this.deadzone.height=d):this.deadzone=new n(0,0,u,d),this._follow){var p=this.width/2,x=this.height/2,E=this._follow.x-this.followOffset.x,T=this._follow.y-this.followOffset.y;this.midPoint.set(E,T),this.scrollX=E-p,this.scrollY=T-x}v(this.deadzone,this.midPoint.x,this.midPoint.y)}return this},fadeIn:function(u,d,p,x,E,T){return this.fadeEffect.start(!1,u,d,p,x,!0,E,T)},fadeOut:function(u,d,p,x,E,T){return this.fadeEffect.start(!0,u,d,p,x,!0,E,T)},fadeFrom:function(u,d,p,x,E,T,C){return this.fadeEffect.start(!1,u,d,p,x,E,T,C)},fade:function(u,d,p,x,E,T,C){return this.fadeEffect.start(!0,u,d,p,x,E,T,C)},flash:function(u,d,p,x,E,T,C){return this.flashEffect.start(u,d,p,x,E,T,C)},shake:function(u,d,p,x,E){return this.shakeEffect.start(u,d,p,x,E)},pan:function(u,d,p,x,E,T,C){return this.panEffect.start(u,d,p,x,E,T,C)},rotateTo:function(u,d,p,x,E,T,C){return this.rotateToEffect.start(u,d,p,x,E,T,C)},zoomTo:function(u,d,p,x,E,T){return this.zoomEffect.start(u,d,p,x,E,T)},preRender:function(){this.renderList.length=0;var u=this.width,d=this.height,p=u*.5,x=d*.5,E=this.zoom,T=this.matrix,C=u*this.originX,A=d*this.originY,M=this._follow,R=this.deadzone,O=this.scrollX,L=this.scrollY;R&&v(R,this.midPoint.x,this.midPoint.y);var b=!1;if(M&&!this.panEffect.isRunning){var N=this.lerp,I=M.x-this.followOffset.x,G=M.y-this.followOffset.y;R?(I<R.x?O=h(O,O-(R.x-I),N.x):I>R.right&&(O=h(O,O+(I-R.right),N.x)),G<R.y?L=h(L,L-(R.y-G),N.y):G>R.bottom&&(L=h(L,L+(G-R.bottom),N.y))):(O=h(O,I-C,N.x),L=h(L,G-A,N.y)),b=!0}this.useBounds&&(O=this.clampX(O),L=this.clampY(L)),this.scrollX=O,this.scrollY=L;var X=O+p,$=L+x;this.midPoint.set(X,$);var J=u/E,z=d/E,Y=Math.floor(X-J/2),D=Math.floor($-z/2);this.worldView.setTo(Y,D,J,z),T.applyITRS(Math.floor(this.x+C),Math.floor(this.y+A),this.rotation,E,E),T.translate(-C,-A),this.shakeEffect.preRender(),b&&this.emit(r.FOLLOW_UPDATE,this,M)},setLerp:function(u,d){return u===void 0&&(u=1),d===void 0&&(d=u),this.lerp.set(u,d),this},setFollowOffset:function(u,d){return u===void 0&&(u=0),d===void 0&&(d=0),this.followOffset.set(u,d),this},startFollow:function(u,d,p,x,E,T){d===void 0&&(d=!1),p===void 0&&(p=1),x===void 0&&(x=p),E===void 0&&(E=0),T===void 0&&(T=E),this._follow=u,this.roundPixels=d,p=a(p,0,1),x=a(x,0,1),this.lerp.set(p,x),this.followOffset.set(E,T);var C=this.width/2,A=this.height/2,M=u.x-E,R=u.y-T;return this.midPoint.set(M,R),this.scrollX=M-C,this.scrollY=R-A,this.useBounds&&(this.scrollX=this.clampX(this.scrollX),this.scrollY=this.clampY(this.scrollY)),this},stopFollow:function(){return this._follow=null,this},resetFX:function(){return this.rotateToEffect.reset(),this.panEffect.reset(),this.shakeEffect.reset(),this.flashEffect.reset(),this.fadeEffect.reset(),this},update:function(u,d){this.visible&&(this.rotateToEffect.update(u,d),this.panEffect.update(u,d),this.zoomEffect.update(u,d),this.shakeEffect.update(u,d),this.flashEffect.update(u,d),this.fadeEffect.update(u,d))},destroy:function(){this.resetFX(),o.prototype.destroy.call(this),this._follow=null,this.deadzone=null}});c.exports=f},32743:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(38058),v=t(83419),a=t(95540),i=t(37277),s=t(37303),e=t(97480),r=t(44594),h=new v({initialize:function(l){this.scene=l,this.systems=l.sys,this.roundPixels=l.sys.game.config.roundPixels,this.cameras=[],this.main,this.default,l.sys.events.once(r.BOOT,this.boot,this),l.sys.events.on(r.START,this.start,this)},boot:function(){var n=this.systems;n.settings.cameras?this.fromJSON(n.settings.cameras):this.add(),this.main=this.cameras[0],this.default=new o(0,0,n.scale.width,n.scale.height).setScene(this.scene),n.game.scale.on(e.RESIZE,this.onResize,this),this.systems.events.once(r.DESTROY,this.destroy,this)},start:function(){if(!this.main){var n=this.systems;n.settings.cameras?this.fromJSON(n.settings.cameras):this.add(),this.main=this.cameras[0]}var l=this.systems.events;l.on(r.UPDATE,this.update,this),l.once(r.SHUTDOWN,this.shutdown,this)},add:function(n,l,f,u,d,p){n===void 0&&(n=0),l===void 0&&(l=0),f===void 0&&(f=this.scene.sys.scale.width),u===void 0&&(u=this.scene.sys.scale.height),d===void 0&&(d=!1),p===void 0&&(p="");var x=new o(n,l,f,u);return x.setName(p),x.setScene(this.scene),x.setRoundPixels(this.roundPixels),x.id=this.getNextID(),this.cameras.push(x),d&&(this.main=x),x},addExisting:function(n,l){l===void 0&&(l=!1);var f=this.cameras.indexOf(n);return f===-1?(n.id=this.getNextID(),n.setRoundPixels(this.roundPixels),this.cameras.push(n),l&&(this.main=n),n):null},getNextID:function(){for(var n=this.cameras,l=1,f=0;f<32;f++){for(var u=!1,d=0;d<n.length;d++){var p=n[d];if(p&&p.id===l){u=!0;continue}}if(u)l=l<<1;else return l}return 0},getTotal:function(n){n===void 0&&(n=!1);for(var l=0,f=this.cameras,u=0;u<f.length;u++){var d=f[u];(!n||n&&d.visible)&&l++}return l},fromJSON:function(n){Array.isArray(n)||(n=[n]);for(var l=this.scene.sys.scale.width,f=this.scene.sys.scale.height,u=0;u<n.length;u++){var d=n[u],p=a(d,"x",0),x=a(d,"y",0),E=a(d,"width",l),T=a(d,"height",f),C=this.add(p,x,E,T);C.name=a(d,"name",""),C.zoom=a(d,"zoom",1),C.rotation=a(d,"rotation",0),C.scrollX=a(d,"scrollX",0),C.scrollY=a(d,"scrollY",0),C.roundPixels=a(d,"roundPixels",!1),C.visible=a(d,"visible",!0);var A=a(d,"backgroundColor",!1);A&&C.setBackgroundColor(A);var M=a(d,"bounds",null);if(M){var R=a(M,"x",0),O=a(M,"y",0),L=a(M,"width",l),b=a(M,"height",f);C.setBounds(R,O,L,b)}}return this},getCamera:function(n){for(var l=this.cameras,f=0;f<l.length;f++)if(l[f].name===n)return l[f];return null},getCamerasBelowPointer:function(n){for(var l=this.cameras,f=n.x,u=n.y,d=[],p=0;p<l.length;p++){var x=l[p];x.visible&&x.inputEnabled&&s(x,f,u)&&d.unshift(x)}return d},remove:function(n,l){l===void 0&&(l=!0),Array.isArray(n)||(n=[n]);for(var f=0,u=this.cameras,d=0;d<n.length;d++){var p=u.indexOf(n[d]);p!==-1&&(l?u[p].destroy():u[p].renderList=[],u.splice(p,1),f++)}return!this.main&&u[0]&&(this.main=u[0]),f},render:function(n,l){for(var f=this.scene,u=this.cameras,d=0;d<u.length;d++){var p=u[d];if(p.visible&&p.alpha>0){p.preRender();var x=this.getVisibleChildren(l.getChildren(),p);n.render(f,x,p)}}},getVisibleChildren:function(n,l){return n.filter(function(f){return f.willRender(l)})},resetAll:function(){for(var n=0;n<this.cameras.length;n++)this.cameras[n].destroy();return this.cameras=[],this.main=this.add(),this.main},update:function(n,l){for(var f=0;f<this.cameras.length;f++)this.cameras[f].update(n,l)},onResize:function(n,l,f,u,d){for(var p=0;p<this.cameras.length;p++){var x=this.cameras[p];x._x===0&&x._y===0&&x._width===u&&x._height===d&&x.setSize(l.width,l.height)}},resize:function(n,l){for(var f=0;f<this.cameras.length;f++)this.cameras[f].setSize(n,l)},shutdown:function(){this.main=void 0;for(var n=0;n<this.cameras.length;n++)this.cameras[n].destroy();this.cameras=[];var l=this.systems.events;l.off(r.UPDATE,this.update,this),l.off(r.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.default.destroy(),this.systems.events.off(r.START,this.start,this),this.systems.events.off(r.DESTROY,this.destroy,this),this.systems.game.scale.off(e.RESIZE,this.onResize,this),this.scene=null,this.systems=null}});i.register("CameraManager",h,"cameras"),c.exports=h},5020:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(45319),v=t(83419),a=t(19715),i=new v({initialize:function(e){this.camera=e,this.isRunning=!1,this.isComplete=!1,this.direction=!0,this.duration=0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(s,e,r,h,n,l,f,u){if(s===void 0&&(s=!0),e===void 0&&(e=1e3),r===void 0&&(r=0),h===void 0&&(h=0),n===void 0&&(n=0),l===void 0&&(l=!1),f===void 0&&(f=null),u===void 0&&(u=this.camera.scene),!l&&this.isRunning)return this.camera;this.isRunning=!0,this.isComplete=!1,this.duration=e,this.direction=s,this.progress=0,this.red=r,this.green=h,this.blue=n,this.alpha=s?Number.MIN_VALUE:1,this._elapsed=0,this._onUpdate=f,this._onUpdateScope=u;var d=s?a.FADE_OUT_START:a.FADE_IN_START;return this.camera.emit(d,this.camera,this,e,r,h,n),this.camera},update:function(s,e){this.isRunning&&(this._elapsed+=e,this.progress=o(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?this.alpha=this.direction?this.progress:1-this.progress:(this.alpha=this.direction?1:0,this.effectComplete()))},postRenderCanvas:function(s){if(!this.isRunning&&!this.isComplete)return!1;var e=this.camera;return s.fillStyle="rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")",s.fillRect(e.x,e.y,e.width,e.height),!0},postRenderWebGL:function(s,e){if(!this.isRunning&&!this.isComplete)return!1;var r=this.camera,h=this.red/255,n=this.green/255,l=this.blue/255;return s.drawFillRect(r.x,r.y,r.width,r.height,e(l,n,h,1),this.alpha),!0},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.isComplete=!0;var s=this.direction?a.FADE_OUT_COMPLETE:a.FADE_IN_COMPLETE;this.camera.emit(s,this.camera,this)},reset:function(){this.isRunning=!1,this.isComplete=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});c.exports=i},10662:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(45319),v=t(83419),a=t(19715),i=new v({initialize:function(e){this.camera=e,this.isRunning=!1,this.duration=0,this.red=0,this.green=0,this.blue=0,this.alpha=1,this.progress=0,this._elapsed=0,this._alpha,this._onUpdate,this._onUpdateScope},start:function(s,e,r,h,n,l,f){return s===void 0&&(s=250),e===void 0&&(e=255),r===void 0&&(r=255),h===void 0&&(h=255),n===void 0&&(n=!1),l===void 0&&(l=null),f===void 0&&(f=this.camera.scene),!n&&this.isRunning?this.camera:(this.isRunning=!0,this.duration=s,this.progress=0,this.red=e,this.green=r,this.blue=h,this._alpha=this.alpha,this._elapsed=0,this._onUpdate=l,this._onUpdateScope=f,this.camera.emit(a.FLASH_START,this.camera,this,s,e,r,h),this.camera)},update:function(s,e){this.isRunning&&(this._elapsed+=e,this.progress=o(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?this.alpha=this._alpha*(1-this.progress):this.effectComplete())},postRenderCanvas:function(s){if(!this.isRunning)return!1;var e=this.camera;return s.fillStyle="rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")",s.fillRect(e.x,e.y,e.width,e.height),!0},postRenderWebGL:function(s,e){if(!this.isRunning)return!1;var r=this.camera,h=this.red/255,n=this.green/255,l=this.blue/255;return s.drawFillRect(r.x,r.y,r.width,r.height,e(l,n,h,1),this.alpha),!0},effectComplete:function(){this.alpha=this._alpha,this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(a.FLASH_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});c.exports=i},20359:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(45319),v=t(83419),a=t(62640),i=t(19715),s=t(26099),e=new v({initialize:function(h){this.camera=h,this.isRunning=!1,this.duration=0,this.source=new s,this.current=new s,this.destination=new s,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(r,h,n,l,f,u,d){n===void 0&&(n=1e3),l===void 0&&(l=a.Linear),f===void 0&&(f=!1),u===void 0&&(u=null),d===void 0&&(d=this.camera.scene);var p=this.camera;return!f&&this.isRunning||(this.isRunning=!0,this.duration=n,this.progress=0,this.source.set(p.scrollX,p.scrollY),this.destination.set(r,h),p.getScroll(r,h,this.current),typeof l=="string"&&a.hasOwnProperty(l)?this.ease=a[l]:typeof l=="function"&&(this.ease=l),this._elapsed=0,this._onUpdate=u,this._onUpdateScope=d,this.camera.emit(i.PAN_START,this.camera,this,n,r,h)),p},update:function(r,h){if(this.isRunning){this._elapsed+=h;var n=o(this._elapsed/this.duration,0,1);this.progress=n;var l=this.camera;if(this._elapsed<this.duration){var f=this.ease(n);l.getScroll(this.destination.x,this.destination.y,this.current);var u=this.source.x+(this.current.x-this.source.x)*f,d=this.source.y+(this.current.y-this.source.y)*f;l.setScroll(u,d),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,l,n,u,d)}else l.centerOn(this.destination.x,this.destination.y),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,l,n,l.scrollX,l.scrollY),this.effectComplete()}},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(i.PAN_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.source=null,this.destination=null}});c.exports=e},34208:(c,g,t)=>{/**
 * @author       Jason Nicholls <nicholls.jason@gmail.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var o=t(45319),v=t(83419),a=t(19715),i=t(62640),s=new v({initialize:function(r){this.camera=r,this.isRunning=!1,this.duration=0,this.source=0,this.current=0,this.destination=0,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope,this.clockwise=!0,this.shortestPath=!1},start:function(e,r,h,n,l,f,u){h===void 0&&(h=1e3),n===void 0&&(n=i.Linear),l===void 0&&(l=!1),f===void 0&&(f=null),u===void 0&&(u=this.camera.scene),r===void 0&&(r=!1),this.shortestPath=r;var d=e;e<0?(d=-1*e,this.clockwise=!1):this.clockwise=!0;var p=360*Math.PI/180;d=d-Math.floor(d/p)*p;var x=this.camera;if(!l&&this.isRunning)return x;if(this.isRunning=!0,this.duration=h,this.progress=0,this.source=x.rotation,this.destination=d,typeof n=="string"&&i.hasOwnProperty(n)?this.ease=i[n]:typeof n=="function"&&(this.ease=n),this._elapsed=0,this._onUpdate=f,this._onUpdateScope=u,this.shortestPath){var E=0,T=0;this.destination>this.source?E=Math.abs(this.destination-this.source):E=Math.abs(this.destination+p)-this.source,this.source>this.destination?T=Math.abs(this.source-this.destination):T=Math.abs(this.source+p)-this.destination,E<T?this.clockwise=!0:E>T&&(this.clockwise=!1)}return this.camera.emit(a.ROTATE_START,this.camera,this,h,d),x},update:function(e,r){if(this.isRunning){this._elapsed+=r;var h=o(this._elapsed/this.duration,0,1);this.progress=h;var n=this.camera;if(this._elapsed<this.duration){var l=this.ease(h);this.current=n.rotation;var f=0,u=360*Math.PI/180,d=this.destination,p=this.current;this.clockwise===!1&&(d=this.current,p=this.destination),d>=p?f=Math.abs(d-p):f=Math.abs(d+u)-p;var x=0;this.clockwise?x=n.rotation+f*l:x=n.rotation-f*l,n.rotation=x,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,n,h,x)}else n.rotation=this.destination,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,n,h,this.destination),this.effectComplete()}},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(a.ROTATE_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.source=null,this.destination=null}});c.exports=s},30330:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(45319),v=t(83419),a=t(19715),i=t(26099),s=new v({initialize:function(r){this.camera=r,this.isRunning=!1,this.duration=0,this.intensity=new i,this.progress=0,this._elapsed=0,this._offsetX=0,this._offsetY=0,this._onUpdate,this._onUpdateScope},start:function(e,r,h,n,l){return e===void 0&&(e=100),r===void 0&&(r=.05),h===void 0&&(h=!1),n===void 0&&(n=null),l===void 0&&(l=this.camera.scene),!h&&this.isRunning?this.camera:(this.isRunning=!0,this.duration=e,this.progress=0,typeof r=="number"?this.intensity.set(r):this.intensity.set(r.x,r.y),this._elapsed=0,this._offsetX=0,this._offsetY=0,this._onUpdate=n,this._onUpdateScope=l,this.camera.emit(a.SHAKE_START,this.camera,this,e,r),this.camera)},preRender:function(){this.isRunning&&this.camera.matrix.translate(this._offsetX,this._offsetY)},update:function(e,r){if(this.isRunning)if(this._elapsed+=r,this.progress=o(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration){var h=this.intensity,n=this.camera.width,l=this.camera.height,f=this.camera.zoom;this._offsetX=(Math.random()*h.x*n*2-h.x*n)*f,this._offsetY=(Math.random()*h.y*l*2-h.y*l)*f,this.camera.roundPixels&&(this._offsetX=Math.round(this._offsetX),this._offsetY=Math.round(this._offsetY))}else this.effectComplete()},effectComplete:function(){this._offsetX=0,this._offsetY=0,this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(a.SHAKE_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._offsetX=0,this._offsetY=0,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.intensity=null}});c.exports=s},45641:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(45319),v=t(83419),a=t(62640),i=t(19715),s=new v({initialize:function(r){this.camera=r,this.isRunning=!1,this.duration=0,this.source=1,this.destination=1,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(e,r,h,n,l,f){r===void 0&&(r=1e3),h===void 0&&(h=a.Linear),n===void 0&&(n=!1),l===void 0&&(l=null),f===void 0&&(f=this.camera.scene);var u=this.camera;return!n&&this.isRunning||(this.isRunning=!0,this.duration=r,this.progress=0,this.source=u.zoom,this.destination=e,typeof h=="string"&&a.hasOwnProperty(h)?this.ease=a[h]:typeof h=="function"&&(this.ease=h),this._elapsed=0,this._onUpdate=l,this._onUpdateScope=f,this.camera.emit(i.ZOOM_START,this.camera,this,r,e)),u},update:function(e,r){this.isRunning&&(this._elapsed+=r,this.progress=o(this._elapsed/this.duration,0,1),this._elapsed<this.duration?(this.camera.zoom=this.source+(this.destination-this.source)*this.ease(this.progress),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.camera.zoom)):(this.camera.zoom=this.destination,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.destination),this.effectComplete()))},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(i.ZOOM_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});c.exports=s},20052:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Fade:t(5020),Flash:t(10662),Pan:t(20359),Shake:t(30330),RotateTo:t(34208),Zoom:t(45641)}},16438:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="cameradestroy"},32726:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="camerafadeincomplete"},87807:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="camerafadeinstart"},45917:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="camerafadeoutcomplete"},95666:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="camerafadeoutstart"},47056:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="cameraflashcomplete"},91261:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="cameraflashstart"},45047:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="followupdate"},81927:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="camerapancomplete"},74264:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="camerapanstart"},54419:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="postrender"},79330:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="prerender"},93183:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="camerarotatecomplete"},80112:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="camerarotatestart"},62252:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="camerashakecomplete"},86017:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="camerashakestart"},539:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="camerazoomcomplete"},51892:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="camerazoomstart"},19715:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={DESTROY:t(16438),FADE_IN_COMPLETE:t(32726),FADE_IN_START:t(87807),FADE_OUT_COMPLETE:t(45917),FADE_OUT_START:t(95666),FLASH_COMPLETE:t(47056),FLASH_START:t(91261),FOLLOW_UPDATE:t(45047),PAN_COMPLETE:t(81927),PAN_START:t(74264),POST_RENDER:t(54419),PRE_RENDER:t(79330),ROTATE_COMPLETE:t(93183),ROTATE_START:t(80112),SHAKE_COMPLETE:t(62252),SHAKE_START:t(86017),ZOOM_COMPLETE:t(539),ZOOM_START:t(51892)}},87969:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Camera:t(38058),BaseCamera:t(71911),CameraManager:t(32743),Effects:t(20052),Events:t(19715)}},63091:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(35154),a=new o({initialize:function(s){this.camera=v(s,"camera",null),this.left=v(s,"left",null),this.right=v(s,"right",null),this.up=v(s,"up",null),this.down=v(s,"down",null),this.zoomIn=v(s,"zoomIn",null),this.zoomOut=v(s,"zoomOut",null),this.zoomSpeed=v(s,"zoomSpeed",.01),this.minZoom=v(s,"minZoom",.001),this.maxZoom=v(s,"maxZoom",1e3),this.speedX=0,this.speedY=0;var e=v(s,"speed",null);typeof e=="number"?(this.speedX=e,this.speedY=e):(this.speedX=v(s,"speed.x",0),this.speedY=v(s,"speed.y",0)),this._zoom=0,this.active=this.camera!==null},start:function(){return this.active=this.camera!==null,this},stop:function(){return this.active=!1,this},setCamera:function(i){return this.camera=i,this},update:function(i){if(this.active){i===void 0&&(i=1);var s=this.camera;this.up&&this.up.isDown?s.scrollY-=this.speedY*i|0:this.down&&this.down.isDown&&(s.scrollY+=this.speedY*i|0),this.left&&this.left.isDown?s.scrollX-=this.speedX*i|0:this.right&&this.right.isDown&&(s.scrollX+=this.speedX*i|0),this.zoomIn&&this.zoomIn.isDown?(s.zoom-=this.zoomSpeed,s.zoom<this.minZoom&&(s.zoom=this.minZoom)):this.zoomOut&&this.zoomOut.isDown&&(s.zoom+=this.zoomSpeed,s.zoom>this.maxZoom&&(s.zoom=this.maxZoom))}},destroy:function(){this.camera=null,this.left=null,this.right=null,this.up=null,this.down=null,this.zoomIn=null,this.zoomOut=null}});c.exports=a},58818:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(35154),a=new o({initialize:function(s){this.camera=v(s,"camera",null),this.left=v(s,"left",null),this.right=v(s,"right",null),this.up=v(s,"up",null),this.down=v(s,"down",null),this.zoomIn=v(s,"zoomIn",null),this.zoomOut=v(s,"zoomOut",null),this.zoomSpeed=v(s,"zoomSpeed",.01),this.minZoom=v(s,"minZoom",.001),this.maxZoom=v(s,"maxZoom",1e3),this.accelX=0,this.accelY=0;var e=v(s,"acceleration",null);typeof e=="number"?(this.accelX=e,this.accelY=e):(this.accelX=v(s,"acceleration.x",0),this.accelY=v(s,"acceleration.y",0)),this.dragX=0,this.dragY=0;var r=v(s,"drag",null);typeof r=="number"?(this.dragX=r,this.dragY=r):(this.dragX=v(s,"drag.x",0),this.dragY=v(s,"drag.y",0)),this.maxSpeedX=0,this.maxSpeedY=0;var h=v(s,"maxSpeed",null);typeof h=="number"?(this.maxSpeedX=h,this.maxSpeedY=h):(this.maxSpeedX=v(s,"maxSpeed.x",0),this.maxSpeedY=v(s,"maxSpeed.y",0)),this._speedX=0,this._speedY=0,this._zoom=0,this.active=this.camera!==null},start:function(){return this.active=this.camera!==null,this},stop:function(){return this.active=!1,this},setCamera:function(i){return this.camera=i,this},update:function(i){if(this.active){i===void 0&&(i=1);var s=this.camera;this._speedX>0?(this._speedX-=this.dragX*i,this._speedX<0&&(this._speedX=0)):this._speedX<0&&(this._speedX+=this.dragX*i,this._speedX>0&&(this._speedX=0)),this._speedY>0?(this._speedY-=this.dragY*i,this._speedY<0&&(this._speedY=0)):this._speedY<0&&(this._speedY+=this.dragY*i,this._speedY>0&&(this._speedY=0)),this.up&&this.up.isDown?(this._speedY+=this.accelY,this._speedY>this.maxSpeedY&&(this._speedY=this.maxSpeedY)):this.down&&this.down.isDown&&(this._speedY-=this.accelY,this._speedY<-this.maxSpeedY&&(this._speedY=-this.maxSpeedY)),this.left&&this.left.isDown?(this._speedX+=this.accelX,this._speedX>this.maxSpeedX&&(this._speedX=this.maxSpeedX)):this.right&&this.right.isDown&&(this._speedX-=this.accelX,this._speedX<-this.maxSpeedX&&(this._speedX=-this.maxSpeedX)),this.zoomIn&&this.zoomIn.isDown?this._zoom=-this.zoomSpeed:this.zoomOut&&this.zoomOut.isDown?this._zoom=this.zoomSpeed:this._zoom=0,this._speedX!==0&&(s.scrollX-=this._speedX*i|0),this._speedY!==0&&(s.scrollY-=this._speedY*i|0),this._zoom!==0&&(s.zoom+=this._zoom,s.zoom<this.minZoom?s.zoom=this.minZoom:s.zoom>this.maxZoom&&(s.zoom=this.maxZoom))}},destroy:function(){this.camera=null,this.left=null,this.right=null,this.up=null,this.down=null,this.zoomIn=null,this.zoomOut=null}});c.exports=a},38865:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={FixedKeyControl:t(63091),SmoothedKeyControl:t(58818)}},26638:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Controls:t(38865),Scene2D:t(87969)}},8054:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o={VERSION:"3.80.1",BlendModes:t(10312),ScaleModes:t(29795),AUTO:0,CANVAS:1,WEBGL:2,HEADLESS:3,FOREVER:-1,NONE:4,UP:5,DOWN:6,LEFT:7,RIGHT:8};c.exports=o},69547:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(8054),a=t(42363),i=t(82264),s=t(95540),e=t(35154),r=t(41212),h=t(29747),n=t(75508),l=t(36060),f=t(80333),u=new o({initialize:function(p){p===void 0&&(p={});var x=["#ff0000","#ffff00","#00ff00","#00ffff","#000000"],E="#ffffff",T=e(p,"scale",null);this.width=e(T,"width",1024,p),this.height=e(T,"height",768,p),this.zoom=e(T,"zoom",1,p),this.parent=e(T,"parent",void 0,p),this.scaleMode=e(T,T?"mode":"scaleMode",0,p),this.expandParent=e(T,"expandParent",!0,p),this.autoRound=e(T,"autoRound",!1,p),this.autoCenter=e(T,"autoCenter",0,p),this.resizeInterval=e(T,"resizeInterval",500,p),this.fullscreenTarget=e(T,"fullscreenTarget",null,p),this.minWidth=e(T,"min.width",0,p),this.maxWidth=e(T,"max.width",0,p),this.minHeight=e(T,"min.height",0,p),this.maxHeight=e(T,"max.height",0,p),this.snapWidth=e(T,"snap.width",0,p),this.snapHeight=e(T,"snap.height",0,p),this.renderType=e(p,"type",v.AUTO),this.canvas=e(p,"canvas",null),this.context=e(p,"context",null),this.canvasStyle=e(p,"canvasStyle",null),this.customEnvironment=e(p,"customEnvironment",!1),this.sceneConfig=e(p,"scene",null),this.seed=e(p,"seed",[(Date.now()*Math.random()).toString()]),n.RND=new n.RandomDataGenerator(this.seed),this.gameTitle=e(p,"title",""),this.gameURL=e(p,"url","https://phaser.io"),this.gameVersion=e(p,"version",""),this.autoFocus=e(p,"autoFocus",!0),this.stableSort=e(p,"stableSort",-1),this.stableSort===-1&&(this.stableSort=i.browser.es2019?1:0),i.features.stableSort=this.stableSort,this.domCreateContainer=e(p,"dom.createContainer",!1),this.domPointerEvents=e(p,"dom.pointerEvents","none"),this.inputKeyboard=e(p,"input.keyboard",!0),this.inputKeyboardEventTarget=e(p,"input.keyboard.target",window),this.inputKeyboardCapture=e(p,"input.keyboard.capture",[]),this.inputMouse=e(p,"input.mouse",!0),this.inputMouseEventTarget=e(p,"input.mouse.target",null),this.inputMousePreventDefaultDown=e(p,"input.mouse.preventDefaultDown",!0),this.inputMousePreventDefaultUp=e(p,"input.mouse.preventDefaultUp",!0),this.inputMousePreventDefaultMove=e(p,"input.mouse.preventDefaultMove",!0),this.inputMousePreventDefaultWheel=e(p,"input.mouse.preventDefaultWheel",!0),this.inputTouch=e(p,"input.touch",i.input.touch),this.inputTouchEventTarget=e(p,"input.touch.target",null),this.inputTouchCapture=e(p,"input.touch.capture",!0),this.inputActivePointers=e(p,"input.activePointers",1),this.inputSmoothFactor=e(p,"input.smoothFactor",0),this.inputWindowEvents=e(p,"input.windowEvents",!0),this.inputGamepad=e(p,"input.gamepad",!1),this.inputGamepadEventTarget=e(p,"input.gamepad.target",window),this.disableContextMenu=e(p,"disableContextMenu",!1),this.audio=e(p,"audio",{}),this.hideBanner=e(p,"banner",null)===!1,this.hidePhaser=e(p,"banner.hidePhaser",!1),this.bannerTextColor=e(p,"banner.text",E),this.bannerBackgroundColor=e(p,"banner.background",x),this.gameTitle===""&&this.hidePhaser&&(this.hideBanner=!0),this.fps=e(p,"fps",null),this.disablePreFX=e(p,"disablePreFX",!1),this.disablePostFX=e(p,"disablePostFX",!1);var C=e(p,"render",null);this.pipeline=e(C,"pipeline",null,p),this.autoMobilePipeline=e(C,"autoMobilePipeline",!0,p),this.defaultPipeline=e(C,"defaultPipeline",l.MULTI_PIPELINE,p),this.antialias=e(C,"antialias",!0,p),this.antialiasGL=e(C,"antialiasGL",!0,p),this.mipmapFilter=e(C,"mipmapFilter","",p),this.desynchronized=e(C,"desynchronized",!1,p),this.roundPixels=e(C,"roundPixels",!0,p),this.pixelArt=e(C,"pixelArt",this.zoom!==1,p),this.pixelArt&&(this.antialias=!1,this.antialiasGL=!1,this.roundPixels=!0),this.transparent=e(C,"transparent",!1,p),this.clearBeforeRender=e(C,"clearBeforeRender",!0,p),this.preserveDrawingBuffer=e(C,"preserveDrawingBuffer",!1,p),this.premultipliedAlpha=e(C,"premultipliedAlpha",!0,p),this.failIfMajorPerformanceCaveat=e(C,"failIfMajorPerformanceCaveat",!1,p),this.powerPreference=e(C,"powerPreference","default",p),this.batchSize=e(C,"batchSize",4096,p),this.maxTextures=e(C,"maxTextures",-1,p),this.maxLights=e(C,"maxLights",10,p);var A=e(p,"backgroundColor",0);this.backgroundColor=f(A),this.transparent&&(this.backgroundColor=f(0),this.backgroundColor.alpha=0),this.preBoot=e(p,"callbacks.preBoot",h),this.postBoot=e(p,"callbacks.postBoot",h),this.physics=e(p,"physics",{}),this.defaultPhysicsSystem=e(this.physics,"default",!1),this.loaderBaseURL=e(p,"loader.baseURL",""),this.loaderPath=e(p,"loader.path",""),this.loaderMaxParallelDownloads=e(p,"loader.maxParallelDownloads",i.os.android?6:32),this.loaderCrossOrigin=e(p,"loader.crossOrigin",void 0),this.loaderResponseType=e(p,"loader.responseType",""),this.loaderAsync=e(p,"loader.async",!0),this.loaderUser=e(p,"loader.user",""),this.loaderPassword=e(p,"loader.password",""),this.loaderTimeout=e(p,"loader.timeout",0),this.loaderWithCredentials=e(p,"loader.withCredentials",!1),this.loaderImageLoadType=e(p,"loader.imageLoadType","XHR"),this.loaderLocalScheme=e(p,"loader.localScheme",["file://","capacitor://"]),this.glowFXQuality=e(p,"fx.glow.quality",.1),this.glowFXDistance=e(p,"fx.glow.distance",10),this.installGlobalPlugins=[],this.installScenePlugins=[];var M=e(p,"plugins",null),R=a.DefaultScene;M&&(Array.isArray(M)?this.defaultPlugins=M:r(M)&&(this.installGlobalPlugins=s(M,"global",[]),this.installScenePlugins=s(M,"scene",[]),Array.isArray(M.default)?R=M.default:Array.isArray(M.defaultMerge)&&(R=R.concat(M.defaultMerge)))),this.defaultPlugins=R;var O="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAg";this.defaultImage=e(p,"images.default",O+"AQMAAABJtOi3AAAAA1BMVEX///+nxBvIAAAAAXRSTlMAQObYZgAAABVJREFUeF7NwIEAAAAAgKD9qdeocAMAoAABm3DkcAAAAABJRU5ErkJggg=="),this.missingImage=e(p,"images.missing",O+"CAIAAAD8GO2jAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJ9JREFUeNq01ssOwyAMRFG46v//Mt1ESmgh+DFmE2GPOBARKb2NVjo+17PXLD8a1+pl5+A+wSgFygymWYHBb0FtsKhJDdZlncG2IzJ4ayoMDv20wTmSMzClEgbWYNTAkQ0Z+OJ+A/eWnAaR9+oxCF4Os0H8htsMUp+pwcgBBiMNnAwF8GqIgL2hAzaGFFgZauDPKABmowZ4GL369/0rwACp2yA/ttmvsQAAAABJRU5ErkJggg=="),this.whiteImage=e(p,"images.white","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAECAIAAAAmkwkpAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAABdJREFUeNpi/P//PwMMMDEgAdwcgAADAJZuAwXJYZOzAAAAAElFTkSuQmCC"),window&&(window.FORCE_WEBGL?this.renderType=v.WEBGL:window.FORCE_CANVAS&&(this.renderType=v.CANVAS))}});c.exports=u},86054:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(20623),v=t(27919),a=t(8054),i=t(89357),s=function(e){var r=e.config;if((r.customEnvironment||r.canvas)&&r.renderType===a.AUTO)throw new Error("Must set explicit renderType in custom environment");if(!r.customEnvironment&&!r.canvas&&r.renderType!==a.HEADLESS)if(r.renderType===a.AUTO&&(r.renderType=i.webGL?a.WEBGL:a.CANVAS),r.renderType===a.WEBGL){if(!i.webGL)throw new Error("Cannot create WebGL context, aborting.")}else if(r.renderType===a.CANVAS){if(!i.canvas)throw new Error("Cannot create Canvas context, aborting.")}else throw new Error("Unknown value for renderer type: "+r.renderType);r.antialias||v.disableSmoothing();var h=e.scale.baseSize,n=h.width,l=h.height;if(r.canvas?(e.canvas=r.canvas,e.canvas.width=n,e.canvas.height=l):e.canvas=v.create(e,n,l,r.renderType),r.canvasStyle&&(e.canvas.style=r.canvasStyle),r.antialias||o.setCrisp(e.canvas),r.renderType!==a.HEADLESS){var f,u;f=t(68627),u=t(74797),r.renderType===a.WEBGL?e.renderer=new u(e):(e.renderer=new f(e),e.context=e.renderer.gameContext)}};c.exports=s},96391:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(8054),v=function(a){var i=a.config;if(!i.hideBanner){var s="WebGL";i.renderType===o.CANVAS?s="Canvas":i.renderType===o.HEADLESS&&(s="Headless");var e=i.audio,r=a.device.audio,h;if(r.webAudio&&!e.disableWebAudio?h="Web Audio":e.noAudio||!r.webAudio&&!r.audioData?h="No Audio":h="HTML5 Audio",a.device.browser.ie)window.console&&console.log("Phaser v"+o.VERSION+" / https://phaser.io");else{var n="",l=[n];if(Array.isArray(i.bannerBackgroundColor)){var f;i.bannerBackgroundColor.forEach(function(d){n=n.concat("%c "),l.push("background: "+d),f=d}),l[l.length-1]="color: "+i.bannerTextColor+"; background: "+f}else n=n.concat("%c "),l.push("color: "+i.bannerTextColor+"; background: "+i.bannerBackgroundColor);l.push("background: transparent"),i.gameTitle&&(n=n.concat(i.gameTitle),i.gameVersion&&(n=n.concat(" v"+i.gameVersion)),i.hidePhaser||(n=n.concat(" / ")));var u="";i.hidePhaser||(n=n.concat("Phaser v"+o.VERSION+u+" ("+s+" | "+h+")")),n=n.concat(" %c "+i.gameURL),l[0]=n,console.log.apply(console,l)}}};c.exports=v},50127:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(40366),v=t(60848),a=t(24047),i=t(27919),s=t(83419),e=t(69547),r=t(83719),h=t(86054),n=t(45893),l=t(96391),f=t(82264),u=t(57264),d=t(50792),p=t(8443),x=t(7003),E=t(37277),T=t(77332),C=t(76531),A=t(60903),M=t(69442),R=t(17130),O=t(65898),L=t(51085),b=t(14747),N=new s({initialize:function(G){this.config=new e(G),this.renderer=null,this.domContainer=null,this.canvas=null,this.context=null,this.isBooted=!1,this.isRunning=!1,this.events=new d,this.anims=new v(this),this.textures=new R(this),this.cache=new a(this),this.registry=new n(this,new d),this.input=new x(this,this.config),this.scene=new A(this,this.config.sceneConfig),this.device=f,this.scale=new C(this,this.config),this.sound=null,this.sound=b.create(this),this.loop=new O(this,this.config.fps),this.plugins=new T(this,this.config),this.pendingDestroy=!1,this.removeCanvas=!1,this.noReturn=!1,this.hasFocus=!1,this.isPaused=!1,u(this.boot.bind(this))},boot:function(){if(!E.hasCore("EventEmitter")){console.warn("Aborting. Core Plugins missing.");return}this.isBooted=!0,this.config.preBoot(this),this.scale.preBoot(),h(this),r(this),l(this),o(this.canvas,this.config.parent),this.textures.once(M.READY,this.texturesReady,this),this.events.emit(p.BOOT)},texturesReady:function(){this.events.emit(p.READY),this.start()},start:function(){this.isRunning=!0,this.config.postBoot(this),this.renderer?this.loop.start(this.step.bind(this)):this.loop.start(this.headlessStep.bind(this)),L(this);var I=this.events;I.on(p.HIDDEN,this.onHidden,this),I.on(p.VISIBLE,this.onVisible,this),I.on(p.BLUR,this.onBlur,this),I.on(p.FOCUS,this.onFocus,this)},step:function(I,G){if(this.pendingDestroy)return this.runDestroy();if(!this.isPaused){var X=this.events;X.emit(p.PRE_STEP,I,G),X.emit(p.STEP,I,G),this.scene.update(I,G),X.emit(p.POST_STEP,I,G);var $=this.renderer;$.preRender(),X.emit(p.PRE_RENDER,$,I,G),this.scene.render($),$.postRender(),X.emit(p.POST_RENDER,$,I,G)}},headlessStep:function(I,G){if(this.pendingDestroy)return this.runDestroy();if(!this.isPaused){var X=this.events;X.emit(p.PRE_STEP,I,G),X.emit(p.STEP,I,G),this.scene.update(I,G),X.emit(p.POST_STEP,I,G),this.scene.isProcessing=!1,X.emit(p.PRE_RENDER,null,I,G),X.emit(p.POST_RENDER,null,I,G)}},onHidden:function(){this.loop.pause(),this.events.emit(p.PAUSE)},pause:function(){var I=this.isPaused;this.isPaused=!0,I||this.events.emit(p.PAUSE)},onVisible:function(){this.loop.resume(),this.events.emit(p.RESUME)},resume:function(){var I=this.isPaused;this.isPaused=!1,I&&this.events.emit(p.RESUME)},onBlur:function(){this.hasFocus=!1,this.loop.blur()},onFocus:function(){this.hasFocus=!0,this.loop.focus()},getFrame:function(){return this.loop.frame},getTime:function(){return this.loop.now},destroy:function(I,G){G===void 0&&(G=!1),this.pendingDestroy=!0,this.removeCanvas=I,this.noReturn=G},runDestroy:function(){this.scene.destroy(),this.events.emit(p.DESTROY),this.events.removeAllListeners(),this.renderer&&this.renderer.destroy(),this.removeCanvas&&this.canvas&&(i.remove(this.canvas),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas)),this.domContainer&&this.domContainer.parentNode&&this.domContainer.parentNode.removeChild(this.domContainer),this.loop.destroy(),this.pendingDestroy=!1}});c.exports=N},65898:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(35154),a=t(29747),i=t(43092),s=new o({initialize:function(r,h){this.game=r,this.raf=new i,this.started=!1,this.running=!1,this.minFps=v(h,"min",5),this.targetFps=v(h,"target",60),this.fpsLimit=v(h,"limit",0),this.hasFpsLimit=this.fpsLimit>0,this._limitRate=this.hasFpsLimit?1e3/this.fpsLimit:0,this._min=1e3/this.minFps,this._target=1e3/this.targetFps,this.actualFps=this.targetFps,this.nextFpsUpdate=0,this.framesThisSecond=0,this.callback=a,this.forceSetTimeOut=v(h,"forceSetTimeOut",!1),this.time=0,this.startTime=0,this.lastTime=0,this.frame=0,this.inFocus=!0,this._pauseTime=0,this._coolDown=0,this.delta=0,this.deltaIndex=0,this.deltaHistory=[],this.deltaSmoothingMax=v(h,"deltaHistory",10),this.panicMax=v(h,"panicMax",120),this.rawDelta=0,this.now=0,this.smoothStep=v(h,"smoothStep",!0)},blur:function(){this.inFocus=!1},focus:function(){this.inFocus=!0,this.resetDelta()},pause:function(){this._pauseTime=window.performance.now()},resume:function(){this.resetDelta(),this.startTime+=this.time-this._pauseTime},resetDelta:function(){var e=window.performance.now();this.time=e,this.lastTime=e,this.nextFpsUpdate=e+1e3,this.framesThisSecond=0;for(var r=0;r<this.deltaSmoothingMax;r++)this.deltaHistory[r]=Math.min(this._target,this.deltaHistory[r]);this.delta=0,this.deltaIndex=0,this._coolDown=this.panicMax},start:function(e){if(this.started)return this;this.started=!0,this.running=!0;for(var r=0;r<this.deltaSmoothingMax;r++)this.deltaHistory[r]=this._target;this.resetDelta(),this.startTime=window.performance.now(),this.callback=e;var h=this.hasFpsLimit?this.stepLimitFPS.bind(this):this.step.bind(this);this.raf.start(h,this.forceSetTimeOut,this._target)},smoothDelta:function(e){var r=this.deltaIndex,h=this.deltaHistory,n=this.deltaSmoothingMax;(this._coolDown>0||!this.inFocus)&&(this._coolDown--,e=Math.min(e,this._target)),e>this._min&&(e=h[r],e=Math.min(e,this._min)),h[r]=e,this.deltaIndex++,this.deltaIndex>=n&&(this.deltaIndex=0);for(var l=0,f=0;f<n;f++)l+=h[f];return l/=n,l},updateFPS:function(e){this.actualFps=.25*this.framesThisSecond+.75*this.actualFps,this.nextFpsUpdate=e+1e3,this.framesThisSecond=0},stepLimitFPS:function(e){this.now=e;var r=Math.max(0,e-this.lastTime);this.rawDelta=r,this.time+=this.rawDelta,this.smoothStep&&(r=this.smoothDelta(r)),this.delta+=r,e>=this.nextFpsUpdate&&this.updateFPS(e),this.framesThisSecond++,this.delta>=this._limitRate&&(this.callback(e,this.delta),this.delta=0),this.lastTime=e,this.frame++},step:function(e){this.now=e;var r=Math.max(0,e-this.lastTime);this.rawDelta=r,this.time+=this.rawDelta,this.smoothStep&&(r=this.smoothDelta(r)),this.delta=r,e>=this.nextFpsUpdate&&this.updateFPS(e),this.framesThisSecond++,this.callback(e,r),this.lastTime=e,this.frame++},tick:function(){var e=window.performance.now();this.hasFpsLimit?this.stepLimitFPS(e):this.step(e)},sleep:function(){this.running&&(this.raf.stop(),this.running=!1)},wake:function(e){e===void 0&&(e=!1);var r=window.performance.now();if(!this.running){e&&(this.startTime+=-this.lastTime+(this.lastTime+r));var h=this.hasFpsLimit?this.stepLimitFPS.bind(this):this.step.bind(this);this.raf.start(h,this.forceSetTimeOut,this._target),this.running=!0,this.nextFpsUpdate=r+1e3,this.framesThisSecond=0,this.fpsLimitTriggered=!1,this.tick()}},getDuration:function(){return Math.round(this.lastTime-this.startTime)/1e3},getDurationMS:function(){return Math.round(this.lastTime-this.startTime)},stop:function(){return this.running=!1,this.started=!1,this.raf.stop(),this},destroy:function(){this.stop(),this.raf.destroy(),this.raf=null,this.game=null,this.callback=null}});c.exports=s},51085:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(8443),v=function(a){var i,s=a.events;if(document.hidden!==void 0)i="visibilitychange";else{var e=["webkit","moz","ms"];e.forEach(function(h){document[h+"Hidden"]!==void 0&&(document.hidden=function(){return document[h+"Hidden"]},i=h+"visibilitychange")})}var r=function(h){document.hidden||h.type==="pause"?s.emit(o.HIDDEN):s.emit(o.VISIBLE)};i&&document.addEventListener(i,r,!1),window.onblur=function(){s.emit(o.BLUR)},window.onfocus=function(){s.emit(o.FOCUS)},window.focus&&a.config.autoFocus&&window.focus()};c.exports=v},97217:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="blur"},47548:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="boot"},19814:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="contextlost"},68446:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="destroy"},41700:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="focus"},25432:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="hidden"},65942:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pause"},59211:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="postrender"},47789:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="poststep"},39066:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="prerender"},460:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="prestep"},16175:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="ready"},42331:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="resume"},11966:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="step"},32969:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="systemready"},94830:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="visible"},8443:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={BLUR:t(97217),BOOT:t(47548),CONTEXT_LOST:t(19814),DESTROY:t(68446),FOCUS:t(41700),HIDDEN:t(25432),PAUSE:t(65942),POST_RENDER:t(59211),POST_STEP:t(47789),PRE_RENDER:t(39066),PRE_STEP:t(460),READY:t(16175),RESUME:t(42331),STEP:t(11966),SYSTEM_READY:t(32969),VISIBLE:t(94830)}},42857:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Config:t(69547),CreateRenderer:t(86054),DebugHeader:t(96391),Events:t(8443),TimeStep:t(65898),VisibilityHandler:t(51085)}},99584:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(5290),v=t(27919),a=t(35154),i=function(s){var e=a(s,"data",[]),r=a(s,"canvas",null),h=a(s,"palette",o),n=a(s,"pixelWidth",1),l=a(s,"pixelHeight",n),f=a(s,"resizeCanvas",!0),u=a(s,"clearCanvas",!0),d=a(s,"preRender",null),p=a(s,"postRender",null),x=Math.floor(Math.abs(e[0].length*n)),E=Math.floor(Math.abs(e.length*l));r||(r=v.create2D(this,x,E),f=!1,u=!1),f&&(r.width=x,r.height=E);var T=r.getContext("2d",{willReadFrequently:!0});u&&T.clearRect(0,0,x,E),d&&d(r,T);for(var C=0;C<e.length;C++)for(var A=e[C],M=0;M<A.length;M++){var R=A[M];R!=="."&&R!==" "&&(T.fillStyle=h[R],T.fillRect(M*n,C*l,n,l))}return p&&p(r,T),r};c.exports=i},15822:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={GenerateTexture:t(99584),Palettes:t(57763)}},5290:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={0:"#000",1:"#9D9D9D",2:"#FFF",3:"#BE2633",4:"#E06F8B",5:"#493C2B",6:"#A46422",7:"#EB8931",8:"#F7E26B",9:"#2F484E",A:"#44891A",B:"#A3CE27",C:"#1B2632",D:"#005784",E:"#31A2F2",F:"#B2DCEF"}},23816:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={0:"#000",1:"#fff",2:"#8b4131",3:"#7bbdc5",4:"#8b41ac",5:"#6aac41",6:"#3931a4",7:"#d5de73",8:"#945a20",9:"#5a4100",A:"#bd736a",B:"#525252",C:"#838383",D:"#acee8b",E:"#7b73de",F:"#acacac"}},9866:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={0:"#000",1:"#2234d1",2:"#0c7e45",3:"#44aacc",4:"#8a3622",5:"#5c2e78",6:"#aa5c3d",7:"#b5b5b5",8:"#5e606e",9:"#4c81fb",A:"#6cd947",B:"#7be2f9",C:"#eb8a60",D:"#e23d69",E:"#ffd93f",F:"#fff"}},77552:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#f5f4eb"}},92259:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#fff"}},57763:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={ARNE16:t(5290),C64:t(23816),CGA:t(9866),JMP:t(77552),MSX:t(92259)}},46728:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(36316),a=t(80021),i=t(26099),s=new o({Extends:a,initialize:function(r,h,n,l){a.call(this,"CubicBezierCurve"),Array.isArray(r)&&(l=new i(r[6],r[7]),n=new i(r[4],r[5]),h=new i(r[2],r[3]),r=new i(r[0],r[1])),this.p0=r,this.p1=h,this.p2=n,this.p3=l},getStartPoint:function(e){return e===void 0&&(e=new i),e.copy(this.p0)},getResolution:function(e){return e},getPoint:function(e,r){r===void 0&&(r=new i);var h=this.p0,n=this.p1,l=this.p2,f=this.p3;return r.set(v(e,h.x,n.x,l.x,f.x),v(e,h.y,n.y,l.y,f.y))},draw:function(e,r){r===void 0&&(r=32);var h=this.getPoints(r);e.beginPath(),e.moveTo(this.p0.x,this.p0.y);for(var n=1;n<h.length;n++)e.lineTo(h[n].x,h[n].y);return e.strokePath(),e},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y,this.p3.x,this.p3.y]}}});s.fromJSON=function(e){var r=e.points,h=new i(r[0],r[1]),n=new i(r[2],r[3]),l=new i(r[4],r[5]),f=new i(r[6],r[7]);return new s(h,n,l,f)},c.exports=s},80021:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(19217),a=t(87841),i=t(26099),s=new o({initialize:function(r){this.type=r,this.defaultDivisions=5,this.arcLengthDivisions=100,this.cacheArcLengths=[],this.needsUpdate=!0,this.active=!0,this._tmpVec2A=new i,this._tmpVec2B=new i},draw:function(e,r){return r===void 0&&(r=32),e.strokePoints(this.getPoints(r))},getBounds:function(e,r){e||(e=new a),r===void 0&&(r=16);var h=this.getLength();r>h&&(r=h/2);var n=Math.max(1,Math.round(h/r));return v(this.getSpacedPoints(n),e)},getDistancePoints:function(e){var r=this.getLength(),h=Math.max(1,r/e);return this.getSpacedPoints(h)},getEndPoint:function(e){return e===void 0&&(e=new i),this.getPointAt(1,e)},getLength:function(){var e=this.getLengths();return e[e.length-1]},getLengths:function(e){if(e===void 0&&(e=this.arcLengthDivisions),this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var r=[],h,n=this.getPoint(0,this._tmpVec2A),l=0;r.push(0);for(var f=1;f<=e;f++)h=this.getPoint(f/e,this._tmpVec2B),l+=h.distance(n),r.push(l),n.copy(h);return this.cacheArcLengths=r,r},getPointAt:function(e,r){var h=this.getUtoTmapping(e);return this.getPoint(h,r)},getPoints:function(e,r,h){h===void 0&&(h=[]),e||(r?e=this.getLength()/r:e=this.defaultDivisions);for(var n=0;n<=e;n++)h.push(this.getPoint(n/e));return h},getRandomPoint:function(e){return e===void 0&&(e=new i),this.getPoint(Math.random(),e)},getSpacedPoints:function(e,r,h){h===void 0&&(h=[]),e||(r?e=this.getLength()/r:e=this.defaultDivisions);for(var n=0;n<=e;n++){var l=this.getUtoTmapping(n/e,null,e);h.push(this.getPoint(l))}return h},getStartPoint:function(e){return e===void 0&&(e=new i),this.getPointAt(0,e)},getTangent:function(e,r){r===void 0&&(r=new i);var h=1e-4,n=e-h,l=e+h;return n<0&&(n=0),l>1&&(l=1),this.getPoint(n,this._tmpVec2A),this.getPoint(l,r),r.subtract(this._tmpVec2A).normalize()},getTangentAt:function(e,r){var h=this.getUtoTmapping(e);return this.getTangent(h,r)},getTFromDistance:function(e,r){return e<=0?0:this.getUtoTmapping(0,e,r)},getUtoTmapping:function(e,r,h){var n=this.getLengths(h),l=0,f=n.length,u;r?u=Math.min(r,n[f-1]):u=e*n[f-1];for(var d=0,p=f-1,x;d<=p;)if(l=Math.floor(d+(p-d)/2),x=n[l]-u,x<0)d=l+1;else if(x>0)p=l-1;else{p=l;break}if(l=p,n[l]===u)return l/(f-1);var E=n[l],T=n[l+1],C=T-E,A=(u-E)/C;return(l+A)/(f-1)},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()}});c.exports=s},73825:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(80021),a=t(39506),i=t(35154),s=t(43396),e=t(26099),r=new o({Extends:v,initialize:function(n,l,f,u,d,p,x,E){if(typeof n=="object"){var T=n;n=i(T,"x",0),l=i(T,"y",0),f=i(T,"xRadius",0),u=i(T,"yRadius",f),d=i(T,"startAngle",0),p=i(T,"endAngle",360),x=i(T,"clockwise",!1),E=i(T,"rotation",0)}else u===void 0&&(u=f),d===void 0&&(d=0),p===void 0&&(p=360),x===void 0&&(x=!1),E===void 0&&(E=0);v.call(this,"EllipseCurve"),this.p0=new e(n,l),this._xRadius=f,this._yRadius=u,this._startAngle=a(d),this._endAngle=a(p),this._clockwise=x,this._rotation=a(E)},getStartPoint:function(h){return h===void 0&&(h=new e),this.getPoint(0,h)},getResolution:function(h){return h*2},getPoint:function(h,n){n===void 0&&(n=new e);for(var l=Math.PI*2,f=this._endAngle-this._startAngle,u=Math.abs(f)<Number.EPSILON;f<0;)f+=l;for(;f>l;)f-=l;f<Number.EPSILON&&(u?f=0:f=l),this._clockwise&&!u&&(f===l?f=-l:f=f-l);var d=this._startAngle+h*f,p=this.p0.x+this._xRadius*Math.cos(d),x=this.p0.y+this._yRadius*Math.sin(d);if(this._rotation!==0){var E=Math.cos(this._rotation),T=Math.sin(this._rotation),C=p-this.p0.x,A=x-this.p0.y;p=C*E-A*T+this.p0.x,x=C*T+A*E+this.p0.y}return n.set(p,x)},setXRadius:function(h){return this.xRadius=h,this},setYRadius:function(h){return this.yRadius=h,this},setWidth:function(h){return this.xRadius=h/2,this},setHeight:function(h){return this.yRadius=h/2,this},setStartAngle:function(h){return this.startAngle=h,this},setEndAngle:function(h){return this.endAngle=h,this},setClockwise:function(h){return this.clockwise=h,this},setRotation:function(h){return this.rotation=h,this},x:{get:function(){return this.p0.x},set:function(h){this.p0.x=h}},y:{get:function(){return this.p0.y},set:function(h){this.p0.y=h}},xRadius:{get:function(){return this._xRadius},set:function(h){this._xRadius=h}},yRadius:{get:function(){return this._yRadius},set:function(h){this._yRadius=h}},startAngle:{get:function(){return s(this._startAngle)},set:function(h){this._startAngle=a(h)}},endAngle:{get:function(){return s(this._endAngle)},set:function(h){this._endAngle=a(h)}},clockwise:{get:function(){return this._clockwise},set:function(h){this._clockwise=h}},angle:{get:function(){return s(this._rotation)},set:function(h){this._rotation=a(h)}},rotation:{get:function(){return this._rotation},set:function(h){this._rotation=h}},toJSON:function(){return{type:this.type,x:this.p0.x,y:this.p0.y,xRadius:this._xRadius,yRadius:this._yRadius,startAngle:s(this._startAngle),endAngle:s(this._endAngle),clockwise:this._clockwise,rotation:s(this._rotation)}}});r.fromJSON=function(h){return new r(h)},c.exports=r},33951:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(80021),a=t(19217),i=t(87841),s=t(26099),e=new o({Extends:v,initialize:function(h,n){v.call(this,"LineCurve"),Array.isArray(h)&&(n=new s(h[2],h[3]),h=new s(h[0],h[1])),this.p0=h,this.p1=n,this.arcLengthDivisions=1},getBounds:function(r){return r===void 0&&(r=new i),a([this.p0,this.p1],r)},getStartPoint:function(r){return r===void 0&&(r=new s),r.copy(this.p0)},getResolution:function(r){return r===void 0&&(r=1),r},getPoint:function(r,h){return h===void 0&&(h=new s),r===1?h.copy(this.p1):(h.copy(this.p1).subtract(this.p0).scale(r).add(this.p0),h)},getPointAt:function(r,h){return this.getPoint(r,h)},getTangent:function(r,h){return h===void 0&&(h=new s),h.copy(this.p1).subtract(this.p0).normalize(),h},getUtoTmapping:function(r,h,n){var l;if(h){var f=this.getLengths(n),u=f[f.length-1],d=Math.min(h,u);l=d/u}else l=r;return l},draw:function(r){return r.lineBetween(this.p0.x,this.p0.y,this.p1.x,this.p1.y),r},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y]}}});e.fromJSON=function(r){var h=r.points,n=new s(h[0],h[1]),l=new s(h[2],h[3]);return new e(n,l)},c.exports=e},14744:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(80021),a=t(32112),i=t(26099),s=new o({Extends:v,initialize:function(r,h,n){v.call(this,"QuadraticBezierCurve"),Array.isArray(r)&&(n=new i(r[4],r[5]),h=new i(r[2],r[3]),r=new i(r[0],r[1])),this.p0=r,this.p1=h,this.p2=n},getStartPoint:function(e){return e===void 0&&(e=new i),e.copy(this.p0)},getResolution:function(e){return e},getPoint:function(e,r){r===void 0&&(r=new i);var h=this.p0,n=this.p1,l=this.p2;return r.set(a(e,h.x,n.x,l.x),a(e,h.y,n.y,l.y))},draw:function(e,r){r===void 0&&(r=32);var h=this.getPoints(r);e.beginPath(),e.moveTo(this.p0.x,this.p0.y);for(var n=1;n<h.length;n++)e.lineTo(h[n].x,h[n].y);return e.strokePath(),e},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y]}}});s.fromJSON=function(e){var r=e.points,h=new i(r[0],r[1]),n=new i(r[2],r[3]),l=new i(r[4],r[5]);return new s(h,n,l)},c.exports=s},42534:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(87842),v=t(83419),a=t(80021),i=t(26099),s=new v({Extends:a,initialize:function(r){r===void 0&&(r=[]),a.call(this,"SplineCurve"),this.points=[],this.addPoints(r)},addPoints:function(e){for(var r=0;r<e.length;r++){var h=new i;typeof e[r]=="number"?(h.x=e[r],h.y=e[r+1],r++):Array.isArray(e[r])?(h.x=e[r][0],h.y=e[r][1]):(h.x=e[r].x,h.y=e[r].y),this.points.push(h)}return this},addPoint:function(e,r){var h=new i(e,r);return this.points.push(h),h},getStartPoint:function(e){return e===void 0&&(e=new i),e.copy(this.points[0])},getResolution:function(e){return e*this.points.length},getPoint:function(e,r){r===void 0&&(r=new i);var h=this.points,n=(h.length-1)*e,l=Math.floor(n),f=n-l,u=h[l===0?l:l-1],d=h[l],p=h[l>h.length-2?h.length-1:l+1],x=h[l>h.length-3?h.length-1:l+2];return r.set(o(f,u.x,d.x,p.x,x.x),o(f,u.y,d.y,p.y,x.y))},toJSON:function(){for(var e=[],r=0;r<this.points.length;r++)e.push(this.points[r].x),e.push(this.points[r].y);return{type:this.type,points:e}}});s.fromJSON=function(e){return new s(e.points)},c.exports=s},25410:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Path:t(46669),MoveTo:t(68618),CubicBezier:t(46728),Curve:t(80021),Ellipse:t(73825),Line:t(33951),QuadraticBezier:t(14744),Spline:t(42534)}},68618:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(26099),a=new o({initialize:function(s,e){this.active=!1,this.p0=new v(s,e)},getPoint:function(i,s){return s===void 0&&(s=new v),s.copy(this.p0)},getPointAt:function(i,s){return this.getPoint(i,s)},getResolution:function(){return 1},getLength:function(){return 0},toJSON:function(){return{type:"MoveTo",points:[this.p0.x,this.p0.y]}}});c.exports=a},46669:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(46728),a=t(73825),i=t(39429),s=t(33951),e=t(68618),r=t(14744),h=t(87841),n=t(42534),l=t(26099),f=t(36383),u=new o({initialize:function(p,x){p===void 0&&(p=0),x===void 0&&(x=0),this.name="",this.defaultDivisions=12,this.curves=[],this.cacheLengths=[],this.autoClose=!1,this.startPoint=new l,this._tmpVec2A=new l,this._tmpVec2B=new l,typeof p=="object"?this.fromJSON(p):this.startPoint.set(p,x)},add:function(d){return this.curves.push(d),this},circleTo:function(d,p,x){return p===void 0&&(p=!1),this.ellipseTo(d,d,0,360,p,x)},closePath:function(){var d=this.curves[0].getPoint(0),p=this.curves[this.curves.length-1].getPoint(1);return d.equals(p)||this.curves.push(new s(p,d)),this},cubicBezierTo:function(d,p,x,E,T,C){var A=this.getEndPoint(),M,R,O;return d instanceof l?(M=d,R=p,O=x):(M=new l(x,E),R=new l(T,C),O=new l(d,p)),this.add(new v(A,M,R,O))},quadraticBezierTo:function(d,p,x,E){var T=this.getEndPoint(),C,A;return d instanceof l?(C=d,A=p):(C=new l(x,E),A=new l(d,p)),this.add(new r(T,C,A))},draw:function(d,p){for(var x=0;x<this.curves.length;x++){var E=this.curves[x];E.active&&E.draw(d,p)}return d},ellipseTo:function(d,p,x,E,T,C){var A=new a(0,0,d,p,x,E,T,C),M=this.getEndPoint(this._tmpVec2A),R=A.getStartPoint(this._tmpVec2B);return M.subtract(R),A.x=M.x,A.y=M.y,this.add(A)},fromJSON:function(d){this.curves=[],this.cacheLengths=[],this.startPoint.set(d.x,d.y),this.autoClose=d.autoClose;for(var p=0;p<d.curves.length;p++){var x=d.curves[p];switch(x.type){case"LineCurve":this.add(s.fromJSON(x));break;case"EllipseCurve":this.add(a.fromJSON(x));break;case"SplineCurve":this.add(n.fromJSON(x));break;case"CubicBezierCurve":this.add(v.fromJSON(x));break;case"QuadraticBezierCurve":this.add(r.fromJSON(x));break}}return this},getBounds:function(d,p){d===void 0&&(d=new h),p===void 0&&(p=16),d.x=Number.MAX_VALUE,d.y=Number.MAX_VALUE;for(var x=new h,E=f.MIN_SAFE_INTEGER,T=f.MIN_SAFE_INTEGER,C=0;C<this.curves.length;C++){var A=this.curves[C];A.active&&(A.getBounds(x,p),d.x=Math.min(d.x,x.x),d.y=Math.min(d.y,x.y),E=Math.max(E,x.right),T=Math.max(T,x.bottom))}return d.right=E,d.bottom=T,d},getCurveLengths:function(){if(this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var d=[],p=0,x=0;x<this.curves.length;x++)p+=this.curves[x].getLength(),d.push(p);return this.cacheLengths=d,d},getCurveAt:function(d){for(var p=d*this.getLength(),x=this.getCurveLengths(),E=0;E<x.length;){if(x[E]>=p)return this.curves[E];E++}return null},getEndPoint:function(d){return d===void 0&&(d=new l),this.curves.length>0?this.curves[this.curves.length-1].getPoint(1,d):d.copy(this.startPoint),d},getLength:function(){var d=this.getCurveLengths();return d[d.length-1]},getPoint:function(d,p){p===void 0&&(p=new l);for(var x=d*this.getLength(),E=this.getCurveLengths(),T=0;T<E.length;){if(E[T]>=x){var C=E[T]-x,A=this.curves[T],M=A.getLength(),R=M===0?0:1-C/M;return A.getPointAt(R,p)}T++}return null},getPoints:function(d,p){!d&&!p&&(d=this.defaultDivisions);for(var x=[],E,T=0;T<this.curves.length;T++){var C=this.curves[T];if(C.active)for(var A=C.getResolution(d),M=C.getPoints(A,p),R=0;R<M.length;R++){var O=M[R];E&&E.equals(O)||(x.push(O),E=O)}}return this.autoClose&&x.length>1&&!x[x.length-1].equals(x[0])&&x.push(x[0]),x},getRandomPoint:function(d){return d===void 0&&(d=new l),this.getPoint(Math.random(),d)},getSpacedPoints:function(d){d===void 0&&(d=40);for(var p=[],x=0;x<=d;x++)p.push(this.getPoint(x/d));return this.autoClose&&p.push(p[0]),p},getStartPoint:function(d){return d===void 0&&(d=new l),d.copy(this.startPoint)},getTangent:function(d,p){p===void 0&&(p=new l);for(var x=d*this.getLength(),E=this.getCurveLengths(),T=0;T<E.length;){if(E[T]>=x){var C=E[T]-x,A=this.curves[T],M=A.getLength(),R=M===0?0:1-C/M;return A.getTangentAt(R,p)}T++}return null},lineTo:function(d,p){d instanceof l?this._tmpVec2B.copy(d):typeof d=="object"?this._tmpVec2B.setFromObject(d):this._tmpVec2B.set(d,p);var x=this.getEndPoint(this._tmpVec2A);return this.add(new s([x.x,x.y,this._tmpVec2B.x,this._tmpVec2B.y]))},splineTo:function(d){return d.unshift(this.getEndPoint()),this.add(new n(d))},moveTo:function(d,p){return d instanceof l?this.add(new e(d.x,d.y)):this.add(new e(d,p))},toJSON:function(){for(var d=[],p=0;p<this.curves.length;p++)d.push(this.curves[p].toJSON());return{type:"Path",x:this.startPoint.x,y:this.startPoint.y,autoClose:this.autoClose,curves:d}},updateArcLengths:function(){this.cacheLengths=[],this.getCurveLengths()},destroy:function(){this.curves.length=0,this.cacheLengths.length=0,this.startPoint=void 0}});i.register("path",function(d,p){return new u(d,p)}),c.exports=u},45893:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(24882),a=new o({initialize:function(s,e){this.parent=s,this.events=e,e||(this.events=s.events?s.events:s),this.list={},this.values={},this._frozen=!1,!s.hasOwnProperty("sys")&&this.events&&this.events.once(v.DESTROY,this.destroy,this)},get:function(i){var s=this.list;if(Array.isArray(i)){for(var e=[],r=0;r<i.length;r++)e.push(s[i[r]]);return e}else return s[i]},getAll:function(){var i={};for(var s in this.list)this.list.hasOwnProperty(s)&&(i[s]=this.list[s]);return i},query:function(i){var s={};for(var e in this.list)this.list.hasOwnProperty(e)&&e.match(i)&&(s[e]=this.list[e]);return s},set:function(i,s){if(this._frozen)return this;if(typeof i=="string")return this.setValue(i,s);for(var e in i)this.setValue(e,i[e]);return this},inc:function(i,s){if(this._frozen)return this;s===void 0&&(s=1);var e=this.get(i);return e===void 0&&(e=0),this.set(i,e+s),this},toggle:function(i){return this._frozen?this:(this.set(i,!this.get(i)),this)},setValue:function(i,s){if(this._frozen)return this;if(this.has(i))this.values[i]=s;else{var e=this,r=this.list,h=this.events,n=this.parent;Object.defineProperty(this.values,i,{enumerable:!0,configurable:!0,get:function(){return r[i]},set:function(l){if(!e._frozen){var f=r[i];r[i]=l,h.emit(v.CHANGE_DATA,n,i,l,f),h.emit(v.CHANGE_DATA_KEY+i,n,l,f)}}}),r[i]=s,h.emit(v.SET_DATA,n,i,s)}return this},each:function(i,s){for(var e=[this.parent,null,void 0],r=1;r<arguments.length;r++)e.push(arguments[r]);for(var h in this.list)e[1]=h,e[2]=this.list[h],i.apply(s,e);return this},merge:function(i,s){s===void 0&&(s=!0);for(var e in i)i.hasOwnProperty(e)&&(s||!s&&!this.has(e))&&this.setValue(e,i[e]);return this},remove:function(i){if(this._frozen)return this;if(Array.isArray(i))for(var s=0;s<i.length;s++)this.removeValue(i[s]);else return this.removeValue(i);return this},removeValue:function(i){if(this.has(i)){var s=this.list[i];delete this.list[i],delete this.values[i],this.events.emit(v.REMOVE_DATA,this.parent,i,s)}return this},pop:function(i){var s=void 0;return!this._frozen&&this.has(i)&&(s=this.list[i],delete this.list[i],delete this.values[i],this.events.emit(v.REMOVE_DATA,this.parent,i,s)),s},has:function(i){return this.list.hasOwnProperty(i)},setFreeze:function(i){return this._frozen=i,this},reset:function(){for(var i in this.list)delete this.list[i],delete this.values[i];return this._frozen=!1,this},destroy:function(){this.reset(),this.events.off(v.CHANGE_DATA),this.events.off(v.SET_DATA),this.events.off(v.REMOVE_DATA),this.parent=null},freeze:{get:function(){return this._frozen},set:function(i){this._frozen=!!i}},count:{get:function(){var i=0;for(var s in this.list)this.list[s]!==void 0&&i++;return i}}});c.exports=a},63646:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(45893),a=t(37277),i=t(44594),s=new o({Extends:v,initialize:function(r){v.call(this,r,r.sys.events),this.scene=r,this.systems=r.sys,r.sys.events.once(i.BOOT,this.boot,this),r.sys.events.on(i.START,this.start,this)},boot:function(){this.events=this.systems.events,this.events.once(i.DESTROY,this.destroy,this)},start:function(){this.events.once(i.SHUTDOWN,this.shutdown,this)},shutdown:function(){this.systems.events.off(i.SHUTDOWN,this.shutdown,this)},destroy:function(){v.prototype.destroy.call(this),this.events.off(i.START,this.start,this),this.scene=null,this.systems=null}});a.register("DataManagerPlugin",s,"data"),c.exports=s},10700:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="changedata"},93608:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="changedata-"},60883:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="destroy"},69780:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="removedata"},22166:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="setdata"},24882:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={CHANGE_DATA:t(10700),CHANGE_DATA_KEY:t(93608),DESTROY:t(60883),REMOVE_DATA:t(69780),SET_DATA:t(22166)}},44965:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={DataManager:t(45893),DataManagerPlugin:t(63646),Events:t(24882)}},7098:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(84148),v={flac:!1,aac:!1,audioData:!1,dolby:!1,m4a:!1,mp3:!1,ogg:!1,opus:!1,wav:!1,webAudio:!1,webm:!1};function a(){if(typeof importScripts=="function")return v;v.audioData=!!window.Audio,v.webAudio=!!(window.AudioContext||window.webkitAudioContext);var i=document.createElement("audio"),s=!!i.canPlayType;try{if(s){var e=function(n,l){var f=i.canPlayType("audio/"+n).replace(/^no$/,"");return l?!!(f||i.canPlayType("audio/"+l).replace(/^no$/,"")):!!f};if(v.ogg=e('ogg; codecs="vorbis"'),v.opus=e('ogg; codecs="opus"',"opus"),v.mp3=e("mpeg"),v.wav=e("wav"),v.m4a=e("x-m4a"),v.aac=e("aac"),v.flac=e("flac","x-flac"),v.webm=e('webm; codecs="vorbis"'),i.canPlayType('audio/mp4; codecs="ec-3"')!==""){if(o.edge)v.dolby=!0;else if(o.safari&&o.safariVersion>=9&&/Mac OS X (\d+)_(\d+)/.test(navigator.userAgent)){var r=parseInt(RegExp.$1,10),h=parseInt(RegExp.$2,10);(r===10&&h>=11||r>10)&&(v.dolby=!0)}}}}catch{}return v}c.exports=a()},84148:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(25892),v={chrome:!1,chromeVersion:0,edge:!1,firefox:!1,firefoxVersion:0,ie:!1,ieVersion:0,mobileSafari:!1,opera:!1,safari:!1,safariVersion:0,silk:!1,trident:!1,tridentVersion:0,es2019:!1};function a(){var i=navigator.userAgent;return/Edg\/\d+/.test(i)?(v.edge=!0,v.es2019=!0):/OPR/.test(i)?(v.opera=!0,v.es2019=!0):/Chrome\/(\d+)/.test(i)&&!o.windowsPhone?(v.chrome=!0,v.chromeVersion=parseInt(RegExp.$1,10),v.es2019=v.chromeVersion>69):/Firefox\D+(\d+)/.test(i)?(v.firefox=!0,v.firefoxVersion=parseInt(RegExp.$1,10),v.es2019=v.firefoxVersion>10):/AppleWebKit\/(?!.*CriOS)/.test(i)&&o.iOS?(v.mobileSafari=!0,v.es2019=!0):/MSIE (\d+\.\d+);/.test(i)?(v.ie=!0,v.ieVersion=parseInt(RegExp.$1,10)):/Version\/(\d+\.\d+(\.\d+)?) Safari/.test(i)&&!o.windowsPhone?(v.safari=!0,v.safariVersion=parseInt(RegExp.$1,10),v.es2019=v.safariVersion>10):/Trident\/(\d+\.\d+)(.*)rv:(\d+\.\d+)/.test(i)&&(v.ie=!0,v.trident=!0,v.tridentVersion=parseInt(RegExp.$1,10),v.ieVersion=parseInt(RegExp.$3,10)),/Silk/.test(i)&&(v.silk=!0),v}c.exports=a()},89289:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(27919),v={supportInverseAlpha:!1,supportNewBlendModes:!1};function a(){var e="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAABAQMAAADD8p2OAAAAA1BMVEX/",r="AAAACklEQVQI12NgAAAAAgAB4iG8MwAAAABJRU5ErkJggg==",h=new Image;return h.onload=function(){var n=new Image;n.onload=function(){var l=o.create2D(n,6),f=l.getContext("2d",{willReadFrequently:!0});if(f.globalCompositeOperation="multiply",f.drawImage(h,0,0),f.drawImage(n,2,0),!f.getImageData(2,0,1,1))return!1;var u=f.getImageData(2,0,1,1).data;o.remove(n),v.supportNewBlendModes=u[0]===255&&u[1]===0&&u[2]===0},n.src=e+"/wCKxvRF"+r},h.src=e+"AP804Oa6"+r,!1}function i(){var e=o.create2D(this,2),r=e.getContext("2d",{willReadFrequently:!0});r.fillStyle="rgba(10, 20, 30, 0.5)",r.fillRect(0,0,1,1);var h=r.getImageData(0,0,1,1);if(h===null)return!1;r.putImageData(h,1,0);var n=r.getImageData(1,0,1,1),l=n.data[0]===h.data[0]&&n.data[1]===h.data[1]&&n.data[2]===h.data[2]&&n.data[3]===h.data[3];return o.remove(this),l}function s(){return typeof importScripts!="function"&&document!==void 0&&(v.supportNewBlendModes=a(),v.supportInverseAlpha=i()),v}c.exports=s()},89357:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(25892),v=t(84148),a=t(27919),i={canvas:!1,canvasBitBltShift:null,file:!1,fileSystem:!1,getUserMedia:!0,littleEndian:!1,localStorage:!1,pointerLock:!1,stableSort:!1,support32bit:!1,vibration:!1,webGL:!1,worker:!1};function s(){var r=new ArrayBuffer(4),h=new Uint8Array(r),n=new Uint32Array(r);return h[0]=161,h[1]=178,h[2]=195,h[3]=212,n[0]===3569595041?!0:n[0]===2712847316?!1:null}function e(){if(typeof importScripts=="function")return i;i.canvas=!!window.CanvasRenderingContext2D;try{i.localStorage=!!localStorage.getItem}catch{i.localStorage=!1}i.file=!!window.File&&!!window.FileReader&&!!window.FileList&&!!window.Blob,i.fileSystem=!!window.requestFileSystem;var r=!1,h=function(){if(window.WebGLRenderingContext)try{var n=a.createWebGL(this),l=n.getContext("webgl")||n.getContext("experimental-webgl"),f=a.create2D(this),u=f.getContext("2d",{willReadFrequently:!0}),d=u.createImageData(1,1);return r=d.data instanceof Uint8ClampedArray,a.remove(n),a.remove(f),!!l}catch{return!1}return!1};return i.webGL=h(),i.worker=!!window.Worker,i.pointerLock="pointerLockElement"in document||"mozPointerLockElement"in document||"webkitPointerLockElement"in document,navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia||navigator.oGetUserMedia,window.URL=window.URL||window.webkitURL||window.mozURL||window.msURL,i.getUserMedia=i.getUserMedia&&!!navigator.getUserMedia&&!!window.URL,v.firefox&&v.firefoxVersion<21&&(i.getUserMedia=!1),!o.iOS&&(v.ie||v.firefox||v.chrome)&&(i.canvasBitBltShift=!0),(v.safari||v.mobileSafari)&&(i.canvasBitBltShift=!1),navigator.vibrate=navigator.vibrate||navigator.webkitVibrate||navigator.mozVibrate||navigator.msVibrate,navigator.vibrate&&(i.vibration=!0),typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint32Array<"u"&&(i.littleEndian=s()),i.support32bit=typeof ArrayBuffer<"u"&&typeof Uint8ClampedArray<"u"&&typeof Int32Array<"u"&&i.littleEndian!==null&&r,i}c.exports=e()},91639:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g={available:!1,cancel:"",keyboard:!1,request:""};function t(){if(typeof importScripts=="function")return g;var o,v="Fullscreen",a="FullScreen",i=["request"+v,"request"+a,"webkitRequest"+v,"webkitRequest"+a,"msRequest"+v,"msRequest"+a,"mozRequest"+a,"mozRequest"+v];for(o=0;o<i.length;o++)if(document.documentElement[i[o]]){g.available=!0,g.request=i[o];break}var s=["cancel"+a,"exit"+v,"webkitCancel"+a,"webkitExit"+v,"msCancel"+a,"msExit"+v,"mozCancel"+a,"mozExit"+v];if(g.available){for(o=0;o<s.length;o++)if(document[s[o]]){g.cancel=s[o];break}}return window.Element&&Element.ALLOW_KEYBOARD_INPUT&&!/ Version\/5\.1(?:\.\d+)? Safari\//.test(navigator.userAgent)&&(g.keyboard=!0),Object.defineProperty(g,"active",{get:function(){return!!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)}}),g}c.exports=t()},31784:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(84148),v={gamepads:!1,mspointer:!1,touch:!1,wheelEvent:null};function a(){return typeof importScripts=="function"||(("ontouchstart"in document.documentElement||navigator.maxTouchPoints&&navigator.maxTouchPoints>=1)&&(v.touch=!0),(navigator.msPointerEnabled||navigator.pointerEnabled)&&(v.mspointer=!0),navigator.getGamepads&&(v.gamepads=!0),"onwheel"in window||o.ie&&"WheelEvent"in window?v.wheelEvent="wheel":"onmousewheel"in window?v.wheelEvent="mousewheel":o.firefox&&"MouseScrollEvent"in window&&(v.wheelEvent="DOMMouseScroll")),v}c.exports=a()},25892:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g={android:!1,chromeOS:!1,cordova:!1,crosswalk:!1,desktop:!1,ejecta:!1,electron:!1,iOS:!1,iOSVersion:0,iPad:!1,iPhone:!1,kindle:!1,linux:!1,macOS:!1,node:!1,nodeWebkit:!1,pixelRatio:1,webApp:!1,windows:!1,windowsPhone:!1};function t(){if(typeof importScripts=="function")return g;var o=navigator.userAgent;/Windows/.test(o)?g.windows=!0:/Mac OS/.test(o)&&!/like Mac OS/.test(o)?navigator.maxTouchPoints&&navigator.maxTouchPoints>2?(g.iOS=!0,g.iPad=!0,navigator.appVersion.match(/Version\/(\d+)/),g.iOSVersion=parseInt(RegExp.$1,10)):g.macOS=!0:/Android/.test(o)?g.android=!0:/Linux/.test(o)?g.linux=!0:/iP[ao]d|iPhone/i.test(o)?(g.iOS=!0,navigator.appVersion.match(/OS (\d+)/),g.iOSVersion=parseInt(RegExp.$1,10),g.iPhone=o.toLowerCase().indexOf("iphone")!==-1,g.iPad=o.toLowerCase().indexOf("ipad")!==-1):/Kindle/.test(o)||/\bKF[A-Z][A-Z]+/.test(o)||/Silk.*Mobile Safari/.test(o)?g.kindle=!0:/CrOS/.test(o)&&(g.chromeOS=!0),(/Windows Phone/i.test(o)||/IEMobile/i.test(o))&&(g.android=!1,g.iOS=!1,g.macOS=!1,g.windows=!0,g.windowsPhone=!0);var v=/Silk/.test(o);return(g.windows||g.macOS||g.linux&&!v||g.chromeOS)&&(g.desktop=!0),(g.windowsPhone||/Windows NT/i.test(o)&&/Touch/i.test(o))&&(g.desktop=!1),navigator.standalone&&(g.webApp=!0),typeof importScripts!="function"&&(window.cordova!==void 0&&(g.cordova=!0),window.ejecta!==void 0&&(g.ejecta=!0)),typeof process<"u"&&process.versions&&process.versions.node&&(g.node=!0),g.node&&typeof process.versions=="object"&&(g.nodeWebkit=!!process.versions["node-webkit"],g.electron=!!process.versions.electron),/Crosswalk/.test(o)&&(g.crosswalk=!0),g.pixelRatio=window.devicePixelRatio||1,g}c.exports=t()},43267:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(95540),v={h264:!1,hls:!1,mp4:!1,m4v:!1,ogg:!1,vp9:!1,webm:!1,hasRequestVideoFrame:!1};function a(){if(typeof importScripts=="function")return v;var i=document.createElement("video"),s=!!i.canPlayType,e=/^no$/;try{s&&(i.canPlayType('video/ogg; codecs="theora"').replace(e,"")&&(v.ogg=!0),i.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(e,"")&&(v.h264=!0,v.mp4=!0),i.canPlayType("video/x-m4v").replace(e,"")&&(v.m4v=!0),i.canPlayType('video/webm; codecs="vp8, vorbis"').replace(e,"")&&(v.webm=!0),i.canPlayType('video/webm; codecs="vp9"').replace(e,"")&&(v.vp9=!0),i.canPlayType('application/x-mpegURL; codecs="avc1.42E01E"').replace(e,"")&&(v.hls=!0))}catch{}return i.parentNode&&i.parentNode.removeChild(i),v.getVideoURL=function(r){Array.isArray(r)||(r=[r]);for(var h=0;h<r.length;h++){var n=o(r[h],"url",r[h]);if(n.indexOf("blob:")===0)return{url:n,type:""};var l;if(n.indexOf("data:")===0?l=n.split(",")[0].match(/\/(.*?);/):l=n.match(/\.([a-zA-Z0-9]+)($|\?)/),l=o(r[h],"type",l?l[1]:"").toLowerCase(),v[l])return{url:n,type:l}}return null},v}c.exports=a()},82264:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={os:t(25892),browser:t(84148),features:t(89357),input:t(31784),audio:t(7098),video:t(43267),fullscreen:t(91639),canvasFeatures:t(89289)}},89422:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=new Float32Array(20),a=new o({initialize:function(){this._matrix=new Float32Array(20),this.alpha=1,this._dirty=!0,this._data=new Float32Array(20),this.reset()},set:function(i){return this._matrix.set(i),this._dirty=!0,this},reset:function(){var i=this._matrix;return i.fill(0),i[0]=1,i[6]=1,i[12]=1,i[18]=1,this.alpha=1,this._dirty=!0,this},getData:function(){var i=this._data;return this._dirty&&(i.set(this._matrix),i[4]/=255,i[9]/=255,i[14]/=255,i[19]/=255,this._dirty=!1),i},brightness:function(i,s){i===void 0&&(i=0),s===void 0&&(s=!1);var e=i;return this.multiply([e,0,0,0,0,0,e,0,0,0,0,0,e,0,0,0,0,0,1,0],s)},saturate:function(i,s){i===void 0&&(i=0),s===void 0&&(s=!1);var e=i*2/3+1,r=(e-1)*-.5;return this.multiply([e,r,r,0,0,r,e,r,0,0,r,r,e,0,0,0,0,0,1,0],s)},desaturate:function(i){return i===void 0&&(i=!1),this.saturate(-1,i)},hue:function(i,s){i===void 0&&(i=0),s===void 0&&(s=!1),i=i/180*Math.PI;var e=Math.cos(i),r=Math.sin(i),h=.213,n=.715,l=.072;return this.multiply([h+e*(1-h)+r*-.213,n+e*-.715+r*-.715,l+e*-.072+r*(1-l),0,0,h+e*-.213+r*.143,n+e*(1-n)+r*.14,l+e*-.072+r*-.283,0,0,h+e*-.213+r*-.787,n+e*-.715+r*n,l+e*(1-l)+r*l,0,0,0,0,0,1,0],s)},grayscale:function(i,s){return i===void 0&&(i=1),s===void 0&&(s=!1),this.saturate(-i,s)},blackWhite:function(i){return i===void 0&&(i=!1),this.multiply(a.BLACK_WHITE,i)},contrast:function(i,s){i===void 0&&(i=0),s===void 0&&(s=!1);var e=i+1,r=-.5*(e-1);return this.multiply([e,0,0,0,r,0,e,0,0,r,0,0,e,0,r,0,0,0,1,0],s)},negative:function(i){return i===void 0&&(i=!1),this.multiply(a.NEGATIVE,i)},desaturateLuminance:function(i){return i===void 0&&(i=!1),this.multiply(a.DESATURATE_LUMINANCE,i)},sepia:function(i){return i===void 0&&(i=!1),this.multiply(a.SEPIA,i)},night:function(i,s){return i===void 0&&(i=.1),s===void 0&&(s=!1),this.multiply([i*-2,-i,0,0,0,-i,0,i,0,0,0,i,i*2,0,0,0,0,0,1,0],s)},lsd:function(i){return i===void 0&&(i=!1),this.multiply(a.LSD,i)},brown:function(i){return i===void 0&&(i=!1),this.multiply(a.BROWN,i)},vintagePinhole:function(i){return i===void 0&&(i=!1),this.multiply(a.VINTAGE,i)},kodachrome:function(i){return i===void 0&&(i=!1),this.multiply(a.KODACHROME,i)},technicolor:function(i){return i===void 0&&(i=!1),this.multiply(a.TECHNICOLOR,i)},polaroid:function(i){return i===void 0&&(i=!1),this.multiply(a.POLAROID,i)},shiftToBGR:function(i){return i===void 0&&(i=!1),this.multiply(a.SHIFT_BGR,i)},multiply:function(i,s){s===void 0&&(s=!1),s||this.reset();var e=this._matrix,r=v;return r.set(e),e.set([r[0]*i[0]+r[1]*i[5]+r[2]*i[10]+r[3]*i[15],r[0]*i[1]+r[1]*i[6]+r[2]*i[11]+r[3]*i[16],r[0]*i[2]+r[1]*i[7]+r[2]*i[12]+r[3]*i[17],r[0]*i[3]+r[1]*i[8]+r[2]*i[13]+r[3]*i[18],r[0]*i[4]+r[1]*i[9]+r[2]*i[14]+r[3]*i[19]+r[4],r[5]*i[0]+r[6]*i[5]+r[7]*i[10]+r[8]*i[15],r[5]*i[1]+r[6]*i[6]+r[7]*i[11]+r[8]*i[16],r[5]*i[2]+r[6]*i[7]+r[7]*i[12]+r[8]*i[17],r[5]*i[3]+r[6]*i[8]+r[7]*i[13]+r[8]*i[18],r[5]*i[4]+r[6]*i[9]+r[7]*i[14]+r[8]*i[19]+r[9],r[10]*i[0]+r[11]*i[5]+r[12]*i[10]+r[13]*i[15],r[10]*i[1]+r[11]*i[6]+r[12]*i[11]+r[13]*i[16],r[10]*i[2]+r[11]*i[7]+r[12]*i[12]+r[13]*i[17],r[10]*i[3]+r[11]*i[8]+r[12]*i[13]+r[13]*i[18],r[10]*i[4]+r[11]*i[9]+r[12]*i[14]+r[13]*i[19]+r[14],r[15]*i[0]+r[16]*i[5]+r[17]*i[10]+r[18]*i[15],r[15]*i[1]+r[16]*i[6]+r[17]*i[11]+r[18]*i[16],r[15]*i[2]+r[16]*i[7]+r[17]*i[12]+r[18]*i[17],r[15]*i[3]+r[16]*i[8]+r[17]*i[13]+r[18]*i[18],r[15]*i[4]+r[16]*i[9]+r[17]*i[14]+r[18]*i[19]+r[19]]),this._dirty=!0,this}});a.BLACK_WHITE=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],a.NEGATIVE=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],a.DESATURATE_LUMINANCE=[.2764723,.929708,.0938197,0,-37.1,.2764723,.929708,.0938197,0,-37.1,.2764723,.929708,.0938197,0,-37.1,0,0,0,1,0],a.SEPIA=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],a.LSD=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],a.BROWN=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],a.VINTAGE=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],a.KODACHROME=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],a.TECHNICOLOR=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],a.POLAROID=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],a.SHIFT_BGR=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],c.exports=a},51767:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(29747),a=new o({initialize:function(s,e,r){this._rgb=[0,0,0],this.onChangeCallback=v,this.dirty=!1,this.set(s,e,r)},set:function(i,s,e){return i===void 0&&(i=0),s===void 0&&(s=0),e===void 0&&(e=0),this._rgb=[i,s,e],this.onChange(),this},equals:function(i,s,e){var r=this._rgb;return r[0]===i&&r[1]===s&&r[2]===e},onChange:function(){this.dirty=!0;var i=this._rgb;this.onChangeCallback.call(this,i[0],i[1],i[2])},r:{get:function(){return this._rgb[0]},set:function(i){this._rgb[0]=i,this.onChange()}},g:{get:function(){return this._rgb[1]},set:function(i){this._rgb[1]=i,this.onChange()}},b:{get:function(){return this._rgb[2]},set:function(i){this._rgb[2]=i,this.onChange()}},destroy:function(){this.onChangeCallback=null}});c.exports=a},60461:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g={TOP_LEFT:0,TOP_CENTER:1,TOP_RIGHT:2,LEFT_TOP:3,LEFT_CENTER:4,LEFT_BOTTOM:5,CENTER:6,RIGHT_TOP:7,RIGHT_CENTER:8,RIGHT_BOTTOM:9,BOTTOM_LEFT:10,BOTTOM_CENTER:11,BOTTOM_RIGHT:12};c.exports=g},54312:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(62235),v=t(35893),a=t(86327),i=t(88417),s=function(e,r,h,n){return h===void 0&&(h=0),n===void 0&&(n=0),i(e,v(r)+h),a(e,o(r)+n),e};c.exports=s},46768:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(62235),v=t(26541),a=t(86327),i=t(385),s=function(e,r,h,n){return h===void 0&&(h=0),n===void 0&&(n=0),i(e,v(r)-h),a(e,o(r)+n),e};c.exports=s},35827:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(62235),v=t(54380),a=t(86327),i=t(40136),s=function(e,r,h,n){return h===void 0&&(h=0),n===void 0&&(n=0),i(e,v(r)+h),a(e,o(r)+n),e};c.exports=s},46871:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(66786),v=t(35893),a=t(7702),i=function(s,e,r,h){return r===void 0&&(r=0),h===void 0&&(h=0),o(s,v(e)+r,a(e)+h),s};c.exports=i},5198:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(7702),v=t(26541),a=t(20786),i=t(385),s=function(e,r,h,n){return h===void 0&&(h=0),n===void 0&&(n=0),i(e,v(r)-h),a(e,o(r)+n),e};c.exports=s},11879:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(60461),v=[];v[o.BOTTOM_CENTER]=t(54312),v[o.BOTTOM_LEFT]=t(46768),v[o.BOTTOM_RIGHT]=t(35827),v[o.CENTER]=t(46871),v[o.LEFT_CENTER]=t(5198),v[o.RIGHT_CENTER]=t(80503),v[o.TOP_CENTER]=t(89698),v[o.TOP_LEFT]=t(922),v[o.TOP_RIGHT]=t(21373),v[o.LEFT_BOTTOM]=v[o.BOTTOM_LEFT],v[o.LEFT_TOP]=v[o.TOP_LEFT],v[o.RIGHT_BOTTOM]=v[o.BOTTOM_RIGHT],v[o.RIGHT_TOP]=v[o.TOP_RIGHT];var a=function(i,s,e,r,h){return v[e](i,s,r,h)};c.exports=a},80503:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(7702),v=t(54380),a=t(20786),i=t(40136),s=function(e,r,h,n){return h===void 0&&(h=0),n===void 0&&(n=0),i(e,v(r)+h),a(e,o(r)+n),e};c.exports=s},89698:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(35893),v=t(17717),a=t(88417),i=t(66737),s=function(e,r,h,n){return h===void 0&&(h=0),n===void 0&&(n=0),a(e,o(r)+h),i(e,v(r)-n),e};c.exports=s},922:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(26541),v=t(17717),a=t(385),i=t(66737),s=function(e,r,h,n){return h===void 0&&(h=0),n===void 0&&(n=0),a(e,o(r)-h),i(e,v(r)-n),e};c.exports=s},21373:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(54380),v=t(17717),a=t(40136),i=t(66737),s=function(e,r,h,n){return h===void 0&&(h=0),n===void 0&&(n=0),a(e,o(r)+h),i(e,v(r)-n),e};c.exports=s},91660:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={BottomCenter:t(54312),BottomLeft:t(46768),BottomRight:t(35827),Center:t(46871),LeftCenter:t(5198),QuickSet:t(11879),RightCenter:t(80503),TopCenter:t(89698),TopLeft:t(922),TopRight:t(21373)}},71926:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(60461),v=t(79291),a={In:t(91660),To:t(16694)};a=v(!1,a,o),c.exports=a},21578:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(62235),v=t(35893),a=t(88417),i=t(66737),s=function(e,r,h,n){return h===void 0&&(h=0),n===void 0&&(n=0),a(e,v(r)+h),i(e,o(r)+n),e};c.exports=s},10210:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(62235),v=t(26541),a=t(385),i=t(66737),s=function(e,r,h,n){return h===void 0&&(h=0),n===void 0&&(n=0),a(e,v(r)-h),i(e,o(r)+n),e};c.exports=s},82341:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(62235),v=t(54380),a=t(40136),i=t(66737),s=function(e,r,h,n){return h===void 0&&(h=0),n===void 0&&(n=0),a(e,v(r)+h),i(e,o(r)+n),e};c.exports=s},87958:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(62235),v=t(26541),a=t(86327),i=t(40136),s=function(e,r,h,n){return h===void 0&&(h=0),n===void 0&&(n=0),i(e,v(r)-h),a(e,o(r)+n),e};c.exports=s},40080:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(7702),v=t(26541),a=t(20786),i=t(40136),s=function(e,r,h,n){return h===void 0&&(h=0),n===void 0&&(n=0),i(e,v(r)-h),a(e,o(r)+n),e};c.exports=s},88466:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(26541),v=t(17717),a=t(40136),i=t(66737),s=function(e,r,h,n){return h===void 0&&(h=0),n===void 0&&(n=0),a(e,o(r)-h),i(e,v(r)-n),e};c.exports=s},38829:(c,g,t)=>{/**
 * @author       samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(60461),v=[];v[o.BOTTOM_CENTER]=t(21578),v[o.BOTTOM_LEFT]=t(10210),v[o.BOTTOM_RIGHT]=t(82341),v[o.LEFT_BOTTOM]=t(87958),v[o.LEFT_CENTER]=t(40080),v[o.LEFT_TOP]=t(88466),v[o.RIGHT_BOTTOM]=t(19211),v[o.RIGHT_CENTER]=t(34609),v[o.RIGHT_TOP]=t(48741),v[o.TOP_CENTER]=t(49440),v[o.TOP_LEFT]=t(81288),v[o.TOP_RIGHT]=t(61323);var a=function(i,s,e,r,h){return v[e](i,s,r,h)};c.exports=a},19211:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(62235),v=t(54380),a=t(86327),i=t(385),s=function(e,r,h,n){return h===void 0&&(h=0),n===void 0&&(n=0),i(e,v(r)+h),a(e,o(r)+n),e};c.exports=s},34609:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(7702),v=t(54380),a=t(20786),i=t(385),s=function(e,r,h,n){return h===void 0&&(h=0),n===void 0&&(n=0),i(e,v(r)+h),a(e,o(r)+n),e};c.exports=s},48741:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(54380),v=t(17717),a=t(385),i=t(66737),s=function(e,r,h,n){return h===void 0&&(h=0),n===void 0&&(n=0),a(e,o(r)+h),i(e,v(r)-n),e};c.exports=s},49440:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(35893),v=t(17717),a=t(86327),i=t(88417),s=function(e,r,h,n){return h===void 0&&(h=0),n===void 0&&(n=0),i(e,o(r)+h),a(e,v(r)-n),e};c.exports=s},81288:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(26541),v=t(17717),a=t(86327),i=t(385),s=function(e,r,h,n){return h===void 0&&(h=0),n===void 0&&(n=0),i(e,o(r)-h),a(e,v(r)-n),e};c.exports=s},61323:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(54380),v=t(17717),a=t(86327),i=t(40136),s=function(e,r,h,n){return h===void 0&&(h=0),n===void 0&&(n=0),i(e,o(r)+h),a(e,v(r)-n),e};c.exports=s},16694:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={BottomCenter:t(21578),BottomLeft:t(10210),BottomRight:t(82341),LeftBottom:t(87958),LeftCenter:t(40080),LeftTop:t(88466),QuickSet:t(38829),RightBottom:t(19211),RightCenter:t(34609),RightTop:t(48741),TopCenter:t(49440),TopLeft:t(81288),TopRight:t(61323)}},66786:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(88417),v=t(20786),a=function(i,s,e){return o(i,s),v(i,e)};c.exports=a},62235:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t){return t.y+t.height-t.height*t.originY};c.exports=g},72873:(c,g,t)=>{/**
 * @author       samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(62235),v=t(26541),a=t(54380),i=t(17717),s=t(87841),e=function(r,h){h===void 0&&(h=new s);var n=v(r),l=i(r);return h.x=n,h.y=l,h.width=a(r)-n,h.height=o(r)-l,h};c.exports=e},35893:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t){return t.x-t.width*t.originX+t.width*.5};c.exports=g},7702:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t){return t.y-t.height*t.originY+t.height*.5};c.exports=g},26541:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t){return t.x-t.width*t.originX};c.exports=g},87431:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t){return t.width*t.originX};c.exports=g},46928:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t){return t.height*t.originY};c.exports=g},54380:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t){return t.x+t.width-t.width*t.originX};c.exports=g},17717:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t){return t.y-t.height*t.originY};c.exports=g},86327:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o){return t.y=o-t.height+t.height*t.originY,t};c.exports=g},88417:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o){var v=t.width*t.originX;return t.x=o+v-t.width*.5,t};c.exports=g},20786:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o){var v=t.height*t.originY;return t.y=o+v-t.height*.5,t};c.exports=g},385:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o){return t.x=o+t.width*t.originX,t};c.exports=g},40136:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o){return t.x=o-t.width+t.width*t.originX,t};c.exports=g},66737:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o){return t.y=o+t.height*t.originY,t};c.exports=g},58724:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={CenterOn:t(66786),GetBottom:t(62235),GetBounds:t(72873),GetCenterX:t(35893),GetCenterY:t(7702),GetLeft:t(26541),GetOffsetX:t(87431),GetOffsetY:t(46928),GetRight:t(54380),GetTop:t(17717),SetBottom:t(86327),SetCenterX:t(88417),SetCenterY:t(20786),SetLeft:t(385),SetRight:t(40136),SetTop:t(66737)}},20623:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g={setCrisp:function(t){var o=["optimizeSpeed","-moz-crisp-edges","-o-crisp-edges","-webkit-optimize-contrast","optimize-contrast","crisp-edges","pixelated"];return o.forEach(function(v){t.style["image-rendering"]=v}),t.style.msInterpolationMode="nearest-neighbor",t},setBicubic:function(t){return t.style["image-rendering"]="auto",t.style.msInterpolationMode="bicubic",t}};c.exports=g},27919:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(8054),v=t(68703),a=[],i=!1,s=function(){var e=function(x,E,T,C,A){E===void 0&&(E=1),T===void 0&&(T=1),C===void 0&&(C=o.CANVAS),A===void 0&&(A=!1);var M,R=n(C);return R===null?(R={parent:x,canvas:document.createElement("canvas"),type:C},C===o.CANVAS&&a.push(R),M=R.canvas):(R.parent=x,M=R.canvas),A&&(R.parent=M),M.width=E,M.height=T,i&&C===o.CANVAS&&v.disable(M.getContext("2d",{willReadFrequently:!1})),M},r=function(x,E,T){return e(x,E,T,o.CANVAS)},h=function(x,E,T){return e(x,E,T,o.WEBGL)},n=function(x){if(x===void 0&&(x=o.CANVAS),x===o.WEBGL)return null;for(var E=0;E<a.length;E++){var T=a[E];if(!T.parent&&T.type===x)return T}return null},l=function(x){var E=x instanceof HTMLCanvasElement;a.forEach(function(T){(E&&T.canvas===x||!E&&T.parent===x)&&(T.parent=null,T.canvas.width=1,T.canvas.height=1)})},f=function(){var x=0;return a.forEach(function(E){E.parent&&x++}),x},u=function(){return a.length-f()},d=function(){i=!0},p=function(){i=!1};return{create2D:r,create:e,createWebGL:h,disableSmoothing:d,enableSmoothing:p,first:n,free:u,pool:a,remove:l,total:f}};c.exports=s()},68703:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g="",t=function(){var o=function(s){for(var e=["i","webkitI","msI","mozI","oI"],r=0;r<e.length;r++){var h=e[r]+"mageSmoothingEnabled";if(h in s)return h}return null},v=function(s){return g===""&&(g=o(s)),g&&(s[g]=!0),s},a=function(s){return g===""&&(g=o(s)),g&&(s[g]=!1),s},i=function(s){return g!==null?s[g]:null};return{disable:a,enable:v,getPrefix:o,isEnabled:i}};c.exports=t()},65208:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o){return o===void 0&&(o="none"),t.style.msTouchAction=o,t.style["ms-touch-action"]=o,t.style["touch-action"]=o,t};c.exports=g},91610:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o){o===void 0&&(o="none");var v=["-webkit-","-khtml-","-moz-","-ms-",""];return v.forEach(function(a){t.style[a+"user-select"]=o}),t.style["-webkit-touch-callout"]=o,t.style["-webkit-tap-highlight-color"]="rgba(0, 0, 0, 0)",t};c.exports=g},26253:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={CanvasInterpolation:t(20623),CanvasPool:t(27919),Smoothing:t(68703),TouchAction:t(65208),UserSelect:t(91610)}},40987:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(37589),a=t(1e3),i=t(7537),s=t(87837),e=new o({initialize:function(h,n,l,f){h===void 0&&(h=0),n===void 0&&(n=0),l===void 0&&(l=0),f===void 0&&(f=255),this.r=0,this.g=0,this.b=0,this.a=255,this._h=0,this._s=0,this._v=0,this._locked=!1,this.gl=[0,0,0,1],this._color=0,this._color32=0,this._rgba="",this.setTo(h,n,l,f)},transparent:function(){return this._locked=!0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this._locked=!1,this.update(!0)},setTo:function(r,h,n,l,f){return l===void 0&&(l=255),f===void 0&&(f=!0),this._locked=!0,this.red=r,this.green=h,this.blue=n,this.alpha=l,this._locked=!1,this.update(f)},setGLTo:function(r,h,n,l){return l===void 0&&(l=1),this._locked=!0,this.redGL=r,this.greenGL=h,this.blueGL=n,this.alphaGL=l,this._locked=!1,this.update(!0)},setFromRGB:function(r){return this._locked=!0,this.red=r.r,this.green=r.g,this.blue=r.b,r.hasOwnProperty("a")&&(this.alpha=r.a),this._locked=!1,this.update(!0)},setFromHSV:function(r,h,n){return i(r,h,n,this)},update:function(r){if(r===void 0&&(r=!1),this._locked)return this;var h=this.r,n=this.g,l=this.b,f=this.a;return this._color=v(h,n,l),this._color32=a(h,n,l,f),this._rgba="rgba("+h+","+n+","+l+","+f/255+")",r&&s(h,n,l,this),this},updateHSV:function(){var r=this.r,h=this.g,n=this.b;return s(r,h,n,this),this},clone:function(){return new e(this.r,this.g,this.b,this.a)},gray:function(r){return this.setTo(r,r,r)},random:function(r,h){r===void 0&&(r=0),h===void 0&&(h=255);var n=Math.floor(r+Math.random()*(h-r)),l=Math.floor(r+Math.random()*(h-r)),f=Math.floor(r+Math.random()*(h-r));return this.setTo(n,l,f)},randomGray:function(r,h){r===void 0&&(r=0),h===void 0&&(h=255);var n=Math.floor(r+Math.random()*(h-r));return this.setTo(n,n,n)},saturate:function(r){return this.s+=r/100,this},desaturate:function(r){return this.s-=r/100,this},lighten:function(r){return this.v+=r/100,this},darken:function(r){return this.v-=r/100,this},brighten:function(r){var h=this.r,n=this.g,l=this.b;return h=Math.max(0,Math.min(255,h-Math.round(255*-(r/100)))),n=Math.max(0,Math.min(255,n-Math.round(255*-(r/100)))),l=Math.max(0,Math.min(255,l-Math.round(255*-(r/100)))),this.setTo(h,n,l)},color:{get:function(){return this._color}},color32:{get:function(){return this._color32}},rgba:{get:function(){return this._rgba}},redGL:{get:function(){return this.gl[0]},set:function(r){this.gl[0]=Math.min(Math.abs(r),1),this.r=Math.floor(this.gl[0]*255),this.update(!0)}},greenGL:{get:function(){return this.gl[1]},set:function(r){this.gl[1]=Math.min(Math.abs(r),1),this.g=Math.floor(this.gl[1]*255),this.update(!0)}},blueGL:{get:function(){return this.gl[2]},set:function(r){this.gl[2]=Math.min(Math.abs(r),1),this.b=Math.floor(this.gl[2]*255),this.update(!0)}},alphaGL:{get:function(){return this.gl[3]},set:function(r){this.gl[3]=Math.min(Math.abs(r),1),this.a=Math.floor(this.gl[3]*255),this.update()}},red:{get:function(){return this.r},set:function(r){r=Math.floor(Math.abs(r)),this.r=Math.min(r,255),this.gl[0]=r/255,this.update(!0)}},green:{get:function(){return this.g},set:function(r){r=Math.floor(Math.abs(r)),this.g=Math.min(r,255),this.gl[1]=r/255,this.update(!0)}},blue:{get:function(){return this.b},set:function(r){r=Math.floor(Math.abs(r)),this.b=Math.min(r,255),this.gl[2]=r/255,this.update(!0)}},alpha:{get:function(){return this.a},set:function(r){r=Math.floor(Math.abs(r)),this.a=Math.min(r,255),this.gl[3]=r/255,this.update()}},h:{get:function(){return this._h},set:function(r){this._h=r,i(r,this._s,this._v,this)}},s:{get:function(){return this._s},set:function(r){this._s=r,i(this._h,r,this._v,this)}},v:{get:function(){return this._v},set:function(r){this._v=r,i(this._h,this._s,r,this)}}});c.exports=e},92728:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(37589),v=function(a){a===void 0&&(a=1024);var i=[],s=255,e,r=255,h=0,n=0;for(e=0;e<=s;e++)i.push({r,g:e,b:n,color:o(r,e,n)});for(h=255,e=s;e>=0;e--)i.push({r:e,g:h,b:n,color:o(e,h,n)});for(r=0,e=0;e<=s;e++,h--)i.push({r,g:h,b:e,color:o(r,h,e)});for(h=0,n=255,e=0;e<=s;e++,n--,r++)i.push({r,g:h,b:n,color:o(r,h,n)});if(a===1024)return i;var l=[],f=0,u=1024/a;for(e=0;e<a;e++)l.push(i[Math.floor(f)]),f+=u;return l};c.exports=v},91588:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t){var o={r:t>>16&255,g:t>>8&255,b:t&255,a:255};return t>16777215&&(o.a=t>>>24),o};c.exports=g},62957:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t){var o=t.toString(16);return o.length===1?"0"+o:o};c.exports=g},37589:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o,v){return t<<16|o<<8|v};c.exports=g},1e3:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o,v,a){return a<<24|t<<16|o<<8|v};c.exports=g},62183:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(40987),v=t(89528),a=function(i,s,e){var r=e,h=e,n=e;if(s!==0){var l=e<.5?e*(1+s):e+s-e*s,f=2*e-l;r=v(f,l,i+1/3),h=v(f,l,i),n=v(f,l,i-1/3)}var u=new o;return u.setGLTo(r,h,n,1)};c.exports=a},27939:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(7537),v=function(a,i){a===void 0&&(a=1),i===void 0&&(i=1);for(var s=[],e=0;e<=359;e++)s.push(o(e/359,a,i));return s};c.exports=v},7537:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(37589);function v(i,s,e,r){var h=(i+s*6)%6,n=Math.min(h,4-h,1);return Math.round(255*(r-r*e*Math.max(0,n)))}var a=function(i,s,e,r){s===void 0&&(s=1),e===void 0&&(e=1);var h=v(5,i,s,e),n=v(3,i,s,e),l=v(1,i,s,e);return r?r.setTo?r.setTo(h,n,l,r.alpha,!0):(r.r=h,r.g=n,r.b=l,r.color=o(h,n,l),r):{r:h,g:n,b:l,color:o(h,n,l)}};c.exports=a},70238:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(40987),v=function(a){var i=new o;a=a.replace(/^(?:#|0x)?([a-f\d])([a-f\d])([a-f\d])$/i,function(n,l,f,u){return l+l+f+f+u+u});var s=/^(?:#|0x)?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(a);if(s){var e=parseInt(s[1],16),r=parseInt(s[2],16),h=parseInt(s[3],16);i.setTo(e,r,h)}return i};c.exports=v},89528:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o,v){return v<0&&(v+=1),v>1&&(v-=1),v<.16666666666666666?t+(o-t)*6*v:v<.5?o:v<.6666666666666666?t+(o-t)*(.6666666666666666-v)*6:t};c.exports=g},30100:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(40987),v=t(90664),a=function(i){var s=v(i);return new o(s.r,s.g,s.b,s.a)};c.exports=a},90664:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t){return t>16777215?{a:t>>>24,r:t>>16&255,g:t>>8&255,b:t&255}:{a:255,r:t>>16&255,g:t>>8&255,b:t&255}};c.exports=g},13699:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(28915),v=function(s,e,r,h,n,l,f,u){f===void 0&&(f=100),u===void 0&&(u=0);var d=u/f;return{r:o(s,h,d),g:o(e,n,d),b:o(r,l,d)}},a=function(s,e,r,h){return r===void 0&&(r=100),h===void 0&&(h=0),v(s.r,s.g,s.b,e.r,e.g,e.b,r,h)},i=function(s,e,r,h,n,l){return n===void 0&&(n=100),l===void 0&&(l=0),v(s.r,s.g,s.b,e,r,h,n,l)};c.exports={RGBWithRGB:v,ColorWithRGB:i,ColorWithColor:a}},68957:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(40987),v=function(a){return new o(a.r,a.g,a.b,a.a)};c.exports=v},87388:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(40987),v=function(a){var i=new o,s=/^rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d+(?:\.\d+)?))?\s*\)$/.exec(a.toLowerCase());if(s){var e=parseInt(s[1],10),r=parseInt(s[2],10),h=parseInt(s[3],10),n=s[4]!==void 0?parseFloat(s[4]):1;i.setTo(e,r,h,n*255)}return i};c.exports=v},87837:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o,v,a){a===void 0&&(a={h:0,s:0,v:0}),t/=255,o/=255,v/=255;var i=Math.min(t,o,v),s=Math.max(t,o,v),e=s-i,r=0,h=s===0?0:e/s,n=s;return s!==i&&(s===t?r=(o-v)/e+(o<v?6:0):s===o?r=(v-t)/e+2:s===v&&(r=(t-o)/e+4),r/=6),a.hasOwnProperty("_h")?(a._h=r,a._s=h,a._v=n):(a.h=r,a.s=h,a.v=n),a};c.exports=g},75723:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(62957),v=function(a,i,s,e,r){return e===void 0&&(e=255),r===void 0&&(r="#"),r==="#"?"#"+((1<<24)+(a<<16)+(i<<8)+s).toString(16).slice(1,7):"0x"+o(e)+o(a)+o(i)+o(s)};c.exports=v},85386:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(30976),v=t(40987),a=function(i,s){return i===void 0&&(i=0),s===void 0&&(s=255),new v(o(i,s),o(i,s),o(i,s))};c.exports=a},80333:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(70238),v=t(30100),a=t(68957),i=t(87388),s=function(e){var r=typeof e;switch(r){case"string":return e.substr(0,3).toLowerCase()==="rgb"?i(e):o(e);case"number":return v(e);case"object":return a(e)}};c.exports=s},3956:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(40987);o.ColorSpectrum=t(92728),o.ColorToRGBA=t(91588),o.ComponentToHex=t(62957),o.GetColor=t(37589),o.GetColor32=t(1e3),o.HexStringToColor=t(70238),o.HSLToColor=t(62183),o.HSVColorWheel=t(27939),o.HSVToRGB=t(7537),o.HueToComponent=t(89528),o.IntegerToColor=t(30100),o.IntegerToRGB=t(90664),o.Interpolate=t(13699),o.ObjectToColor=t(68957),o.RandomRGB=t(85386),o.RGBStringToColor=t(87388),o.RGBToHSV=t(87837),o.RGBToString=t(75723),o.ValueToColor=t(80333),c.exports=o},27460:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Align:t(71926),BaseShader:t(73894),Bounds:t(58724),Canvas:t(26253),Color:t(3956),ColorMatrix:t(89422),Masks:t(69781),RGB:t(51767)}},6858:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(39429),a=new o({initialize:function(s,e,r,h,n,l){e||(e=s.sys.make.image({x:r,y:h,key:n,frame:l,add:!1})),this.bitmapMask=e,this.invertAlpha=!1,this.isStencil=!1},setBitmap:function(i){this.bitmapMask=i},preRenderWebGL:function(i,s,e){i.pipelines.BITMAPMASK_PIPELINE.beginMask(this,s,e)},postRenderWebGL:function(i,s,e){i.pipelines.BITMAPMASK_PIPELINE.endMask(this,s,e)},preRenderCanvas:function(){},postRenderCanvas:function(){},destroy:function(){this.bitmapMask=null}});v.register("bitmapMask",function(i,s,e,r,h){return new a(this.scene,i,s,e,r,h)}),c.exports=a},80661:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=new o({initialize:function(i,s){this.geometryMask=s,this.invertAlpha=!1,this.isStencil=!0,this.level=0},setShape:function(a){return this.geometryMask=a,this},setInvertAlpha:function(a){return a===void 0&&(a=!0),this.invertAlpha=a,this},preRenderWebGL:function(a,i,s){var e=a.gl;a.flush(),a.maskStack.length===0&&(e.enable(e.STENCIL_TEST),e.clear(e.STENCIL_BUFFER_BIT),a.maskCount=0),a.currentCameraMask.mask!==this&&(a.currentMask.mask=this),a.maskStack.push({mask:this,camera:s}),this.applyStencil(a,s,!0),a.maskCount++},applyStencil:function(a,i,s){var e=a.gl,r=this.geometryMask,h=a.maskCount,n=255;e.colorMask(!1,!1,!1,!1),s?(e.stencilFunc(e.EQUAL,h,n),e.stencilOp(e.KEEP,e.KEEP,e.INCR),h++):(e.stencilFunc(e.EQUAL,h+1,n),e.stencilOp(e.KEEP,e.KEEP,e.DECR)),this.level=h,r.renderWebGL(a,r,i),a.flush(),e.colorMask(!0,!0,!0,!0),e.stencilOp(e.KEEP,e.KEEP,e.KEEP),this.invertAlpha?e.stencilFunc(e.NOTEQUAL,h,n):e.stencilFunc(e.EQUAL,h,n)},postRenderWebGL:function(a){var i=a.gl;a.maskStack.pop(),a.maskCount--,a.flush();var s=a.currentMask;if(a.maskStack.length===0)s.mask=null,i.disable(i.STENCIL_TEST);else{var e=a.maskStack[a.maskStack.length-1];e.mask.applyStencil(a,e.camera,!1),a.currentCameraMask.mask!==e.mask?(s.mask=e.mask,s.camera=e.camera):s.mask=null}},preRenderCanvas:function(a,i,s){var e=this.geometryMask;a.currentContext.save(),e.renderCanvas(a,e,s,null,null,!0),a.currentContext.clip()},postRenderCanvas:function(a){a.currentContext.restore()},destroy:function(){this.geometryMask=null}});c.exports=v},69781:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={BitmapMask:t(6858),GeometryMask:t(80661)}},73894:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=new o({initialize:function(i,s,e,r){(!s||s==="")&&(s=["precision mediump float;","uniform vec2 resolution;","varying vec2 fragCoord;","void main () {","    vec2 uv = fragCoord / resolution.xy;","    gl_FragColor = vec4(uv.xyx, 1.0);","}"].join(`
`)),(!e||e==="")&&(e=["precision mediump float;","uniform mat4 uProjectionMatrix;","uniform mat4 uViewMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","varying vec2 fragCoord;","varying vec2 outTexCoord;","void main () {","   gl_Position = uProjectionMatrix * uViewMatrix * vec4(inPosition, 1.0, 1.0);","   fragCoord = vec2(inPosition.x, uResolution.y - inPosition.y);","   outTexCoord = vec2(inPosition.x / uResolution.x, fragCoord.y / uResolution.y);","}"].join(`
`)),r===void 0&&(r=null),this.key=i,this.fragmentSrc=s,this.vertexSrc=e,this.uniforms=r}});c.exports=v},40366:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o){var v;if(o)typeof o=="string"?v=document.getElementById(o):typeof o=="object"&&o.nodeType===1&&(v=o);else if(t.parentElement||o===null)return t;return v||(v=document.body),v.appendChild(t),t};c.exports=g},83719:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(40366),v=function(a){var i=a.config;if(!(!i.parent||!i.domCreateContainer)){var s=document.createElement("div");s.style.cssText=["display: block;","width: "+a.scale.width+"px;","height: "+a.scale.height+"px;","padding: 0; margin: 0;","position: absolute;","overflow: hidden;","pointer-events: "+i.domPointerEvents+";","transform: scale(1);","transform-origin: left top;"].join(" "),a.domContainer=s,o(s,i.parent)}};c.exports=v},57264:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(25892),v=function(a){if(document.readyState==="complete"||document.readyState==="interactive"){a();return}var i=function(){document.removeEventListener("deviceready",i,!0),document.removeEventListener("DOMContentLoaded",i,!0),window.removeEventListener("load",i,!0),a()};document.body?o.cordova?document.addEventListener("deviceready",i,!1):(document.addEventListener("DOMContentLoaded",i,!0),window.addEventListener("load",i,!0)):window.setTimeout(i,20)};c.exports=v},57811:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t){if(!t)return window.innerHeight;var o=Math.abs(window.orientation),v={w:0,h:0},a=document.createElement("div");return a.setAttribute("style","position: fixed; height: 100vh; width: 0; top: 0"),document.documentElement.appendChild(a),v.w=o===90?a.offsetHeight:window.innerWidth,v.h=o===90?window.innerWidth:a.offsetHeight,document.documentElement.removeChild(a),a=null,Math.abs(window.orientation)!==90?v.h:v.w};c.exports=g},45818:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(13560),v=function(a,i){var s=window.screen,e=s?s.orientation||s.mozOrientation||s.msOrientation:!1;if(e&&typeof e.type=="string")return e.type;if(typeof e=="string")return e;if(typeof window.orientation=="number")return window.orientation===0||window.orientation===180?o.ORIENTATION.PORTRAIT:o.ORIENTATION.LANDSCAPE;if(window.matchMedia){if(window.matchMedia("(orientation: portrait)").matches)return o.ORIENTATION.PORTRAIT;if(window.matchMedia("(orientation: landscape)").matches)return o.ORIENTATION.LANDSCAPE}else return i>a?o.ORIENTATION.PORTRAIT:o.ORIENTATION.LANDSCAPE};c.exports=v},74403:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t){var o;return t!==""&&(typeof t=="string"?o=document.getElementById(t):t&&t.nodeType===1&&(o=t)),o||(o=document.body),o};c.exports=g},56836:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t){var o="";try{if(window.DOMParser){var v=new DOMParser;o=v.parseFromString(t,"text/xml")}else o=new ActiveXObject("Microsoft.XMLDOM"),o.loadXML(t)}catch{o=null}return!o||!o.documentElement||o.getElementsByTagName("parsererror").length?null:o};c.exports=g},35846:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t){t.parentNode&&t.parentNode.removeChild(t)};c.exports=g},43092:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(29747),a=new o({initialize:function(){this.isRunning=!1,this.callback=v,this.isSetTimeOut=!1,this.timeOutID=null,this.delay=0;var s=this;this.step=function e(r){s.callback(r),s.isRunning&&(s.timeOutID=window.requestAnimationFrame(e))},this.stepTimeout=function e(){s.isRunning&&(s.timeOutID=window.setTimeout(e,s.delay)),s.callback(window.performance.now())}},start:function(i,s,e){this.isRunning||(this.callback=i,this.isSetTimeOut=s,this.delay=e,this.isRunning=!0,this.timeOutID=s?window.setTimeout(this.stepTimeout,0):window.requestAnimationFrame(this.step))},stop:function(){this.isRunning=!1,this.isSetTimeOut?clearTimeout(this.timeOutID):window.cancelAnimationFrame(this.timeOutID)},destroy:function(){this.stop(),this.callback=v}});c.exports=a},84902:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o={AddToDOM:t(40366),DOMContentLoaded:t(57264),GetInnerHeight:t(57811),GetScreenOrientation:t(45818),GetTarget:t(74403),ParseXML:t(56836),RemoveFromDOM:t(35846),RequestAnimationFrame:t(43092)};c.exports=o},47565:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(50792),a=t(37277),i=new o({Extends:v,initialize:function(){v.call(this)},shutdown:function(){this.removeAllListeners()},destroy:function(){this.removeAllListeners()}});a.register("EventEmitter",i,"events"),c.exports=i},93055:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={EventEmitter:t(47565)}},20122:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(72898),a=t(14811),i=new o({Extends:v,initialize:function(e,r){r===void 0&&(r=1),v.call(this,a.BARREL,e),this.amount=r}});c.exports=i},32251:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(72898),a=t(14811),i=new o({Extends:v,initialize:function(e,r,h,n,l,f,u){h===void 0&&(h=1),n===void 0&&(n=1),l===void 0&&(l=1),f===void 0&&(f=1),u===void 0&&(u=4),v.call(this,a.BLOOM,e),this.steps=u,this.offsetX=h,this.offsetY=n,this.blurStrength=l,this.strength=f,this.glcolor=[1,1,1],r!=null&&(this.color=r)},color:{get:function(){var s=this.glcolor;return(s[0]*255<<16)+(s[1]*255<<8)+(s[2]*255|0)},set:function(s){var e=this.glcolor;e[0]=(s>>16&255)/255,e[1]=(s>>8&255)/255,e[2]=(s&255)/255}}});c.exports=i},9047:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(72898),a=t(14811),i=new o({Extends:v,initialize:function(e,r,h,n,l,f,u){r===void 0&&(r=0),h===void 0&&(h=2),n===void 0&&(n=2),l===void 0&&(l=1),u===void 0&&(u=4),v.call(this,a.BLUR,e),this.quality=r,this.x=h,this.y=n,this.steps=u,this.strength=l,this.glcolor=[1,1,1],f!=null&&(this.color=f)},color:{get:function(){var s=this.glcolor;return(s[0]*255<<16)+(s[1]*255<<8)+(s[2]*255|0)},set:function(s){var e=this.glcolor;e[0]=(s>>16&255)/255,e[1]=(s>>8&255)/255,e[2]=(s&255)/255}}});c.exports=i},27885:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(72898),a=t(14811),i=new o({Extends:v,initialize:function(e,r,h,n,l,f,u,d){r===void 0&&(r=.5),h===void 0&&(h=1),n===void 0&&(n=.2),l===void 0&&(l=!1),f===void 0&&(f=1),u===void 0&&(u=1),d===void 0&&(d=1),v.call(this,a.BOKEH,e),this.radius=r,this.amount=h,this.contrast=n,this.isTiltShift=l,this.strength=d,this.blurX=f,this.blurY=u}});c.exports=i},12578:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(72898),a=t(14811),i=new o({Extends:v,initialize:function(e,r,h,n,l,f){r===void 0&&(r=8),l===void 0&&(l=1),f===void 0&&(f=.005),v.call(this,a.CIRCLE,e),this.scale=l,this.feather=f,this.thickness=r,this.glcolor=[1,.2,.7],this.glcolor2=[1,0,0,.4],h!=null&&(this.color=h),n!=null&&(this.backgroundColor=n)},color:{get:function(){var s=this.glcolor;return(s[0]*255<<16)+(s[1]*255<<8)+(s[2]*255|0)},set:function(s){var e=this.glcolor;e[0]=(s>>16&255)/255,e[1]=(s>>8&255)/255,e[2]=(s&255)/255}},backgroundColor:{get:function(){var s=this.glcolor2;return(s[0]*255<<16)+(s[1]*255<<8)+(s[2]*255|0)},set:function(s){var e=this.glcolor2;e[0]=(s>>16&255)/255,e[1]=(s>>8&255)/255,e[2]=(s&255)/255}},backgroundAlpha:{get:function(){return this.glcolor2[3]},set:function(s){this.glcolor2[3]=s}}});c.exports=i},15802:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(89422),a=t(14811),i=new o({Extends:v,initialize:function(e){v.call(this),this.type=a.COLOR_MATRIX,this.gameObject=e,this.active=!0},destroy:function(){this.gameObject=null,this._matrix=null,this._data=null}});c.exports=i},72898:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=new o({initialize:function(i,s){this.type=i,this.gameObject=s,this.active=!0},setActive:function(a){return this.active=a,this},destroy:function(){this.gameObject=null,this.active=!1}});c.exports=v},44553:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(72898),a=t(14811),i=new o({Extends:v,initialize:function(e,r,h,n){r===void 0&&(r="__WHITE"),h===void 0&&(h=.005),n===void 0&&(n=.005),v.call(this,a.DISPLACEMENT,e),this.x=h,this.y=n,this.glTexture,this.setTexture(r)},setTexture:function(s){var e=this.gameObject.scene.sys.textures.getFrame(s);return e&&(this.glTexture=e.glTexture),this}});c.exports=i},68531:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(72898),a=t(14811),i=new o({Extends:v,initialize:function(e,r,h,n,l){h===void 0&&(h=4),n===void 0&&(n=0),l===void 0&&(l=!1),v.call(this,a.GLOW,e),this.outerStrength=h,this.innerStrength=n,this.knockout=l,this.glcolor=[1,1,1,1],r!==void 0&&(this.color=r)},color:{get:function(){var s=this.glcolor;return(s[0]*255<<16)+(s[1]*255<<8)+(s[2]*255|0)},set:function(s){var e=this.glcolor;e[0]=(s>>16&255)/255,e[1]=(s>>8&255)/255,e[2]=(s&255)/255}}});c.exports=i},37102:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(72898),a=t(14811),i=new o({Extends:v,initialize:function(e,r,h,n,l,f,u,d,p){n===void 0&&(n=.2),l===void 0&&(l=0),f===void 0&&(f=0),u===void 0&&(u=0),d===void 0&&(d=1),p===void 0&&(p=0),v.call(this,a.GRADIENT,e),this.alpha=n,this.size=p,this.fromX=l,this.fromY=f,this.toX=u,this.toY=d,this.glcolor1=[255,0,0],this.glcolor2=[0,255,0],r!=null&&(this.color1=r),h!=null&&(this.color2=h)},color1:{get:function(){var s=this.glcolor1;return(s[0]<<16)+(s[1]<<8)+(s[2]|0)},set:function(s){var e=this.glcolor1;e[0]=s>>16&255,e[1]=s>>8&255,e[2]=s&255}},color2:{get:function(){var s=this.glcolor2;return(s[0]<<16)+(s[1]<<8)+(s[2]|0)},set:function(s){var e=this.glcolor2;e[0]=s>>16&255,e[1]=s>>8&255,e[2]=s&255}}});c.exports=i},86886:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(72898),a=t(14811),i=new o({Extends:v,initialize:function(e,r){r===void 0&&(r=1),v.call(this,a.PIXELATE,e),this.amount=r}});c.exports=i},92322:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(72898),a=t(14811),i=new o({Extends:v,initialize:function(e,r,h,n,l,f,u,d){r===void 0&&(r=0),h===void 0&&(h=0),n===void 0&&(n=.1),l===void 0&&(l=1),u===void 0&&(u=6),d===void 0&&(d=1),v.call(this,a.SHADOW,e),this.x=r,this.y=h,this.decay=n,this.power=l,this.glcolor=[0,0,0,1],this.samples=u,this.intensity=d,f!==void 0&&(this.color=f)},color:{get:function(){var s=this.glcolor;return(s[0]*255<<16)+(s[1]*255<<8)+(s[2]*255|0)},set:function(s){var e=this.glcolor;e[0]=(s>>16&255)/255,e[1]=(s>>8&255)/255,e[2]=(s&255)/255}}});c.exports=i},39563:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(72898),a=t(14811),i=new o({Extends:v,initialize:function(e,r,h,n,l){r===void 0&&(r=.5),h===void 0&&(h=.5),n===void 0&&(n=3),l===void 0&&(l=!1),v.call(this,a.SHINE,e),this.speed=r,this.lineWidth=h,this.gradient=n,this.reveal=l}});c.exports=i},56448:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(72898),a=t(14811),i=new o({Extends:v,initialize:function(e,r,h,n,l){r===void 0&&(r=.5),h===void 0&&(h=.5),n===void 0&&(n=.5),l===void 0&&(l=.5),v.call(this,a.VIGNETTE,e),this.x=r,this.y=h,this.radius=n,this.strength=l}});c.exports=i},38433:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(72898),a=t(14811),i=new o({Extends:v,initialize:function(e,r,h,n,l){r===void 0&&(r=.1),h===void 0&&(h=0),n===void 0&&(n=0),l===void 0&&(l=!1),v.call(this,a.WIPE,e),this.progress=0,this.wipeWidth=r,this.direction=h,this.axis=n,this.reveal=l}});c.exports=i},14811:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g={GLOW:4,SHADOW:5,PIXELATE:6,VIGNETTE:7,SHINE:8,BLUR:9,GRADIENT:12,BLOOM:13,COLOR_MATRIX:14,CIRCLE:15,BARREL:16,DISPLACEMENT:17,WIPE:18,BOKEH:19};c.exports=g},66064:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(79291),v=t(14811),a={Barrel:t(20122),Controller:t(72898),Bloom:t(32251),Blur:t(9047),Bokeh:t(27885),Circle:t(12578),ColorMatrix:t(15802),Displacement:t(44553),Glow:t(68531),Gradient:t(37102),Pixelate:t(86886),Shadow:t(92322),Shine:t(39563),Vignette:t(56448),Wipe:t(38433)};a=o(!1,a,v),c.exports=a},25305:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(10312),v=t(23568),a=function(i,s,e){s.x=v(e,"x",0),s.y=v(e,"y",0),s.depth=v(e,"depth",0),s.flipX=v(e,"flipX",!1),s.flipY=v(e,"flipY",!1);var r=v(e,"scale",null);typeof r=="number"?s.setScale(r):r!==null&&(s.scaleX=v(r,"x",1),s.scaleY=v(r,"y",1));var h=v(e,"scrollFactor",null);typeof h=="number"?s.setScrollFactor(h):h!==null&&(s.scrollFactorX=v(h,"x",1),s.scrollFactorY=v(h,"y",1)),s.rotation=v(e,"rotation",0);var n=v(e,"angle",null);n!==null&&(s.angle=n),s.alpha=v(e,"alpha",1);var l=v(e,"origin",null);if(typeof l=="number")s.setOrigin(l);else if(l!==null){var f=v(l,"x",.5),u=v(l,"y",.5);s.setOrigin(f,u)}s.blendMode=v(e,"blendMode",o.NORMAL),s.visible=v(e,"visible",!0);var d=v(e,"add",!0);return d&&i.sys.displayList.add(s),s.preUpdate&&i.sys.updateList.add(s),s};c.exports=a},13059:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(23568),v=function(a,i){var s=o(i,"anims",null);if(s===null)return a;if(typeof s=="string")a.anims.play(s);else if(typeof s=="object"){var e=a.anims,r=o(s,"key",void 0);if(r){var h=o(s,"startFrame",void 0),n=o(s,"delay",0),l=o(s,"repeat",0),f=o(s,"repeatDelay",0),u=o(s,"yoyo",!1),d=o(s,"play",!1),p=o(s,"delayedPlay",0),x={key:r,delay:n,repeat:l,repeatDelay:f,yoyo:u,startFrame:h};d?e.play(x):p>0?e.playAfterDelay(x,p):e.load(x)}}return a};c.exports=v},8050:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(73162),a=t(37277),i=t(51708),s=t(44594),e=t(19186),r=new o({Extends:v,initialize:function(n){v.call(this,n),this.sortChildrenFlag=!1,this.scene=n,this.systems=n.sys,this.events=n.sys.events,this.addCallback=this.addChildCallback,this.removeCallback=this.removeChildCallback,this.events.once(s.BOOT,this.boot,this),this.events.on(s.START,this.start,this)},boot:function(){this.events.once(s.DESTROY,this.destroy,this)},addChildCallback:function(h){h.displayList&&h.displayList!==this&&h.removeFromDisplayList(),h.parentContainer&&h.parentContainer.remove(h),h.displayList||(this.queueDepthSort(),h.displayList=this,h.emit(i.ADDED_TO_SCENE,h,this.scene),this.events.emit(s.ADDED_TO_SCENE,h,this.scene))},removeChildCallback:function(h){this.queueDepthSort(),h.displayList=null,h.emit(i.REMOVED_FROM_SCENE,h,this.scene),this.events.emit(s.REMOVED_FROM_SCENE,h,this.scene)},start:function(){this.events.once(s.SHUTDOWN,this.shutdown,this)},queueDepthSort:function(){this.sortChildrenFlag=!0},depthSort:function(){this.sortChildrenFlag&&(e(this.list,this.sortByDepth),this.sortChildrenFlag=!1)},sortByDepth:function(h,n){return h._depth-n._depth},getChildren:function(){return this.list},shutdown:function(){for(var h=this.list;h.length;)h[0].destroy(!0);this.events.off(s.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(s.START,this.start,this),this.scene=null,this.systems=null,this.events=null}});a.register("DisplayList",r,"displayList"),c.exports=r},95643:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(53774),a=t(45893),i=t(50792),s=t(51708),e=t(44594),r=new o({Extends:i,initialize:function(n,l){i.call(this),this.scene=n,this.displayList=null,this.type=l,this.state=0,this.parentContainer=null,this.name="",this.active=!0,this.tabIndex=-1,this.data=null,this.renderFlags=15,this.cameraFilter=0,this.input=null,this.body=null,this.ignoreDestroy=!1,this.on(s.ADDED_TO_SCENE,this.addedToScene,this),this.on(s.REMOVED_FROM_SCENE,this.removedFromScene,this),n.sys.queueDepthSort()},setActive:function(h){return this.active=h,this},setName:function(h){return this.name=h,this},setState:function(h){return this.state=h,this},setDataEnabled:function(){return this.data||(this.data=new a(this)),this},setData:function(h,n){return this.data||(this.data=new a(this)),this.data.set(h,n),this},incData:function(h,n){return this.data||(this.data=new a(this)),this.data.inc(h,n),this},toggleData:function(h){return this.data||(this.data=new a(this)),this.data.toggle(h),this},getData:function(h){return this.data||(this.data=new a(this)),this.data.get(h)},setInteractive:function(h,n,l){return this.scene.sys.input.enable(this,h,n,l),this},disableInteractive:function(){return this.scene.sys.input.disable(this),this},removeInteractive:function(){return this.scene.sys.input.clear(this),this.input=void 0,this},addedToScene:function(){},removedFromScene:function(){},update:function(){},toJSON:function(){return v(this)},willRender:function(h){var n=this.displayList&&this.displayList.active?this.displayList.willRender(h):!0;return!(!n||r.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&h.id)},getIndexList:function(){for(var h=this,n=this.parentContainer,l=[];n&&(l.unshift(n.getIndex(h)),h=n,n.parentContainer);)n=n.parentContainer;return this.displayList?l.unshift(this.displayList.getIndex(h)):l.unshift(this.scene.sys.displayList.getIndex(h)),l},addToDisplayList:function(h){return h===void 0&&(h=this.scene.sys.displayList),this.displayList&&this.displayList!==h&&this.removeFromDisplayList(),h.exists(this)||(this.displayList=h,h.add(this,!0),h.queueDepthSort(),this.emit(s.ADDED_TO_SCENE,this,this.scene),h.events.emit(e.ADDED_TO_SCENE,this,this.scene)),this},addToUpdateList:function(){return this.scene&&this.preUpdate&&this.scene.sys.updateList.add(this),this},removeFromDisplayList:function(){var h=this.displayList||this.scene.sys.displayList;return h&&h.exists(this)&&(h.remove(this,!0),h.queueDepthSort(),this.displayList=null,this.emit(s.REMOVED_FROM_SCENE,this,this.scene),h.events.emit(e.REMOVED_FROM_SCENE,this,this.scene)),this},removeFromUpdateList:function(){return this.scene&&this.preUpdate&&this.scene.sys.updateList.remove(this),this},destroy:function(h){!this.scene||this.ignoreDestroy||(h===void 0&&(h=!1),this.preDestroy&&this.preDestroy.call(this),this.emit(s.DESTROY,this,h),this.removeAllListeners(),this.postPipelines&&this.resetPostPipeline(!0),this.removeFromDisplayList(),this.removeFromUpdateList(),this.input&&(this.scene.sys.input.clear(this),this.input=void 0),this.data&&(this.data.destroy(),this.data=void 0),this.body&&(this.body.destroy(),this.body=void 0),this.preFX&&(this.preFX.destroy(),this.preFX=void 0),this.postFX&&(this.postFX.destroy(),this.postFX=void 0),this.active=!1,this.visible=!1,this.scene=void 0,this.parentContainer=void 0)}});r.RENDER_MASK=15,c.exports=r},44603:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(37277),a=t(44594),i=new o({initialize:function(e){this.scene=e,this.systems=e.sys,this.events=e.sys.events,this.displayList,this.updateList,this.events.once(a.BOOT,this.boot,this),this.events.on(a.START,this.start,this)},boot:function(){this.displayList=this.systems.displayList,this.updateList=this.systems.updateList,this.events.once(a.DESTROY,this.destroy,this)},start:function(){this.events.once(a.SHUTDOWN,this.shutdown,this)},shutdown:function(){this.events.off(a.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(a.START,this.start,this),this.scene=null,this.systems=null,this.events=null,this.displayList=null,this.updateList=null}});i.register=function(s,e){i.prototype.hasOwnProperty(s)||(i.prototype[s]=e)},i.remove=function(s){i.prototype.hasOwnProperty(s)&&delete i.prototype[s]},v.register("GameObjectCreator",i,"make"),c.exports=i},39429:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(37277),a=t(44594),i=new o({initialize:function(e){this.scene=e,this.systems=e.sys,this.events=e.sys.events,this.displayList,this.updateList,this.events.once(a.BOOT,this.boot,this),this.events.on(a.START,this.start,this)},boot:function(){this.displayList=this.systems.displayList,this.updateList=this.systems.updateList,this.events.once(a.DESTROY,this.destroy,this)},start:function(){this.events.once(a.SHUTDOWN,this.shutdown,this)},existing:function(s){return(s.renderCanvas||s.renderWebGL)&&this.displayList.add(s),s.preUpdate&&this.updateList.add(s),s},shutdown:function(){this.events.off(a.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(a.START,this.start,this),this.scene=null,this.systems=null,this.events=null,this.displayList=null,this.updateList=null}});i.register=function(s,e){i.prototype.hasOwnProperty(s)||(i.prototype[s]=e)},i.remove=function(s){i.prototype.hasOwnProperty(s)&&delete i.prototype[s]},v.register("GameObjectFactory",i,"add"),c.exports=i},91296:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(61340),v=new o,a=new o,i=new o,s={camera:v,sprite:a,calc:i},e=function(r,h,n){var l=v,f=a,u=i;return f.applyITRS(r.x,r.y,r.rotation,r.scaleX,r.scaleY),l.copyFrom(h.matrix),n?(l.multiplyWithOffset(n,-h.scrollX*r.scrollFactorX,-h.scrollY*r.scrollFactorY),f.e=r.x,f.f=r.y):(f.e-=h.scrollX*r.scrollFactorX,f.f-=h.scrollY*r.scrollFactorY),l.multiply(f,u),s};c.exports=e},45027:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(25774),a=t(37277),i=t(44594),s=new o({Extends:v,initialize:function(r){v.call(this),this.checkQueue=!0,this.scene=r,this.systems=r.sys,r.sys.events.once(i.BOOT,this.boot,this),r.sys.events.on(i.START,this.start,this)},boot:function(){this.systems.events.once(i.DESTROY,this.destroy,this)},start:function(){var e=this.systems.events;e.on(i.PRE_UPDATE,this.update,this),e.on(i.UPDATE,this.sceneUpdate,this),e.once(i.SHUTDOWN,this.shutdown,this)},sceneUpdate:function(e,r){for(var h=this._active,n=h.length,l=0;l<n;l++){var f=h[l];f.active&&f.preUpdate.call(f,e,r)}},shutdown:function(){for(var e=this._active.length;e--;)this._active[e].destroy(!0);for(e=this._pending.length;e--;)this._pending[e].destroy(!0);for(e=this._destroy.length;e--;)this._destroy[e].destroy(!0);this._toProcess=0,this._pending=[],this._active=[],this._destroy=[],this.removeAllListeners();var r=this.systems.events;r.off(i.PRE_UPDATE,this.update,this),r.off(i.UPDATE,this.sceneUpdate,this),r.off(i.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.systems.events.off(i.START,this.start,this),this.scene=null,this.systems=null}});a.register("UpdateList",s,"updateList"),c.exports=s},3217:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o,v,a,i,s,e,r,h,n,l,f,u,d,p){var x=v.x-o.displayOriginX+i,E=v.y-o.displayOriginY+s,T=x+v.w,C=E+v.h,A=e.getXRound(x,E,r),M=e.getYRound(x,E,r),R=e.getXRound(x,C,r),O=e.getYRound(x,C,r),L=e.getXRound(T,C,r),b=e.getYRound(T,C,r),N=e.getXRound(T,E,r),I=e.getYRound(T,E,r);t.batchQuad(o,A,M,R,O,L,b,N,I,a.u0,a.v0,a.u1,a.v1,h,n,l,f,u,d,p)};c.exports=g},53048:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o,v,a){if(v===void 0&&(v=!1),a===void 0)return a={local:{x:0,y:0,width:0,height:0},global:{x:0,y:0,width:0,height:0},lines:{shortest:0,longest:0,lengths:null,height:0},wrappedText:"",words:[],characters:[],scaleX:0,scaleY:0},a;var i=t.text,s=i.length,e=t.maxWidth,r=t.wordWrapCharCode,h=Number.MAX_VALUE,n=Number.MAX_VALUE,l=0,f=0,u=t.fontData.chars,d=t.fontData.lineHeight,p=t.letterSpacing,x=t.lineSpacing,E=0,T=0,C=0,A=null,M=t._align,R=0,O=0,L=t.fontSize/t.fontData.size,b=L*t.scaleX,N=L*t.scaleY,I=null,G=0,X=[],$=Number.MAX_VALUE,J=0,z=0,Y=0,D,B=[],U=[],H=null;if(e>0){for(D=0;D<s;D++){if(C=i.charCodeAt(D),C===10){H!==null&&(B.push({word:H.word,i:H.i,x:H.x*b,y:H.y*N,w:H.w*b,h:H.h*N,cr:!0}),H=null),E=0,T+=d+x,I=null;continue}if(A=u[C],!!A){if(I!==null)var j=A.kerning[G];C===r?H!==null&&(B.push({word:H.word,i:H.i,x:H.x*b,y:H.y*N,w:H.w*b,h:H.h*N,cr:!1}),H=null):(H===null&&(H={word:"",i:D,x:E,y:T,w:0,h:d,cr:!1}),H.word=H.word.concat(i[D]),H.w+=A.xOffset+A.xAdvance+(j!==void 0?j:0)),E+=A.xAdvance+p,I=A,G=C}}H!==null&&B.push({word:H.word,i:H.i,x:H.x*b,y:H.y*N,w:H.w*b,h:H.h*N,cr:!1}),E=0,T=0,I=null,G=0;var q,_=0,st=[];for(D=0;D<B.length;D++){var ut=B[D],ct=ut.x,pt=ut.x+ut.w;if(q){var Tt=ct-(q.x+q.w);_=ct-(Tt+q.w),q=null}var mt=ct-_,wt=pt-_;mt>e||wt>e?(st.push(ut.i-1),ut.cr?(st.push(ut.i+ut.word.length),_=0,q=null):q=ut):ut.cr&&(st.push(ut.i+ut.word.length),_=0,q=null)}var Nt=function(le,Te,se){return le.substr(0,Te)+se+le.substr(Te+1)};for(D=st.length-1;D>=0;D--)i=Nt(i,st[D],`
`);a.wrappedText=i,s=i.length,B=[],H=null}var zt=0;for(D=0;D<s;D++){if(C=i.charCodeAt(D),C===10){H!==null&&(B.push({word:H.word,i:H.i,x:H.x*b,y:H.y*N,w:H.w*b,h:H.h*N}),H=null),E=0,T+=d+x,I=null,X[z]=Y,Y>J&&(J=Y),Y<$&&($=Y),z++,Y=0;continue}if(A=u[C],!!A){if(R=E,O=T,I!==null){var Ot=A.kerning[G];R+=Ot!==void 0?Ot:0}h>R&&(h=R),n>O&&(n=O);var St=R+A.xAdvance,It=O+d;l<St&&(l=St),f<It&&(f=It);var bt=A.xOffset+A.xAdvance+(Ot!==void 0?Ot:0);C===r?H!==null&&(B.push({word:H.word,i:H.i,x:H.x*b,y:H.y*N,w:H.w*b,h:H.h*N}),H=null):(H===null&&(H={word:"",i:zt,x:E,y:T,w:0,h:d}),H.word=H.word.concat(i[D]),H.w+=bt),U.push({i:zt,idx:D,char:i[D],code:C,x:(A.xOffset+R)*L,y:(A.yOffset+T)*L,w:A.width*L,h:A.height*L,t:T*L,r:St*L,b:d*L,line:z,glyph:A}),E+=A.xAdvance+p+(Ot!==void 0?Ot:0),I=A,G=C,Y=St*L,zt++}}if(H!==null&&B.push({word:H.word,i:H.i,x:H.x*b,y:H.y*N,w:H.w*b,h:H.h*N}),X[z]=Y,Y>J&&(J=Y),Y<$&&($=Y),M>0)for(var Xt=0;Xt<U.length;Xt++){var Wt=U[Xt];if(M===1){var he=(J-X[Wt.line])/2;Wt.x+=he,Wt.r+=he}else if(M===2){var kt=J-X[Wt.line];Wt.x+=kt,Wt.r+=kt}}var jt=a.local,Ht=a.global,ve=a.lines;return jt.x=h*L,jt.y=n*L,jt.width=l*L,jt.height=f*L,Ht.x=t.x-t._displayOriginX+h*b,Ht.y=t.y-t._displayOriginY+n*N,Ht.width=l*b,Ht.height=f*N,ve.shortest=$,ve.longest=J,ve.lengths=X,o&&(jt.x=Math.ceil(jt.x),jt.y=Math.ceil(jt.y),jt.width=Math.ceil(jt.width),jt.height=Math.ceil(jt.height),Ht.x=Math.ceil(Ht.x),Ht.y=Math.ceil(Ht.y),Ht.width=Math.ceil(Ht.width),Ht.height=Math.ceil(Ht.height),ve.shortest=Math.ceil($),ve.longest=Math.ceil(J)),v&&(t._displayOriginX=t.originX*jt.width,t._displayOriginY=t.originY*jt.height,Ht.x=t.x-t._displayOriginX*t.scaleX,Ht.y=t.y-t._displayOriginY*t.scaleY,o&&(Ht.x=Math.ceil(Ht.x),Ht.y=Math.ceil(Ht.y))),a.words=B,a.characters=U,a.lines.height=d,a.scale=L,a.scaleX=t.scaleX,a.scaleY=t.scaleY,a};c.exports=g},61327:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(21859),v=function(a,i,s,e,r,h,n){var l=a.sys.textures.get(s),f=l.get(e),u=a.sys.cache.xml.get(r);if(f&&u){var d=o(u,f,h,n,l);return a.sys.cache.bitmapFont.add(i,{data:d,texture:s,frame:e,fromAtlas:!0}),!0}else return!1};c.exports=v},6925:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(35154),v=function(a,i){var s=i.width,e=i.height,r=Math.floor(s/2),h=Math.floor(e/2),n=o(i,"chars","");if(n!==""){var l=o(i,"image",""),f=a.sys.textures.getFrame(l),u=f.cutX,d=f.cutY,p=f.source.width,x=f.source.height,E=o(i,"offset.x",0),T=o(i,"offset.y",0),C=o(i,"spacing.x",0),A=o(i,"spacing.y",0),M=o(i,"lineSpacing",0),R=o(i,"charsPerRow",null);R===null&&(R=p/s,R>n.length&&(R=n.length));for(var O=E,L=T,b={retroFont:!0,font:l,size:s,lineHeight:e+M,chars:{}},N=0,I=0;I<n.length;I++){var G=n.charCodeAt(I),X=(u+O)/p,$=(d+L)/x,J=(u+O+s)/p,z=(d+L+e)/x;b.chars[G]={x:O,y:L,width:s,height:e,centerX:r,centerY:h,xOffset:0,yOffset:0,xAdvance:s,data:{},kerning:{},u0:X,v0:$,u1:J,v1:z},N++,N===R?(N=0,O=E,L+=e+A):O+=s+C}var Y={data:b,frame:null,texture:l};return Y}};c.exports=v},21859:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function g(o,v){return parseInt(o.getAttribute(v),10)}var t=function(o,v,a,i,s){a===void 0&&(a=0),i===void 0&&(i=0);var e=v.cutX,r=v.cutY,h=v.source.width,n=v.source.height,l=v.sourceIndex,f={},u=o.getElementsByTagName("info")[0],d=o.getElementsByTagName("common")[0];f.font=u.getAttribute("face"),f.size=g(u,"size"),f.lineHeight=g(d,"lineHeight")+i,f.chars={};var p=o.getElementsByTagName("char"),x=v!==void 0&&v.trimmed;if(x)var E=v.height,T=v.width;for(var C=0;C<p.length;C++){var A=p[C],M=g(A,"id"),R=String.fromCharCode(M),O=g(A,"x"),L=g(A,"y"),b=g(A,"width"),N=g(A,"height");x&&(O<T&&(T=O),L<E&&(E=L)),x&&E!==0&&T!==0&&(O-=v.x,L-=v.y);var I=(e+O)/h,G=(r+L)/n,X=(e+O+b)/h,$=(r+L+N)/n;if(f.chars[M]={x:O,y:L,width:b,height:N,centerX:Math.floor(b/2),centerY:Math.floor(N/2),xOffset:g(A,"xoffset"),yOffset:g(A,"yoffset"),xAdvance:g(A,"xadvance")+a,data:{},kerning:{},u0:I,v0:G,u1:X,v1:$},s&&b!==0&&N!==0){var J=s.add(R,l,O,L,b,N);J&&J.setUVs(b,N,I,G,X,$)}}var z=o.getElementsByTagName("kerning");for(C=0;C<z.length;C++){var Y=z[C],D=g(Y,"first"),B=g(Y,"second"),U=g(Y,"amount");f.chars[B].kerning[D]=U}return f};c.exports=t},196:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(87662),v=t(79291),a={Parse:t(6925)};a=v(!1,a,o),c.exports=a},87662:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g={TEXT_SET1:" !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~",TEXT_SET2:` !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ`,TEXT_SET3:"ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789 ",TEXT_SET4:"ABCDEFGHIJKLMNOPQRSTUVWXYZ 0123456789",TEXT_SET5:"ABCDEFGHIJKLMNOPQRSTUVWXYZ.,/() '!?-*:0123456789",TEXT_SET6:`ABCDEFGHIJKLMNOPQRSTUVWXYZ!?:;0123456789"(),-.' `,TEXT_SET7:`AGMSY+:4BHNTZ!;5CIOU.?06DJPV,(17EKQW")28FLRX-'39`,TEXT_SET8:"0123456789 .ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET9:`ABCDEFGHIJKLMNOPQRSTUVWXYZ()-0123456789.:,'"?!`,TEXT_SET10:"ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET11:`ABCDEFGHIJKLMNOPQRSTUVWXYZ.,"-+!?()':;0123456789`};c.exports=g},2638:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(22186),v=t(83419),a=t(12310),i=new v({Extends:o,Mixins:[a],initialize:function(e,r,h,n,l,f,u){o.call(this,e,r,h,n,l,f,u),this.type="DynamicBitmapText",this.scrollX=0,this.scrollY=0,this.cropWidth=0,this.cropHeight=0,this.displayCallback,this.callbackData={parent:this,color:0,tint:{topLeft:0,topRight:0,bottomLeft:0,bottomRight:0},index:0,charCode:0,x:0,y:0,scale:0,rotation:0,data:0}},setSize:function(s,e){return this.cropWidth=s,this.cropHeight=e,this},setDisplayCallback:function(s){return this.displayCallback=s,this},setScrollX:function(s){return this.scrollX=s,this},setScrollY:function(s){return this.scrollY=s,this}});c.exports=i},86741:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(20926),v=function(a,i,s,e){var r=i._text,h=r.length,n=a.currentContext;if(!(h===0||!o(a,n,i,s,e))){s.addToRenderList(i);var l=i.fromAtlas?i.frame:i.texture.frames.__BASE,f=i.displayCallback,u=i.callbackData,d=i.fontData.chars,p=i.fontData.lineHeight,x=i._letterSpacing,E=0,T=0,C=0,A=null,M=0,R=0,O=0,L=0,b=0,N=0,I=null,G=0,X=i.frame.source.image,$=l.cutX,J=l.cutY,z=0,Y=0,D=i._fontSize/i.fontData.size,B=i._align,U=0,H=0;i.getTextBounds(!1);var j=i._bounds.lines;B===1?H=(j.longest-j.lengths[0])/2:B===2&&(H=j.longest-j.lengths[0]),n.translate(-i.displayOriginX,-i.displayOriginY);var q=s.roundPixels;i.cropWidth>0&&i.cropHeight>0&&(n.beginPath(),n.rect(0,0,i.cropWidth,i.cropHeight),n.clip());for(var _=0;_<h;_++){if(Y=D,z=0,C=r.charCodeAt(_),C===10){U++,B===1?H=(j.longest-j.lengths[U])/2:B===2&&(H=j.longest-j.lengths[U]),E=0,T+=p,I=null;continue}if(A=d[C],!!A){if(M=$+A.x,R=J+A.y,O=A.width,L=A.height,b=A.xOffset+E-i.scrollX,N=A.yOffset+T-i.scrollY,I!==null){var st=A.kerning[G];b+=st!==void 0?st:0}if(f){u.index=_,u.charCode=C,u.x=b,u.y=N,u.scale=Y,u.rotation=z,u.data=A.data;var ut=f(u);b=ut.x,N=ut.y,Y=ut.scale,z=ut.rotation}b*=Y,N*=Y,b+=H,E+=A.xAdvance+x+(st!==void 0?st:0),I=A,G=C,!(O===0||L===0||C===32)&&(q&&(b=Math.round(b),N=Math.round(N)),n.save(),n.translate(b,N),n.rotate(z),n.scale(Y,Y),n.drawImage(X,M,R,O,L,0,0,O,L),n.restore())}}n.restore()}};c.exports=v},11164:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(2638),v=t(25305),a=t(44603),i=t(23568);a.register("dynamicBitmapText",function(s,e){s===void 0&&(s={});var r=i(s,"font",""),h=i(s,"text",""),n=i(s,"size",!1),l=new o(this.scene,0,0,r,h,n);return e!==void 0&&(s.add=e),v(this.scene,l,s),l})},72566:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(2638),v=t(39429);v.register("dynamicBitmapText",function(a,i,s,e,r){return this.displayList.add(new o(this.scene,a,i,s,e,r))})},12310:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(29747),v=o,a=o;v=t(73482),a=t(86741),c.exports={renderWebGL:v,renderCanvas:a}},73482:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(91296),v=t(61340),a=t(70554),i=new v,s=function(e,r,h,n){var l=r.text,f=l.length;if(f!==0){h.addToRenderList(r);var u=e.pipelines.set(r.pipeline,r),d=o(r,h,n);e.pipelines.preBatch(r);var p=d.sprite,x=d.calc,E=i,T=r.cropWidth>0||r.cropHeight>0;T&&(u.flush(),e.pushScissor(x.tx,x.ty,r.cropWidth*x.scaleX,r.cropHeight*x.scaleY));var C=r.frame,A=C.glTexture,M=r.tintFill,R=a.getTintAppendFloatAlpha(r.tintTopLeft,h.alpha*r._alphaTL),O=a.getTintAppendFloatAlpha(r.tintTopRight,h.alpha*r._alphaTR),L=a.getTintAppendFloatAlpha(r.tintBottomLeft,h.alpha*r._alphaBL),b=a.getTintAppendFloatAlpha(r.tintBottomRight,h.alpha*r._alphaBR),N=u.setGameObject(r),I=0,G=0,X=0,$=0,J=r.letterSpacing,z,Y=0,D=0,B,U=r.scrollX,H=r.scrollY,j=r.fontData,q=j.chars,_=j.lineHeight,st=r.fontSize/j.size,ut=0,ct=r._align,pt=0,Tt=0,mt=r.getTextBounds(!1);r.maxWidth>0&&(l=mt.wrappedText,f=l.length);var wt=r._bounds.lines;ct===1?Tt=(wt.longest-wt.lengths[0])/2:ct===2&&(Tt=wt.longest-wt.lengths[0]);for(var Nt=h.roundPixels,zt=r.displayCallback,Ot=r.callbackData,St=0;St<f;St++){if(X=l.charCodeAt(St),X===10){pt++,ct===1?Tt=(wt.longest-wt.lengths[pt])/2:ct===2&&(Tt=wt.longest-wt.lengths[pt]),I=0,G+=_,B=null;continue}if(z=q[X],!!z){Y=z.width,D=z.height;var It=z.xOffset+I-U,bt=z.yOffset+G-H;if(B!==null){var Xt=z.kerning[$];It+=Xt!==void 0?Xt:0}if(I+=z.xAdvance+J,B=z,$=X,!(Y===0||D===0||X===32)){if(st=r.fontSize/r.fontData.size,ut=0,zt){Ot.color=0,Ot.tint.topLeft=R,Ot.tint.topRight=O,Ot.tint.bottomLeft=L,Ot.tint.bottomRight=b,Ot.index=St,Ot.charCode=X,Ot.x=It,Ot.y=bt,Ot.scale=st,Ot.rotation=ut,Ot.data=z.data;var Wt=zt(Ot);It=Wt.x,bt=Wt.y,st=Wt.scale,ut=Wt.rotation,Wt.color?(R=Wt.color,O=Wt.color,L=Wt.color,b=Wt.color):(R=Wt.tint.topLeft,O=Wt.tint.topRight,L=Wt.tint.bottomLeft,b=Wt.tint.bottomRight),R=a.getTintAppendFloatAlpha(R,h.alpha*r._alphaTL),O=a.getTintAppendFloatAlpha(O,h.alpha*r._alphaTR),L=a.getTintAppendFloatAlpha(L,h.alpha*r._alphaBL),b=a.getTintAppendFloatAlpha(b,h.alpha*r._alphaBR)}It*=st,bt*=st,It-=r.displayOriginX,bt-=r.displayOriginY,It+=Tt,E.applyITRS(It,bt,ut,st,st),x.multiply(E,p);var he=z.u0,kt=z.v0,jt=z.u1,Ht=z.v1,ve=Y,le=D,Te=p.e,se=p.f,ne=le*p.c+p.e,fe=le*p.d+p.f,Se=ve*p.a+le*p.c+p.e,Ie=ve*p.b+le*p.d+p.f,re=ve*p.a+p.e,Be=ve*p.b+p.f;Nt&&(Te=Math.round(Te),se=Math.round(se),ne=Math.round(ne),fe=Math.round(fe),Se=Math.round(Se),Ie=Math.round(Ie),re=Math.round(re),Be=Math.round(Be)),u.shouldFlush(6)&&(u.flush(),N=u.setGameObject(r)),u.batchQuad(r,Te,se,ne,fe,Se,Ie,re,Be,he,kt,jt,Ht,R,O,L,b,M,A,N)}}}T&&(u.flush(),e.popScissor()),e.pipelines.postBatch(r)}};c.exports=s},22186:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(45319),a=t(31401),i=t(95643),s=t(53048),e=t(61327),r=t(21859),h=t(87841),n=t(18658),l=new o({Extends:i,Mixins:[a.Alpha,a.BlendMode,a.Depth,a.GetBounds,a.Mask,a.Origin,a.Pipeline,a.PostPipeline,a.ScrollFactor,a.Texture,a.Tint,a.Transform,a.Visible,n],initialize:function(u,d,p,x,E,T,C){E===void 0&&(E=""),C===void 0&&(C=0),i.call(this,u,"BitmapText"),this.font=x;var A=this.scene.sys.cache.bitmapFont.get(x);A||console.warn("Invalid BitmapText key: "+x),this.fontData=A.data,this._text="",this._fontSize=T||this.fontData.size,this._letterSpacing=0,this._lineSpacing=0,this._align=C,this._bounds=s(),this._dirty=!0,this._maxWidth=0,this.wordWrapCharCode=32,this.charColors=[],this.dropShadowX=0,this.dropShadowY=0,this.dropShadowColor=0,this.dropShadowAlpha=.5,this.fromAtlas=A.fromAtlas,this.setTexture(A.texture,A.frame),this.setPosition(d,p),this.setOrigin(0,0),this.initPipeline(),this.initPostPipeline(),this.setText(E)},setLeftAlign:function(){return this._align=l.ALIGN_LEFT,this._dirty=!0,this},setCenterAlign:function(){return this._align=l.ALIGN_CENTER,this._dirty=!0,this},setRightAlign:function(){return this._align=l.ALIGN_RIGHT,this._dirty=!0,this},setFontSize:function(f){return this._fontSize=f,this._dirty=!0,this},setLetterSpacing:function(f){return f===void 0&&(f=0),this._letterSpacing=f,this._dirty=!0,this},setLineSpacing:function(f){return f===void 0&&(f=0),this.lineSpacing=f,this},setText:function(f){return!f&&f!==0&&(f=""),Array.isArray(f)&&(f=f.join(`
`)),f!==this.text&&(this._text=f.toString(),this._dirty=!0,this.updateDisplayOrigin()),this},setDropShadow:function(f,u,d,p){return f===void 0&&(f=0),u===void 0&&(u=0),d===void 0&&(d=0),p===void 0&&(p=.5),this.dropShadowX=f,this.dropShadowY=u,this.dropShadowColor=d,this.dropShadowAlpha=p,this},setCharacterTint:function(f,u,d,p,x,E,T){f===void 0&&(f=0),u===void 0&&(u=1),d===void 0&&(d=!1),p===void 0&&(p=-1),x===void 0&&(x=p,E=p,T=p);var C=this.text.length;u===-1&&(u=C),f<0&&(f=C+f),f=v(f,0,C-1);for(var A=v(f+u,f,C),M=this.charColors,R=f;R<A;R++){var O=M[R];if(p===-1)M[R]=null;else{var L=d?1:0;O?(O.tintEffect=L,O.tintTL=p,O.tintTR=x,O.tintBL=E,O.tintBR=T):M[R]={tintEffect:L,tintTL:p,tintTR:x,tintBL:E,tintBR:T}}}return this},setWordTint:function(f,u,d,p,x,E,T){u===void 0&&(u=1);for(var C=this.getTextBounds(),A=C.words,M=typeof f=="number",R=0,O=0;O<A.length;O++){var L=A[O];if((M&&O===f||!M&&L.word===f)&&(this.setCharacterTint(L.i,L.word.length,d,p,x,E,T),R++,R===u))return this}return this},getTextBounds:function(f){var u=this._bounds;return(this._dirty||f||this.scaleX!==u.scaleX||this.scaleY!==u.scaleY)&&(s(this,f,!0,u),this._dirty=!1),u},getCharacterAt:function(f,u,d){for(var p=this.getLocalPoint(f,u,null,d),x=this.getTextBounds(),E=x.characters,T=new h,C=0;C<E.length;C++){var A=E[C];if(T.setTo(A.x,A.t,A.r-A.x,A.b),T.contains(p.x,p.y))return A}return null},updateDisplayOrigin:function(){return this._dirty=!0,this.getTextBounds(!1),this},setFont:function(f,u,d){u===void 0&&(u=this._fontSize),d===void 0&&(d=this._align);var p=this.scene.sys.cache.bitmapFont.get(f);return p&&(this.font=f,this.fontData=p.data,this._fontSize=u,this._align=d,this.fromAtlas=p.fromAtlas===!0,this.setTexture(p.texture,p.frame),s(this,!1,!0,this._bounds)),this},setMaxWidth:function(f,u){return this._maxWidth=f,this._dirty=!0,u!==void 0&&(this.wordWrapCharCode=u),this},align:{set:function(f){this._align=f,this._dirty=!0},get:function(){return this._align}},text:{set:function(f){this.setText(f)},get:function(){return this._text}},fontSize:{set:function(f){this._fontSize=f,this._dirty=!0},get:function(){return this._fontSize}},letterSpacing:{set:function(f){this._letterSpacing=f,this._dirty=!0},get:function(){return this._letterSpacing}},lineSpacing:{set:function(f){this._lineSpacing=f,this._dirty=!0},get:function(){return this._lineSpacing}},maxWidth:{set:function(f){this._maxWidth=f,this._dirty=!0},get:function(){return this._maxWidth}},width:{get:function(){return this.getTextBounds(!1),this._bounds.global.width}},height:{get:function(){return this.getTextBounds(!1),this._bounds.global.height}},displayWidth:{get:function(){return this.width}},displayHeight:{get:function(){return this.height}},toJSON:function(){var f=a.ToJSON(this),u={font:this.font,text:this.text,fontSize:this.fontSize,letterSpacing:this.letterSpacing,lineSpacing:this.lineSpacing,align:this.align};return f.data=u,f},preDestroy:function(){this.charColors.length=0,this._bounds=null,this.fontData=null}});l.ALIGN_LEFT=0,l.ALIGN_CENTER=1,l.ALIGN_RIGHT=2,l.ParseFromAtlas=e,l.ParseXMLBitmapFont=r,c.exports=l},37289:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(20926),v=function(a,i,s,e){var r=i._text,h=r.length,n=a.currentContext;if(!(h===0||!o(a,n,i,s,e))){s.addToRenderList(i);var l=i.fromAtlas?i.frame:i.texture.frames.__BASE,f=i.fontData.chars,u=i.fontData.lineHeight,d=i._letterSpacing,p=i._lineSpacing,x=0,E=0,T=0,C=null,A=0,M=0,R=0,O=0,L=0,b=0,N=null,I=0,G=l.source.image,X=l.cutX,$=l.cutY,J=i._fontSize/i.fontData.size,z=i._align,Y=0,D=0,B=i.getTextBounds(!1);i.maxWidth>0&&(r=B.wrappedText,h=r.length);var U=i._bounds.lines;z===1?D=(U.longest-U.lengths[0])/2:z===2&&(D=U.longest-U.lengths[0]),n.translate(-i.displayOriginX,-i.displayOriginY);for(var H=s.roundPixels,j=0;j<h;j++){if(T=r.charCodeAt(j),T===10){Y++,z===1?D=(U.longest-U.lengths[Y])/2:z===2&&(D=U.longest-U.lengths[Y]),x=0,E+=u+p,N=null;continue}if(C=f[T],!!C){if(A=X+C.x,M=$+C.y,R=C.width,O=C.height,L=C.xOffset+x,b=C.yOffset+E,N!==null){var q=C.kerning[I];L+=q!==void 0?q:0}L*=J,b*=J,L+=D,x+=C.xAdvance+d+(q!==void 0?q:0),N=C,I=T,!(R===0||O===0||T===32)&&(H&&(L=Math.round(L),b=Math.round(b)),n.save(),n.translate(L,b),n.scale(J,J),n.drawImage(G,A,M,R,O,0,0,R,O),n.restore())}}n.restore()}};c.exports=v},57336:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(22186),v=t(25305),a=t(44603),i=t(23568),s=t(35154);a.register("bitmapText",function(e,r){e===void 0&&(e={});var h=s(e,"font",""),n=i(e,"text",""),l=i(e,"size",!1),f=s(e,"align",0),u=new o(this.scene,0,0,h,n,l,f);return r!==void 0&&(e.add=r),v(this.scene,u,e),u})},34914:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(22186),v=t(39429);v.register("bitmapText",function(a,i,s,e,r,h){return this.displayList.add(new o(this.scene,a,i,s,e,r,h))})},18658:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(29747),v=o,a=o;v=t(33590),a=t(37289),c.exports={renderWebGL:v,renderCanvas:a}},33590:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(3217),v=t(91296),a=t(70554),i=function(s,e,r,h){var n=e._text,l=n.length;if(l!==0){r.addToRenderList(e);var f=s.pipelines.set(e.pipeline,e),u=v(e,r,h).calc;s.pipelines.preBatch(e);var d=r.roundPixels,p=r.alpha,x=e.charColors,E=e.tintFill,T=a.getTintAppendFloatAlpha,C=T(e.tintTopLeft,p*e._alphaTL),A=T(e.tintTopRight,p*e._alphaTR),M=T(e.tintBottomLeft,p*e._alphaBL),R=T(e.tintBottomRight,p*e._alphaBR),O=e.frame.glTexture,L=f.setGameObject(e),b=e.getTextBounds(!1),N,I,G,X=b.characters,$=e.dropShadowX,J=e.dropShadowY,z=$!==0||J!==0;if(z){var Y=e.dropShadowColor,D=e.dropShadowAlpha,B=T(Y,p*D*e._alphaTL),U=T(Y,p*D*e._alphaTR),H=T(Y,p*D*e._alphaBL),j=T(Y,p*D*e._alphaBR);for(N=0;N<X.length;N++)I=X[N],G=I.glyph,!(I.code===32||G.width===0||G.height===0)&&o(f,e,I,G,$,J,u,d,B,U,H,j,1,O,L)}for(N=0;N<X.length;N++)if(I=X[N],G=I.glyph,!(I.code===32||G.width===0||G.height===0))if(f.shouldFlush(6)&&(f.flush(),L=f.setGameObject(e)),x[I.i]){var q=x[I.i],_=q.tintEffect,st=T(q.tintTL,p*e._alphaTL),ut=T(q.tintTR,p*e._alphaTR),ct=T(q.tintBL,p*e._alphaBL),pt=T(q.tintBR,p*e._alphaBR);o(f,e,I,G,0,0,u,d,st,ut,ct,pt,_,O,L)}else o(f,e,I,G,0,0,u,d,C,A,M,R,E,O,L);s.pipelines.postBatch(e)}};c.exports=i},6107:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(48011),v=t(46590),a=t(83419),i=t(31401),s=t(4327),e=t(95643),r=t(73162),h=new a({Extends:e,Mixins:[i.Alpha,i.BlendMode,i.Depth,i.Mask,i.Pipeline,i.PostPipeline,i.ScrollFactor,i.Size,i.Texture,i.Transform,i.Visible,o],initialize:function(l,f,u,d,p){e.call(this,l,"Blitter"),this.setTexture(d,p),this.setPosition(f,u),this.initPipeline(),this.initPostPipeline(),this.children=new r,this.renderList=[],this.dirty=!1},create:function(n,l,f,u,d){u===void 0&&(u=!0),d===void 0&&(d=this.children.length),f===void 0?f=this.frame:f instanceof s||(f=this.texture.get(f));var p=new v(this,n,l,f,u);return this.children.addAt(p,d,!1),this.dirty=!0,p},createFromCallback:function(n,l,f,u){for(var d=this.createMultiple(l,f,u),p=0;p<d.length;p++){var x=d[p];n.call(this,x,p)}return d},createMultiple:function(n,l,f){l===void 0&&(l=this.frame.name),f===void 0&&(f=!0),Array.isArray(l)||(l=[l]);var u=[],d=this;return l.forEach(function(p){for(var x=0;x<n;x++)u.push(d.create(0,0,p,f))}),u},childCanRender:function(n){return n.visible&&n.alpha>0},getRenderList:function(){return this.dirty&&(this.renderList=this.children.list.filter(this.childCanRender,this),this.dirty=!1),this.renderList},clear:function(){this.children.removeAll(),this.dirty=!0},preDestroy:function(){this.children.destroy(),this.renderList=[]}});c.exports=h},72396:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o,v,a){var i=o.getRenderList();if(i.length!==0){var s=t.currentContext,e=v.alpha*o.alpha;if(e!==0){v.addToRenderList(o),s.globalCompositeOperation=t.blendModes[o.blendMode],s.imageSmoothingEnabled=!o.frame.source.scaleMode;var r=o.x-v.scrollX*o.scrollFactorX,h=o.y-v.scrollY*o.scrollFactorY;s.save(),a&&a.copyToContext(s);for(var n=v.roundPixels,l=0;l<i.length;l++){var f=i[l],u=f.flipX||f.flipY,d=f.frame,p=d.canvasData,x=d.x,E=d.y,T=1,C=1,A=f.alpha*e;A!==0&&(s.globalAlpha=A,u?(f.flipX&&(T=-1,x-=p.width),f.flipY&&(C=-1,E-=p.height),p.width>0&&p.height>0&&(s.save(),s.translate(f.x+r,f.y+h),s.scale(T,C),s.drawImage(d.source.image,p.x,p.y,p.width,p.height,x,E,p.width,p.height),s.restore())):(n&&(x=Math.round(x),E=Math.round(E)),p.width>0&&p.height>0&&s.drawImage(d.source.image,p.x,p.y,p.width,p.height,x+f.x+r,E+f.y+h,p.width,p.height)))}s.restore()}}};c.exports=g},9403:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(6107),v=t(25305),a=t(44603),i=t(23568);a.register("blitter",function(s,e){s===void 0&&(s={});var r=i(s,"key",null),h=i(s,"frame",null),n=new o(this.scene,0,0,r,h);return e!==void 0&&(s.add=e),v(this.scene,n,s),n})},12709:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(6107),v=t(39429);v.register("blitter",function(a,i,s,e){return this.displayList.add(new o(this.scene,a,i,s,e))})},48011:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(29747),v=o,a=o;v=t(99485),a=t(72396),c.exports={renderWebGL:v,renderCanvas:a}},99485:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(61340),v=t(70554),a=new o,i=function(s,e,r,h){var n=e.getRenderList(),l=r.alpha*e.alpha;if(!(n.length===0||l===0)){r.addToRenderList(e);var f=s.pipelines.set(this.pipeline,e),u=r.scrollX*e.scrollFactorX,d=r.scrollY*e.scrollFactorY,p=a.copyFrom(r.matrix);h&&(p.multiplyWithOffset(h,-u,-d),u=0,d=0);var x=e.x-u,E=e.y-d,T=-1,C=!1;s.pipelines.preBatch(e);for(var A=0;A<n.length;A++){var M=n[A],R=M.frame,O=M.alpha*l;if(O!==0){var L=R.width,b=R.height,N=x+M.x+R.x,I=E+M.y+R.y;M.flipX&&(L*=-1,N+=R.width),M.flipY&&(b*=-1,I+=R.height);var G=p.setQuad(N,I,N+L,I+b),X=v.getTintAppendFloatAlpha(M.tint,O);if(R.sourceIndex!==T){var $=f.setGameObject(e,R);T=R.sourceIndex}f.batchQuad(e,G[0],G[1],G[2],G[3],G[4],G[5],G[6],G[7],R.u0,R.v0,R.u1,R.v1,X,X,X,X,C,R.glTexture,$)&&(T=-1)}}s.pipelines.postBatch(e)}};c.exports=i},46590:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(4327),a=new o({initialize:function(s,e,r,h,n){this.parent=s,this.x=e,this.y=r,this.frame=h,this.data={},this.tint=16777215,this._visible=n,this._alpha=1,this.flipX=!1,this.flipY=!1,this.hasTransformComponent=!0},setFrame:function(i){return i===void 0?this.frame=this.parent.frame:i instanceof v&&i.texture===this.parent.texture?this.frame=i:this.frame=this.parent.texture.get(i),this},resetFlip:function(){return this.flipX=!1,this.flipY=!1,this},reset:function(i,s,e){return this.x=i,this.y=s,this.flipX=!1,this.flipY=!1,this._alpha=1,this._visible=!0,this.parent.dirty=!0,e&&this.setFrame(e),this},setPosition:function(i,s){return this.x=i,this.y=s,this},setFlipX:function(i){return this.flipX=i,this},setFlipY:function(i){return this.flipY=i,this},setFlip:function(i,s){return this.flipX=i,this.flipY=s,this},setVisible:function(i){return this.visible=i,this},setAlpha:function(i){return this.alpha=i,this},setTint:function(i){return this.tint=i,this},destroy:function(){this.parent.dirty=!0,this.parent.children.remove(this),this.parent=void 0,this.frame=void 0,this.data=void 0},visible:{get:function(){return this._visible},set:function(i){this.parent.dirty|=this._visible!==i,this._visible=i}},alpha:{get:function(){return this._alpha},set:function(i){this.parent.dirty|=this._alpha>0!=i>0,this._alpha=i}}});c.exports=a},16005:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(45319),v=2,a={_alpha:1,_alphaTL:1,_alphaTR:1,_alphaBL:1,_alphaBR:1,clearAlpha:function(){return this.setAlpha(1)},setAlpha:function(i,s,e,r){return i===void 0&&(i=1),s===void 0?this.alpha=i:(this._alphaTL=o(i,0,1),this._alphaTR=o(s,0,1),this._alphaBL=o(e,0,1),this._alphaBR=o(r,0,1)),this},alpha:{get:function(){return this._alpha},set:function(i){var s=o(i,0,1);this._alpha=s,this._alphaTL=s,this._alphaTR=s,this._alphaBL=s,this._alphaBR=s,s===0?this.renderFlags&=-3:this.renderFlags|=v}},alphaTopLeft:{get:function(){return this._alphaTL},set:function(i){var s=o(i,0,1);this._alphaTL=s,s!==0&&(this.renderFlags|=v)}},alphaTopRight:{get:function(){return this._alphaTR},set:function(i){var s=o(i,0,1);this._alphaTR=s,s!==0&&(this.renderFlags|=v)}},alphaBottomLeft:{get:function(){return this._alphaBL},set:function(i){var s=o(i,0,1);this._alphaBL=s,s!==0&&(this.renderFlags|=v)}},alphaBottomRight:{get:function(){return this._alphaBR},set:function(i){var s=o(i,0,1);this._alphaBR=s,s!==0&&(this.renderFlags|=v)}}};c.exports=a},88509:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(45319),v=2,a={_alpha:1,clearAlpha:function(){return this.setAlpha(1)},setAlpha:function(i){return i===void 0&&(i=1),this.alpha=i,this},alpha:{get:function(){return this._alpha},set:function(i){var s=o(i,0,1);this._alpha=s,s===0?this.renderFlags&=-3:this.renderFlags|=v}}};c.exports=a},90065:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(10312),v={_blendMode:o.NORMAL,blendMode:{get:function(){return this._blendMode},set:function(a){typeof a=="string"&&(a=o[a]),a|=0,a>=-1&&(this._blendMode=a)}},setBlendMode:function(a){return this.blendMode=a,this}};c.exports=v},94215:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g={width:0,height:0,displayWidth:{get:function(){return this.scaleX*this.width},set:function(t){this.scaleX=t/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(t){this.scaleY=t/this.height}},setSize:function(t,o){return this.width=t,this.height=o,this},setDisplaySize:function(t,o){return this.displayWidth=t,this.displayHeight=o,this}};c.exports=g},61683:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g={texture:null,frame:null,isCropped:!1,setCrop:function(t,o,v,a){if(t===void 0)this.isCropped=!1;else if(this.frame){if(typeof t=="number")this.frame.setCropUVs(this._crop,t,o,v,a,this.flipX,this.flipY);else{var i=t;this.frame.setCropUVs(this._crop,i.x,i.y,i.width,i.height,this.flipX,this.flipY)}this.isCropped=!0}return this},resetCropObject:function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}}};c.exports=g},89272:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g={_depth:0,depth:{get:function(){return this._depth},set:function(t){this.displayList&&this.displayList.queueDepthSort(),this._depth=t}},setDepth:function(t){return t===void 0&&(t=0),this.depth=t,this}};c.exports=g},47059:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(66064),a=t(19133),i=new o({initialize:function(e,r){this.gameObject=e,this.isPost=r,this.enabled=!1,this.list=[],this.padding=0},setPadding:function(s){return s===void 0&&(s=0),this.padding=s,this.gameObject},onFXCopy:function(){},onFX:function(){},enable:function(s){if(!this.isPost){var e=this.gameObject.scene.sys.renderer;e&&e.pipelines?(this.gameObject.pipeline=e.pipelines.FX_PIPELINE,s!==void 0&&(this.padding=s),this.enabled=!0):this.enabled=!1}},clear:function(){if(this.isPost)this.gameObject.resetPostPipeline(!0);else{for(var s=this.list,e=0;e<s.length;e++)s[e].destroy();this.list=[]}return this.enabled=!1,this.gameObject},remove:function(s){var e;if(this.isPost){var r=this.gameObject.getPostPipeline(String(s.type));for(Array.isArray(r)||(r=[r]),e=0;e<r.length;e++){var h=r[e];if(h.controller===s){this.gameObject.removePostPipeline(h),s.destroy();break}}}else{var n=this.list;for(e=0;e<n.length;e++)n[e]===s&&(a(n,e),s.destroy())}return this.gameObject},disable:function(s){return s===void 0&&(s=!1),this.isPost||this.gameObject.resetPipeline(),this.enabled=!1,s&&this.clear(),this.gameObject},add:function(s,e){if(this.isPost){var r=String(s.type);this.gameObject.setPostPipeline(r,e);var h=this.gameObject.getPostPipeline(r);if(h)return Array.isArray(h)&&(h=h.pop()),h.controller=s,s}else return this.enabled||this.enable(),this.list.push(s),s},addGlow:function(s,e,r,h,n,l){return this.add(new v.Glow(this.gameObject,s,e,r,h),{quality:n,distance:l})},addShadow:function(s,e,r,h,n,l,f){return this.add(new v.Shadow(this.gameObject,s,e,r,h,n,l,f))},addPixelate:function(s){return this.add(new v.Pixelate(this.gameObject,s))},addVignette:function(s,e,r,h){return this.add(new v.Vignette(this.gameObject,s,e,r,h))},addShine:function(s,e,r,h){return this.add(new v.Shine(this.gameObject,s,e,r,h))},addBlur:function(s,e,r,h,n,l){return this.add(new v.Blur(this.gameObject,s,e,r,h,n,l))},addGradient:function(s,e,r,h,n,l,f,u){return this.add(new v.Gradient(this.gameObject,s,e,r,h,n,l,f,u))},addBloom:function(s,e,r,h,n,l){return this.add(new v.Bloom(this.gameObject,s,e,r,h,n,l))},addColorMatrix:function(){return this.add(new v.ColorMatrix(this.gameObject))},addCircle:function(s,e,r,h,n){return this.add(new v.Circle(this.gameObject,s,e,r,h,n))},addBarrel:function(s){return this.add(new v.Barrel(this.gameObject,s))},addDisplacement:function(s,e,r){return this.add(new v.Displacement(this.gameObject,s,e,r))},addWipe:function(s,e,r){return this.add(new v.Wipe(this.gameObject,s,e,r))},addReveal:function(s,e,r){return this.add(new v.Wipe(this.gameObject,s,e,r,!0))},addBokeh:function(s,e,r){return this.add(new v.Bokeh(this.gameObject,s,e,r))},addTiltShift:function(s,e,r,h,n,l){return this.add(new v.Bokeh(this.gameObject,s,e,r,!0,h,n,l))},destroy:function(){this.clear(),this.gameObject=null}});c.exports=i},54434:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g={flipX:!1,flipY:!1,toggleFlipX:function(){return this.flipX=!this.flipX,this},toggleFlipY:function(){return this.flipY=!this.flipY,this},setFlipX:function(t){return this.flipX=t,this},setFlipY:function(t){return this.flipY=t,this},setFlip:function(t,o){return this.flipX=t,this.flipY=o,this},resetFlip:function(){return this.flipX=!1,this.flipY=!1,this}};c.exports=g},8004:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(87841),v=t(11520),a=t(26099),i={prepareBoundsOutput:function(s,e){if(e===void 0&&(e=!1),this.rotation!==0&&v(s,this.x,this.y,this.rotation),e&&this.parentContainer){var r=this.parentContainer.getBoundsTransformMatrix();r.transformPoint(s.x,s.y,s)}return s},getCenter:function(s,e){return s===void 0&&(s=new a),s.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,s.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(s,e)},getTopLeft:function(s,e){return s||(s=new a),s.x=this.x-this.displayWidth*this.originX,s.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(s,e)},getTopCenter:function(s,e){return s||(s=new a),s.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,s.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(s,e)},getTopRight:function(s,e){return s||(s=new a),s.x=this.x-this.displayWidth*this.originX+this.displayWidth,s.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(s,e)},getLeftCenter:function(s,e){return s||(s=new a),s.x=this.x-this.displayWidth*this.originX,s.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(s,e)},getRightCenter:function(s,e){return s||(s=new a),s.x=this.x-this.displayWidth*this.originX+this.displayWidth,s.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(s,e)},getBottomLeft:function(s,e){return s||(s=new a),s.x=this.x-this.displayWidth*this.originX,s.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(s,e)},getBottomCenter:function(s,e){return s||(s=new a),s.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,s.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(s,e)},getBottomRight:function(s,e){return s||(s=new a),s.x=this.x-this.displayWidth*this.originX+this.displayWidth,s.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(s,e)},getBounds:function(s){s===void 0&&(s=new o);var e,r,h,n,l,f,u,d;if(this.parentContainer){var p=this.parentContainer.getBoundsTransformMatrix();this.getTopLeft(s),p.transformPoint(s.x,s.y,s),e=s.x,r=s.y,this.getTopRight(s),p.transformPoint(s.x,s.y,s),h=s.x,n=s.y,this.getBottomLeft(s),p.transformPoint(s.x,s.y,s),l=s.x,f=s.y,this.getBottomRight(s),p.transformPoint(s.x,s.y,s),u=s.x,d=s.y}else this.getTopLeft(s),e=s.x,r=s.y,this.getTopRight(s),h=s.x,n=s.y,this.getBottomLeft(s),l=s.x,f=s.y,this.getBottomRight(s),u=s.x,d=s.y;return s.x=Math.min(e,h,l,u),s.y=Math.min(r,n,f,d),s.width=Math.max(e,h,l,u)-s.x,s.height=Math.max(r,n,f,d)-s.y,s}};c.exports=i},8573:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(6858),v=t(80661),a={mask:null,setMask:function(i){return this.mask=i,this},clearMask:function(i){return i===void 0&&(i=!1),i&&this.mask&&this.mask.destroy(),this.mask=null,this},createBitmapMask:function(i,s,e,r,h){return i===void 0&&(this.texture||this.shader||this.geom)&&(i=this),new o(this.scene,i,s,e,r,h)},createGeometryMask:function(i){return i===void 0&&(this.type==="Graphics"||this.geom)&&(i=this),new v(this.scene,i)}};c.exports=a},27387:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g={_originComponent:!0,originX:.5,originY:.5,_displayOriginX:0,_displayOriginY:0,displayOriginX:{get:function(){return this._displayOriginX},set:function(t){this._displayOriginX=t,this.originX=t/this.width}},displayOriginY:{get:function(){return this._displayOriginY},set:function(t){this._displayOriginY=t,this.originY=t/this.height}},setOrigin:function(t,o){return t===void 0&&(t=.5),o===void 0&&(o=t),this.originX=t,this.originY=o,this.updateDisplayOrigin()},setOriginFromFrame:function(){return!this.frame||!this.frame.customPivot?this.setOrigin():(this.originX=this.frame.pivotX,this.originY=this.frame.pivotY,this.updateDisplayOrigin())},setDisplayOrigin:function(t,o){return t===void 0&&(t=0),o===void 0&&(o=t),this.displayOriginX=t,this.displayOriginY=o,this},updateDisplayOrigin:function(){return this._displayOriginX=this.originX*this.width,this._displayOriginY=this.originY*this.height,this}};c.exports=g},37640:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(39506),v=t(57355),a=t(35154),i=t(86353),s=t(26099),e={path:null,rotateToPath:!1,pathRotationOffset:0,pathOffset:null,pathVector:null,pathDelta:null,pathTween:null,pathConfig:null,_prevDirection:i.PLAYING_FORWARD,setPath:function(r,h){h===void 0&&(h=this.pathConfig);var n=this.pathTween;return n&&n.isPlaying()&&n.stop(),this.path=r,h&&this.startFollow(h),this},setRotateToPath:function(r,h){return h===void 0&&(h=0),this.rotateToPath=r,this.pathRotationOffset=h,this},isFollowing:function(){var r=this.pathTween;return r&&r.isPlaying()},startFollow:function(r,h){r===void 0&&(r={}),h===void 0&&(h=0);var n=this.pathTween;n&&n.isPlaying()&&n.stop(),typeof r=="number"&&(r={duration:r}),r.from=a(r,"from",0),r.to=a(r,"to",1);var l=v(r,"positionOnPath",!1);this.rotateToPath=v(r,"rotateToPath",!1),this.pathRotationOffset=a(r,"rotationOffset",0);var f=a(r,"startAt",h);if(f&&(r.onStart=function(d){var p=d.data[0];p.progress=f,p.elapsed=p.duration*f;var x=p.ease(p.progress);p.current=p.start+(p.end-p.start)*x,p.setTargetValue()}),this.pathOffset||(this.pathOffset=new s(this.x,this.y)),this.pathVector||(this.pathVector=new s),this.pathDelta||(this.pathDelta=new s),this.pathDelta.reset(),r.persist=!0,this.pathTween=this.scene.sys.tweens.addCounter(r),this.path.getStartPoint(this.pathOffset),l&&(this.x=this.pathOffset.x,this.y=this.pathOffset.y),this.pathOffset.x=this.x-this.pathOffset.x,this.pathOffset.y=this.y-this.pathOffset.y,this._prevDirection=i.PLAYING_FORWARD,this.rotateToPath){var u=this.path.getPoint(.1);this.rotation=Math.atan2(u.y-this.y,u.x-this.x)+o(this.pathRotationOffset)}return this.pathConfig=r,this},pauseFollow:function(){var r=this.pathTween;return r&&r.isPlaying()&&r.pause(),this},resumeFollow:function(){var r=this.pathTween;return r&&r.isPaused()&&r.resume(),this},stopFollow:function(){var r=this.pathTween;return r&&r.isPlaying()&&r.stop(),this},pathUpdate:function(){var r=this.pathTween;if(r&&r.data){var h=r.data[0],n=this.pathDelta,l=this.pathVector;if(n.copy(l).negate(),h.state===i.COMPLETE){this.path.getPoint(h.end,l),n.add(l),l.add(this.pathOffset),this.setPosition(l.x,l.y);return}else if(h.state!==i.PLAYING_FORWARD&&h.state!==i.PLAYING_BACKWARD)return;this.path.getPoint(r.getValue(),l),n.add(l),l.add(this.pathOffset);var f=this.x,u=this.y;this.setPosition(l.x,l.y);var d=this.x-f,p=this.y-u;if(d===0&&p===0)return;if(h.state!==this._prevDirection){this._prevDirection=h.state;return}this.rotateToPath&&(this.rotation=Math.atan2(p,d)+o(this.pathRotationOffset))}}};c.exports=e},72699:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(62644),v={defaultPipeline:null,pipeline:null,pipelineData:null,initPipeline:function(a){this.pipelineData={};var i=this.scene.sys.renderer;if(!i)return!1;var s=i.pipelines;if(s){a===void 0&&(a=s.default);var e=s.get(a);if(e)return this.defaultPipeline=e,this.pipeline=e,!0}return!1},setPipeline:function(a,i,s){var e=this.scene.sys.renderer;if(!e)return this;var r=e.pipelines;if(r){var h=r.get(a);h&&(this.pipeline=h),i&&(this.pipelineData=s?o(i):i)}return this},setPipelineData:function(a,i){var s=this.pipelineData;return i===void 0?delete s[a]:s[a]=i,this},resetPipeline:function(a){return a===void 0&&(a=!1),this.pipeline=this.defaultPipeline,a&&(this.pipelineData={}),this.pipeline!==null},getPipelineName:function(){return this.pipeline.name}};c.exports=v},17581:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(62644),v=t(47059),a=t(19133),i={hasPostPipeline:!1,postPipelines:null,postPipelineData:null,preFX:null,postFX:null,initPostPipeline:function(s){this.postPipelines=[],this.postPipelineData={},this.postFX=new v(this,!0),s&&(this.preFX=new v(this,!1))},setPostPipeline:function(s,e,r){var h=this.scene.sys.renderer;if(!h)return this;var n=h.pipelines;if(n){Array.isArray(s)||(s=[s]);for(var l=0;l<s.length;l++){var f=n.getPostPipeline(s[l],this,e);f&&this.postPipelines.push(f)}e&&(this.postPipelineData=r?o(e):e)}return this.hasPostPipeline=this.postPipelines.length>0,this},setPostPipelineData:function(s,e){var r=this.postPipelineData;return e===void 0?delete r[s]:r[s]=e,this},getPostPipeline:function(s){for(var e=typeof s=="string",r=this.postPipelines,h=[],n=0;n<r.length;n++){var l=r[n];(e&&l.name===s||!e&&l instanceof s)&&h.push(l)}return h.length===1?h[0]:h},resetPostPipeline:function(s){s===void 0&&(s=!1);for(var e=this.postPipelines,r=0;r<e.length;r++)e[r].destroy();this.postPipelines=[],this.hasPostPipeline=!1,s&&(this.postPipelineData={})},removePostPipeline:function(s){for(var e=typeof s=="string",r=this.postPipelines,h=r.length-1;h>=0;h--){var n=r[h];(e&&n.name===s||!e&&n===s)&&(n.destroy(),a(r,h))}return this.hasPostPipeline=this.postPipelines.length>0,this},clearFX:function(){return this.preFX&&this.preFX.clear(),this.postFX&&this.postFX.clear(),this}};c.exports=i},80227:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g={scrollFactorX:1,scrollFactorY:1,setScrollFactor:function(t,o){return o===void 0&&(o=t),this.scrollFactorX=t,this.scrollFactorY=o,this}};c.exports=g},16736:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g={_sizeComponent:!0,width:0,height:0,displayWidth:{get:function(){return Math.abs(this.scaleX*this.frame.realWidth)},set:function(t){this.scaleX=t/this.frame.realWidth}},displayHeight:{get:function(){return Math.abs(this.scaleY*this.frame.realHeight)},set:function(t){this.scaleY=t/this.frame.realHeight}},setSizeToFrame:function(t){t||(t=this.frame),this.width=t.realWidth,this.height=t.realHeight;var o=this.input;return o&&!o.customHitArea&&(o.hitArea.width=this.width,o.hitArea.height=this.height),this},setSize:function(t,o){return this.width=t,this.height=o,this},setDisplaySize:function(t,o){return this.displayWidth=t,this.displayHeight=o,this}};c.exports=g},37726:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(4327),v=8,a={texture:null,frame:null,isCropped:!1,setTexture:function(i,s,e,r){return this.texture=this.scene.sys.textures.get(i),this.setFrame(s,e,r)},setFrame:function(i,s,e){return s===void 0&&(s=!0),e===void 0&&(e=!0),i instanceof o?(this.texture=this.scene.sys.textures.get(i.texture.key),this.frame=i):this.frame=this.texture.get(i),!this.frame.cutWidth||!this.frame.cutHeight?this.renderFlags&=-9:this.renderFlags|=v,this._sizeComponent&&s&&this.setSizeToFrame(),this._originComponent&&e&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin()),this}};c.exports=a},79812:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(4327),v=8,a={texture:null,frame:null,isCropped:!1,setCrop:function(i,s,e,r){if(i===void 0)this.isCropped=!1;else if(this.frame){if(typeof i=="number")this.frame.setCropUVs(this._crop,i,s,e,r,this.flipX,this.flipY);else{var h=i;this.frame.setCropUVs(this._crop,h.x,h.y,h.width,h.height,this.flipX,this.flipY)}this.isCropped=!0}return this},setTexture:function(i,s){return this.texture=this.scene.sys.textures.get(i),this.setFrame(s)},setFrame:function(i,s,e){return s===void 0&&(s=!0),e===void 0&&(e=!0),i instanceof o?(this.texture=this.scene.sys.textures.get(i.texture.key),this.frame=i):this.frame=this.texture.get(i),!this.frame.cutWidth||!this.frame.cutHeight?this.renderFlags&=-9:this.renderFlags|=v,this._sizeComponent&&s&&this.setSizeToFrame(),this._originComponent&&e&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin()),this.isCropped&&this.frame.updateCropUVs(this._crop,this.flipX,this.flipY),this},resetCropObject:function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}}};c.exports=a},27472:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g={tintTopLeft:16777215,tintTopRight:16777215,tintBottomLeft:16777215,tintBottomRight:16777215,tintFill:!1,clearTint:function(){return this.setTint(16777215),this},setTint:function(t,o,v,a){return t===void 0&&(t=16777215),o===void 0&&(o=t,v=t,a=t),this.tintTopLeft=t,this.tintTopRight=o,this.tintBottomLeft=v,this.tintBottomRight=a,this.tintFill=!1,this},setTintFill:function(t,o,v,a){return this.setTint(t,o,v,a),this.tintFill=!0,this},tint:{get:function(){return this.tintTopLeft},set:function(t){this.setTint(t,t,t,t)}},isTinted:{get:function(){var t=16777215;return this.tintFill||this.tintTopLeft!==t||this.tintTopRight!==t||this.tintBottomLeft!==t||this.tintBottomRight!==t}}};c.exports=g},53774:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t){var o={name:t.name,type:t.type,x:t.x,y:t.y,depth:t.depth,scale:{x:t.scaleX,y:t.scaleY},origin:{x:t.originX,y:t.originY},flipX:t.flipX,flipY:t.flipY,rotation:t.rotation,alpha:t.alpha,visible:t.visible,blendMode:t.blendMode,textureKey:"",frameKey:"",data:{}};return t.texture&&(o.textureKey=t.texture.key,o.frameKey=t.frame.name),o};c.exports=g},16901:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(36383),v=t(61340),a=t(85955),i=t(86554),s=t(30954),e=t(26099),r=4,h={hasTransformComponent:!0,_scaleX:1,_scaleY:1,_rotation:0,x:0,y:0,z:0,w:0,scale:{get:function(){return(this._scaleX+this._scaleY)/2},set:function(n){this._scaleX=n,this._scaleY=n,n===0?this.renderFlags&=-5:this.renderFlags|=r}},scaleX:{get:function(){return this._scaleX},set:function(n){this._scaleX=n,n===0?this.renderFlags&=-5:this._scaleY!==0&&(this.renderFlags|=r)}},scaleY:{get:function(){return this._scaleY},set:function(n){this._scaleY=n,n===0?this.renderFlags&=-5:this._scaleX!==0&&(this.renderFlags|=r)}},angle:{get:function(){return s(this._rotation*o.RAD_TO_DEG)},set:function(n){this.rotation=s(n)*o.DEG_TO_RAD}},rotation:{get:function(){return this._rotation},set:function(n){this._rotation=i(n)}},setPosition:function(n,l,f,u){return n===void 0&&(n=0),l===void 0&&(l=n),f===void 0&&(f=0),u===void 0&&(u=0),this.x=n,this.y=l,this.z=f,this.w=u,this},copyPosition:function(n){return n.x!==void 0&&(this.x=n.x),n.y!==void 0&&(this.y=n.y),n.z!==void 0&&(this.z=n.z),n.w!==void 0&&(this.w=n.w),this},setRandomPosition:function(n,l,f,u){return n===void 0&&(n=0),l===void 0&&(l=0),f===void 0&&(f=this.scene.sys.scale.width),u===void 0&&(u=this.scene.sys.scale.height),this.x=n+Math.random()*f,this.y=l+Math.random()*u,this},setRotation:function(n){return n===void 0&&(n=0),this.rotation=n,this},setAngle:function(n){return n===void 0&&(n=0),this.angle=n,this},setScale:function(n,l){return n===void 0&&(n=1),l===void 0&&(l=n),this.scaleX=n,this.scaleY=l,this},setX:function(n){return n===void 0&&(n=0),this.x=n,this},setY:function(n){return n===void 0&&(n=0),this.y=n,this},setZ:function(n){return n===void 0&&(n=0),this.z=n,this},setW:function(n){return n===void 0&&(n=0),this.w=n,this},getLocalTransformMatrix:function(n){return n===void 0&&(n=new v),n.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY)},getWorldTransformMatrix:function(n,l){n===void 0&&(n=new v);var f=this.parentContainer;if(!f)return this.getLocalTransformMatrix(n);for(l||(l=new v),n.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY);f;)l.applyITRS(f.x,f.y,f._rotation,f._scaleX,f._scaleY),l.multiply(n,n),f=f.parentContainer;return n},getLocalPoint:function(n,l,f,u){f||(f=new e),u||(u=this.scene.sys.cameras.main);var d=u.scrollX,p=u.scrollY,x=n+d*this.scrollFactorX-d,E=l+p*this.scrollFactorY-p;return this.parentContainer?this.getWorldTransformMatrix().applyInverse(x,E,f):a(x,E,this.x,this.y,this.rotation,this.scaleX,this.scaleY,f),this._originComponent&&(f.x+=this._displayOriginX,f.y+=this._displayOriginY),f},getParentRotation:function(){for(var n=0,l=this.parentContainer;l;)n+=l.rotation,l=l.parentContainer;return n}};c.exports=h},61340:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(36383),a=t(26099),i=new o({initialize:function(e,r,h,n,l,f){e===void 0&&(e=1),r===void 0&&(r=0),h===void 0&&(h=0),n===void 0&&(n=1),l===void 0&&(l=0),f===void 0&&(f=0),this.matrix=new Float32Array([e,r,h,n,l,f,0,0,1]),this.decomposedMatrix={translateX:0,translateY:0,scaleX:1,scaleY:1,rotation:0},this.quad=new Float32Array(8)},a:{get:function(){return this.matrix[0]},set:function(s){this.matrix[0]=s}},b:{get:function(){return this.matrix[1]},set:function(s){this.matrix[1]=s}},c:{get:function(){return this.matrix[2]},set:function(s){this.matrix[2]=s}},d:{get:function(){return this.matrix[3]},set:function(s){this.matrix[3]=s}},e:{get:function(){return this.matrix[4]},set:function(s){this.matrix[4]=s}},f:{get:function(){return this.matrix[5]},set:function(s){this.matrix[5]=s}},tx:{get:function(){return this.matrix[4]},set:function(s){this.matrix[4]=s}},ty:{get:function(){return this.matrix[5]},set:function(s){this.matrix[5]=s}},rotation:{get:function(){return Math.acos(this.a/this.scaleX)*(Math.atan(-this.c/this.a)<0?-1:1)}},rotationNormalized:{get:function(){var s=this.matrix,e=s[0],r=s[1],h=s[2],n=s[3];return e||r?r>0?Math.acos(e/this.scaleX):-Math.acos(e/this.scaleX):h||n?v.TAU-(n>0?Math.acos(-h/this.scaleY):-Math.acos(h/this.scaleY)):0}},scaleX:{get:function(){return Math.sqrt(this.a*this.a+this.b*this.b)}},scaleY:{get:function(){return Math.sqrt(this.c*this.c+this.d*this.d)}},loadIdentity:function(){var s=this.matrix;return s[0]=1,s[1]=0,s[2]=0,s[3]=1,s[4]=0,s[5]=0,this},translate:function(s,e){var r=this.matrix;return r[4]=r[0]*s+r[2]*e+r[4],r[5]=r[1]*s+r[3]*e+r[5],this},scale:function(s,e){var r=this.matrix;return r[0]*=s,r[1]*=s,r[2]*=e,r[3]*=e,this},rotate:function(s){var e=Math.sin(s),r=Math.cos(s),h=this.matrix,n=h[0],l=h[1],f=h[2],u=h[3];return h[0]=n*r+f*e,h[1]=l*r+u*e,h[2]=n*-e+f*r,h[3]=l*-e+u*r,this},multiply:function(s,e){var r=this.matrix,h=s.matrix,n=r[0],l=r[1],f=r[2],u=r[3],d=r[4],p=r[5],x=h[0],E=h[1],T=h[2],C=h[3],A=h[4],M=h[5],R=e===void 0?r:e.matrix;return R[0]=x*n+E*f,R[1]=x*l+E*u,R[2]=T*n+C*f,R[3]=T*l+C*u,R[4]=A*n+M*f+d,R[5]=A*l+M*u+p,R},multiplyWithOffset:function(s,e,r){var h=this.matrix,n=s.matrix,l=h[0],f=h[1],u=h[2],d=h[3],p=h[4],x=h[5],E=e*l+r*u+p,T=e*f+r*d+x,C=n[0],A=n[1],M=n[2],R=n[3],O=n[4],L=n[5];return h[0]=C*l+A*u,h[1]=C*f+A*d,h[2]=M*l+R*u,h[3]=M*f+R*d,h[4]=O*l+L*u+E,h[5]=O*f+L*d+T,this},transform:function(s,e,r,h,n,l){var f=this.matrix,u=f[0],d=f[1],p=f[2],x=f[3],E=f[4],T=f[5];return f[0]=s*u+e*p,f[1]=s*d+e*x,f[2]=r*u+h*p,f[3]=r*d+h*x,f[4]=n*u+l*p+E,f[5]=n*d+l*x+T,this},transformPoint:function(s,e,r){r===void 0&&(r={x:0,y:0});var h=this.matrix,n=h[0],l=h[1],f=h[2],u=h[3],d=h[4],p=h[5];return r.x=s*n+e*f+d,r.y=s*l+e*u+p,r},invert:function(){var s=this.matrix,e=s[0],r=s[1],h=s[2],n=s[3],l=s[4],f=s[5],u=e*n-r*h;return s[0]=n/u,s[1]=-r/u,s[2]=-h/u,s[3]=e/u,s[4]=(h*f-n*l)/u,s[5]=-(e*f-r*l)/u,this},copyFrom:function(s){var e=this.matrix;return e[0]=s.a,e[1]=s.b,e[2]=s.c,e[3]=s.d,e[4]=s.e,e[5]=s.f,this},copyFromArray:function(s){var e=this.matrix;return e[0]=s[0],e[1]=s[1],e[2]=s[2],e[3]=s[3],e[4]=s[4],e[5]=s[5],this},copyToContext:function(s){var e=this.matrix;return s.transform(e[0],e[1],e[2],e[3],e[4],e[5]),s},setToContext:function(s){return s.setTransform(this),s},copyToArray:function(s){var e=this.matrix;return s===void 0?s=[e[0],e[1],e[2],e[3],e[4],e[5]]:(s[0]=e[0],s[1]=e[1],s[2]=e[2],s[3]=e[3],s[4]=e[4],s[5]=e[5]),s},setTransform:function(s,e,r,h,n,l){var f=this.matrix;return f[0]=s,f[1]=e,f[2]=r,f[3]=h,f[4]=n,f[5]=l,this},decomposeMatrix:function(){var s=this.decomposedMatrix,e=this.matrix,r=e[0],h=e[1],n=e[2],l=e[3],f=r*l-h*n;if(s.translateX=e[4],s.translateY=e[5],r||h){var u=Math.sqrt(r*r+h*h);s.rotation=h>0?Math.acos(r/u):-Math.acos(r/u),s.scaleX=u,s.scaleY=f/u}else if(n||l){var d=Math.sqrt(n*n+l*l);s.rotation=Math.PI*.5-(l>0?Math.acos(-n/d):-Math.acos(n/d)),s.scaleX=f/d,s.scaleY=d}else s.rotation=0,s.scaleX=0,s.scaleY=0;return s},applyITRS:function(s,e,r,h,n){var l=this.matrix,f=Math.sin(r),u=Math.cos(r);return l[4]=s,l[5]=e,l[0]=u*h,l[1]=f*h,l[2]=-f*n,l[3]=u*n,this},applyInverse:function(s,e,r){r===void 0&&(r=new a);var h=this.matrix,n=h[0],l=h[1],f=h[2],u=h[3],d=h[4],p=h[5],x=1/(n*u+f*-l);return r.x=u*x*s+-f*x*e+(p*f-d*u)*x,r.y=n*x*e+-l*x*s+(-p*n+d*l)*x,r},setQuad:function(s,e,r,h,n,l){n===void 0&&(n=!1),l===void 0&&(l=this.quad);var f=this.matrix,u=f[0],d=f[1],p=f[2],x=f[3],E=f[4],T=f[5];return n?(l[0]=Math.round(s*u+e*p+E),l[1]=Math.round(s*d+e*x+T),l[2]=Math.round(s*u+h*p+E),l[3]=Math.round(s*d+h*x+T),l[4]=Math.round(r*u+h*p+E),l[5]=Math.round(r*d+h*x+T),l[6]=Math.round(r*u+e*p+E),l[7]=Math.round(r*d+e*x+T)):(l[0]=s*u+e*p+E,l[1]=s*d+e*x+T,l[2]=s*u+h*p+E,l[3]=s*d+h*x+T,l[4]=r*u+h*p+E,l[5]=r*d+h*x+T,l[6]=r*u+e*p+E,l[7]=r*d+e*x+T),l},getX:function(s,e){return s*this.a+e*this.c+this.e},getY:function(s,e){return s*this.b+e*this.d+this.f},getXRound:function(s,e,r){var h=this.getX(s,e);return r&&(h=Math.round(h)),h},getYRound:function(s,e,r){var h=this.getY(s,e);return r&&(h=Math.round(h)),h},getCSSMatrix:function(){var s=this.matrix;return"matrix("+s[0]+","+s[1]+","+s[2]+","+s[3]+","+s[4]+","+s[5]+")"},destroy:function(){this.matrix=null,this.quad=null,this.decomposedMatrix=null}});c.exports=i},59715:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=1,t={_visible:!0,visible:{get:function(){return this._visible},set:function(o){o?(this._visible=!0,this.renderFlags|=g):(this._visible=!1,this.renderFlags&=-2)}},setVisible:function(o){return this.visible=o,this}};c.exports=t},31401:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Alpha:t(16005),AlphaSingle:t(88509),BlendMode:t(90065),ComputedSize:t(94215),Crop:t(61683),Depth:t(89272),Flip:t(54434),FX:t(47059),GetBounds:t(8004),Mask:t(8573),Origin:t(27387),PathFollower:t(37640),Pipeline:t(72699),PostPipeline:t(17581),ScrollFactor:t(80227),Size:t(16736),Texture:t(37726),TextureCrop:t(79812),Tint:t(27472),ToJSON:t(53774),Transform:t(16901),TransformMatrix:t(61340),Visible:t(59715)}},31559:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(37105),v=t(10312),a=t(83419),i=t(31401),s=t(51708),e=t(95643),r=t(87841),h=t(29959),n=t(36899),l=t(26099),f=new a({Extends:e,Mixins:[i.AlphaSingle,i.BlendMode,i.ComputedSize,i.Depth,i.Mask,i.PostPipeline,i.Transform,i.Visible,h],initialize:function(d,p,x,E){e.call(this,d,"Container"),this.list=[],this.exclusive=!0,this.maxSize=-1,this.position=0,this.localTransform=new i.TransformMatrix,this.tempTransformMatrix=new i.TransformMatrix,this._sortKey="",this._sysEvents=d.sys.events,this.scrollFactorX=1,this.scrollFactorY=1,this.initPostPipeline(),this.setPosition(p,x),this.setBlendMode(v.SKIP_CHECK),E&&this.add(E)},originX:{get:function(){return .5}},originY:{get:function(){return .5}},displayOriginX:{get:function(){return this.width*.5}},displayOriginY:{get:function(){return this.height*.5}},setExclusive:function(u){return u===void 0&&(u=!0),this.exclusive=u,this},getBounds:function(u){if(u===void 0&&(u=new r),u.setTo(this.x,this.y,0,0),this.parentContainer){var d=this.parentContainer.getBoundsTransformMatrix(),p=d.transformPoint(this.x,this.y);u.setTo(p.x,p.y,0,0)}if(this.list.length>0){var x=this.list,E=new r,T=!1;u.setEmpty();for(var C=0;C<x.length;C++){var A=x[C];A.getBounds&&(A.getBounds(E),T?n(E,u,u):(u.setTo(E.x,E.y,E.width,E.height),T=!0))}}return u},addHandler:function(u){u.once(s.DESTROY,this.onChildDestroyed,this),this.exclusive&&(u.parentContainer&&u.parentContainer.remove(u),u.parentContainer=this,u.removeFromDisplayList(),u.addedToScene())},removeHandler:function(u){u.off(s.DESTROY,this.remove,this),this.exclusive&&(u.parentContainer=null,u.removedFromScene(),u.addToDisplayList())},pointToContainer:function(u,d){d===void 0&&(d=new l),this.parentContainer?this.parentContainer.pointToContainer(u,d):(d.x=u.x,d.y=u.y);var p=this.tempTransformMatrix;return p.applyITRS(this.x,this.y,this.rotation,this.scaleX,this.scaleY),p.invert(),p.transformPoint(u.x,u.y,d),d},getBoundsTransformMatrix:function(){return this.getWorldTransformMatrix(this.tempTransformMatrix,this.localTransform)},add:function(u){return o.Add(this.list,u,this.maxSize,this.addHandler,this),this},addAt:function(u,d){return o.AddAt(this.list,u,d,this.maxSize,this.addHandler,this),this},getAt:function(u){return this.list[u]},getIndex:function(u){return this.list.indexOf(u)},sort:function(u,d){return u?(d===void 0&&(d=function(p,x){return p[u]-x[u]}),o.StableSort(this.list,d),this):this},getByName:function(u){return o.GetFirst(this.list,"name",u)},getRandom:function(u,d){return o.GetRandom(this.list,u,d)},getFirst:function(u,d,p,x){return o.GetFirst(this.list,u,d,p,x)},getAll:function(u,d,p,x){return o.GetAll(this.list,u,d,p,x)},count:function(u,d,p,x){return o.CountAllMatching(this.list,u,d,p,x)},swap:function(u,d){return o.Swap(this.list,u,d),this},moveTo:function(u,d){return o.MoveTo(this.list,u,d),this},moveAbove:function(u,d){return o.MoveAbove(this.list,u,d),this},moveBelow:function(u,d){return o.MoveBelow(this.list,u,d),this},remove:function(u,d){var p=o.Remove(this.list,u,this.removeHandler,this);if(d&&p){Array.isArray(p)||(p=[p]);for(var x=0;x<p.length;x++)p[x].destroy()}return this},removeAt:function(u,d){var p=o.RemoveAt(this.list,u,this.removeHandler,this);return d&&p&&p.destroy(),this},removeBetween:function(u,d,p){var x=o.RemoveBetween(this.list,u,d,this.removeHandler,this);if(p)for(var E=0;E<x.length;E++)x[E].destroy();return this},removeAll:function(u){var d=this.list;if(u){for(var p=0;p<d.length;p++)d[p]&&d[p].scene&&(d[p].off(s.DESTROY,this.onChildDestroyed,this),d[p].destroy());this.list=[]}else o.RemoveBetween(d,0,d.length,this.removeHandler,this);return this},bringToTop:function(u){return o.BringToTop(this.list,u),this},sendToBack:function(u){return o.SendToBack(this.list,u),this},moveUp:function(u){return o.MoveUp(this.list,u),this},moveDown:function(u){return o.MoveDown(this.list,u),this},reverse:function(){return this.list.reverse(),this},shuffle:function(){return o.Shuffle(this.list),this},replace:function(u,d,p){var x=o.Replace(this.list,u,d);return x&&(this.addHandler(d),this.removeHandler(u),p&&u.destroy()),this},exists:function(u){return this.list.indexOf(u)>-1},setAll:function(u,d,p,x){return o.SetAll(this.list,u,d,p,x),this},each:function(u,d){var p=[null],x,E=this.list.slice(),T=E.length;for(x=2;x<arguments.length;x++)p.push(arguments[x]);for(x=0;x<T;x++)p[0]=E[x],u.apply(d,p);return this},iterate:function(u,d){var p=[null],x;for(x=2;x<arguments.length;x++)p.push(arguments[x]);for(x=0;x<this.list.length;x++)p[0]=this.list[x],u.apply(d,p);return this},setScrollFactor:function(u,d,p){return d===void 0&&(d=u),p===void 0&&(p=!1),this.scrollFactorX=u,this.scrollFactorY=d,p&&(o.SetAll(this.list,"scrollFactorX",u),o.SetAll(this.list,"scrollFactorY",d)),this},length:{get:function(){return this.list.length}},first:{get:function(){return this.position=0,this.list.length>0?this.list[0]:null}},last:{get:function(){return this.list.length>0?(this.position=this.list.length-1,this.list[this.position]):null}},next:{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}},previous:{get:function(){return this.position>0?(this.position--,this.list[this.position]):null}},preDestroy:function(){this.removeAll(!!this.exclusive),this.localTransform.destroy(),this.tempTransformMatrix.destroy(),this.list=[]},onChildDestroyed:function(u){o.Remove(this.list,u),this.exclusive&&(u.parentContainer=null,u.removedFromScene())}});c.exports=f},53584:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o,v,a){v.addToRenderList(o);var i=o.list;if(i.length!==0){var s=o.localTransform;a?(s.loadIdentity(),s.multiply(a),s.translate(o.x,o.y),s.rotate(o.rotation),s.scale(o.scaleX,o.scaleY)):s.applyITRS(o.x,o.y,o.rotation,o.scaleX,o.scaleY);var e=o.blendMode!==-1;e||t.setBlendMode(0);var r=o._alpha,h=o.scrollFactorX,n=o.scrollFactorY;o.mask&&o.mask.preRenderCanvas(t,null,v);for(var l=0;l<i.length;l++){var f=i[l];if(f.willRender(v)){var u=f.alpha,d=f.scrollFactorX,p=f.scrollFactorY;!e&&f.blendMode!==t.currentBlendMode&&t.setBlendMode(f.blendMode),f.setScrollFactor(d*h,p*n),f.setAlpha(u*r),f.renderCanvas(t,f,v,s),f.setAlpha(u),f.setScrollFactor(d,p)}}o.mask&&o.mask.postRenderCanvas(t)}};c.exports=g},77143:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(25305),v=t(31559),a=t(44603),i=t(23568),s=t(95540);a.register("container",function(e,r){e===void 0&&(e={});var h=i(e,"x",0),n=i(e,"y",0),l=s(e,"children",null),f=new v(this.scene,h,n,l);return r!==void 0&&(e.add=r),o(this.scene,f,e),f})},24961:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(31559),v=t(39429);v.register("container",function(a,i,s){return this.displayList.add(new o(this.scene,a,i,s))})},29959:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(29747),v=o,a=o;v=t(72249),a=t(53584),c.exports={renderWebGL:v,renderCanvas:a}},72249:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o,v,a){v.addToRenderList(o);var i=o.list,s=i.length;if(s!==0){var e=o.localTransform;a?(e.loadIdentity(),e.multiply(a),e.translate(o.x,o.y),e.rotate(o.rotation),e.scale(o.scaleX,o.scaleY)):e.applyITRS(o.x,o.y,o.rotation,o.scaleX,o.scaleY),t.pipelines.preBatch(o);var r=o.blendMode!==-1;r||t.setBlendMode(0);for(var h=o.alpha,n=o.scrollFactorX,l=o.scrollFactorY,f=0;f<s;f++){var u=i[f];if(u.willRender(v)){var d,p,x,E;if(u.alphaTopLeft!==void 0)d=u.alphaTopLeft,p=u.alphaTopRight,x=u.alphaBottomLeft,E=u.alphaBottomRight;else{var T=u.alpha;d=T,p=T,x=T,E=T}var C=u.scrollFactorX,A=u.scrollFactorY;!r&&u.blendMode!==t.currentBlendMode&&t.setBlendMode(u.blendMode);var M=u.mask;M&&M.preRenderWebGL(t,u,v);var R=u.type;R!==t.currentType&&(t.newType=!0,t.currentType=R),t.nextTypeMatch=f<s-1?i[f+1].type===t.currentType:!1,u.setScrollFactor(C*n,A*l),u.setAlpha(d*h,p*h,x*h,E*h),u.renderWebGL(t,u,v,e,o),u.setAlpha(d,p,x,E),u.setScrollFactor(C,A),M&&M.postRenderWebGL(t,v),t.newType=!1}}t.pipelines.postBatch(o)}};c.exports=g},47407:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports=["normal","multiply","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]},3069:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(31401),a=t(441),i=t(95643),s=t(41212),e=t(35846),r=t(44594),h=t(61369),n=new o({Extends:i,Mixins:[v.AlphaSingle,v.BlendMode,v.Depth,v.Origin,v.ScrollFactor,v.Transform,v.Visible,a],initialize:function(f,u,d,p,x,E){i.call(this,f,"DOMElement"),this.parent=f.sys.game.domContainer,this.cache=f.sys.cache.html,this.node,this.transformOnly=!1,this.skewX=0,this.skewY=0,this.rotate3d=new h,this.rotate3dAngle="deg",this.pointerEvents="auto",this.width=0,this.height=0,this.displayWidth=0,this.displayHeight=0,this.handler=this.dispatchNativeEvent.bind(this),this.setPosition(u,d),typeof p=="string"?p[0]==="#"?this.setElement(p.substr(1),x,E):this.createElement(p,x,E):p&&this.setElement(p,x,E),f.sys.events.on(r.SLEEP,this.handleSceneEvent,this),f.sys.events.on(r.WAKE,this.handleSceneEvent,this),f.sys.events.on(r.PRE_RENDER,this.preRender,this)},handleSceneEvent:function(l){var f=this.node,u=f.style;f&&(u.display=l.settings.visible?"block":"none")},setSkew:function(l,f){return l===void 0&&(l=0),f===void 0&&(f=l),this.skewX=l,this.skewY=f,this},setPerspective:function(l){return this.parent.style.perspective=l+"px",this},perspective:{get:function(){return parseFloat(this.parent.style.perspective)},set:function(l){this.parent.style.perspective=l+"px"}},addListener:function(l){if(this.node){l=l.split(" ");for(var f=0;f<l.length;f++)this.node.addEventListener(l[f],this.handler,!1)}return this},removeListener:function(l){if(this.node){l=l.split(" ");for(var f=0;f<l.length;f++)this.node.removeEventListener(l[f],this.handler)}return this},dispatchNativeEvent:function(l){this.emit(l.type,l)},createElement:function(l,f,u){return this.setElement(document.createElement(l),f,u)},setElement:function(l,f,u){this.removeElement();var d;if(typeof l=="string"?(l[0]==="#"&&(l=l.substr(1)),d=document.getElementById(l)):typeof l=="object"&&l.nodeType===1&&(d=l),!d)return this;if(this.node=d,f&&s(f))for(var p in f)d.style[p]=f[p];else typeof f=="string"&&(d.style=f);return d.style.zIndex="0",d.style.display="inline",d.style.position="absolute",d.phaser=this,this.parent&&this.parent.appendChild(d),u&&(d.innerText=u),this.updateSize()},createFromCache:function(l,f){var u=this.cache.get(l);return u&&this.createFromHTML(u,f),this},createFromHTML:function(l,f){f===void 0&&(f="div"),this.removeElement();var u=document.createElement(f);return this.node=u,u.style.zIndex="0",u.style.display="inline",u.style.position="absolute",u.phaser=this,this.parent&&this.parent.appendChild(u),u.innerHTML=l,this.updateSize()},removeElement:function(){return this.node&&(e(this.node),this.node=null),this},updateSize:function(){var l=this.node,f=l.getBoundingClientRect();return this.width=l.clientWidth,this.height=l.clientHeight,this.displayWidth=f.width||0,this.displayHeight=f.height||0,this},getChildByProperty:function(l,f){if(this.node){for(var u=this.node.querySelectorAll("*"),d=0;d<u.length;d++)if(u[d][l]===f)return u[d]}return null},getChildByID:function(l){return this.getChildByProperty("id",l)},getChildByName:function(l){return this.getChildByProperty("name",l)},setClassName:function(l){return this.node&&(this.node.className=l,this.updateSize()),this},setText:function(l){return this.node&&(this.node.innerText=l,this.updateSize()),this},setHTML:function(l){return this.node&&(this.node.innerHTML=l,this.updateSize()),this},preRender:function(){var l=this.parentContainer,f=this.node;f&&l&&!l.willRender()&&(f.style.display="none")},willRender:function(){return!0},preDestroy:function(){this.removeElement(),this.scene.sys.events.off(r.SLEEP,this.handleSceneEvent,this),this.scene.sys.events.off(r.WAKE,this.handleSceneEvent,this),this.scene.sys.events.off(r.PRE_RENDER,this.preRender,this)}});c.exports=n},49381:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(47407),v=t(95643),a=t(61340),i=new a,s=new a,e=new a,r=function(h,n,l,f){if(n.node){var u=n.node.style,d=n.scene.sys.settings;if(!u||!d.visible||v.RENDER_MASK!==n.renderFlags||n.cameraFilter!==0&&n.cameraFilter&l.id||n.parentContainer&&!n.parentContainer.willRender()){u.display="none";return}var p=n.parentContainer,x=l.alpha*n.alpha;p&&(x*=p.alpha);var E=i,T=s,C=e,A=0,M=0,R="0%",O="0%";f?(A=n.width*n.scaleX*n.originX,M=n.height*n.scaleY*n.originY,T.applyITRS(n.x-A,n.y-M,n.rotation,n.scaleX,n.scaleY),E.copyFrom(l.matrix),E.multiplyWithOffset(f,-l.scrollX*n.scrollFactorX,-l.scrollY*n.scrollFactorY),T.e=n.x-A,T.f=n.y-M,E.multiply(T,C)):(A=n.width*n.originX,M=n.height*n.originY,T.applyITRS(n.x-A,n.y-M,n.rotation,n.scaleX,n.scaleY),E.copyFrom(l.matrix),R=100*n.originX+"%",O=100*n.originY+"%",T.e-=l.scrollX*n.scrollFactorX,T.f-=l.scrollY*n.scrollFactorY,E.multiply(T,C)),n.transformOnly||(u.display="block",u.opacity=x,u.zIndex=n._depth,u.pointerEvents=n.pointerEvents,u.mixBlendMode=o[n._blendMode]),u.transform=C.getCSSMatrix()+" skew("+n.skewX+"rad, "+n.skewY+"rad) rotate3d("+n.rotate3d.x+","+n.rotate3d.y+","+n.rotate3d.z+","+n.rotate3d.w+n.rotate3dAngle+")",u.transformOrigin=R+" "+O}};c.exports=r},2611:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(3069),v=t(39429);v.register("dom",function(a,i,s,e,r){var h=new o(this.scene,a,i,s,e,r);return this.displayList.add(h),h})},441:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(29747),v=o,a=o;v=t(49381),a=t(49381),c.exports={renderWebGL:v,renderCanvas:a}},62980:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="addedtoscene"},41337:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="destroy"},44947:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="removedfromscene"},49358:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="complete"},35163:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="created"},97249:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="error"},19483:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="locked"},56059:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="loop"},26772:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="metadata"},64437:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="playing"},83411:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="play"},75780:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="seeked"},67799:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="seeking"},63500:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="stalled"},55541:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="stop"},53208:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="textureready"},4992:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="unlocked"},12:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="unsupported"},51708:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={ADDED_TO_SCENE:t(62980),DESTROY:t(41337),REMOVED_FROM_SCENE:t(44947),VIDEO_COMPLETE:t(49358),VIDEO_CREATED:t(35163),VIDEO_ERROR:t(97249),VIDEO_LOCKED:t(19483),VIDEO_LOOP:t(56059),VIDEO_METADATA:t(26772),VIDEO_PLAY:t(83411),VIDEO_PLAYING:t(64437),VIDEO_SEEKED:t(75780),VIDEO_SEEKING:t(67799),VIDEO_STALLED:t(63500),VIDEO_STOP:t(55541),VIDEO_TEXTURE:t(53208),VIDEO_UNLOCKED:t(4992),VIDEO_UNSUPPORTED:t(12)}},42421:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(31401),a=t(95643),i=t(64993),s=new o({Extends:a,Mixins:[v.Alpha,v.BlendMode,v.Depth,v.Flip,v.Origin,v.ScrollFactor,v.Size,v.Texture,v.Tint,v.Transform,v.Visible,i],initialize:function(r){a.call(this,r,"Extern")},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(){},render:function(){}});c.exports=s},70217:()=>{},56315:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(42421),v=t(39429);v.register("extern",function(){var a=new o(this.scene);return this.displayList.add(a),a})},64993:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(29747),v=o,a=o;v=t(80287),a=t(70217),c.exports={renderWebGL:v,renderCanvas:a}},80287:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(91296),v=function(a,i,s,e){a.pipelines.clear();var r=o(i,s,e).calc;i.render.call(i,a,s,r),a.pipelines.rebind()};c.exports=v},85592:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={ARC:0,BEGIN_PATH:1,CLOSE_PATH:2,FILL_RECT:3,LINE_TO:4,MOVE_TO:5,LINE_STYLE:6,FILL_STYLE:7,FILL_PATH:8,STROKE_PATH:9,FILL_TRIANGLE:10,STROKE_TRIANGLE:11,SAVE:14,RESTORE:15,TRANSLATE:16,SCALE:17,ROTATE:18,GRADIENT_FILL_STYLE:21,GRADIENT_LINE_STYLE:22}},43831:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(71911),v=t(83419),a=t(85592),i=t(31401),s=t(8497),e=t(95643),r=t(95540),h=t(35154),n=t(36383),l=t(84503),f=new v({Extends:e,Mixins:[i.AlphaSingle,i.BlendMode,i.Depth,i.Mask,i.Pipeline,i.PostPipeline,i.Transform,i.Visible,i.ScrollFactor,l],initialize:function(d,p){var x=h(p,"x",0),E=h(p,"y",0);e.call(this,d,"Graphics"),this.setPosition(x,E),this.initPipeline(),this.initPostPipeline(),this.displayOriginX=0,this.displayOriginY=0,this.commandBuffer=[],this.defaultFillColor=-1,this.defaultFillAlpha=1,this.defaultStrokeWidth=1,this.defaultStrokeColor=-1,this.defaultStrokeAlpha=1,this._lineWidth=1,this.lineStyle(1,0,0),this.fillStyle(0,0),this.setDefaultStyles(p)},setDefaultStyles:function(u){return h(u,"lineStyle",null)&&(this.defaultStrokeWidth=h(u,"lineStyle.width",1),this.defaultStrokeColor=h(u,"lineStyle.color",16777215),this.defaultStrokeAlpha=h(u,"lineStyle.alpha",1),this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha)),h(u,"fillStyle",null)&&(this.defaultFillColor=h(u,"fillStyle.color",16777215),this.defaultFillAlpha=h(u,"fillStyle.alpha",1),this.fillStyle(this.defaultFillColor,this.defaultFillAlpha)),this},lineStyle:function(u,d,p){return p===void 0&&(p=1),this.commandBuffer.push(a.LINE_STYLE,u,d,p),this._lineWidth=u,this},fillStyle:function(u,d){return d===void 0&&(d=1),this.commandBuffer.push(a.FILL_STYLE,u,d),this},fillGradientStyle:function(u,d,p,x,E,T,C,A){return E===void 0&&(E=1),T===void 0&&(T=E),C===void 0&&(C=E),A===void 0&&(A=E),this.commandBuffer.push(a.GRADIENT_FILL_STYLE,E,T,C,A,u,d,p,x),this},lineGradientStyle:function(u,d,p,x,E,T){return T===void 0&&(T=1),this.commandBuffer.push(a.GRADIENT_LINE_STYLE,u,T,d,p,x,E),this},beginPath:function(){return this.commandBuffer.push(a.BEGIN_PATH),this},closePath:function(){return this.commandBuffer.push(a.CLOSE_PATH),this},fillPath:function(){return this.commandBuffer.push(a.FILL_PATH),this},fill:function(){return this.commandBuffer.push(a.FILL_PATH),this},strokePath:function(){return this.commandBuffer.push(a.STROKE_PATH),this},stroke:function(){return this.commandBuffer.push(a.STROKE_PATH),this},fillCircleShape:function(u){return this.fillCircle(u.x,u.y,u.radius)},strokeCircleShape:function(u){return this.strokeCircle(u.x,u.y,u.radius)},fillCircle:function(u,d,p){return this.beginPath(),this.arc(u,d,p,0,n.PI2),this.fillPath(),this},strokeCircle:function(u,d,p){return this.beginPath(),this.arc(u,d,p,0,n.PI2),this.strokePath(),this},fillRectShape:function(u){return this.fillRect(u.x,u.y,u.width,u.height)},strokeRectShape:function(u){return this.strokeRect(u.x,u.y,u.width,u.height)},fillRect:function(u,d,p,x){return this.commandBuffer.push(a.FILL_RECT,u,d,p,x),this},strokeRect:function(u,d,p,x){var E=this._lineWidth/2,T=u-E,C=u+E;return this.beginPath(),this.moveTo(u,d),this.lineTo(u,d+x),this.strokePath(),this.beginPath(),this.moveTo(u+p,d),this.lineTo(u+p,d+x),this.strokePath(),this.beginPath(),this.moveTo(T,d),this.lineTo(C+p,d),this.strokePath(),this.beginPath(),this.moveTo(T,d+x),this.lineTo(C+p,d+x),this.strokePath(),this},fillRoundedRect:function(u,d,p,x,E){E===void 0&&(E=20);var T=E,C=E,A=E,M=E;typeof E!="number"&&(T=r(E,"tl",20),C=r(E,"tr",20),A=r(E,"bl",20),M=r(E,"br",20));var R=T>=0,O=C>=0,L=A>=0,b=M>=0;return T=Math.abs(T),C=Math.abs(C),A=Math.abs(A),M=Math.abs(M),this.beginPath(),this.moveTo(u+T,d),this.lineTo(u+p-C,d),O?this.arc(u+p-C,d+C,C,-n.TAU,0):this.arc(u+p,d,C,Math.PI,n.TAU,!0),this.lineTo(u+p,d+x-M),b?this.arc(u+p-M,d+x-M,M,0,n.TAU):this.arc(u+p,d+x,M,-n.TAU,Math.PI,!0),this.lineTo(u+A,d+x),L?this.arc(u+A,d+x-A,A,n.TAU,Math.PI):this.arc(u,d+x,A,0,-n.TAU,!0),this.lineTo(u,d+T),R?this.arc(u+T,d+T,T,-Math.PI,-n.TAU):this.arc(u,d,T,n.TAU,0,!0),this.fillPath(),this},strokeRoundedRect:function(u,d,p,x,E){E===void 0&&(E=20);var T=E,C=E,A=E,M=E,R=Math.min(p,x)/2;typeof E!="number"&&(T=r(E,"tl",20),C=r(E,"tr",20),A=r(E,"bl",20),M=r(E,"br",20));var O=T>=0,L=C>=0,b=A>=0,N=M>=0;return T=Math.min(Math.abs(T),R),C=Math.min(Math.abs(C),R),A=Math.min(Math.abs(A),R),M=Math.min(Math.abs(M),R),this.beginPath(),this.moveTo(u+T,d),this.lineTo(u+p-C,d),this.moveTo(u+p-C,d),L?this.arc(u+p-C,d+C,C,-n.TAU,0):this.arc(u+p,d,C,Math.PI,n.TAU,!0),this.lineTo(u+p,d+x-M),this.moveTo(u+p,d+x-M),N?this.arc(u+p-M,d+x-M,M,0,n.TAU):this.arc(u+p,d+x,M,-n.TAU,Math.PI,!0),this.lineTo(u+A,d+x),this.moveTo(u+A,d+x),b?this.arc(u+A,d+x-A,A,n.TAU,Math.PI):this.arc(u,d+x,A,0,-n.TAU,!0),this.lineTo(u,d+T),this.moveTo(u,d+T),O?this.arc(u+T,d+T,T,-Math.PI,-n.TAU):this.arc(u,d,T,n.TAU,0,!0),this.strokePath(),this},fillPointShape:function(u,d){return this.fillPoint(u.x,u.y,d)},fillPoint:function(u,d,p){return!p||p<1?p=1:(u-=p/2,d-=p/2),this.commandBuffer.push(a.FILL_RECT,u,d,p,p),this},fillTriangleShape:function(u){return this.fillTriangle(u.x1,u.y1,u.x2,u.y2,u.x3,u.y3)},strokeTriangleShape:function(u){return this.strokeTriangle(u.x1,u.y1,u.x2,u.y2,u.x3,u.y3)},fillTriangle:function(u,d,p,x,E,T){return this.commandBuffer.push(a.FILL_TRIANGLE,u,d,p,x,E,T),this},strokeTriangle:function(u,d,p,x,E,T){return this.commandBuffer.push(a.STROKE_TRIANGLE,u,d,p,x,E,T),this},strokeLineShape:function(u){return this.lineBetween(u.x1,u.y1,u.x2,u.y2)},lineBetween:function(u,d,p,x){return this.beginPath(),this.moveTo(u,d),this.lineTo(p,x),this.strokePath(),this},lineTo:function(u,d){return this.commandBuffer.push(a.LINE_TO,u,d),this},moveTo:function(u,d){return this.commandBuffer.push(a.MOVE_TO,u,d),this},strokePoints:function(u,d,p,x){d===void 0&&(d=!1),p===void 0&&(p=!1),x===void 0&&(x=u.length),this.beginPath(),this.moveTo(u[0].x,u[0].y);for(var E=1;E<x;E++)this.lineTo(u[E].x,u[E].y);return d&&this.lineTo(u[0].x,u[0].y),p&&this.closePath(),this.strokePath(),this},fillPoints:function(u,d,p,x){d===void 0&&(d=!1),p===void 0&&(p=!1),x===void 0&&(x=u.length),this.beginPath(),this.moveTo(u[0].x,u[0].y);for(var E=1;E<x;E++)this.lineTo(u[E].x,u[E].y);return d&&this.lineTo(u[0].x,u[0].y),p&&this.closePath(),this.fillPath(),this},strokeEllipseShape:function(u,d){d===void 0&&(d=32);var p=u.getPoints(d);return this.strokePoints(p,!0)},strokeEllipse:function(u,d,p,x,E){E===void 0&&(E=32);var T=new s(u,d,p,x),C=T.getPoints(E);return this.strokePoints(C,!0)},fillEllipseShape:function(u,d){d===void 0&&(d=32);var p=u.getPoints(d);return this.fillPoints(p,!0)},fillEllipse:function(u,d,p,x,E){E===void 0&&(E=32);var T=new s(u,d,p,x),C=T.getPoints(E);return this.fillPoints(C,!0)},arc:function(u,d,p,x,E,T,C){return T===void 0&&(T=!1),C===void 0&&(C=0),this.commandBuffer.push(a.ARC,u,d,p,x,E,T,C),this},slice:function(u,d,p,x,E,T,C){return T===void 0&&(T=!1),C===void 0&&(C=0),this.commandBuffer.push(a.BEGIN_PATH),this.commandBuffer.push(a.MOVE_TO,u,d),this.commandBuffer.push(a.ARC,u,d,p,x,E,T,C),this.commandBuffer.push(a.CLOSE_PATH),this},save:function(){return this.commandBuffer.push(a.SAVE),this},restore:function(){return this.commandBuffer.push(a.RESTORE),this},translateCanvas:function(u,d){return this.commandBuffer.push(a.TRANSLATE,u,d),this},scaleCanvas:function(u,d){return this.commandBuffer.push(a.SCALE,u,d),this},rotateCanvas:function(u){return this.commandBuffer.push(a.ROTATE,u),this},clear:function(){return this.commandBuffer.length=0,this.defaultFillColor>-1&&this.fillStyle(this.defaultFillColor,this.defaultFillAlpha),this.defaultStrokeColor>-1&&this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha),this},generateTexture:function(u,d,p){var x=this.scene.sys,E=x.game.renderer;d===void 0&&(d=x.scale.width),p===void 0&&(p=x.scale.height),f.TargetCamera.setScene(this.scene),f.TargetCamera.setViewport(0,0,d,p),f.TargetCamera.scrollX=this.x,f.TargetCamera.scrollY=this.y;var T,C,A={willReadFrequently:!0};if(typeof u=="string")if(x.textures.exists(u)){T=x.textures.get(u);var M=T.getSourceImage();M instanceof HTMLCanvasElement&&(C=M.getContext("2d",A))}else T=x.textures.createCanvas(u,d,p),C=T.getSourceImage().getContext("2d",A);else u instanceof HTMLCanvasElement&&(C=u.getContext("2d",A));return C&&(this.renderCanvas(E,this,f.TargetCamera,null,C,!1),T&&T.refresh()),this},preDestroy:function(){this.commandBuffer=[]}});f.TargetCamera=new o,c.exports=f},32768:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(85592),v=t(20926),a=function(i,s,e,r,h,n){var l=s.commandBuffer,f=l.length,u=h||i.currentContext;if(!(f===0||!v(i,u,s,e,r))){e.addToRenderList(s);var d=1,p=1,x=0,E=0,T=1,C=0,A=0,M=0;u.beginPath();for(var R=0;R<f;++R){var O=l[R];switch(O){case o.ARC:u.arc(l[R+1],l[R+2],l[R+3],l[R+4],l[R+5],l[R+6]),R+=7;break;case o.LINE_STYLE:T=l[R+1],x=l[R+2],d=l[R+3],C=(x&16711680)>>>16,A=(x&65280)>>>8,M=x&255,u.strokeStyle="rgba("+C+","+A+","+M+","+d+")",u.lineWidth=T,R+=3;break;case o.FILL_STYLE:E=l[R+1],p=l[R+2],C=(E&16711680)>>>16,A=(E&65280)>>>8,M=E&255,u.fillStyle="rgba("+C+","+A+","+M+","+p+")",R+=2;break;case o.BEGIN_PATH:u.beginPath();break;case o.CLOSE_PATH:u.closePath();break;case o.FILL_PATH:n||u.fill();break;case o.STROKE_PATH:n||u.stroke();break;case o.FILL_RECT:n?u.rect(l[R+1],l[R+2],l[R+3],l[R+4]):u.fillRect(l[R+1],l[R+2],l[R+3],l[R+4]),R+=4;break;case o.FILL_TRIANGLE:u.beginPath(),u.moveTo(l[R+1],l[R+2]),u.lineTo(l[R+3],l[R+4]),u.lineTo(l[R+5],l[R+6]),u.closePath(),n||u.fill(),R+=6;break;case o.STROKE_TRIANGLE:u.beginPath(),u.moveTo(l[R+1],l[R+2]),u.lineTo(l[R+3],l[R+4]),u.lineTo(l[R+5],l[R+6]),u.closePath(),n||u.stroke(),R+=6;break;case o.LINE_TO:u.lineTo(l[R+1],l[R+2]),R+=2;break;case o.MOVE_TO:u.moveTo(l[R+1],l[R+2]),R+=2;break;case o.LINE_FX_TO:u.lineTo(l[R+1],l[R+2]),R+=5;break;case o.MOVE_FX_TO:u.moveTo(l[R+1],l[R+2]),R+=5;break;case o.SAVE:u.save();break;case o.RESTORE:u.restore();break;case o.TRANSLATE:u.translate(l[R+1],l[R+2]),R+=2;break;case o.SCALE:u.scale(l[R+1],l[R+2]),R+=2;break;case o.ROTATE:u.rotate(l[R+1]),R+=1;break;case o.GRADIENT_FILL_STYLE:R+=5;break;case o.GRADIENT_LINE_STYLE:R+=6;break}}u.restore()}};c.exports=a},87079:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(44603),v=t(43831);o.register("graphics",function(a,i){a===void 0&&(a={}),i!==void 0&&(a.add=i);var s=new v(this.scene,a);return a.add&&this.scene.sys.displayList.add(s),s})},1201:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(43831),v=t(39429);v.register("graphics",function(a){return this.displayList.add(new o(this.scene,a))})},84503:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(29747),v=o,a=o;v=t(77545),a=t(32768),a=t(32768),c.exports={renderWebGL:v,renderCanvas:a}},77545:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(85592),v=t(91296),a=t(61340),i=t(70554),s=function(l,f,u){this.x=l,this.y=f,this.width=u},e=function(l,f,u){this.points=[],this.pointsLength=1,this.points[0]=new s(l,f,u)},r=[],h=new a,n=function(l,f,u,d){if(f.commandBuffer.length!==0){u.addToRenderList(f);var p=l.pipelines.set(f.pipeline,f);l.pipelines.preBatch(f);for(var x=v(f,u,d).calc,E=h.loadIdentity(),T=f.commandBuffer,C=u.alpha*f.alpha,A=1,M=p.fillTint,R=p.strokeTint,O=0,L=0,b=0,N=.01,I=Math.PI*2,G,X=[],$=0,J=!0,z=null,Y=i.getTintAppendFloatAlpha,D=0;D<T.length;D++)switch(G=T[D],G){case o.BEGIN_PATH:{X.length=0,z=null,J=!0;break}case o.CLOSE_PATH:{J=!1,z&&z.points.length&&z.points.push(z.points[0]);break}case o.FILL_PATH:{for($=0;$<X.length;$++)p.batchFillPath(X[$].points,E,x);break}case o.STROKE_PATH:{for($=0;$<X.length;$++)p.batchStrokePath(X[$].points,A,J,E,x);break}case o.LINE_STYLE:{A=T[++D];var B=T[++D],U=T[++D]*C,H=Y(B,U);R.TL=H,R.TR=H,R.BL=H,R.BR=H;break}case o.FILL_STYLE:{var j=T[++D],q=T[++D]*C,_=Y(j,q);M.TL=_,M.TR=_,M.BL=_,M.BR=_;break}case o.GRADIENT_FILL_STYLE:{var st=T[++D]*C,ut=T[++D]*C,ct=T[++D]*C,pt=T[++D]*C;M.TL=Y(T[++D],st),M.TR=Y(T[++D],ut),M.BL=Y(T[++D],ct),M.BR=Y(T[++D],pt);break}case o.GRADIENT_LINE_STYLE:{A=T[++D];var Tt=T[++D]*C;R.TL=Y(T[++D],Tt),R.TR=Y(T[++D],Tt),R.BL=Y(T[++D],Tt),R.BR=Y(T[++D],Tt);break}case o.ARC:{var mt=0,wt=T[++D],Nt=T[++D],zt=T[++D],Ot=T[++D],St=T[++D],It=T[++D],bt=T[++D];for(St-=Ot,It?St<-I?St=-I:St>0&&(St=-I+St%I):St>I?St=I:St<0&&(St=I+St%I),z===null&&(z=new e(wt+Math.cos(Ot)*zt,Nt+Math.sin(Ot)*zt,A),X.push(z),mt+=N);mt<1+bt;)b=St*mt+Ot,O=wt+Math.cos(b)*zt,L=Nt+Math.sin(b)*zt,z.points.push(new s(O,L,A)),mt+=N;b=St+Ot,O=wt+Math.cos(b)*zt,L=Nt+Math.sin(b)*zt,z.points.push(new s(O,L,A));break}case o.FILL_RECT:{p.batchFillRect(T[++D],T[++D],T[++D],T[++D],E,x);break}case o.FILL_TRIANGLE:{p.batchFillTriangle(T[++D],T[++D],T[++D],T[++D],T[++D],T[++D],E,x);break}case o.STROKE_TRIANGLE:{p.batchStrokeTriangle(T[++D],T[++D],T[++D],T[++D],T[++D],T[++D],A,E,x);break}case o.LINE_TO:{z!==null?z.points.push(new s(T[++D],T[++D],A)):(z=new e(T[++D],T[++D],A),X.push(z));break}case o.MOVE_TO:{z=new e(T[++D],T[++D],A),X.push(z);break}case o.SAVE:{r.push(E.copyToArray());break}case o.RESTORE:{E.copyFromArray(r.pop());break}case o.TRANSLATE:{wt=T[++D],Nt=T[++D],E.translate(wt,Nt);break}case o.SCALE:{wt=T[++D],Nt=T[++D],E.scale(wt,Nt);break}case o.ROTATE:{E.rotate(T[++D]);break}}l.pipelines.postBatch(f)}};c.exports=n},26479:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(61061),v=t(83419),a=t(51708),i=t(50792),s=t(46710),e=t(95540),r=t(35154),h=t(97022),n=t(41212),l=t(88492),f=t(35072),u=t(68287),d=new v({Extends:i,initialize:function(x,E,T){i.call(this),T?E&&!Array.isArray(E)&&(E=[E]):Array.isArray(E)?n(E[0])&&(T=E,E=null):n(E)&&(T=E,E=null),this.scene=x,this.children=new f,this.isParent=!0,this.type="Group",this.classType=e(T,"classType",u),this.name=e(T,"name",""),this.active=e(T,"active",!0),this.maxSize=e(T,"maxSize",-1),this.defaultKey=e(T,"defaultKey",null),this.defaultFrame=e(T,"defaultFrame",null),this.runChildUpdate=e(T,"runChildUpdate",!1),this.createCallback=e(T,"createCallback",null),this.removeCallback=e(T,"removeCallback",null),this.createMultipleCallback=e(T,"createMultipleCallback",null),this.internalCreateCallback=e(T,"internalCreateCallback",null),this.internalRemoveCallback=e(T,"internalRemoveCallback",null),E&&this.addMultiple(E),T&&this.createMultiple(T),this.on(a.ADDED_TO_SCENE,this.addedToScene,this),this.on(a.REMOVED_FROM_SCENE,this.removedFromScene,this)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},create:function(p,x,E,T,C,A){if(p===void 0&&(p=0),x===void 0&&(x=0),E===void 0&&(E=this.defaultKey),T===void 0&&(T=this.defaultFrame),C===void 0&&(C=!0),A===void 0&&(A=!0),this.isFull())return null;var M=new this.classType(this.scene,p,x,E,T);return M.addToDisplayList(this.scene.sys.displayList),M.addToUpdateList(),M.visible=C,M.setActive(A),this.add(M),M},createMultiple:function(p){if(this.isFull())return[];Array.isArray(p)||(p=[p]);var x=[];if(p[0].key)for(var E=0;E<p.length;E++){var T=this.createFromConfig(p[E]);x=x.concat(T)}return x},createFromConfig:function(p){if(this.isFull())return[];this.classType=e(p,"classType",this.classType);var x=e(p,"key",void 0),E=e(p,"frame",null),T=e(p,"visible",!0),C=e(p,"active",!0),A=[];if(x===void 0)return A;Array.isArray(x)||(x=[x]),Array.isArray(E)||(E=[E]);var M=e(p,"repeat",0),R=e(p,"randomKey",!1),O=e(p,"randomFrame",!1),L=e(p,"yoyo",!1),b=e(p,"quantity",!1),N=e(p,"frameQuantity",1),I=e(p,"max",0),G=l(x,E,{max:I,qty:b||N,random:R,randomB:O,repeat:M,yoyo:L});p.createCallback&&(this.createCallback=p.createCallback),p.removeCallback&&(this.removeCallback=p.removeCallback),p.internalCreateCallback&&(this.internalCreateCallback=p.internalCreateCallback),p.internalRemoveCallback&&(this.internalRemoveCallback=p.internalRemoveCallback);for(var X=0;X<G.length;X++){var $=this.create(0,0,G[X].a,G[X].b,T,C);if(!$)break;A.push($)}if(h(p,"setXY")){var J=r(p,"setXY.x",0),z=r(p,"setXY.y",0),Y=r(p,"setXY.stepX",0),D=r(p,"setXY.stepY",0);o.SetXY(A,J,z,Y,D)}if(h(p,"setRotation")){var B=r(p,"setRotation.value",0),U=r(p,"setRotation.step",0);o.SetRotation(A,B,U)}if(h(p,"setScale")){var H=r(p,"setScale.x",1),j=r(p,"setScale.y",H),q=r(p,"setScale.stepX",0),_=r(p,"setScale.stepY",0);o.SetScale(A,H,j,q,_)}if(h(p,"setOrigin")){var st=r(p,"setOrigin.x",.5),ut=r(p,"setOrigin.y",st),ct=r(p,"setOrigin.stepX",0),pt=r(p,"setOrigin.stepY",0);o.SetOrigin(A,st,ut,ct,pt)}if(h(p,"setAlpha")){var Tt=r(p,"setAlpha.value",1),mt=r(p,"setAlpha.step",0);o.SetAlpha(A,Tt,mt)}if(h(p,"setDepth")){var wt=r(p,"setDepth.value",0),Nt=r(p,"setDepth.step",0);o.SetDepth(A,wt,Nt)}if(h(p,"setScrollFactor")){var zt=r(p,"setScrollFactor.x",1),Ot=r(p,"setScrollFactor.y",zt),St=r(p,"setScrollFactor.stepX",0),It=r(p,"setScrollFactor.stepY",0);o.SetScrollFactor(A,zt,Ot,St,It)}var bt=e(p,"hitArea",null),Xt=e(p,"hitAreaCallback",null);bt&&o.SetHitArea(A,bt,Xt);var Wt=e(p,"gridAlign",!1);return Wt&&o.GridAlign(A,Wt),this.createMultipleCallback&&this.createMultipleCallback.call(this,A),A},preUpdate:function(p,x){if(!(!this.runChildUpdate||this.children.size===0))for(var E=this.children.entries.slice(),T=0;T<E.length;T++){var C=E[T];C.active&&C.update(p,x)}},add:function(p,x){return x===void 0&&(x=!1),this.isFull()?this:(this.children.set(p),this.internalCreateCallback&&this.internalCreateCallback.call(this,p),this.createCallback&&this.createCallback.call(this,p),x&&(p.addToDisplayList(this.scene.sys.displayList),p.addToUpdateList()),p.on(a.DESTROY,this.remove,this),this)},addMultiple:function(p,x){if(x===void 0&&(x=!1),Array.isArray(p))for(var E=0;E<p.length;E++)this.add(p[E],x);return this},remove:function(p,x,E){return x===void 0&&(x=!1),E===void 0&&(E=!1),this.children.contains(p)?(this.children.delete(p),this.internalRemoveCallback&&this.internalRemoveCallback.call(this,p),this.removeCallback&&this.removeCallback.call(this,p),p.off(a.DESTROY,this.remove,this),E?p.destroy():x&&(p.removeFromDisplayList(),p.removeFromUpdateList()),this):this},clear:function(p,x){p===void 0&&(p=!1),x===void 0&&(x=!1);for(var E=this.children,T=0;T<E.size;T++){var C=E.entries[T];C.off(a.DESTROY,this.remove,this),x?C.destroy():p&&(C.removeFromDisplayList(),C.removeFromUpdateList())}return this.children.clear(),this},contains:function(p){return this.children.contains(p)},getChildren:function(){return this.children.entries},getLength:function(){return this.children.size},getMatching:function(p,x,E,T){return s(this.children.entries,p,x,E,T)},getFirst:function(p,x,E,T,C,A,M){return this.getHandler(!0,1,p,x,E,T,C,A,M)},getFirstNth:function(p,x,E,T,C,A,M,R){return this.getHandler(!0,p,x,E,T,C,A,M,R)},getLast:function(p,x,E,T,C,A,M){return this.getHandler(!1,1,p,x,E,T,C,A,M)},getLastNth:function(p,x,E,T,C,A,M,R){return this.getHandler(!1,p,x,E,T,C,A,M,R)},getHandler:function(p,x,E,T,C,A,M,R,O){E===void 0&&(E=!1),T===void 0&&(T=!1);var L,b,N=0,I=this.children.entries;if(p)for(b=0;b<I.length;b++)if(L=I[b],L.active===E){if(N++,N===x)break}else L=null;else for(b=I.length-1;b>=0;b--)if(L=I[b],L.active===E){if(N++,N===x)break}else L=null;return L?(typeof C=="number"&&(L.x=C),typeof A=="number"&&(L.y=A),L):T?this.create(C,A,M,R,O):null},get:function(p,x,E,T,C){return this.getFirst(!1,!0,p,x,E,T,C)},getFirstAlive:function(p,x,E,T,C,A){return this.getFirst(!0,p,x,E,T,C,A)},getFirstDead:function(p,x,E,T,C,A){return this.getFirst(!1,p,x,E,T,C,A)},playAnimation:function(p,x){return o.PlayAnimation(this.children.entries,p,x),this},isFull:function(){return this.maxSize===-1?!1:this.children.size>=this.maxSize},countActive:function(p){p===void 0&&(p=!0);for(var x=0,E=0;E<this.children.size;E++)this.children.entries[E].active===p&&x++;return x},getTotalUsed:function(){return this.countActive()},getTotalFree:function(){var p=this.getTotalUsed(),x=this.maxSize===-1?999999999999:this.maxSize;return x-p},setActive:function(p){return this.active=p,this},setName:function(p){return this.name=p,this},propertyValueSet:function(p,x,E,T,C){return o.PropertyValueSet(this.children.entries,p,x,E,T,C),this},propertyValueInc:function(p,x,E,T,C){return o.PropertyValueInc(this.children.entries,p,x,E,T,C),this},setX:function(p,x){return o.SetX(this.children.entries,p,x),this},setY:function(p,x){return o.SetY(this.children.entries,p,x),this},setXY:function(p,x,E,T){return o.SetXY(this.children.entries,p,x,E,T),this},incX:function(p,x){return o.IncX(this.children.entries,p,x),this},incY:function(p,x){return o.IncY(this.children.entries,p,x),this},incXY:function(p,x,E,T){return o.IncXY(this.children.entries,p,x,E,T),this},shiftPosition:function(p,x,E){return o.ShiftPosition(this.children.entries,p,x,E),this},angle:function(p,x){return o.Angle(this.children.entries,p,x),this},rotate:function(p,x){return o.Rotate(this.children.entries,p,x),this},rotateAround:function(p,x){return o.RotateAround(this.children.entries,p,x),this},rotateAroundDistance:function(p,x,E){return o.RotateAroundDistance(this.children.entries,p,x,E),this},setAlpha:function(p,x){return o.SetAlpha(this.children.entries,p,x),this},setTint:function(p,x,E,T){return o.SetTint(this.children.entries,p,x,E,T),this},setOrigin:function(p,x,E,T){return o.SetOrigin(this.children.entries,p,x,E,T),this},scaleX:function(p,x){return o.ScaleX(this.children.entries,p,x),this},scaleY:function(p,x){return o.ScaleY(this.children.entries,p,x),this},scaleXY:function(p,x,E,T){return o.ScaleXY(this.children.entries,p,x,E,T),this},setDepth:function(p,x){return o.SetDepth(this.children.entries,p,x),this},setBlendMode:function(p){return o.SetBlendMode(this.children.entries,p),this},setHitArea:function(p,x){return o.SetHitArea(this.children.entries,p,x),this},shuffle:function(){return o.Shuffle(this.children.entries),this},kill:function(p){this.children.contains(p)&&p.setActive(!1)},killAndHide:function(p){this.children.contains(p)&&(p.setActive(!1),p.setVisible(!1))},setVisible:function(p,x,E){return o.SetVisible(this.children.entries,p,x,E),this},toggleVisible:function(){return o.ToggleVisible(this.children.entries),this},destroy:function(p,x){p===void 0&&(p=!1),x===void 0&&(x=!1),!(!this.scene||this.ignoreDestroy)&&(this.emit(a.DESTROY,this),this.removeAllListeners(),this.scene.sys.updateList.remove(this),this.clear(x,p),this.scene=void 0,this.children=void 0)}});c.exports=d},94975:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(44603),v=t(26479);o.register("group",function(a){return new v(this.scene,null,a)})},3385:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(26479),v=t(39429);v.register("group",function(a,i){return this.updateList.add(new o(this.scene,a,i))})},88571:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(31401),a=t(95643),i=t(59819),s=new o({Extends:a,Mixins:[v.Alpha,v.BlendMode,v.Depth,v.Flip,v.GetBounds,v.Mask,v.Origin,v.Pipeline,v.PostPipeline,v.ScrollFactor,v.Size,v.TextureCrop,v.Tint,v.Transform,v.Visible,i],initialize:function(r,h,n,l,f){a.call(this,r,"Image"),this._crop=this.resetCropObject(),this.setTexture(l,f),this.setPosition(h,n),this.setSizeToFrame(),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)}});c.exports=s},40652:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o,v,a){v.addToRenderList(o),t.batchSprite(o,o.frame,v,a)};c.exports=g},82459:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(25305),v=t(44603),a=t(23568),i=t(88571);v.register("image",function(s,e){s===void 0&&(s={});var r=a(s,"key",null),h=a(s,"frame",null),n=new i(this.scene,0,0,r,h);return e!==void 0&&(s.add=e),o(this.scene,n,s),n})},2117:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(88571),v=t(39429);v.register("image",function(a,i,s,e){return this.displayList.add(new o(this.scene,a,i,s,e))})},59819:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(29747),v=o,a=o;v=t(99517),a=t(40652),c.exports={renderWebGL:v,renderCanvas:a}},99517:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o,v,a){v.addToRenderList(o),this.pipeline.batchSprite(o,v,a)};c.exports=g},77856:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o={Events:t(51708),DisplayList:t(8050),GameObjectCreator:t(44603),GameObjectFactory:t(39429),UpdateList:t(45027),Components:t(31401),GetCalcMatrix:t(91296),BuildGameObject:t(25305),BuildGameObjectAnimation:t(13059),GameObject:t(95643),BitmapText:t(22186),Blitter:t(6107),Bob:t(46590),Container:t(31559),DOMElement:t(3069),DynamicBitmapText:t(2638),Extern:t(42421),Graphics:t(43831),Group:t(26479),Image:t(88571),Layer:t(93595),Particles:t(18404),PathFollower:t(1159),RenderTexture:t(591),RetroFont:t(196),Rope:t(77757),Sprite:t(68287),Text:t(50171),GetTextSize:t(14220),MeasureText:t(79557),TextStyle:t(35762),TileSprite:t(20839),Zone:t(41481),Video:t(18471),Shape:t(17803),Arc:t(23629),Curve:t(89),Ellipse:t(19921),Grid:t(30479),IsoBox:t(61475),IsoTriangle:t(16933),Line:t(57847),Polygon:t(24949),Rectangle:t(74561),Star:t(55911),Triangle:t(36931),Factories:{Blitter:t(12709),Container:t(24961),DOMElement:t(2611),DynamicBitmapText:t(72566),Extern:t(56315),Graphics:t(1201),Group:t(3385),Image:t(2117),Layer:t(20005),Particles:t(676),PathFollower:t(90145),RenderTexture:t(60505),Rope:t(96819),Sprite:t(46409),StaticBitmapText:t(34914),Text:t(68005),TileSprite:t(91681),Zone:t(84175),Video:t(89025),Arc:t(42563),Curve:t(40511),Ellipse:t(1543),Grid:t(34137),IsoBox:t(3933),IsoTriangle:t(49803),Line:t(2481),Polygon:t(64827),Rectangle:t(87959),Star:t(93697),Triangle:t(45245)},Creators:{Blitter:t(9403),Container:t(77143),DynamicBitmapText:t(11164),Graphics:t(87079),Group:t(94975),Image:t(82459),Layer:t(25179),Particles:t(92730),RenderTexture:t(34495),Rope:t(26209),Sprite:t(15567),StaticBitmapText:t(57336),Text:t(71259),TileSprite:t(14167),Zone:t(95261),Video:t(11511)}};o.Shader=t(20071),o.Mesh=t(4703),o.NineSlice=t(28103),o.PointLight=t(80321),o.Plane=t(33663),o.Factories.Shader=t(74177),o.Factories.Mesh=t(9225),o.Factories.NineSlice=t(47521),o.Factories.PointLight=t(71255),o.Factories.Plane=t(30985),o.Creators.Shader=t(54935),o.Creators.Mesh=t(20527),o.Creators.NineSlice=t(28279),o.Creators.PointLight=t(39829),o.Creators.Plane=t(56015),o.Light=t(41432),o.LightsManager=t(61356),o.LightsPlugin=t(88992),c.exports=o},93595:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(10312),v=t(83419),a=t(31401),i=t(53774),s=t(45893),e=t(50792),r=t(51708),h=t(73162),n=t(33963),l=t(44594),f=t(19186),u=new v({Extends:h,Mixins:[a.AlphaSingle,a.BlendMode,a.Depth,a.Mask,a.PostPipeline,a.Visible,e,n],initialize:function(p,x){h.call(this,p),e.call(this),this.scene=p,this.displayList=null,this.type="Layer",this.state=0,this.parentContainer=null,this.name="",this.active=!0,this.tabIndex=-1,this.data=null,this.renderFlags=15,this.cameraFilter=0,this.input=null,this.body=null,this.ignoreDestroy=!1,this.systems=p.sys,this.events=p.sys.events,this.sortChildrenFlag=!1,this.addCallback=this.addChildCallback,this.removeCallback=this.removeChildCallback,this.initPostPipeline(),this.clearAlpha(),this.setBlendMode(o.SKIP_CHECK),x&&this.add(x),p.sys.queueDepthSort()},setActive:function(d){return this.active=d,this},setName:function(d){return this.name=d,this},setState:function(d){return this.state=d,this},setDataEnabled:function(){return this.data||(this.data=new s(this)),this},setData:function(d,p){return this.data||(this.data=new s(this)),this.data.set(d,p),this},incData:function(d,p){return this.data||(this.data=new s(this)),this.data.inc(d,p),this},toggleData:function(d){return this.data||(this.data=new s(this)),this.data.toggle(d),this},getData:function(d){return this.data||(this.data=new s(this)),this.data.get(d)},setInteractive:function(){return this},disableInteractive:function(){return this},removeInteractive:function(){return this},addedToScene:function(){},removedFromScene:function(){},update:function(){},toJSON:function(){return i(this)},willRender:function(d){return!(this.renderFlags!==15||this.list.length===0||this.cameraFilter!==0&&this.cameraFilter&d.id)},getIndexList:function(){for(var d=this,p=this.parentContainer,x=[];p&&(x.unshift(p.getIndex(d)),d=p,p.parentContainer);)p=p.parentContainer;return x.unshift(this.displayList.getIndex(d)),x},addChildCallback:function(d){var p=d.displayList;p&&p!==this&&d.removeFromDisplayList(),d.displayList||(this.queueDepthSort(),d.displayList=this,d.emit(r.ADDED_TO_SCENE,d,this.scene),this.events.emit(l.ADDED_TO_SCENE,d,this.scene))},removeChildCallback:function(d){this.queueDepthSort(),d.displayList=null,d.emit(r.REMOVED_FROM_SCENE,d,this.scene),this.events.emit(l.REMOVED_FROM_SCENE,d,this.scene)},queueDepthSort:function(){this.sortChildrenFlag=!0},depthSort:function(){this.sortChildrenFlag&&(f(this.list,this.sortByDepth),this.sortChildrenFlag=!1)},sortByDepth:function(d,p){return d._depth-p._depth},getChildren:function(){return this.list},addToDisplayList:function(d){return d===void 0&&(d=this.scene.sys.displayList),this.displayList&&this.displayList!==d&&this.removeFromDisplayList(),d.exists(this)||(this.displayList=d,d.add(this,!0),d.queueDepthSort(),this.emit(r.ADDED_TO_SCENE,this,this.scene),d.events.emit(l.ADDED_TO_SCENE,this,this.scene)),this},removeFromDisplayList:function(){var d=this.displayList||this.scene.sys.displayList;return d.exists(this)&&(d.remove(this,!0),d.queueDepthSort(),this.displayList=null,this.emit(r.REMOVED_FROM_SCENE,this,this.scene),d.events.emit(l.REMOVED_FROM_SCENE,this,this.scene)),this},destroy:function(d){if(!(!this.scene||this.ignoreDestroy)){this.emit(r.DESTROY,this);for(var p=this.list;p.length;)p[0].destroy(d);this.removeAllListeners(),this.resetPostPipeline(!0),this.displayList&&(this.displayList.remove(this,!0,!1),this.displayList.queueDepthSort()),this.data&&(this.data.destroy(),this.data=void 0),this.active=!1,this.visible=!1,this.list=void 0,this.scene=void 0,this.displayList=void 0,this.systems=void 0,this.events=void 0}}});c.exports=u},2956:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o,v){var a=o.list;if(a.length!==0){o.depthSort();var i=o.blendMode!==-1;i||t.setBlendMode(0);var s=o._alpha;o.mask&&o.mask.preRenderCanvas(t,null,v);for(var e=0;e<a.length;e++){var r=a[e];if(r.willRender(v)){var h=r.alpha;!i&&r.blendMode!==t.currentBlendMode&&t.setBlendMode(r.blendMode),r.setAlpha(h*s),r.renderCanvas(t,r,v),r.setAlpha(h)}}o.mask&&o.mask.postRenderCanvas(t)}};c.exports=g},25179:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(25305),v=t(93595),a=t(44603),i=t(23568);a.register("layer",function(s,e){s===void 0&&(s={});var r=i(s,"children",null),h=new v(this.scene,r);return e!==void 0&&(s.add=e),o(this.scene,h,s),h})},20005:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(93595),v=t(39429);v.register("layer",function(a){return this.displayList.add(new o(this.scene,a))})},33963:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(29747),v=o,a=o;v=t(15869),a=t(2956),c.exports={renderWebGL:v,renderCanvas:a}},15869:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o,v){var a=o.list,i=a.length;if(i!==0){o.depthSort(),t.pipelines.preBatch(o);var s=o.blendMode!==-1;s||t.setBlendMode(0);for(var e=o.alpha,r=0;r<i;r++){var h=a[r];if(h.willRender(v)){var n,l,f,u;if(h.alphaTopLeft!==void 0)n=h.alphaTopLeft,l=h.alphaTopRight,f=h.alphaBottomLeft,u=h.alphaBottomRight;else{var d=h.alpha;n=d,l=d,f=d,u=d}!s&&h.blendMode!==t.currentBlendMode&&t.setBlendMode(h.blendMode);var p=h.mask;p&&p.preRenderWebGL(t,h,v);var x=h.type;x!==t.currentType&&(t.newType=!0,t.currentType=x),t.nextTypeMatch=r<i-1?a[r+1].type===t.currentType:!1,h.setAlpha(n*e,l*e,f*e,u*e),h.renderWebGL(t,h,v),h.setAlpha(n,l,f,u),p&&p.postRenderWebGL(t,v),t.newType=!1}}t.pipelines.postBatch(o)}};c.exports=g},41432:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(96503),v=t(83419),a=t(31401),i=t(51767),s=t(70554),e=new v({Extends:o,Mixins:[a.Origin,a.ScrollFactor,a.Visible],initialize:function(h,n,l,f,u,d,p){o.call(this,h,n,l),this.color=new i(f,u,d),this.intensity=p,this.renderFlags=15,this.cameraFilter=0,this.setScrollFactor(1,1),this.setOrigin(),this.setDisplayOrigin(l)},displayWidth:{get:function(){return this.diameter},set:function(r){this.diameter=r}},displayHeight:{get:function(){return this.diameter},set:function(r){this.diameter=r}},width:{get:function(){return this.diameter},set:function(r){this.diameter=r}},height:{get:function(){return this.diameter},set:function(r){this.diameter=r}},willRender:function(r){return!(e.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&r.id)},setColor:function(r){var h=s.getFloatsFromUintRGB(r);return this.color.set(h[0],h[1],h[2]),this},setIntensity:function(r){return this.intensity=r,this},setRadius:function(r){return this.radius=r,this}});e.RENDER_MASK=15,c.exports=e},61356:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(81491),v=t(83419),a=t(20339),i=t(41432),s=t(80321),e=t(51767),r=t(19133),h=t(19186),n=t(70554),l=new v({initialize:function(){this.lights=[],this.ambientColor=new e(.1,.1,.1),this.active=!1,this.maxLights=-1,this.visibleLights=0},addPointLight:function(f,u,d,p,x,E){return this.systems.displayList.add(new s(this.scene,f,u,d,p,x,E))},enable:function(){return this.maxLights===-1&&(this.maxLights=this.systems.renderer.config.maxLights),this.active=!0,this},disable:function(){return this.active=!1,this},getLights:function(f){for(var u=this.lights,d=f.worldView,p=[],x=0;x<u.length;x++){var E=u[x];E.willRender(f)&&o(E,d)&&p.push({light:E,distance:a(E.x,E.y,d.centerX,d.centerY)})}return p.length>this.maxLights&&(h(p,this.sortByDistance),p=p.slice(0,this.maxLights)),this.visibleLights=p.length,p},sortByDistance:function(f,u){return f.distance>=u.distance},setAmbientColor:function(f){var u=n.getFloatsFromUintRGB(f);return this.ambientColor.set(u[0],u[1],u[2]),this},getMaxVisibleLights:function(){return this.maxLights},getLightCount:function(){return this.lights.length},addLight:function(f,u,d,p,x){f===void 0&&(f=0),u===void 0&&(u=0),d===void 0&&(d=128),p===void 0&&(p=16777215),x===void 0&&(x=1);var E=n.getFloatsFromUintRGB(p),T=new i(f,u,d,E[0],E[1],E[2],x);return this.lights.push(T),T},removeLight:function(f){var u=this.lights.indexOf(f);return u>=0&&r(this.lights,u),this},shutdown:function(){this.lights.length=0},destroy:function(){this.shutdown()}});c.exports=l},88992:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(61356),a=t(37277),i=t(44594),s=new o({Extends:v,initialize:function(r){this.scene=r,this.systems=r.sys,r.sys.settings.isBooted||r.sys.events.once(i.BOOT,this.boot,this),v.call(this)},boot:function(){var e=this.systems.events;e.on(i.SHUTDOWN,this.shutdown,this),e.on(i.DESTROY,this.destroy,this)},destroy:function(){this.shutdown(),this.scene=void 0,this.systems=void 0}});a.register("LightsPlugin",s,"lights"),c.exports=s},4703:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(31401),a=t(39506),i=t(83997),s=t(95643),e=t(34684),r=t(92515),h=t(91296),n=t(37867),l=t(29807),f=t(43396),u=t(19186),d=t(25836),p=t(39318),x=new o({Extends:s,Mixins:[v.AlphaSingle,v.BlendMode,v.Depth,v.Mask,v.Pipeline,v.PostPipeline,v.ScrollFactor,v.Size,v.Texture,v.Transform,v.Visible,l],initialize:function(T,C,A,M,R,O,L,b,N,I,G,X){C===void 0&&(C=0),A===void 0&&(A=0),M===void 0&&(M="__WHITE"),s.call(this,T,"Mesh"),this.faces=[],this.vertices=[],this.tintFill=!1,this.debugCallback=null,this.debugGraphic=null,this.hideCCW=!0,this.modelPosition=new d,this.modelScale=new d(1,1,1),this.modelRotation=new d,this.dirtyCache=[0,0,0,0,0,0,0,0,0,0,0,0],this.transformMatrix=new n,this.viewPosition=new d,this.viewMatrix=new n,this.projectionMatrix=new n,this.totalRendered=0,this.totalFrame=0,this.ignoreDirtyCache=!1,this.fov,this.displayOriginX=0,this.displayOriginY=0;var $=T.sys.renderer;this.setPosition(C,A),this.setTexture(M,R),this.setSize($.width,$.height),this.initPipeline(),this.initPostPipeline(),this.setPerspective($.width,$.height),O&&this.addVertices(O,L,b,N,I,G,X)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},panX:function(E){return this.viewPosition.addScale(d.LEFT,E),this.dirtyCache[10]=1,this},panY:function(E){return this.viewPosition.y+=d.DOWN.y*E,this.dirtyCache[10]=1,this},panZ:function(E){return this.viewPosition.z+=E,this.dirtyCache[10]=1,this},setPerspective:function(E,T,C,A,M){return C===void 0&&(C=45),A===void 0&&(A=.01),M===void 0&&(M=1e3),this.fov=C,this.projectionMatrix.perspective(a(C),E/T,A,M),this.dirtyCache[10]=1,this.dirtyCache[11]=0,this},setOrtho:function(E,T,C,A){return E===void 0&&(E=this.scene.sys.renderer.getAspectRatio()),T===void 0&&(T=1),C===void 0&&(C=-1e3),A===void 0&&(A=1e3),this.fov=0,this.projectionMatrix.ortho(-E,E,-T,T,C,A),this.dirtyCache[10]=1,this.dirtyCache[11]=1,this},clear:function(){return this.faces.forEach(function(E){E.destroy()}),this.faces=[],this.vertices=[],this},addVerticesFromObj:function(E,T,C,A,M,R,O,L,b){var N=this.scene.sys.cache.obj.get(E),I;return N&&(I=e(N,this,T,C,A,M,R,O,L,b)),(!I||I.verts.length===0)&&console.warn("Mesh.addVerticesFromObj data empty:",E),this},sortByDepth:function(E,T){return E.depth-T.depth},depthSort:function(){return u(this.faces,this.sortByDepth),this},addVertex:function(E,T,C,A,M,R,O){var L=new p(E,T,C,A,M,R,O);return this.vertices.push(L),L},addFace:function(E,T,C){var A=new i(E,T,C);return this.faces.push(A),this.dirtyCache[9]=-1,A},addVertices:function(E,T,C,A,M,R,O){var L=r(E,T,C,A,M,R,O);return L?(this.faces=this.faces.concat(L.faces),this.vertices=this.vertices.concat(L.vertices)):console.warn("Mesh.addVertices data empty or invalid"),this.dirtyCache[9]=-1,this},getFaceCount:function(){return this.faces.length},getVertexCount:function(){return this.vertices.length},getFace:function(E){return this.faces[E]},hasFaceAt:function(E,T,C){C===void 0&&(C=this.scene.sys.cameras.main);for(var A=h(this,C).calc,M=this.faces,R=0;R<M.length;R++){var O=M[R];if(O.contains(E,T,A))return!0}return!1},getFaceAt:function(E,T,C){C===void 0&&(C=this.scene.sys.cameras.main);for(var A=h(this,C).calc,M=this.faces,R=[],O=0;O<M.length;O++){var L=M[O];L.contains(E,T,A)&&R.push(L)}return u(R,this.sortByDepth)},setDebug:function(E,T){return this.debugGraphic=E,!E&&!T?this.debugCallback=null:T?this.debugCallback=T:this.debugCallback=this.renderDebug,this},isDirty:function(){var E=this.modelPosition,T=this.modelRotation,C=this.modelScale,A=this.dirtyCache,M=E.x,R=E.y,O=E.z,L=T.x,b=T.y,N=T.z,I=C.x,G=C.y,X=C.z,$=this.getFaceCount(),J=A[0],z=A[1],Y=A[2],D=A[3],B=A[4],U=A[5],H=A[6],j=A[7],q=A[8],_=A[9];return A[0]=M,A[1]=R,A[2]=O,A[3]=L,A[4]=b,A[5]=N,A[6]=I,A[7]=G,A[8]=X,A[9]=$,J!==M||z!==R||Y!==O||D!==L||B!==b||U!==N||H!==I||j!==G||q!==X||_!==$},preUpdate:function(){this.totalRendered=this.totalFrame,this.totalFrame=0;var E=this.dirtyCache;if(!(!this.ignoreDirtyCache&&!E[10]&&!this.isDirty())){var T=this.width,C=this.height,A=this.viewMatrix,M=this.viewPosition;E[10]&&(A.identity(),A.translate(M),A.invert(),E[10]=0);var R=this.transformMatrix;R.setWorldMatrix(this.modelRotation,this.modelPosition,this.modelScale,this.viewMatrix,this.projectionMatrix);for(var O=M.z,L=this.faces,b=0;b<L.length;b++)L[b].transformCoordinatesLocal(R,T,C,O);this.depthSort()}},renderDebug:function(E,T){for(var C=E.debugGraphic,A=0;A<T.length;A++){var M=T[A],R=M.vertex1.tx,O=M.vertex1.ty,L=M.vertex2.tx,b=M.vertex2.ty,N=M.vertex3.tx,I=M.vertex3.ty;C.strokeTriangle(R,O,L,b,N,I)}},preDestroy:function(){this.clear(),this.debugCallback=null,this.debugGraphic=null},clearTint:function(){return this.setTint()},setInteractive:function(E){E===void 0&&(E={});var T=(function(C,A,M){for(var R=this.faces,O=0;O<R.length;O++){var L=R[O];if(L.contains(A,M))return!0}return!1}).bind(this);return this.scene.sys.input.enable(this,E,T),this},setTint:function(E){E===void 0&&(E=16777215);for(var T=this.vertices,C=0;C<T.length;C++)T[C].color=E;return this},uvScroll:function(E,T){for(var C=this.faces,A=0;A<C.length;A++)C[A].scrollUV(E,T);return this},uvScale:function(E,T){for(var C=this.faces,A=0;A<C.length;A++)C[A].scaleUV(E,T);return this},tint:{set:function(E){this.setTint(E)}},rotateX:{get:function(){return f(this.modelRotation.x)},set:function(E){this.modelRotation.x=a(E)}},rotateY:{get:function(){return f(this.modelRotation.y)},set:function(E){this.modelRotation.y=a(E)}},rotateZ:{get:function(){return f(this.modelRotation.z)},set:function(E){this.modelRotation.z=a(E)}}});c.exports=x},36488:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(){};c.exports=g},20527:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(25305),v=t(44603),a=t(23568),i=t(35154),s=t(4703);v.register("mesh",function(e,r){e===void 0&&(e={});var h=a(e,"key",null),n=a(e,"frame",null),l=i(e,"vertices",[]),f=i(e,"uvs",[]),u=i(e,"indicies",[]),d=i(e,"containsZ",!1),p=i(e,"normals",[]),x=i(e,"colors",16777215),E=i(e,"alphas",1),T=new s(this.scene,0,0,h,n,l,f,u,d,p,x,E);return r!==void 0&&(e.add=r),o(this.scene,T,e),T})},9225:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(4703),v=t(39429);v.register("mesh",function(a,i,s,e,r,h,n,l,f,u,d){return this.displayList.add(new o(this.scene,a,i,s,e,r,h,n,l,f,u,d))})},29807:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(29747),v=o,a=o;v=t(48833),a=t(36488),c.exports={renderWebGL:v,renderCanvas:a}},48833:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(91296),v=function(a,i,s,e){var r=i.faces,h=r.length;if(h!==0){s.addToRenderList(i);var n=a.pipelines.set(i.pipeline,i),l=o(i,s,e).calc;a.pipelines.preBatch(i);for(var f=n.setGameObject(i),u=n.vertexViewF32,d=n.vertexViewU32,p=n.vertexCount*n.currentShader.vertexComponentCount-1,x=i.tintFill,E=[],T=i.debugCallback,C=l.a,A=l.b,M=l.c,R=l.d,O=l.e,L=l.f,b=i.viewPosition.z,N=i.hideCCW,I=s.roundPixels,G=s.alpha*i.alpha,X=0,$=0;$<h;$++){var J=r[$];J.isInView(s,N,b,G,C,A,M,R,O,L,I)&&(n.shouldFlush(3)&&(n.flush(),f=n.setGameObject(i),p=0),p=J.load(u,d,p,f,x),X++,n.vertexCount+=3,n.currentBatch.count=n.vertexCount-n.currentBatch.start,T&&E.push(J))}i.totalFrame+=X,T&&T.call(i,i,E),a.pipelines.postBatch(i)}};c.exports=v},28103:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(31401),a=t(95643),i=t(78023),s=t(39318),e=new o({Extends:a,Mixins:[v.AlphaSingle,v.BlendMode,v.Depth,v.GetBounds,v.Mask,v.Origin,v.Pipeline,v.PostPipeline,v.ScrollFactor,v.Texture,v.Transform,v.Visible,i],initialize:function(h,n,l,f,u,d,p,x,E,T,C){a.call(this,h,"NineSlice"),this._width,this._height,this._originX=.5,this._originY=.5,this._sizeComponent=!0,this.vertices=[],this.leftWidth,this.rightWidth,this.topHeight,this.bottomHeight,this.tint=16777215,this.tintFill=!1;var A=h.textures.getFrame(f,u);this.is3Slice=!T&&!C,A.scale9&&(this.is3Slice=A.is3Slice);for(var M=this.is3Slice?18:54,R=0;R<M;R++)this.vertices.push(new s);this.setPosition(n,l),this.setTexture(f,u),this.setSlices(d,p,x,E,T,C,!1),this.updateDisplayOrigin(),this.initPipeline(),this.initPostPipeline()},setSlices:function(r,h,n,l,f,u,d){n===void 0&&(n=10),l===void 0&&(l=10),f===void 0&&(f=0),u===void 0&&(u=0),d===void 0&&(d=!1);var p=this.frame,x=!1;if(this.is3Slice&&d&&f!==0&&u!==0&&(x=!0),x)console.warn("Cannot change 9 slice to 3 slice");else{if(p.scale9&&!d){var E=p.data.scale9Borders,T=E.x,C=E.y;n=T,l=p.width-E.w-T,f=C,u=p.height-E.h-C,r===void 0&&(r=p.width),h===void 0&&(h=p.height)}else r===void 0&&(r=256),h===void 0&&(h=256);this._width=r,this._height=h,this.leftWidth=n,this.rightWidth=l,this.topHeight=f,this.bottomHeight=u,this.is3Slice&&(h=p.height,this._height=h,this.topHeight=h,this.bottomHeight=0),this.updateVertices(),this.updateUVs()}return this},updateUVs:function(){var r=this.leftWidth,h=this.rightWidth,n=this.topHeight,l=this.bottomHeight,f=this.frame.width,u=this.frame.height;this.updateQuadUVs(0,0,0,r/f,n/u),this.updateQuadUVs(6,r/f,0,1-h/f,n/u),this.updateQuadUVs(12,1-h/f,0,1,n/u),this.is3Slice||(this.updateQuadUVs(18,0,n/u,r/f,1-l/u),this.updateQuadUVs(24,r/f,n/u,1-h/f,1-l/u),this.updateQuadUVs(30,1-h/f,n/u,1,1-l/u),this.updateQuadUVs(36,0,1-l/u,r/f,1),this.updateQuadUVs(42,r/f,1-l/u,1-h/f,1),this.updateQuadUVs(48,1-h/f,1-l/u,1,1))},updateVertices:function(){var r=this.leftWidth,h=this.rightWidth,n=this.topHeight,l=this.bottomHeight,f=this.width,u=this.height;this.updateQuad(0,-.5,.5,-.5+r/f,.5-n/u),this.updateQuad(6,-.5+r/f,.5,.5-h/f,.5-n/u),this.updateQuad(12,.5-h/f,.5,.5,.5-n/u),this.is3Slice||(this.updateQuad(18,-.5,.5-n/u,-.5+r/f,-.5+l/u),this.updateQuad(24,-.5+r/f,.5-n/u,.5-h/f,-.5+l/u),this.updateQuad(30,.5-h/f,.5-n/u,.5,-.5+l/u),this.updateQuad(36,-.5,-.5+l/u,-.5+r/f,-.5),this.updateQuad(42,-.5+r/f,-.5+l/u,.5-h/f,-.5),this.updateQuad(48,.5-h/f,-.5+l/u,.5,-.5))},updateQuad:function(r,h,n,l,f){var u=this.width,d=this.height,p=this.originX,x=this.originY,E=this.vertices;E[r+0].resize(h,n,u,d,p,x),E[r+1].resize(h,f,u,d,p,x),E[r+2].resize(l,n,u,d,p,x),E[r+3].resize(h,f,u,d,p,x),E[r+4].resize(l,f,u,d,p,x),E[r+5].resize(l,n,u,d,p,x)},updateQuadUVs:function(r,h,n,l,f){var u=this.vertices,d=this.frame,p=d.u0,x=d.v0,E=d.u1,T=d.v1;if(p!==0||E!==1){var C=E-p;h=p+h*C,l=p+l*C}if(x!==0||T!==1){var A=T-x;n=x+n*A,f=x+f*A}u[r+0].setUVs(h,n),u[r+1].setUVs(h,f),u[r+2].setUVs(l,n),u[r+3].setUVs(h,f),u[r+4].setUVs(l,f),u[r+5].setUVs(l,n)},clearTint:function(){return this.setTint(16777215),this},setTint:function(r){return r===void 0&&(r=16777215),this.tint=r,this.tintFill=!1,this},setTintFill:function(r){return this.setTint(r),this.tintFill=!0,this},isTinted:{get:function(){return this.tint!==16777215}},width:{get:function(){return this._width},set:function(r){this._width=Math.max(r,this.leftWidth+this.rightWidth),this.updateVertices()}},height:{get:function(){return this._height},set:function(r){this.is3Slice||(this._height=Math.max(r,this.topHeight+this.bottomHeight),this.updateVertices())}},displayWidth:{get:function(){return this.scaleX*this.width},set:function(r){this.scaleX=r/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(r){this.scaleY=r/this.height}},setSize:function(r,h){this.width=r,this.height=h,this.updateDisplayOrigin();var n=this.input;return n&&!n.customHitArea&&(n.hitArea.width=this.width,n.hitArea.height=this.height),this},setDisplaySize:function(r,h){return this.displayWidth=r,this.displayHeight=h,this},originX:{get:function(){return this._originX},set:function(r){this._originX=r,this.updateVertices()}},originY:{get:function(){return this._originY},set:function(r){this._originY=r,this.updateVertices()}},setOrigin:function(r,h){return r===void 0&&(r=.5),h===void 0&&(h=r),this._originX=r,this._originY=h,this.updateVertices(),this.updateDisplayOrigin()},setSizeToFrame:function(){if(this.is3Slice){var r=this.frame.height;this._height=r,this.topHeight=r,this.bottomHeight=0}return this.updateUVs(),this},preDestroy:function(){this.vertices=[]}});c.exports=e},28279:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(25305),v=t(44603),a=t(23568),i=t(35154),s=t(28103);v.register("nineslice",function(e,r){e===void 0&&(e={});var h=a(e,"key",null),n=a(e,"frame",null),l=i(e,"width",256),f=i(e,"height",256),u=i(e,"leftWidth",10),d=i(e,"rightWidth",10),p=i(e,"topHeight",0),x=i(e,"bottomHeight",0),E=new s(this.scene,0,0,h,n,l,f,u,d,p,x);return r!==void 0&&(e.add=r),o(this.scene,E,e),E})},47521:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(28103),v=t(39429);v.register("nineslice",function(a,i,s,e,r,h,n,l,f,u){return this.displayList.add(new o(this.scene,a,i,s,e,r,h,n,l,f,u))})},78023:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(29747),v=o,a=o;v=t(52230),c.exports={renderWebGL:v,renderCanvas:a}},52230:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(91296),v=t(70554),a=function(i,s,e,r){var h=s.vertices,n=h.length;if(n!==0){e.addToRenderList(s);var l=i.pipelines.set(s.pipeline,s),f=o(s,e,r,!1).calc;i.pipelines.preBatch(s);var u=l.setGameObject(s),d=l.vertexViewF32,p=l.vertexViewU32,x=l.vertexCount*l.currentShader.vertexComponentCount-1,E=e.roundPixels,T=s.tintFill,C=e.alpha*s.alpha,A=v.getTintAppendFloatAlpha(s.tint,C),M=l.vertexAvailable(),R=-1;M<n&&(R=M);for(var O=0;O<n;O++){var L=h[O];O===R&&(l.flush(),u=l.setGameObject(s),x=0),d[++x]=f.getXRound(L.vx,L.vy,E),d[++x]=f.getYRound(L.vx,L.vy,E),d[++x]=L.u,d[++x]=L.v,d[++x]=u,d[++x]=T,p[++x]=A,l.vertexCount++,l.currentBatch.count=l.vertexCount-l.currentBatch.start}i.pipelines.postBatch(s)}};c.exports=a},76472:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(44777),a=t(37589),i=t(6113),s=t(91389),e=t(90664),r=new o({Extends:v,initialize:function(n){v.call(this,n,null,!1),this.active=!1,this.easeName="Linear",this.r=[],this.g=[],this.b=[]},getMethod:function(){return this.propertyValue===null?0:9},setMethods:function(){var h=this.propertyValue,n=h,l=this.defaultEmit,f=this.defaultUpdate;if(this.method===9){this.start=h[0],this.ease=i("Linear"),this.interpolation=s("linear"),l=this.easedValueEmit,f=this.easeValueUpdate,n=h[0],this.active=!0;for(var u=0;u<h.length;u++){var d=e(h[u]);this.r.push(d.r),this.g.push(d.g),this.b.push(d.b)}}return this.onEmit=l,this.onUpdate=f,this.current=n,this},setEase:function(h){this.easeName=h,this.ease=i(h)},easedValueEmit:function(){return this.current=this.start,this.start},easeValueUpdate:function(h,n,l){var f=this.ease(l),u=this.interpolation(this.r,f),d=this.interpolation(this.g,f),p=this.interpolation(this.b,f),x=a(u,d,p);return this.current=x,x}});c.exports=r},44777:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(30976),v=t(45319),a=t(83419),i=t(99472),s=t(6113),e=t(95540),r=t(91389),h=t(77720),n=t(15994),l=new a({initialize:function(u,d,p){p===void 0&&(p=!1),this.propertyKey=u,this.propertyValue=d,this.defaultValue=d,this.steps=0,this.counter=0,this.yoyo=!1,this.direction=0,this.start=0,this.current=0,this.end=0,this.ease=null,this.interpolation=null,this.emitOnly=p,this.onEmit=this.defaultEmit,this.onUpdate=this.defaultUpdate,this.active=!0,this.method=0,this._onEmit,this._onUpdate},loadConfig:function(f,u){f===void 0&&(f={}),u&&(this.propertyKey=u),this.propertyValue=e(f,this.propertyKey,this.defaultValue),this.method=this.getMethod(),this.setMethods(),this.emitOnly&&(this.onUpdate=this.defaultUpdate)},toJSON:function(){return JSON.stringify(this.propertyValue)},onChange:function(f){var u;switch(this.method){case 1:case 3:case 8:u=f;break;case 2:this.propertyValue.indexOf(f)>=0&&(u=f);break;case 4:var d=(this.end-this.start)/this.steps;u=h(f,d),this.counter=u;break;case 5:case 6:case 7:u=v(f,this.start,this.end);break;case 9:u=this.start[0];break}return this.current=u,this},getMethod:function(){var f=this.propertyValue;if(f===null)return 0;var u=typeof f;if(u==="number")return 1;if(Array.isArray(f))return 2;if(u==="function")return 3;if(u==="object"){if(this.hasBoth(f,"start","end"))return this.has(f,"steps")?4:5;if(this.hasBoth(f,"min","max"))return 6;if(this.has(f,"random"))return 7;if(this.hasEither(f,"onEmit","onUpdate"))return 8;if(this.hasEither(f,"values","interpolation"))return 9}return 0},setMethods:function(){var f=this.propertyValue,u=f,d=this.defaultEmit,p=this.defaultUpdate;switch(this.method){case 1:d=this.staticValueEmit;break;case 2:d=this.randomStaticValueEmit,u=f[0];break;case 3:this._onEmit=f,d=this.proxyEmit;break;case 4:this.start=f.start,this.end=f.end,this.steps=f.steps,this.counter=this.start,this.yoyo=this.has(f,"yoyo")?f.yoyo:!1,this.direction=0,d=this.steppedEmit,u=this.start;break;case 5:this.start=f.start,this.end=f.end;var x=this.has(f,"ease")?f.ease:"Linear";this.ease=s(x,f.easeParams),d=this.has(f,"random")&&f.random?this.randomRangedValueEmit:this.easedValueEmit,p=this.easeValueUpdate,u=this.start;break;case 6:this.start=f.min,this.end=f.max,d=this.has(f,"int")&&f.int?this.randomRangedIntEmit:this.randomRangedValueEmit,u=this.start;break;case 7:var E=f.random;Array.isArray(E)&&(this.start=E[0],this.end=E[1]),d=this.randomRangedIntEmit,u=this.start;break;case 8:this._onEmit=this.has(f,"onEmit")?f.onEmit:this.defaultEmit,this._onUpdate=this.has(f,"onUpdate")?f.onUpdate:this.defaultUpdate,d=this.proxyEmit,p=this.proxyUpdate;break;case 9:this.start=f.values;var T=this.has(f,"ease")?f.ease:"Linear";this.ease=s(T,f.easeParams),this.interpolation=r(f.interpolation),d=this.easedValueEmit,p=this.easeValueUpdate,u=this.start[0];break}return this.onEmit=d,this.onUpdate=p,this.current=u,this},has:function(f,u){return f.hasOwnProperty(u)},hasBoth:function(f,u,d){return f.hasOwnProperty(u)&&f.hasOwnProperty(d)},hasEither:function(f,u,d){return f.hasOwnProperty(u)||f.hasOwnProperty(d)},defaultEmit:function(f,u,d){return d},defaultUpdate:function(f,u,d,p){return p},proxyEmit:function(f,u,d){var p=this._onEmit(f,u,d);return this.current=p,p},proxyUpdate:function(f,u,d,p){var x=this._onUpdate(f,u,d,p);return this.current=x,x},staticValueEmit:function(){return this.current},staticValueUpdate:function(){return this.current},randomStaticValueEmit:function(){var f=Math.floor(Math.random()*this.propertyValue.length);return this.current=this.propertyValue[f],this.current},randomRangedValueEmit:function(f,u){var d=i(this.start,this.end);return f&&f.data[u]&&(f.data[u].min=d,f.data[u].max=this.end),this.current=d,d},randomRangedIntEmit:function(f,u){var d=o(this.start,this.end);return f&&f.data[u]&&(f.data[u].min=d,f.data[u].max=this.end),this.current=d,d},steppedEmit:function(){var f=this.counter,u=f,d=(this.end-this.start)/this.steps;if(this.yoyo){var p;this.direction===0?(u+=d,u>=this.end&&(p=u-this.end,u=this.end-p,this.direction=1)):(u-=d,u<=this.start&&(p=this.start-u,u=this.start+p,this.direction=0)),this.counter=u}else this.counter=n(u+d,this.start,this.end);return this.current=f,f},easedValueEmit:function(f,u){if(f&&f.data[u]){var d=f.data[u];d.min=this.start,d.max=this.end}return this.current=this.start,this.start},easeValueUpdate:function(f,u,d){var p=f.data[u],x,E=this.ease(d);return this.interpolation?x=this.interpolation(this.start,E):x=(p.max-p.min)*E+p.min,this.current=x,x},destroy:function(){this.propertyValue=null,this.defaultValue=null,this.ease=null,this.interpolation=null,this._onEmit=null,this._onUpdate=null}});c.exports=l},24502:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(95540),a=t(20286),i=new o({Extends:a,initialize:function(e,r,h,n,l){if(typeof e=="object"){var f=e;e=v(f,"x",0),r=v(f,"y",0),h=v(f,"power",0),n=v(f,"epsilon",100),l=v(f,"gravity",50)}else e===void 0&&(e=0),r===void 0&&(r=0),h===void 0&&(h=0),n===void 0&&(n=100),l===void 0&&(l=50);a.call(this,e,r,!0),this._gravity=l,this._power=h*l,this._epsilon=n*n},update:function(s,e){var r=this.x-s.x,h=this.y-s.y,n=r*r+h*h;if(n!==0){var l=Math.sqrt(n);n<this._epsilon&&(n=this._epsilon);var f=this._power*e/(n*l)*100;s.velocityX+=r*f,s.velocityY+=h*f}},epsilon:{get:function(){return Math.sqrt(this._epsilon)},set:function(s){this._epsilon=s*s}},power:{get:function(){return this._power/this._gravity},set:function(s){this._power=s*this._gravity}},gravity:{get:function(){return this._gravity},set:function(s){var e=this.power;this._gravity=s,this.power=e}}});c.exports=i},56480:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(9674),v=t(45319),a=t(83419),i=t(39506),s=t(87841),e=t(11520),r=t(26099),h=new a({initialize:function(l){this.emitter=l,this.texture=null,this.frame=null,this.x=0,this.y=0,this.worldPosition=new r,this.velocityX=0,this.velocityY=0,this.accelerationX=0,this.accelerationY=0,this.maxVelocityX=1e4,this.maxVelocityY=1e4,this.bounce=0,this.scaleX=1,this.scaleY=1,this.alpha=1,this.angle=0,this.rotation=0,this.tint=16777215,this.life=1e3,this.lifeCurrent=1e3,this.delayCurrent=0,this.holdCurrent=0,this.lifeT=0,this.data={tint:{min:16777215,max:16777215},alpha:{min:1,max:1},rotate:{min:0,max:0},scaleX:{min:1,max:1},scaleY:{min:1,max:1},x:{min:0,max:0},y:{min:0,max:0},accelerationX:{min:0,max:0},accelerationY:{min:0,max:0},maxVelocityX:{min:0,max:0},maxVelocityY:{min:0,max:0},moveToX:{min:0,max:0},moveToY:{min:0,max:0},bounce:{min:0,max:0}},this.isCropped=!1,this.scene=l.scene,this.anims=new o(this),this.bounds=new s},emit:function(n,l,f,u,d,p){return this.emitter.emit(n,l,f,u,d,p)},isAlive:function(){return this.lifeCurrent>0},kill:function(){this.lifeCurrent=0},setPosition:function(n,l){n===void 0&&(n=0),l===void 0&&(l=0),this.x=n,this.y=l},fire:function(n,l){var f=this.emitter,u=f.ops,d=f.getAnim();if(d?this.anims.play(d):(this.frame=f.getFrame(),this.texture=this.frame.texture),!this.frame)throw new Error("Particle has no texture frame");if(f.getEmitZone(this),n===void 0?this.x+=u.x.onEmit(this,"x"):u.x.steps>0?this.x+=n+u.x.onEmit(this,"x"):this.x+=n,l===void 0?this.y+=u.y.onEmit(this,"y"):u.y.steps>0?this.y+=l+u.y.onEmit(this,"y"):this.y+=l,this.life=u.lifespan.onEmit(this,"lifespan"),this.lifeCurrent=this.life,this.lifeT=0,this.delayCurrent=u.delay.onEmit(this,"delay"),this.holdCurrent=u.hold.onEmit(this,"hold"),this.scaleX=u.scaleX.onEmit(this,"scaleX"),this.scaleY=u.scaleY.active?u.scaleY.onEmit(this,"scaleY"):this.scaleX,this.angle=u.rotate.onEmit(this,"rotate"),this.rotation=i(this.angle),f.worldMatrix.transformPoint(this.x,this.y,this.worldPosition),this.delayCurrent===0&&f.getDeathZone(this))return this.lifeCurrent=0,!1;var p=u.speedX.onEmit(this,"speedX"),x=u.speedY.active?u.speedY.onEmit(this,"speedY"):p;if(f.radial){var E=i(u.angle.onEmit(this,"angle"));this.velocityX=Math.cos(E)*Math.abs(p),this.velocityY=Math.sin(E)*Math.abs(x)}else if(f.moveTo){var T=u.moveToX.onEmit(this,"moveToX"),C=u.moveToY.onEmit(this,"moveToY"),A=this.life/1e3;this.velocityX=(T-this.x)/A,this.velocityY=(C-this.y)/A}else this.velocityX=p,this.velocityY=x;return f.acceleration&&(this.accelerationX=u.accelerationX.onEmit(this,"accelerationX"),this.accelerationY=u.accelerationY.onEmit(this,"accelerationY")),this.maxVelocityX=u.maxVelocityX.onEmit(this,"maxVelocityX"),this.maxVelocityY=u.maxVelocityY.onEmit(this,"maxVelocityY"),this.bounce=u.bounce.onEmit(this,"bounce"),this.alpha=u.alpha.onEmit(this,"alpha"),u.color.active?this.tint=u.color.onEmit(this,"tint"):this.tint=u.tint.onEmit(this,"tint"),!0},update:function(n,l,f){if(this.lifeCurrent<=0)return this.holdCurrent>0?(this.holdCurrent-=n,this.holdCurrent<=0):!0;if(this.delayCurrent>0)return this.delayCurrent-=n,!1;this.anims.update(0,n);var u=this.emitter,d=u.ops,p=1-this.lifeCurrent/this.life;if(this.lifeT=p,this.x=d.x.onUpdate(this,"x",p,this.x),this.y=d.y.onUpdate(this,"y",p,this.y),u.moveTo){var x=d.moveToX.onUpdate(this,"moveToX",p,u.moveToX),E=d.moveToY.onUpdate(this,"moveToY",p,u.moveToY),T=this.lifeCurrent/1e3;this.velocityX=(x-this.x)/T,this.velocityY=(E-this.y)/T}return this.computeVelocity(u,n,l,f,p),this.scaleX=d.scaleX.onUpdate(this,"scaleX",p,this.scaleX),d.scaleY.active?this.scaleY=d.scaleY.onUpdate(this,"scaleY",p,this.scaleY):this.scaleY=this.scaleX,this.angle=d.rotate.onUpdate(this,"rotate",p,this.angle),this.rotation=i(this.angle),u.getDeathZone(this)?(this.lifeCurrent=0,!0):(this.alpha=v(d.alpha.onUpdate(this,"alpha",p,this.alpha),0,1),d.color.active?this.tint=d.color.onUpdate(this,"color",p,this.tint):this.tint=d.tint.onUpdate(this,"tint",p,this.tint),this.lifeCurrent-=n,this.lifeCurrent<=0&&this.holdCurrent<=0)},computeVelocity:function(n,l,f,u,d){var p=n.ops,x=this.velocityX,E=this.velocityY,T=p.accelerationX.onUpdate(this,"accelerationX",d,this.accelerationX),C=p.accelerationY.onUpdate(this,"accelerationY",d,this.accelerationY),A=p.maxVelocityX.onUpdate(this,"maxVelocityX",d,this.maxVelocityX),M=p.maxVelocityY.onUpdate(this,"maxVelocityY",d,this.maxVelocityY);this.bounce=p.bounce.onUpdate(this,"bounce",d,this.bounce),x+=n.gravityX*f+T*f,E+=n.gravityY*f+C*f,x=v(x,-A,A),E=v(E,-M,M),this.velocityX=x,this.velocityY=E,this.x+=x*f,this.y+=E*f,n.worldMatrix.transformPoint(this.x,this.y,this.worldPosition);for(var R=0;R<u.length;R++){var O=u[R];O.active&&O.update(this,l,f,d)}},setSizeToFrame:function(){},getBounds:function(n){n===void 0&&(n=this.emitter.getWorldTransformMatrix());var l=Math.abs(n.scaleX)*this.scaleX,f=Math.abs(n.scaleY)*this.scaleY,u=this.x,d=this.y,p=this.rotation,x=this.frame.width*l/2,E=this.frame.height*f/2,T=this.bounds,C=new r(u-x,d-E),A=new r(u+x,d-E),M=new r(u-x,d+E),R=new r(u+x,d+E);return p!==0&&(e(C,u,d,p),e(A,u,d,p),e(M,u,d,p),e(R,u,d,p)),n.transformPoint(C.x,C.y,C),n.transformPoint(A.x,A.y,A),n.transformPoint(M.x,M.y,M),n.transformPoint(R.x,R.y,R),T.x=Math.min(C.x,A.x,M.x,R.x),T.y=Math.min(C.y,A.y,M.y,R.y),T.width=Math.max(C.x,A.x,M.x,R.x)-T.x,T.height=Math.max(C.y,A.y,M.y,R.y)-T.y,T},destroy:function(){this.anims.destroy(),this.anims=null,this.emitter=null,this.texture=null,this.frame=null,this.scene=null}});c.exports=h},69601:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(20286),a=t(87841),i=new o({Extends:v,initialize:function(e,r,h,n,l,f,u,d){l===void 0&&(l=!0),f===void 0&&(f=!0),u===void 0&&(u=!0),d===void 0&&(d=!0),v.call(this,e,r,!0),this.bounds=new a(e,r,h,n),this.collideLeft=l,this.collideRight=f,this.collideTop=u,this.collideBottom=d},update:function(s){var e=this.bounds,r=-s.bounce,h=s.worldPosition;h.x<e.x&&this.collideLeft?(s.x+=e.x-h.x,s.velocityX*=r):h.x>e.right&&this.collideRight&&(s.x-=h.x-e.right,s.velocityX*=r),h.y<e.y&&this.collideTop?(s.y+=e.y-h.y,s.velocityY*=r):h.y>e.bottom&&this.collideBottom&&(s.y-=h.y-e.bottom,s.velocityY*=r)}});c.exports=i},31600:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(31401),a=t(53774),i=t(43459),s=t(26388),e=t(19909),r=t(76472),h=t(44777),n=t(20696),l=t(95643),f=t(95540),u=t(26546),d=t(24502),p=t(1985),x=t(97022),E=t(86091),T=t(73162),C=t(20074),A=t(56480),M=t(68875),R=t(87841),O=t(59996),L=t(72905),b=t(90668),N=t(19186),I=t(61340),G=t(26099),X=t(15994),$=t(69601),J=["active","advance","blendMode","colorEase","deathCallback","deathCallbackScope","duration","emitCallback","emitCallbackScope","follow","frequency","gravityX","gravityY","maxAliveParticles","maxParticles","name","emitting","particleBringToTop","particleClass","radial","sortCallback","sortOrderAsc","sortProperty","stopAfter","tintFill","timeScale","trackVisible","visible"],z=["accelerationX","accelerationY","alpha","angle","bounce","color","delay","hold","lifespan","maxVelocityX","maxVelocityY","moveToX","moveToY","quantity","rotate","scaleX","scaleY","speedX","speedY","tint","x","y"],Y=new o({Extends:l,Mixins:[v.AlphaSingle,v.BlendMode,v.Depth,v.Mask,v.Pipeline,v.PostPipeline,v.ScrollFactor,v.Texture,v.Transform,v.Visible,b],initialize:function(B,U,H,j,q){l.call(this,B,"ParticleEmitter"),this.particleClass=A,this.ops={accelerationX:new h("accelerationX",0),accelerationY:new h("accelerationY",0),alpha:new h("alpha",1),angle:new h("angle",{min:0,max:360},!0),bounce:new h("bounce",0),color:new r("color"),delay:new h("delay",0,!0),hold:new h("hold",0,!0),lifespan:new h("lifespan",1e3,!0),maxVelocityX:new h("maxVelocityX",1e4),maxVelocityY:new h("maxVelocityY",1e4),moveToX:new h("moveToX",0),moveToY:new h("moveToY",0),quantity:new h("quantity",1,!0),rotate:new h("rotate",0),scaleX:new h("scaleX",1),scaleY:new h("scaleY",1),speedX:new h("speedX",0,!0),speedY:new h("speedY",0,!0),tint:new h("tint",16777215),x:new h("x",0),y:new h("y",0)},this.radial=!0,this.gravityX=0,this.gravityY=0,this.acceleration=!1,this.moveTo=!1,this.emitCallback=null,this.emitCallbackScope=null,this.deathCallback=null,this.deathCallbackScope=null,this.maxParticles=0,this.maxAliveParticles=0,this.stopAfter=0,this.duration=0,this.frequency=0,this.emitting=!0,this.particleBringToTop=!0,this.timeScale=1,this.emitZones=[],this.deathZones=[],this.viewBounds=null,this.follow=null,this.followOffset=new G,this.trackVisible=!1,this.frames=[],this.randomFrame=!0,this.frameQuantity=1,this.anims=[],this.randomAnim=!0,this.animQuantity=1,this.dead=[],this.alive=[],this.counters=new Float32Array(10),this.skipping=!1,this.worldMatrix=new I,this.sortProperty="",this.sortOrderAsc=!0,this.sortCallback=this.depthSortCallback,this.processors=new T(this),this.tintFill=!1,this.initPipeline(),this.initPostPipeline(),this.setPosition(U,H),this.setTexture(j),q&&this.setConfig(q)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},setConfig:function(D){if(!D)return this;var B=0,U="",H=this.ops;for(B=0;B<z.length;B++)U=z[B],H[U].loadConfig(D);for(B=0;B<J.length;B++)U=J[B],x(D,U)&&(this[U]=f(D,U));if(this.acceleration=this.accelerationX!==0||this.accelerationY!==0,this.moveTo=this.moveToX!==0&&this.moveToY!==0,x(D,"speed")&&(H.speedX.loadConfig(D,"speed"),H.speedY.active=!1),(p(D,["speedX","speedY"])||this.moveTo)&&(this.radial=!1),x(D,"scale")&&(H.scaleX.loadConfig(D,"scale"),H.scaleY.active=!1),x(D,"callbackScope")){var j=f(D,"callbackScope",null);this.emitCallbackScope=j,this.deathCallbackScope=j}if(x(D,"emitZone")&&this.addEmitZone(D.emitZone),x(D,"deathZone")&&this.addDeathZone(D.deathZone),x(D,"bounds")){var q=this.addParticleBounds(D.bounds);q.collideLeft=f(D,"collideLeft",!0),q.collideRight=f(D,"collideRight",!0),q.collideTop=f(D,"collideTop",!0),q.collideBottom=f(D,"collideBottom",!0)}return x(D,"followOffset")&&this.followOffset.setFromObject(f(D,"followOffset",0)),x(D,"texture")&&this.setTexture(D.texture),x(D,"frame")?this.setEmitterFrame(D.frame):x(D,"anim")&&this.setAnim(D.anim),x(D,"reserve")&&this.reserve(D.reserve),x(D,"advance")&&this.fastForward(D.advance),this.resetCounters(this.frequency,this.emitting),this.emitting&&this.emit(n.START,this),this},toJSON:function(){var D=a(this),B=0,U="";for(B=0;B<J.length;B++)U=J[B],D[U]=this[U];var H=this.ops;for(B=0;B<z.length;B++)U=z[B],H[U]&&(D[U]=H[U].toJSON());return H.speedY.active||(delete D.speedX,D.speed=H.speedX.toJSON()),this.scaleX===this.scaleY&&(delete D.scaleX,delete D.scaleY,D.scale=H.scaleX.toJSON()),D},resetCounters:function(D,B){var U=this.counters;U.fill(0),U[0]=D,B&&(U[5]=1)},startFollow:function(D,B,U,H){return B===void 0&&(B=0),U===void 0&&(U=0),H===void 0&&(H=!1),this.follow=D,this.followOffset.set(B,U),this.trackVisible=H,this},stopFollow:function(){return this.follow=null,this.followOffset.set(0,0),this.trackVisible=!1,this},getFrame:function(){var D=this.frames,B=D.length,U;return B===1?U=D[0]:this.randomFrame?U=u(D):(U=D[this.currentFrame],this.frameCounter++,this.frameCounter===this.frameQuantity&&(this.frameCounter=0,this.currentFrame++,this.currentFrame===B&&(this.currentFrame=0))),this.texture.get(U)},setEmitterFrame:function(D,B,U){B===void 0&&(B=!0),U===void 0&&(U=1),this.randomFrame=B,this.frameQuantity=U,this.currentFrame=0;var H=typeof D;if(this.frames.length=0,Array.isArray(D))this.frames=this.frames.concat(D);else if(H==="string"||H==="number")this.frames.push(D);else if(H==="object"){var j=D;D=f(j,"frames",null),D&&(this.frames=this.frames.concat(D));var q=f(j,"cycle",!1);this.randomFrame=!q,this.frameQuantity=f(j,"quantity",U)}return this.frames.length===1&&(this.frameQuantity=1,this.randomFrame=!1),this},getAnim:function(){var D=this.anims,B=D.length;if(B===0)return null;if(B===1)return D[0];if(this.randomAnim)return u(D);var U=D[this.currentAnim];return this.animCounter++,this.animCounter>=this.animQuantity&&(this.animCounter=0,this.currentAnim=X(this.currentAnim+1,0,B)),U},setAnim:function(D,B,U){B===void 0&&(B=!0),U===void 0&&(U=1),this.randomAnim=B,this.animQuantity=U,this.currentAnim=0;var H=typeof D;if(this.anims.length=0,Array.isArray(D))this.anims=this.anims.concat(D);else if(H==="string")this.anims.push(D);else if(H==="object"){var j=D;D=f(j,"anims",null),D&&(this.anims=this.anims.concat(D));var q=f(j,"cycle",!1);this.randomAnim=!q,this.animQuantity=f(j,"quantity",U)}return this.anims.length===1&&(this.animQuantity=1,this.randomAnim=!1),this},setRadial:function(D){return D===void 0&&(D=!0),this.radial=D,this},addParticleBounds:function(D,B,U,H,j,q,_,st){if(typeof D=="object"){var ut=D;D=ut.x,B=ut.y,U=x(ut,"w")?ut.w:ut.width,H=x(ut,"h")?ut.h:ut.height}return this.addParticleProcessor(new $(D,B,U,H,j,q,_,st))},setParticleSpeed:function(D,B){return B===void 0&&(B=D),this.ops.speedX.onChange(D),D===B?this.ops.speedY.active=!1:this.ops.speedY.onChange(B),this.radial=!0,this},setParticleScale:function(D,B){return D===void 0&&(D=1),B===void 0&&(B=D),this.ops.scaleX.onChange(D),this.ops.scaleY.onChange(B),this},setParticleGravity:function(D,B){return this.gravityX=D,this.gravityY=B,this},setParticleAlpha:function(D){return this.ops.alpha.onChange(D),this},setParticleTint:function(D){return this.ops.tint.onChange(D),this},setEmitterAngle:function(D){return this.ops.angle.onChange(D),this},setParticleLifespan:function(D){return this.ops.lifespan.onChange(D),this},setQuantity:function(D){return this.quantity=D,this},setFrequency:function(D,B){return this.frequency=D,this.flowCounter=D>0?D:0,B&&(this.quantity=B),this},addDeathZone:function(D){Array.isArray(D)||(D=[D]);for(var B,U=[],H=0;H<D.length;H++)if(B=D[H],B instanceof s)U.push(B);else if(typeof B.contains=="function")B=new s(B,!0),U.push(B);else{var j=f(B,"type","onEnter"),q=f(B,"source",null);if(q&&typeof q.contains=="function"){var _=j==="onEnter";B=new s(q,_),U.push(B)}}return this.deathZones=this.deathZones.concat(U),U},removeDeathZone:function(D){return L(this.deathZones,D),this},clearDeathZones:function(){return this.deathZones.length=0,this},addEmitZone:function(D){Array.isArray(D)||(D=[D]);for(var B,U=[],H=0;H<D.length;H++)if(B=D[H],B instanceof M||B instanceof e)U.push(B);else{var j=f(B,"source",null);if(j){var q=f(B,"type","random");if(q==="random"&&typeof j.getRandomPoint=="function")B=new M(j),U.push(B);else if(q==="edge"&&typeof j.getPoints=="function"){var _=f(B,"quantity",1),st=f(B,"stepRate",0),ut=f(B,"yoyo",!1),ct=f(B,"seamless",!0),pt=f(B,"total",-1);B=new e(j,_,st,ut,ct,pt),U.push(B)}}}return this.emitZones=this.emitZones.concat(U),U},removeEmitZone:function(D){return L(this.emitZones,D),this.zoneIndex=0,this},clearEmitZones:function(){return this.emitZones.length=0,this.zoneIndex=0,this},getEmitZone:function(D){var B=this.emitZones,U=B.length;if(U!==0){var H=B[this.zoneIndex];H.getPoint(D),H.total>-1&&(this.zoneTotal++,this.zoneTotal===H.total&&(this.zoneTotal=0,this.zoneIndex++,this.zoneIndex===U&&(this.zoneIndex=0)))}},getDeathZone:function(D){for(var B=this.deathZones,U=0;U<B.length;U++){var H=B[U];if(H.willKill(D))return this.emit(n.DEATH_ZONE,this,D,H),!0}return!1},setEmitZone:function(D){var B;return isFinite(D)?B=D:B=this.emitZones.indexOf(D),B>=0&&(this.zoneIndex=B),this},addParticleProcessor:function(D){return this.processors.exists(D)||(D.emitter&&D.emitter.removeParticleProcessor(D),this.processors.add(D),D.emitter=this),D},removeParticleProcessor:function(D){return this.processors.exists(D)&&(this.processors.remove(D,!0),D.emitter=null),D},getProcessors:function(){return this.processors.getAll("active",!0)},createGravityWell:function(D){return this.addParticleProcessor(new d(D))},reserve:function(D){var B=this.dead;if(this.maxParticles>0){var U=this.getParticleCount();U+D>this.maxParticles&&(D=this.maxParticles-(U+D))}for(var H=0;H<D;H++)B.push(new this.particleClass(this));return this},getAliveParticleCount:function(){return this.alive.length},getDeadParticleCount:function(){return this.dead.length},getParticleCount:function(){return this.getAliveParticleCount()+this.getDeadParticleCount()},atLimit:function(){return this.maxParticles>0&&this.getParticleCount()>=this.maxParticles?!0:this.maxAliveParticles>0&&this.getAliveParticleCount()>=this.maxAliveParticles},onParticleEmit:function(D,B){return D===void 0?(this.emitCallback=null,this.emitCallbackScope=null):typeof D=="function"&&(this.emitCallback=D,B&&(this.emitCallbackScope=B)),this},onParticleDeath:function(D,B){return D===void 0?(this.deathCallback=null,this.deathCallbackScope=null):typeof D=="function"&&(this.deathCallback=D,B&&(this.deathCallbackScope=B)),this},killAll:function(){for(var D=this.dead,B=this.alive;B.length>0;)D.push(B.pop());return this},forEachAlive:function(D,B){for(var U=this.alive,H=U.length,j=0;j<H;j++)D.call(B,U[j],this);return this},forEachDead:function(D,B){for(var U=this.dead,H=U.length,j=0;j<H;j++)D.call(B,U[j],this);return this},start:function(D,B){return D===void 0&&(D=0),this.emitting||(D>0&&this.fastForward(D),this.emitting=!0,this.resetCounters(this.frequency,!0),B!==void 0&&(this.duration=Math.abs(B)),this.emit(n.START,this)),this},stop:function(D){return D===void 0&&(D=!1),this.emitting&&(this.emitting=!1,D&&this.killAll(),this.emit(n.STOP,this)),this},pause:function(){return this.active=!1,this},resume:function(){return this.active=!0,this},setSortProperty:function(D,B){return D===void 0&&(D=""),B===void 0&&(B=this.true),this.sortProperty=D,this.sortOrderAsc=B,this.sortCallback=this.depthSortCallback,this},setSortCallback:function(D){return this.sortProperty!==""?D=this.depthSortCallback:D=null,this.sortCallback=D,this},depthSort:function(){return N(this.alive,this.sortCallback.bind(this)),this},depthSortCallback:function(D,B){var U=this.sortProperty;return this.sortOrderAsc?D[U]-B[U]:B[U]-D[U]},flow:function(D,B,U){return B===void 0&&(B=1),this.emitting=!1,this.frequency=D,this.quantity=B,U!==void 0&&(this.stopAfter=U),this.start()},explode:function(D,B,U){this.frequency=-1,this.resetCounters(-1,!0);var H=this.emitParticle(D,B,U);return this.emit(n.EXPLODE,this,H),H},emitParticleAt:function(D,B,U){return this.emitParticle(U,D,B)},emitParticle:function(D,B,U){if(!this.atLimit()){D===void 0&&(D=this.ops.quantity.onEmit());for(var H=this.dead,j=this.stopAfter,q=this.follow?this.follow.x+this.followOffset.x:B,_=this.follow?this.follow.y+this.followOffset.y:U,st=0;st<D;st++){var ut=H.pop();if(ut||(ut=new this.particleClass(this)),ut.fire(q,_)?(this.particleBringToTop?this.alive.push(ut):this.alive.unshift(ut),this.emitCallback&&this.emitCallback.call(this.emitCallbackScope,ut,this)):this.dead.push(ut),j>0&&(this.stopCounter++,this.stopCounter>=j)||this.atLimit())break}return ut}},fastForward:function(D,B){B===void 0&&(B=1e3/60);var U=0;for(this.skipping=!0;U<Math.abs(D);)this.preUpdate(0,B),U+=B;return this.skipping=!1,this},preUpdate:function(D,B){B*=this.timeScale;var U=B/1e3;this.trackVisible&&(this.visible=this.follow.visible),this.getWorldTransformMatrix(this.worldMatrix);var H=this.getProcessors(),j=this.alive,q=this.dead,_=0,st=[],ut=j.length;for(_=0;_<ut;_++){var ct=j[_];ct.update(B,U,H)&&st.push({index:_,particle:ct})}if(ut=st.length,ut>0){var pt=this.deathCallback,Tt=this.deathCallbackScope;for(_=ut-1;_>=0;_--){var mt=st[_];j.splice(mt.index,1),q.push(mt.particle),pt&&pt.call(Tt,mt.particle),mt.particle.setPosition()}}if(!this.emitting&&!this.skipping){this.completeFlag===1&&j.length===0&&(this.completeFlag=0,this.emit(n.COMPLETE,this));return}if(this.frequency===0)this.emitParticle();else if(this.frequency>0)for(this.flowCounter-=B;this.flowCounter<=0;)this.emitParticle(),this.flowCounter+=this.frequency;this.skipping||(this.duration>0&&(this.elapsed+=B,this.elapsed>=this.duration&&this.stop()),this.stopAfter>0&&this.stopCounter>=this.stopAfter&&this.stop())},overlap:function(D){for(var B=this.getWorldTransformMatrix(),U=this.alive,H=U.length,j=[],q=0;q<H;q++){var _=U[q];O(D,_.getBounds(B))&&j.push(_)}return j},getBounds:function(D,B,U,H){D===void 0&&(D=0),B===void 0&&(B=0),U===void 0&&(U=1e3/60),H===void 0&&(H=new R);var j=this.getWorldTransformMatrix(),q,_,st=this.alive,ut=!1;if(H.setTo(0,0,0,0),B>0){var ct=0;for(this.skipping=!0;ct<Math.abs(B);){for(this.preUpdate(0,U),q=0;q<st.length;q++)_=st[q].getBounds(j),ut?C(H,_):(ut=!0,i(_,H));ct+=U}this.skipping=!1}else for(q=0;q<st.length;q++)_=st[q].getBounds(j),ut?C(H,_):(ut=!0,i(_,H));return D>0&&E(H,D,D),H},createEmitter:function(){throw new Error("createEmitter removed. See ParticleEmitter docs for info")},particleX:{get:function(){return this.ops.x.current},set:function(D){this.ops.x.onChange(D)}},particleY:{get:function(){return this.ops.y.current},set:function(D){this.ops.y.onChange(D)}},accelerationX:{get:function(){return this.ops.accelerationX.current},set:function(D){this.ops.accelerationX.onChange(D)}},accelerationY:{get:function(){return this.ops.accelerationY.current},set:function(D){this.ops.accelerationY.onChange(D)}},maxVelocityX:{get:function(){return this.ops.maxVelocityX.current},set:function(D){this.ops.maxVelocityX.onChange(D)}},maxVelocityY:{get:function(){return this.ops.maxVelocityY.current},set:function(D){this.ops.maxVelocityY.onChange(D)}},speed:{get:function(){return this.ops.speedX.current},set:function(D){this.ops.speedX.onChange(D),this.ops.speedY.onChange(D)}},speedX:{get:function(){return this.ops.speedX.current},set:function(D){this.ops.speedX.onChange(D)}},speedY:{get:function(){return this.ops.speedY.current},set:function(D){this.ops.speedY.onChange(D)}},moveToX:{get:function(){return this.ops.moveToX.current},set:function(D){this.ops.moveToX.onChange(D)}},moveToY:{get:function(){return this.ops.moveToY.current},set:function(D){this.ops.moveToY.onChange(D)}},bounce:{get:function(){return this.ops.bounce.current},set:function(D){this.ops.bounce.onChange(D)}},particleScaleX:{get:function(){return this.ops.scaleX.current},set:function(D){this.ops.scaleX.onChange(D)}},particleScaleY:{get:function(){return this.ops.scaleY.current},set:function(D){this.ops.scaleY.onChange(D)}},particleColor:{get:function(){return this.ops.color.current},set:function(D){this.ops.color.onChange(D)}},colorEase:{get:function(){return this.ops.color.easeName},set:function(D){this.ops.color.setEase(D)}},particleTint:{get:function(){return this.ops.tint.current},set:function(D){this.ops.tint.onChange(D)}},particleAlpha:{get:function(){return this.ops.alpha.current},set:function(D){this.ops.alpha.onChange(D)}},lifespan:{get:function(){return this.ops.lifespan.current},set:function(D){this.ops.lifespan.onChange(D)}},particleAngle:{get:function(){return this.ops.angle.current},set:function(D){this.ops.angle.onChange(D)}},particleRotate:{get:function(){return this.ops.rotate.current},set:function(D){this.ops.rotate.onChange(D)}},quantity:{get:function(){return this.ops.quantity.current},set:function(D){this.ops.quantity.onChange(D)}},delay:{get:function(){return this.ops.delay.current},set:function(D){this.ops.delay.onChange(D)}},hold:{get:function(){return this.ops.hold.current},set:function(D){this.ops.hold.onChange(D)}},flowCounter:{get:function(){return this.counters[0]},set:function(D){this.counters[0]=D}},frameCounter:{get:function(){return this.counters[1]},set:function(D){this.counters[1]=D}},animCounter:{get:function(){return this.counters[2]},set:function(D){this.counters[2]=D}},elapsed:{get:function(){return this.counters[3]},set:function(D){this.counters[3]=D}},stopCounter:{get:function(){return this.counters[4]},set:function(D){this.counters[4]=D}},completeFlag:{get:function(){return this.counters[5]},set:function(D){this.counters[5]=D}},zoneIndex:{get:function(){return this.counters[6]},set:function(D){this.counters[6]=D}},zoneTotal:{get:function(){return this.counters[7]},set:function(D){this.counters[7]=D}},currentFrame:{get:function(){return this.counters[8]},set:function(D){this.counters[8]=D}},currentAnim:{get:function(){return this.counters[9]},set:function(D){this.counters[9]=D}},preDestroy:function(){this.texture=null,this.frames=null,this.anims=null,this.emitCallback=null,this.emitCallbackScope=null,this.deathCallback=null,this.deathCallbackScope=null,this.emitZones=null,this.deathZones=null,this.bounds=null,this.follow=null,this.counters=null;var D,B=this.ops;for(D=0;D<z.length;D++){var U=z[D];B[U].destroy()}for(D=0;D<this.alive.length;D++)this.alive[D].destroy();for(D=0;D<this.dead.length;D++)this.dead[D].destroy();this.ops=null,this.alive=[],this.dead=[],this.worldMatrix.destroy()}});c.exports=Y},9871:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(59996),v=t(61340),a=new v,i=new v,s=new v,e=new v,r=function(h,n,l,f){var u=a,d=i,p=s,x=e;f?(x.loadIdentity(),x.multiply(f),x.translate(n.x,n.y),x.rotate(n.rotation),x.scale(n.scaleX,n.scaleY)):x.applyITRS(n.x,n.y,n.rotation,n.scaleX,n.scaleY);var E=h.currentContext,T=l.roundPixels,C=l.alpha,A=n.alpha,M=n.alive,R=M.length,O=n.viewBounds;if(!(!n.visible||R===0||O&&!o(O,l.worldView))){n.sortCallback&&n.depthSort(),l.addToRenderList(n);var L=n.scrollFactorX,b=n.scrollFactorY;E.save(),E.globalCompositeOperation=h.blendModes[n.blendMode];for(var N=0;N<R;N++){var I=M[N],G=I.alpha*A*C;if(!(G<=0||I.scaleX===0||I.scaleY===0)){p.applyITRS(I.x,I.y,I.rotation,I.scaleX,I.scaleY),u.copyFrom(l.matrix),u.multiplyWithOffset(x,-l.scrollX*L,-l.scrollY*b),p.e=I.x,p.f=I.y,u.multiply(p,d);var X=I.frame,$=X.canvasData;if($.width>0&&$.height>0){var J=-X.halfWidth,z=-X.halfHeight;E.globalAlpha=G,E.save(),d.setToContext(E),T&&(J=Math.round(J),z=Math.round(z)),E.imageSmoothingEnabled=!X.source.scaleMode,E.drawImage(X.source.image,$.x,$.y,$.width,$.height,J,z,$.width,$.height),E.restore()}}}E.restore()}};c.exports=r},92730:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(25305),v=t(44603),a=t(23568),i=t(95540),s=t(31600);v.register("particles",function(e,r){e===void 0&&(e={});var h=a(e,"key",null),n=i(e,"config",null),l=new s(this.scene,0,0,h);return r!==void 0&&(e.add=r),o(this.scene,l,e),n&&l.setConfig(n),l})},676:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(39429),v=t(31600);o.register("particles",function(a,i,s,e){return a!==void 0&&typeof a=="string"&&console.warn("ParticleEmitterManager was removed in Phaser 3.60. See documentation for details"),this.displayList.add(new v(this.scene,a,i,s,e))})},90668:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(29747),v=o,a=o;v=t(21188),a=t(9871),c.exports={renderWebGL:v,renderCanvas:a}},21188:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(59996),v=t(61340),a=t(70554),i=new v,s=new v,e=new v,r=new v,h=function(n,l,f,u){var d=n.pipelines.set(l.pipeline),p=i,x=s,E=e,T=r;u?(T.loadIdentity(),T.multiply(u),T.translate(l.x,l.y),T.rotate(l.rotation),T.scale(l.scaleX,l.scaleY)):T.applyITRS(l.x,l.y,l.rotation,l.scaleX,l.scaleY);var C=a.getTintAppendFloatAlpha,A=f.alpha,M=l.alpha;n.pipelines.preBatch(l);var R=l.alive,O=R.length,L=l.viewBounds;if(!(O===0||L&&!o(L,f.worldView))){l.sortCallback&&l.depthSort(),f.addToRenderList(l),p.copyFrom(f.matrix),p.multiplyWithOffset(T,-f.scrollX*l.scrollFactorX,-f.scrollY*l.scrollFactorY),n.setBlendMode(l.blendMode),l.mask&&(l.mask.preRenderWebGL(n,l,f),n.pipelines.set(l.pipeline));for(var b=l.tintFill,N,I,G=0;G<O;G++){var X=R[G],$=X.alpha*M*A;if(!($<=0||X.scaleX===0||X.scaleY===0)){E.applyITRS(X.x,X.y,X.rotation,X.scaleX,X.scaleY),E.e=X.x,E.f=X.y,p.multiply(E,x);var J=X.frame;J.glTexture!==I&&(I=J.glTexture,N=d.setGameObject(l,J));var z=-J.halfWidth,Y=-J.halfHeight,D=x.setQuad(z,Y,z+J.width,Y+J.height),B=C(X.tint,$);d.shouldFlush(6)&&(d.flush(),N=d.setGameObject(l,J)),d.batchQuad(l,D[0],D[1],D[2],D[3],D[4],D[5],D[6],D[7],J.u0,J.v0,J.u1,J.v1,B,B,B,B,b,I,N)}}l.mask&&l.mask.postRenderWebGL(n,f),n.pipelines.postBatch(l)}};c.exports=h},20286:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=new o({initialize:function(i,s,e){i===void 0&&(i=0),s===void 0&&(s=0),e===void 0&&(e=!0),this.emitter,this.x=i,this.y=s,this.active=e},update:function(){},destroy:function(){this.emitter=null}});c.exports=v},9774:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="complete"},812:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="deathzone"},30522:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="explode"},96695:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="start"},18677:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="stop"},20696:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={COMPLETE:t(9774),DEATH_ZONE:t(812),EXPLODE:t(30522),START:t(96695),STOP:t(18677)}},18404:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={EmitterColorOp:t(76472),EmitterOp:t(44777),Events:t(20696),GravityWell:t(24502),Particle:t(56480),ParticleBounds:t(69601),ParticleEmitter:t(31600),ParticleProcessor:t(20286),Zones:t(21024)}},26388:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=new o({initialize:function(i,s){this.source=i,this.killOnEnter=s},willKill:function(a){var i=a.worldPosition,s=this.source.contains(i.x,i.y);return s&&this.killOnEnter||!s&&!this.killOnEnter}});c.exports=v},19909:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=new o({initialize:function(i,s,e,r,h,n){r===void 0&&(r=!1),h===void 0&&(h=!0),n===void 0&&(n=-1),this.source=i,this.points=[],this.quantity=s,this.stepRate=e,this.yoyo=r,this.counter=-1,this.seamless=h,this._length=0,this._direction=0,this.total=n,this.updateSource()},updateSource:function(){if(this.points=this.source.getPoints(this.quantity,this.stepRate),this.seamless){var a=this.points[0],i=this.points[this.points.length-1];a.x===i.x&&a.y===i.y&&this.points.pop()}var s=this._length;return this._length=this.points.length,this._length<s&&this.counter>this._length&&(this.counter=this._length-1),this},changeSource:function(a){return this.source=a,this.updateSource()},getPoint:function(a){this._direction===0?(this.counter++,this.counter>=this._length&&(this.yoyo?(this._direction=1,this.counter=this._length-1):this.counter=0)):(this.counter--,this.counter===-1&&(this.yoyo?(this._direction=0,this.counter=0):this.counter=this._length-1));var i=this.points[this.counter];i&&(a.x=i.x,a.y=i.y)}});c.exports=v},68875:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(26099),a=new o({initialize:function(s){this.source=s,this._tempVec=new v,this.total=-1},getPoint:function(i){var s=this._tempVec;this.source.getRandomPoint(s),i.x=s.x,i.y=s.y}});c.exports=a},21024:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={DeathZone:t(26388),EdgeZone:t(19909),RandomZone:t(68875)}},1159:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(31401),a=t(68287),i=new o({Extends:a,Mixins:[v.PathFollower],initialize:function(e,r,h,n,l,f){a.call(this,e,h,n,l,f),this.path=r},preUpdate:function(s,e){this.anims.update(s,e),this.pathUpdate(s)}});c.exports=i},90145:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(39429),v=t(1159);o.register("follower",function(a,i,s,e,r){var h=new v(this.scene,a,i,s,e,r);return this.displayList.add(h),this.updateList.add(h),h})},33663:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(9674),v=t(83419),a=t(48803),i=t(90664),s=t(4703),e=t(45650),r=new v({Extends:s,initialize:function(n,l,f,u,d,p,x,E){u||(u="__DEFAULT"),s.call(this,n,l,f,u,d),this.type="Plane",this.anims=new o(this),this.gridWidth,this.gridHeight,this.isTiled,this._checkerboard=null,this.hideCCW=!1,this.setGridSize(p,x,E),this.setSizeToFrame(!1),this.setViewHeight()},originX:{get:function(){return .5}},originY:{get:function(){return .5}},setGridSize:function(h,n,l){h===void 0&&(h=8),n===void 0&&(n=8),l===void 0&&(l=!1);var f=!1;return l&&(f=!0),this.gridWidth=h,this.gridHeight=n,this.isTiled=l,this.clear(),a({mesh:this,widthSegments:h,heightSegments:n,isOrtho:!1,tile:l,flipY:f}),this},setSizeToFrame:function(h){h===void 0&&(h=!0);var n=this.frame;if(this.setPerspective(this.width/n.width,this.height/n.height),this._checkerboard&&this._checkerboard!==this.texture&&this.removeCheckerboard(),!h)return this;var l=this.gridWidth,f=this.gridHeight,u=this.vertices,d=n.u0,p=n.u1,x=n.v0,E=n.v1,T,C,A=0;if(this.isTiled)for(x=n.v1,E=n.v0,C=0;C<f;C++)for(T=0;T<l;T++)u[A++].setUVs(d,E),u[A++].setUVs(d,x),u[A++].setUVs(p,E),u[A++].setUVs(d,x),u[A++].setUVs(p,x),u[A++].setUVs(p,E);else{var M=l+1,R=f+1,O=p-d,L=E-x,b=[];for(C=0;C<R;C++)for(T=0;T<M;T++){var N=d+O*(T/l),I=x+L*(C/f);b.push(N,I)}for(C=0;C<f;C++)for(T=0;T<l;T++){var G=(T+M*C)*2,X=(T+M*(C+1))*2,$=(T+1+M*(C+1))*2,J=(T+1+M*C)*2;u[A++].setUVs(b[G],b[G+1]),u[A++].setUVs(b[X],b[X+1]),u[A++].setUVs(b[J],b[J+1]),u[A++].setUVs(b[X],b[X+1]),u[A++].setUVs(b[$],b[$+1]),u[A++].setUVs(b[J],b[J+1])}}return this},setViewHeight:function(h){h===void 0&&(h=this.frame.height);var n=this.fov*(Math.PI/180);this.viewPosition.z=this.height/h/Math.tan(n/2),this.dirtyCache[10]=1},createCheckerboard:function(h,n,l,f,u){h===void 0&&(h=16777215),n===void 0&&(n=255),l===void 0&&(l=255),f===void 0&&(f=255),u===void 0&&(u=128);for(var d=i(h),p=i(n),x=[],E=0;E<16;E++)for(var T=0;T<16;T++)E<8&&T<8||E>7&&T>7?x.push(d.r,d.g,d.b,l):x.push(p.r,p.g,p.b,f);var C=this.scene.sys.textures.addUint8Array(e(),new Uint8Array(x),16,16);return this.removeCheckerboard(),this.setTexture(C),this.setSizeToFrame(),this.setViewHeight(u),this},removeCheckerboard:function(){this._checkerboard&&(this._checkerboard.destroy(),this._checkerboard=null)},play:function(h,n){return this.anims.play(h,n)},playReverse:function(h,n){return this.anims.playReverse(h,n)},playAfterDelay:function(h,n){return this.anims.playAfterDelay(h,n)},playAfterRepeat:function(h,n){return this.anims.playAfterRepeat(h,n)},stop:function(){return this.anims.stop()},stopAfterDelay:function(h){return this.anims.stopAfterDelay(h)},stopAfterRepeat:function(h){return this.anims.stopAfterRepeat(h)},stopOnFrame:function(h){return this.anims.stopOnFrame(h)},preUpdate:function(h,n){s.prototype.preUpdate.call(this,h,n),this.anims.update(h,n)},preDestroy:function(){this.clear(),this.removeCheckerboard(),this.anims.destroy(),this.anims=void 0,this.debugCallback=null,this.debugGraphic=null}});c.exports=r},56015:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(25305),v=t(13059),a=t(44603),i=t(23568),s=t(35154),e=t(33663);a.register("plane",function(r,h){r===void 0&&(r={});var n=i(r,"key",null),l=i(r,"frame",null),f=s(r,"width",8),u=s(r,"height",8),d=s(r,"tile",!1),p=new e(this.scene,0,0,n,l,f,u,d);h!==void 0&&(r.add=h);var x=s(r,"checkerboard",null);if(x){var E=s(x,"color1",16777215),T=s(x,"color2",255),C=s(x,"alpha1",255),A=s(x,"alpha2",255),M=s(x,"height",128);p.createCheckerboard(E,T,C,A,M)}return o(this.scene,p,r),v(p,r),p})},30985:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(33663),v=t(39429);v.register("plane",function(a,i,s,e,r,h,n){return this.displayList.add(new o(this.scene,a,i,s,e,r,h,n))})},80321:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(31401),a=t(95643),i=t(30100),s=t(36060),e=t(67277),r=new o({Extends:a,Mixins:[v.AlphaSingle,v.BlendMode,v.Depth,v.Mask,v.Pipeline,v.PostPipeline,v.ScrollFactor,v.Transform,v.Visible,e],initialize:function(n,l,f,u,d,p,x){u===void 0&&(u=16777215),d===void 0&&(d=128),p===void 0&&(p=1),x===void 0&&(x=.1),a.call(this,n,"PointLight"),this.initPipeline(s.POINTLIGHT_PIPELINE),this.initPostPipeline(),this.setPosition(l,f),this.color=i(u),this.intensity=p,this.attenuation=x,this.width=d*2,this.height=d*2,this._radius=d},radius:{get:function(){return this._radius},set:function(h){this._radius=h,this.width=h*2,this.height=h*2}},originX:{get:function(){return .5}},originY:{get:function(){return .5}},displayOriginX:{get:function(){return this._radius}},displayOriginY:{get:function(){return this._radius}}});c.exports=r},39829:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(25305),v=t(44603),a=t(23568),i=t(80321);v.register("pointlight",function(s,e){s===void 0&&(s={});var r=a(s,"color",16777215),h=a(s,"radius",128),n=a(s,"intensity",1),l=a(s,"attenuation",.1),f=new i(this.scene,0,0,r,h,n,l);return e!==void 0&&(s.add=e),o(this.scene,f,s),f})},71255:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(39429),v=t(80321);o.register("pointlight",function(a,i,s,e,r,h){return this.displayList.add(new v(this.scene,a,i,s,e,r,h))})},67277:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(29747),v=o,a=o;v=t(57787),c.exports={renderWebGL:v,renderCanvas:a}},57787:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(91296),v=function(a,i,s,e){s.addToRenderList(i);var r=a.pipelines.set(i.pipeline),h=o(i,s,e).calc,n=i.width,l=i.height,f=-i._radius,u=-i._radius,d=f+n,p=u+l,x=h.getX(0,0),E=h.getY(0,0),T=h.getX(f,u),C=h.getY(f,u),A=h.getX(f,p),M=h.getY(f,p),R=h.getX(d,p),O=h.getY(d,p),L=h.getX(d,u),b=h.getY(d,u);a.pipelines.preBatch(i),r.batchPointLight(i,s,T,C,A,M,R,O,L,b,x,E),a.pipelines.postBatch(i)};c.exports=v},591:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(81320),a=t(88571),i=new o({Extends:a,initialize:function(e,r,h,n,l){r===void 0&&(r=0),h===void 0&&(h=0),n===void 0&&(n=32),l===void 0&&(l=32);var f=new v(e.sys.textures,"",n,l);a.call(this,e,r,h,f),this.type="RenderTexture",this.camera=this.texture.camera,this._saved=!1},setSize:function(s,e){this.width=s,this.height=e,this.texture.setSize(s,e),this.updateDisplayOrigin();var r=this.input;return r&&!r.customHitArea&&(r.hitArea.width=s,r.hitArea.height=e),this},resize:function(s,e){return this.setSize(s,e),this},saveTexture:function(s){var e=this.texture;return e.key=s,e.manager.addDynamicTexture(e)&&(this._saved=!0),e},fill:function(s,e,r,h,n,l){return this.texture.fill(s,e,r,h,n,l),this},clear:function(){return this.texture.clear(),this},stamp:function(s,e,r,h,n){return this.texture.stamp(s,e,r,h,n),this},erase:function(s,e,r){return this.texture.erase(s,e,r),this},draw:function(s,e,r,h,n){return this.texture.draw(s,e,r,h,n),this},drawFrame:function(s,e,r,h,n,l){return this.texture.drawFrame(s,e,r,h,n,l),this},repeat:function(s,e,r,h,n,l,f,u,d){return this.texture.repeat(s,e,r,h,n,l,f,u,d),this},beginDraw:function(){return this.texture.beginDraw(),this},batchDraw:function(s,e,r,h,n){return this.texture.batchDraw(s,e,r,h,n),this},batchDrawFrame:function(s,e,r,h,n,l){return this.texture.batchDrawFrame(s,e,r,h,n,l),this},endDraw:function(s){return this.texture.endDraw(s),this},snapshotArea:function(s,e,r,h,n,l,f){return this.texture.snapshotArea(s,e,r,h,n,l,f),this},snapshot:function(s,e,r){return this.snapshotArea(0,0,this.width,this.height,s,e,r)},snapshotPixel:function(s,e,r){return this.snapshotArea(s,e,1,1,r,"pixel")},preDestroy:function(){this.camera=null,this._saved||this.texture.destroy()}});c.exports=i},34495:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(25305),v=t(44603),a=t(23568),i=t(591);v.register("renderTexture",function(s,e){s===void 0&&(s={});var r=a(s,"x",0),h=a(s,"y",0),n=a(s,"width",32),l=a(s,"height",32),f=new i(this.scene,r,h,n,l);return e!==void 0&&(s.add=e),o(this.scene,f,s),f})},60505:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(39429),v=t(591);o.register("renderTexture",function(a,i,s,e){return this.displayList.add(new v(this.scene,a,i,s,e))})},77757:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(9674),v=t(83419),a=t(31401),i=t(95643),s=t(36060),e=t(38745),r=t(26099),h=new v({Extends:i,Mixins:[a.AlphaSingle,a.BlendMode,a.Depth,a.Flip,a.Mask,a.Pipeline,a.PostPipeline,a.Size,a.Texture,a.Transform,a.Visible,a.ScrollFactor,e],initialize:function(l,f,u,d,p,x,E,T,C){d===void 0&&(d="__DEFAULT"),x===void 0&&(x=2),E===void 0&&(E=!0),i.call(this,l,"Rope"),this.anims=new o(this),this.points=x,this.vertices,this.uv,this.colors,this.alphas,this.tintFill=d==="__DEFAULT",this.dirty=!1,this.horizontal=E,this._flipX=!1,this._flipY=!1,this._perp=new r,this.debugCallback=null,this.debugGraphic=null,this.setTexture(d,p),this.setPosition(f,u),this.setSizeToFrame(),this.initPipeline(s.ROPE_PIPELINE),this.initPostPipeline(),Array.isArray(x)&&this.resizeArrays(x.length),this.setPoints(x,T,C),this.updateVertices()},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(n,l){var f=this.anims.currentFrame;this.anims.update(n,l),this.anims.currentFrame!==f&&(this.updateUVs(),this.updateVertices())},play:function(n,l,f){return this.anims.play(n,l,f),this},setDirty:function(){return this.dirty=!0,this},setHorizontal:function(n,l,f){return n===void 0&&(n=this.points.length),this.horizontal?this:(this.horizontal=!0,this.setPoints(n,l,f))},setVertical:function(n,l,f){return n===void 0&&(n=this.points.length),this.horizontal?(this.horizontal=!1,this.setPoints(n,l,f)):this},setTintFill:function(n){return n===void 0&&(n=!1),this.tintFill=n,this},setAlphas:function(n,l){var f=this.points.length;if(f<1)return this;var u=this.alphas;n===void 0?n=[1]:!Array.isArray(n)&&l===void 0&&(n=[n]);var d,p=0;if(l!==void 0)for(d=0;d<f;d++)p=d*2,u[p]=n,u[p+1]=l;else if(n.length===f)for(d=0;d<f;d++)p=d*2,u[p]=n[d],u[p+1]=n[d];else{var x=n[0];for(d=0;d<f;d++)p=d*2,n.length>p&&(x=n[p]),u[p]=x,n.length>p+1&&(x=n[p+1]),u[p+1]=x}return this},setColors:function(n){var l=this.points.length;if(l<1)return this;var f=this.colors;n===void 0?n=[16777215]:Array.isArray(n)||(n=[n]);var u,d=0;if(n.length===l)for(u=0;u<l;u++)d=u*2,f[d]=n[u],f[d+1]=n[u];else{var p=n[0];for(u=0;u<l;u++)d=u*2,n.length>d&&(p=n[d]),f[d]=p,n.length>d+1&&(p=n[d+1]),f[d+1]=p}return this},setPoints:function(n,l,f){if(n===void 0&&(n=2),typeof n=="number"){var u=n;u<2&&(u=2),n=[];var d,p,x;if(this.horizontal)for(x=-this.frame.halfWidth,p=this.frame.width/(u-1),d=0;d<u;d++)n.push({x:x+d*p,y:0});else for(x=-this.frame.halfHeight,p=this.frame.height/(u-1),d=0;d<u;d++)n.push({x:0,y:x+d*p})}var E=n.length,T=this.points.length;return E<1?(console.warn("Rope: Not enough points given"),this):(E===1&&(n.unshift({x:0,y:0}),E++),T!==E&&this.resizeArrays(E),this.dirty=!0,this.points=n,this.updateUVs(),l!=null&&this.setColors(l),f!=null&&this.setAlphas(f),this)},updateUVs:function(){for(var n=this.uv,l=this.points.length,f=this.frame.u0,u=this.frame.v0,d=this.frame.u1,p=this.frame.v1,x=(d-f)/(l-1),E=(p-u)/(l-1),T=0;T<l;T++){var C=T*4,A,M,R,O;this.horizontal?(this._flipX?(A=d-T*x,R=d-T*x):(A=f+T*x,R=f+T*x),this._flipY?(M=p,O=u):(M=u,O=p)):(this._flipX?(A=f,R=d):(A=d,R=f),this._flipY?(M=p-T*E,O=p-T*E):(M=u+T*E,O=u+T*E)),n[C+0]=A,n[C+1]=M,n[C+2]=R,n[C+3]=O}return this},resizeArrays:function(n){var l=this.colors,f=this.alphas;this.vertices=new Float32Array(n*4),this.uv=new Float32Array(n*4),l=new Uint32Array(n*2),f=new Float32Array(n*2);for(var u=0;u<n*2;u++)l[u]=16777215,f[u]=1;return this.colors=l,this.alphas=f,this.dirty=!0,this},updateVertices:function(){var n=this._perp,l=this.points,f=this.vertices,u=l.length;if(this.dirty=!1,!(u<1)){for(var d,p=l[0],x=this.horizontal?this.frame.halfHeight:this.frame.halfWidth,E=0;E<u;E++){var T=l[E],C=E*4;E<u-1?d=l[E+1]:d=T,n.x=d.y-p.y,n.y=-(d.x-p.x);var A=n.length();n.x/=A,n.y/=A,n.x*=x,n.y*=x,f[C]=T.x+n.x,f[C+1]=T.y+n.y,f[C+2]=T.x-n.x,f[C+3]=T.y-n.y,p=T}return this}},setDebug:function(n,l){return this.debugGraphic=n,!n&&!l?this.debugCallback=null:l?this.debugCallback=l:this.debugCallback=this.renderDebugVerts,this},renderDebugVerts:function(n,l,f){var u=n.debugGraphic,d=f[0],p=f[1],x=f[2],E=f[3];u.lineBetween(d,p,x,E);for(var T=4;T<l;T+=4){var C=f[T+0],A=f[T+1],M=f[T+2],R=f[T+3];u.lineBetween(d,p,C,A),u.lineBetween(x,E,M,R),u.lineBetween(x,E,C,A),u.lineBetween(C,A,M,R),d=C,p=A,x=M,E=R}},preDestroy:function(){this.anims.destroy(),this.anims=void 0,this.points=null,this.vertices=null,this.uv=null,this.colors=null,this.alphas=null,this.debugCallback=null,this.debugGraphic=null},flipX:{get:function(){return this._flipX},set:function(n){return this._flipX=n,this.updateUVs()}},flipY:{get:function(){return this._flipY},set:function(n){return this._flipY=n,this.updateUVs()}}});c.exports=h},95262:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(){};c.exports=g},26209:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(25305),v=t(44603),a=t(23568),i=t(35154),s=t(77757);v.register("rope",function(e,r){e===void 0&&(e={});var h=a(e,"key",null),n=a(e,"frame",null),l=a(e,"horizontal",!0),f=i(e,"points",void 0),u=i(e,"colors",void 0),d=i(e,"alphas",void 0),p=new s(this.scene,0,0,h,n,f,l,u,d);return r!==void 0&&(e.add=r),o(this.scene,p,e),p})},96819:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(77757),v=t(39429);v.register("rope",function(a,i,s,e,r,h,n,l){return this.displayList.add(new o(this.scene,a,i,s,e,r,h,n,l))})},38745:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(29747),v=o,a=o;v=t(20439),a=t(95262),c.exports={renderWebGL:v,renderCanvas:a}},20439:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(91296),v=t(70554),a=function(i,s,e,r){e.addToRenderList(s);var h=i.pipelines.set(s.pipeline,s),n=o(s,e,r).calc,l=s.vertices,f=s.uv,u=s.colors,d=s.alphas,p=s.alpha,x=v.getTintAppendFloatAlpha,E=e.roundPixels,T=l.length,C=Math.floor(T*.5);h.flush(),i.pipelines.preBatch(s);var A=h.setGameObject(s),M=h.vertexViewF32,R=h.vertexViewU32,O=h.vertexCount*h.currentShader.vertexComponentCount-1,L=0,b=s.tintFill;s.dirty&&s.updateVertices();for(var N=s.debugCallback,I=[],G=0;G<T;G+=2){var X=l[G+0],$=l[G+1],J=X*n.a+$*n.c+n.e,z=X*n.b+$*n.d+n.f;E&&(J=Math.round(J),z=Math.round(z)),M[++O]=J,M[++O]=z,M[++O]=f[G+0],M[++O]=f[G+1],M[++O]=A,M[++O]=b,R[++O]=x(u[L],e.alpha*(d[L]*p)),L++,N&&(I[G+0]=J,I[G+1]=z)}N&&N.call(s,s,T,I),h.vertexCount+=C,h.currentBatch.count=h.vertexCount-h.currentBatch.start,i.pipelines.postBatch(s)};c.exports=a},20071:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(31401),a=t(95643),i=t(95540),s=t(79291),e=t(61622),r=t(25479),h=t(61340),n=t(95428),l=t(92503),f=new o({Extends:a,Mixins:[v.ComputedSize,v.Depth,v.GetBounds,v.Mask,v.Origin,v.ScrollFactor,v.Transform,v.Visible,r],initialize:function(d,p,x,E,T,C,A,M){x===void 0&&(x=0),E===void 0&&(E=0),T===void 0&&(T=128),C===void 0&&(C=128),a.call(this,d,"Shader"),this.blendMode=-1,this.shader;var R=d.sys.renderer;this.renderer=R,this.gl=R.gl,this.vertexData=new ArrayBuffer(6*(Float32Array.BYTES_PER_ELEMENT*2)),this.vertexBuffer=R.createVertexBuffer(this.vertexData.byteLength,this.gl.STREAM_DRAW),this._deferSetShader=null,this._deferProjOrtho=null,this.program=null,this.bytes=new Uint8Array(this.vertexData),this.vertexViewF32=new Float32Array(this.vertexData),this._tempMatrix1=new h,this._tempMatrix2=new h,this._tempMatrix3=new h,this.viewMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.projectionMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.uniforms={},this.pointer=null,this._rendererWidth=R.width,this._rendererHeight=R.height,this._textureCount=0,this.framebuffer=null,this.glTexture=null,this.renderToTexture=!1,this.texture=null,this.setPosition(x,E),this.setSize(T,C),this.setOrigin(.5,.5),this.setShader(p,A,M),this.renderer.on(l.RESTORE_WEBGL,this.onContextRestored,this)},willRender:function(u){return this.renderToTexture?!0:!(a.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&u.id)},setRenderToTexture:function(u,d){if(!this.renderToTexture){var p=this.width,x=this.height,E=this.renderer;this.glTexture=E.createTextureFromSource(null,p,x,0),this.framebuffer=E.createFramebuffer(p,x,this.glTexture,!1),this._rendererWidth=p,this._rendererHeight=x,this.renderToTexture=!0,this.projOrtho(0,this.width,this.height,0),u&&(this.texture=this.scene.sys.textures.addGLTexture(u,this.glTexture))}return this.shader&&(E.pipelines.clear(),this.load(),this.flush(),E.pipelines.rebind()),this},setShader:function(u,d,p){if(this.renderer.contextLost)return this._deferSetShader={key:u,textures:d,textureData:p},this;if(d===void 0&&(d=[]),typeof u=="string"){var x=this.scene.sys.cache.shader;if(!x.has(u))return console.warn("Shader missing: "+u),this;this.shader=x.get(u)}else this.shader=u;var E=this.gl,T=this.renderer;this.program&&T.deleteProgram(this.program);var C=T.createProgram(this.shader.vertexSrc,this.shader.fragmentSrc);E.uniformMatrix4fv(E.getUniformLocation(C.webGLProgram,"uViewMatrix"),!1,this.viewMatrix),E.uniformMatrix4fv(E.getUniformLocation(C.webGLProgram,"uProjectionMatrix"),!1,this.projectionMatrix),E.uniform2f(E.getUniformLocation(C.webGLProgram,"uResolution"),this.width,this.height),this.program=C;var A=new Date,M={resolution:{type:"2f",value:{x:this.width,y:this.height}},time:{type:"1f",value:0},mouse:{type:"2f",value:{x:this.width/2,y:this.height/2}},date:{type:"4fv",value:[A.getFullYear(),A.getMonth(),A.getDate(),A.getHours()*60*60+A.getMinutes()*60+A.getSeconds()]},sampleRate:{type:"1f",value:44100},iChannel0:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel1:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel2:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel3:{type:"sampler2D",value:null,textureData:{repeat:!0}}};this.shader.uniforms?this.uniforms=s(!0,{},this.shader.uniforms,M):this.uniforms=M;for(var R=0;R<4;R++)d[R]&&this.setSampler2D("iChannel"+R,d[R],R,p);return this.initUniforms(),this.projOrtho(0,this._rendererWidth,this._rendererHeight,0),this},setPointer:function(u){return this.pointer=u,this},projOrtho:function(u,d,p,x){if(this.renderer.contextLost){this._deferProjOrtho={left:u,right:d,bottom:p,top:x};return}var E=-1e3,T=1e3,C=1/(u-d),A=1/(p-x),M=1/(E-T),R=this.projectionMatrix;R[0]=-2*C,R[5]=-2*A,R[10]=2*M,R[12]=(u+d)*C,R[13]=(x+p)*A,R[14]=(T+E)*M;var O=this.program,L=this.gl,b=this.renderer;b.setProgram(O),L.uniformMatrix4fv(L.getUniformLocation(O.webGLProgram,"uProjectionMatrix"),!1,this.projectionMatrix),this._rendererWidth=d,this._rendererHeight=p},initUniforms:function(){var u=this.renderer.glFuncMap,d=this.program;this._textureCount=0;for(var p in this.uniforms){var x=this.uniforms[p],E=x.type,T=u[E];x.uniformLocation=this.renderer.createUniformLocation(d,p),E!=="sampler2D"&&(x.glMatrix=T.matrix,x.glValueLength=T.length,x.glFunc=T.func)}},setSampler2DBuffer:function(u,d,p,x,E,T){E===void 0&&(E=0),T===void 0&&(T={});var C=this.uniforms[u];return C.value=d,T.width=p,T.height=x,C.textureData=T,this._textureCount=E,this.initSampler2D(C),this},setSampler2D:function(u,d,p,x){p===void 0&&(p=0);var E=this.scene.sys.textures;if(E.exists(d)){var T=E.getFrame(d);if(T.glTexture&&T.glTexture.isRenderTexture)return this.setSampler2DBuffer(u,T.glTexture,T.width,T.height,p,x);var C=this.uniforms[u],A=T.source;C.textureKey=d,C.source=A.image,C.value=T.glTexture,A.isGLTexture&&(x||(x={}),x.width=A.width,x.height=A.height),x&&(C.textureData=x),this._textureCount=p,this.initSampler2D(C)}return this},setUniform:function(u,d){return e(this.uniforms,u,d),this},getUniform:function(u){return i(this.uniforms,u,null)},setChannel0:function(u,d){return this.setSampler2D("iChannel0",u,0,d)},setChannel1:function(u,d){return this.setSampler2D("iChannel1",u,1,d)},setChannel2:function(u,d){return this.setSampler2D("iChannel2",u,2,d)},setChannel3:function(u,d){return this.setSampler2D("iChannel3",u,3,d)},initSampler2D:function(u){if(u.value){var d=u.textureData;if(d&&!u.value.isRenderTexture){var p=this.gl,x=u.value,E=p[i(d,"magFilter","linear").toUpperCase()],T=p[i(d,"minFilter","linear").toUpperCase()],C=p[i(d,"wrapS","repeat").toUpperCase()],A=p[i(d,"wrapT","repeat").toUpperCase()],M=p[i(d,"format","rgba").toUpperCase()],R=i(d,"flipY",!1),O=i(d,"width",x.width),L=i(d,"height",x.height),b=i(d,"source",x.pixels);d.repeat&&(C=p.REPEAT,A=p.REPEAT),d.width&&(b=null),x.update(b,O,L,R,C,A,T,E,M)}this.renderer.setProgram(this.program),this._textureCount++}},syncUniforms:function(){var u=this.gl,d=this.uniforms,p,x,E,T,C,A=0;for(var M in d)p=d[M],E=p.glFunc,x=p.glValueLength,T=p.uniformLocation,C=p.value,C!==null&&(x===1?p.glMatrix?E.call(u,T.webGLUniformLocation,p.transpose,C):E.call(u,T.webGLUniformLocation,C):x===2?E.call(u,T.webGLUniformLocation,C.x,C.y):x===3?E.call(u,T.webGLUniformLocation,C.x,C.y,C.z):x===4?E.call(u,T.webGLUniformLocation,C.x,C.y,C.z,C.w):p.type==="sampler2D"&&(u.activeTexture(u.TEXTURE0+A),u.bindTexture(u.TEXTURE_2D,C.webGLTexture),u.uniform1i(T.webGLUniformLocation,A),A++))},load:function(u){var d=this.gl,p=this.width,x=this.height,E=this.renderer,T=this.program,C=this.viewMatrix;if(!this.renderToTexture){var A=-this._displayOriginX,M=-this._displayOriginY;C[0]=u[0],C[1]=u[1],C[4]=u[2],C[5]=u[3],C[8]=u[4],C[9]=u[5],C[12]=C[0]*A+C[4]*M,C[13]=C[1]*A+C[5]*M}d.useProgram(T.webGLProgram),d.uniformMatrix4fv(d.getUniformLocation(T.webGLProgram,"uViewMatrix"),!1,C),d.uniformMatrix4fv(d.getUniformLocation(T.webGLProgram,"uProjectionMatrix"),!1,this.projectionMatrix),d.uniform2f(d.getUniformLocation(T.webGLProgram,"uResolution"),this.width,this.height);var R=this.uniforms,O=R.resolution;O.value.x=p,O.value.y=x,R.time.value=E.game.loop.getDuration();var L=this.pointer;if(L){var b=R.mouse,N=L.x/p,I=1-L.y/x;b.value.x=N.toFixed(2),b.value.y=I.toFixed(2)}this.syncUniforms()},flush:function(){var u=this.width,d=this.height,p=this.program,x=this.gl,E=this.vertexBuffer,T=this.renderer,C=Float32Array.BYTES_PER_ELEMENT*2;this.renderToTexture&&(T.setFramebuffer(this.framebuffer),x.clearColor(0,0,0,0),x.clear(x.COLOR_BUFFER_BIT)),x.bindBuffer(x.ARRAY_BUFFER,E.webGLBuffer);var A=x.getAttribLocation(p.webGLProgram,"inPosition");A!==-1&&(x.enableVertexAttribArray(A),x.vertexAttribPointer(A,2,x.FLOAT,!1,C,0));var M=this.vertexViewF32;M[3]=d,M[4]=u,M[5]=d,M[8]=u,M[9]=d,M[10]=u;var R=6;x.bufferSubData(x.ARRAY_BUFFER,0,this.bytes.subarray(0,R*C)),x.drawArrays(x.TRIANGLES,0,R),this.renderToTexture&&T.setFramebuffer(null,!1)},setAlpha:function(){},setBlendMode:function(){},onContextRestored:function(){if(this._deferSetShader!==null){var u=this._deferSetShader.key,d=this._deferSetShader.textures,p=this._deferSetShader.textureData;this._deferSetShader=null,this.setShader(u,d,p)}if(this._deferProjOrtho!==null){var x=this._deferProjOrtho.left,E=this._deferProjOrtho.right,T=this._deferProjOrtho.bottom,C=this._deferProjOrtho.top;this._deferProjOrtho=null,this.projOrtho(x,E,T,C)}},preDestroy:function(){var u=this.renderer;u.off(l.RESTORE_WEBGL,this.onContextRestored,this),u.deleteProgram(this.program),u.deleteBuffer(this.vertexBuffer),this.renderToTexture&&(u.deleteFramebuffer(this.framebuffer),this.texture.destroy(),this.framebuffer=null,this.glTexture=null,this.texture=null),n(this.uniforms,function(d){u.deleteUniformLocation(d.uniformLocation),d.uniformLocation=null})}});c.exports=f},80464:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(){};c.exports=g},54935:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(25305),v=t(44603),a=t(23568),i=t(20071);v.register("shader",function(s,e){s===void 0&&(s={});var r=a(s,"key",null),h=a(s,"x",0),n=a(s,"y",0),l=a(s,"width",128),f=a(s,"height",128),u=new i(this.scene,r,h,n,l,f);return e!==void 0&&(s.add=e),o(this.scene,u,s),u})},74177:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(20071),v=t(39429);v.register("shader",function(a,i,s,e,r,h,n){return this.displayList.add(new o(this.scene,a,i,s,e,r,h,n))})},25479:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(29747),v=o,a=o;v=t(19257),a=t(80464),c.exports={renderWebGL:v,renderCanvas:a}},19257:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(91296),v=function(a,i,s,e){if(i.shader){if(s.addToRenderList(i),a.pipelines.clear(),i.renderToTexture)i.load(),i.flush();else{var r=o(i,s,e).calc;(a.width!==i._rendererWidth||a.height!==i._rendererHeight)&&i.projOrtho(0,a.width,a.height,0),i.load(r.matrix),i.flush()}a.pipelines.rebind()}};c.exports=v},10441:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(70554),v=function(a,i,s,e,r,h){for(var n=o.getTintAppendFloatAlpha(s.fillColor,s.fillAlpha*e),l=s.pathData,f=s.pathIndexes,u=0;u<f.length;u+=3){var d=f[u]*2,p=f[u+1]*2,x=f[u+2]*2,E=l[d+0]-r,T=l[d+1]-h,C=l[p+0]-r,A=l[p+1]-h,M=l[x+0]-r,R=l[x+1]-h,O=i.getX(E,T),L=i.getY(E,T),b=i.getX(C,A),N=i.getY(C,A),I=i.getX(M,R),G=i.getY(M,R);a.batchTri(s,O,L,b,N,I,G,0,0,1,1,n,n,n,2)}};c.exports=v},65960:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o,v,a){var i=v||o.fillColor,s=a||o.fillAlpha,e=(i&16711680)>>>16,r=(i&65280)>>>8,h=i&255;t.fillStyle="rgba("+e+","+r+","+h+","+s+")"};c.exports=g},75177:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o,v,a){var i=v||o.strokeColor,s=a||o.strokeAlpha,e=(i&16711680)>>>16,r=(i&65280)>>>8,h=i&255;t.strokeStyle="rgba("+e+","+r+","+h+","+s+")",t.lineWidth=o.lineWidth};c.exports=g},17803:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(31401),a=t(95643),i=t(23031),s=new o({Extends:a,Mixins:[v.AlphaSingle,v.BlendMode,v.Depth,v.GetBounds,v.Mask,v.Origin,v.Pipeline,v.PostPipeline,v.ScrollFactor,v.Transform,v.Visible],initialize:function(r,h,n){h===void 0&&(h="Shape"),a.call(this,r,h),this.geom=n,this.pathData=[],this.pathIndexes=[],this.fillColor=16777215,this.fillAlpha=1,this.strokeColor=16777215,this.strokeAlpha=1,this.lineWidth=1,this.isFilled=!1,this.isStroked=!1,this.closePath=!0,this._tempLine=new i,this.width=0,this.height=0,this.initPipeline(),this.initPostPipeline()},setFillStyle:function(e,r){return r===void 0&&(r=1),e===void 0?this.isFilled=!1:(this.fillColor=e,this.fillAlpha=r,this.isFilled=!0),this},setStrokeStyle:function(e,r,h){return h===void 0&&(h=1),e===void 0?this.isStroked=!1:(this.lineWidth=e,this.strokeColor=r,this.strokeAlpha=h,this.isStroked=!0),this},setClosePath:function(e){return this.closePath=e,this},setSize:function(e,r){return this.width=e,this.height=r,this},setDisplaySize:function(e,r){return this.displayWidth=e,this.displayHeight=r,this},preDestroy:function(){this.geom=null,this._tempLine=null,this.pathData=[],this.pathIndexes=[]},displayWidth:{get:function(){return this.scaleX*this.width},set:function(e){this.scaleX=e/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(e){this.scaleY=e/this.height}}});c.exports=s},34682:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(70554),v=function(a,i,s,e,r){var h=a.strokeTint,n=o.getTintAppendFloatAlpha(i.strokeColor,i.strokeAlpha*s);h.TL=n,h.TR=n,h.BL=n,h.BR=n;var l=i.pathData,f=l.length-1,u=i.lineWidth,d=u/2,p=l[0]-e,x=l[1]-r;i.closePath||(f-=2);for(var E=2;E<f;E+=2){var T=l[E]-e,C=l[E+1]-r;a.batchLine(p,x,T,C,d,d,u,E-2,i.closePath?E===f-1:!1),p=T,x=C}};c.exports=v},23629:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(13609),v=t(83419),a=t(39506),i=t(94811),s=t(96503),e=t(36383),r=t(17803),h=new v({Extends:r,Mixins:[o],initialize:function(l,f,u,d,p,x,E,T,C){f===void 0&&(f=0),u===void 0&&(u=0),d===void 0&&(d=128),p===void 0&&(p=0),x===void 0&&(x=360),E===void 0&&(E=!1),r.call(this,l,"Arc",new s(0,0,d)),this._startAngle=p,this._endAngle=x,this._anticlockwise=E,this._iterations=.01,this.setPosition(f,u);var A=this.geom.radius*2;this.setSize(A,A),T!==void 0&&this.setFillStyle(T,C),this.updateDisplayOrigin(),this.updateData()},iterations:{get:function(){return this._iterations},set:function(n){this._iterations=n,this.updateData()}},radius:{get:function(){return this.geom.radius},set:function(n){this.geom.radius=n;var l=n*2;this.setSize(l,l),this.updateDisplayOrigin(),this.updateData()}},startAngle:{get:function(){return this._startAngle},set:function(n){this._startAngle=n,this.updateData()}},endAngle:{get:function(){return this._endAngle},set:function(n){this._endAngle=n,this.updateData()}},anticlockwise:{get:function(){return this._anticlockwise},set:function(n){this._anticlockwise=n,this.updateData()}},setRadius:function(n){return this.radius=n,this},setIterations:function(n){return n===void 0&&(n=.01),this.iterations=n,this},setStartAngle:function(n,l){return this._startAngle=n,l!==void 0&&(this._anticlockwise=l),this.updateData()},setEndAngle:function(n,l){return this._endAngle=n,l!==void 0&&(this._anticlockwise=l),this.updateData()},updateData:function(){var n=this._iterations,l=n,f=this.geom.radius,u=a(this._startAngle),d=a(this._endAngle),p=this._anticlockwise,x=f,E=f;d-=u,p?d<-e.PI2?d=-e.PI2:d>0&&(d=-e.PI2+d%e.PI2):d>e.PI2?d=e.PI2:d<0&&(d=e.PI2+d%e.PI2);for(var T=[x+Math.cos(u)*f,E+Math.sin(u)*f],C;l<1;)C=d*l+u,T.push(x+Math.cos(C)*f,E+Math.sin(C)*f),l+=n;return C=d+u,T.push(x+Math.cos(C)*f,E+Math.sin(C)*f),T.push(x+Math.cos(u)*f,E+Math.sin(u)*f),this.pathIndexes=i(T),this.pathData=T,this}});c.exports=h},42542:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(39506),v=t(65960),a=t(75177),i=t(20926),s=function(e,r,h,n){h.addToRenderList(r);var l=e.currentContext;if(i(e,l,r,h,n)){var f=r.radius;l.beginPath(),l.arc(f-r.originX*(f*2),f-r.originY*(f*2),f,o(r._startAngle),o(r._endAngle),r.anticlockwise),r.closePath&&l.closePath(),r.isFilled&&(v(l,r),l.fill()),r.isStroked&&(a(l,r),l.stroke()),l.restore()}};c.exports=s},42563:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(23629),v=t(39429);v.register("arc",function(a,i,s,e,r,h,n,l){return this.displayList.add(new o(this.scene,a,i,s,e,r,h,n,l))}),v.register("circle",function(a,i,s,e,r){return this.displayList.add(new o(this.scene,a,i,s,0,360,!1,e,r))})},13609:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(29747),v=o,a=o;v=t(41447),a=t(42542),c.exports={renderWebGL:v,renderCanvas:a}},41447:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(91296),v=t(10441),a=t(34682),i=function(s,e,r,h){r.addToRenderList(e);var n=s.pipelines.set(e.pipeline),l=o(e,r,h),f=n.calcMatrix.copyFrom(l.calc),u=e._displayOriginX,d=e._displayOriginY,p=r.alpha*e.alpha;s.pipelines.preBatch(e),e.isFilled&&v(n,f,e,p,u,d),e.isStroked&&a(n,e,p,u,d),s.pipelines.postBatch(e)};c.exports=i},89:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(33141),a=t(94811),i=t(87841),s=t(17803),e=new o({Extends:s,Mixins:[v],initialize:function(h,n,l,f,u,d){n===void 0&&(n=0),l===void 0&&(l=0),s.call(this,h,"Curve",f),this._smoothness=32,this._curveBounds=new i,this.closePath=!1,this.setPosition(n,l),u!==void 0&&this.setFillStyle(u,d),this.updateData()},smoothness:{get:function(){return this._smoothness},set:function(r){this._smoothness=r,this.updateData()}},setSmoothness:function(r){return this._smoothness=r,this.updateData()},updateData:function(){var r=this._curveBounds,h=this._smoothness;this.geom.getBounds(r,h),this.setSize(r.width,r.height),this.updateDisplayOrigin();for(var n=[],l=this.geom.getPoints(h),f=0;f<l.length;f++)n.push(l[f].x,l[f].y);return n.push(l[0].x,l[0].y),this.pathIndexes=a(n),this.pathData=n,this}});c.exports=e},3170:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(65960),v=t(75177),a=t(20926),i=function(s,e,r,h){r.addToRenderList(e);var n=s.currentContext;if(a(s,n,e,r,h)){var l=e._displayOriginX+e._curveBounds.x,f=e._displayOriginY+e._curveBounds.y,u=e.pathData,d=u.length-1,p=u[0]-l,x=u[1]-f;n.beginPath(),n.moveTo(p,x),e.closePath||(d-=2);for(var E=2;E<d;E+=2){var T=u[E]-l,C=u[E+1]-f;n.lineTo(T,C)}e.closePath&&n.closePath(),e.isFilled&&(o(n,e),n.fill()),e.isStroked&&(v(n,e),n.stroke()),n.restore()}};c.exports=i},40511:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(39429),v=t(89);o.register("curve",function(a,i,s,e,r){return this.displayList.add(new v(this.scene,a,i,s,e,r))})},33141:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(29747),v=o,a=o;v=t(53987),a=t(3170),c.exports={renderWebGL:v,renderCanvas:a}},53987:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(10441),v=t(91296),a=t(34682),i=function(s,e,r,h){r.addToRenderList(e);var n=s.pipelines.set(e.pipeline),l=v(e,r,h),f=n.calcMatrix.copyFrom(l.calc),u=e._displayOriginX+e._curveBounds.x,d=e._displayOriginY+e._curveBounds.y,p=r.alpha*e.alpha;s.pipelines.preBatch(e),e.isFilled&&o(n,f,e,p,u,d),e.isStroked&&a(n,e,p,u,d),s.pipelines.postBatch(e)};c.exports=i},19921:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(94811),a=t(54205),i=t(8497),s=t(17803),e=new o({Extends:s,Mixins:[a],initialize:function(h,n,l,f,u,d,p){n===void 0&&(n=0),l===void 0&&(l=0),f===void 0&&(f=128),u===void 0&&(u=128),s.call(this,h,"Ellipse",new i(f/2,u/2,f,u)),this._smoothness=64,this.setPosition(n,l),this.width=f,this.height=u,d!==void 0&&this.setFillStyle(d,p),this.updateDisplayOrigin(),this.updateData()},smoothness:{get:function(){return this._smoothness},set:function(r){this._smoothness=r,this.updateData()}},setSize:function(r,h){return this.width=r,this.height=h,this.geom.setPosition(r/2,h/2),this.geom.setSize(r,h),this.updateData()},setSmoothness:function(r){return this._smoothness=r,this.updateData()},updateData:function(){for(var r=[],h=this.geom.getPoints(this._smoothness),n=0;n<h.length;n++)r.push(h[n].x,h[n].y);return r.push(h[0].x,h[0].y),this.pathIndexes=v(r),this.pathData=r,this}});c.exports=e},7930:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(65960),v=t(75177),a=t(20926),i=function(s,e,r,h){r.addToRenderList(e);var n=s.currentContext;if(a(s,n,e,r,h)){var l=e._displayOriginX,f=e._displayOriginY,u=e.pathData,d=u.length-1,p=u[0]-l,x=u[1]-f;n.beginPath(),n.moveTo(p,x),e.closePath||(d-=2);for(var E=2;E<d;E+=2){var T=u[E]-l,C=u[E+1]-f;n.lineTo(T,C)}n.closePath(),e.isFilled&&(o(n,e),n.fill()),e.isStroked&&(v(n,e),n.stroke()),n.restore()}};c.exports=i},1543:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(19921),v=t(39429);v.register("ellipse",function(a,i,s,e,r,h){return this.displayList.add(new o(this.scene,a,i,s,e,r,h))})},54205:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(29747),v=o,a=o;v=t(19467),a=t(7930),c.exports={renderWebGL:v,renderCanvas:a}},19467:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(10441),v=t(91296),a=t(34682),i=function(s,e,r,h){r.addToRenderList(e);var n=s.pipelines.set(e.pipeline),l=v(e,r,h),f=n.calcMatrix.copyFrom(l.calc),u=e._displayOriginX,d=e._displayOriginY,p=r.alpha*e.alpha;s.pipelines.preBatch(e),e.isFilled&&o(n,f,e,p,u,d),e.isStroked&&a(n,e,p,u,d),s.pipelines.postBatch(e)};c.exports=i},30479:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(17803),a=t(26015),i=new o({Extends:v,Mixins:[a],initialize:function(e,r,h,n,l,f,u,d,p,x,E){r===void 0&&(r=0),h===void 0&&(h=0),n===void 0&&(n=128),l===void 0&&(l=128),f===void 0&&(f=32),u===void 0&&(u=32),v.call(this,e,"Grid",null),this.cellWidth=f,this.cellHeight=u,this.showCells=!0,this.outlineFillColor=0,this.outlineFillAlpha=0,this.showOutline=!0,this.showAltCells=!1,this.altFillColor,this.altFillAlpha,this.setPosition(r,h),this.setSize(n,l),this.setFillStyle(d,p),x!==void 0&&this.setOutlineStyle(x,E),this.updateDisplayOrigin()},setFillStyle:function(s,e){return e===void 0&&(e=1),s===void 0?this.showCells=!1:(this.fillColor=s,this.fillAlpha=e,this.showCells=!0),this},setAltFillStyle:function(s,e){return e===void 0&&(e=1),s===void 0?this.showAltCells=!1:(this.altFillColor=s,this.altFillAlpha=e,this.showAltCells=!0),this},setOutlineStyle:function(s,e){return e===void 0&&(e=1),s===void 0?this.showOutline=!1:(this.outlineFillColor=s,this.outlineFillAlpha=e,this.showOutline=!0),this}});c.exports=i},49912:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(65960),v=t(75177),a=t(20926),i=function(s,e,r,h){r.addToRenderList(e);var n=s.currentContext;if(a(s,n,e,r,h)){var l=-e._displayOriginX,f=-e._displayOriginY,u=r.alpha*e.alpha,d=e.width,p=e.height,x=e.cellWidth,E=e.cellHeight,T=Math.ceil(d/x),C=Math.ceil(p/E),A=x,M=E,R=x-(T*x-d),O=E-(C*E-p),L=e.showCells,b=e.showAltCells,N=e.showOutline,I=0,G=0,X=0,$=0,J=0;if(N&&(A--,M--,R===x&&R--,O===E&&O--),L&&e.fillAlpha>0)for(o(n,e),G=0;G<C;G++)for(b&&(X=G%2),I=0;I<T;I++){if(b&&X){X=0;continue}X++,$=I<T-1?A:R,J=G<C-1?M:O,n.fillRect(l+I*x,f+G*E,$,J)}if(b&&e.altFillAlpha>0)for(o(n,e,e.altFillColor,e.altFillAlpha*u),G=0;G<C;G++)for(b&&(X=G%2),I=0;I<T;I++){if(b&&!X){X=1;continue}X=0,$=I<T-1?A:R,J=G<C-1?M:O,n.fillRect(l+I*x,f+G*E,$,J)}if(N&&e.outlineFillAlpha>0){for(v(n,e,e.outlineFillColor,e.outlineFillAlpha*u),I=1;I<T;I++){var z=I*x;n.beginPath(),n.moveTo(z+l,f),n.lineTo(z+l,p+f),n.stroke()}for(G=1;G<C;G++){var Y=G*E;n.beginPath(),n.moveTo(l,Y+f),n.lineTo(l+d,Y+f),n.stroke()}}n.restore()}};c.exports=i},34137:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(39429),v=t(30479);o.register("grid",function(a,i,s,e,r,h,n,l,f,u){return this.displayList.add(new v(this.scene,a,i,s,e,r,h,n,l,f,u))})},26015:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(29747),v=o,a=o;v=t(46161),a=t(49912),c.exports={renderWebGL:v,renderCanvas:a}},46161:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(91296),v=t(70554),a=function(i,s,e,r){e.addToRenderList(s);var h=i.pipelines.set(s.pipeline),n=o(s,e,r),l=h.calcMatrix.copyFrom(n.calc);l.translate(-s._displayOriginX,-s._displayOriginY);var f=e.alpha*s.alpha,u=s.width,d=s.height,p=s.cellWidth,x=s.cellHeight,E=Math.ceil(u/p),T=Math.ceil(d/x),C=p,A=x,M=p-(E*p-u),R=x-(T*x-d),O,L,b=s.showCells,N=s.showAltCells,I=s.showOutline,G=0,X=0,$=0,J=0,z=0;if(I&&(C--,A--,M===p&&M--,R===x&&R--),i.pipelines.preBatch(s),b&&s.fillAlpha>0)for(O=h.fillTint,L=v.getTintAppendFloatAlpha(s.fillColor,s.fillAlpha*f),O.TL=L,O.TR=L,O.BL=L,O.BR=L,X=0;X<T;X++)for(N&&($=X%2),G=0;G<E;G++){if(N&&$){$=0;continue}$++,J=G<E-1?C:M,z=X<T-1?A:R,h.batchFillRect(G*p,X*x,J,z)}if(N&&s.altFillAlpha>0)for(O=h.fillTint,L=v.getTintAppendFloatAlpha(s.altFillColor,s.altFillAlpha*f),O.TL=L,O.TR=L,O.BL=L,O.BR=L,X=0;X<T;X++)for(N&&($=X%2),G=0;G<E;G++){if(N&&!$){$=1;continue}$=0,J=G<E-1?C:M,z=X<T-1?A:R,h.batchFillRect(G*p,X*x,J,z)}if(I&&s.outlineFillAlpha>0){var Y=h.strokeTint,D=v.getTintAppendFloatAlpha(s.outlineFillColor,s.outlineFillAlpha*f);for(Y.TL=D,Y.TR=D,Y.BL=D,Y.BR=D,G=1;G<E;G++){var B=G*p;h.batchLine(B,0,B,d,1,1,1,0,!1)}for(X=1;X<T;X++){var U=X*x;h.batchLine(0,U,u,U,1,1,1,0,!1)}}i.pipelines.postBatch(s)};c.exports=a},61475:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(99651),v=t(83419),a=t(17803),i=new v({Extends:a,Mixins:[o],initialize:function(e,r,h,n,l,f,u,d){r===void 0&&(r=0),h===void 0&&(h=0),n===void 0&&(n=48),l===void 0&&(l=32),f===void 0&&(f=15658734),u===void 0&&(u=10066329),d===void 0&&(d=13421772),a.call(this,e,"IsoBox",null),this.projection=4,this.fillTop=f,this.fillLeft=u,this.fillRight=d,this.showTop=!0,this.showLeft=!0,this.showRight=!0,this.isFilled=!0,this.setPosition(r,h),this.setSize(n,l),this.updateDisplayOrigin()},setProjection:function(s){return this.projection=s,this},setFaces:function(s,e,r){return s===void 0&&(s=!0),e===void 0&&(e=!0),r===void 0&&(r=!0),this.showTop=s,this.showLeft=e,this.showRight=r,this},setFillStyle:function(s,e,r){return this.fillTop=s,this.fillLeft=e,this.fillRight=r,this.isFilled=!0,this}});c.exports=i},11508:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(65960),v=t(20926),a=function(i,s,e,r){e.addToRenderList(s);var h=i.currentContext;if(v(i,h,s,e,r)&&s.isFilled){var n=s.width,l=s.height,f=n/2,u=n/s.projection;s.showTop&&(o(h,s,s.fillTop),h.beginPath(),h.moveTo(-f,-l),h.lineTo(0,-u-l),h.lineTo(f,-l),h.lineTo(f,-1),h.lineTo(0,u-1),h.lineTo(-f,-1),h.lineTo(-f,-l),h.fill()),s.showLeft&&(o(h,s,s.fillLeft),h.beginPath(),h.moveTo(-f,0),h.lineTo(0,u),h.lineTo(0,u-l),h.lineTo(-f,-l),h.lineTo(-f,0),h.fill()),s.showRight&&(o(h,s,s.fillRight),h.beginPath(),h.moveTo(f,0),h.lineTo(0,u),h.lineTo(0,u-l),h.lineTo(f,-l),h.lineTo(f,0),h.fill()),h.restore()}};c.exports=a},3933:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(39429),v=t(61475);o.register("isobox",function(a,i,s,e,r,h,n){return this.displayList.add(new v(this.scene,a,i,s,e,r,h,n))})},99651:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(29747),v=o,a=o;v=t(68149),a=t(11508),c.exports={renderWebGL:v,renderCanvas:a}},68149:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(91296),v=t(70554),a=function(i,s,e,r){e.addToRenderList(s);var h=i.pipelines.set(s.pipeline),n=o(s,e,r),l=h.calcMatrix.copyFrom(n.calc),f=s.width,u=s.height,d=f/2,p=f/s.projection,x=e.alpha*s.alpha;if(s.isFilled){var E,T,C,A,M,R,O,L,b;i.pipelines.preBatch(s),s.showTop&&(E=v.getTintAppendFloatAlpha(s.fillTop,x),T=l.getX(-d,-u),C=l.getY(-d,-u),A=l.getX(0,-p-u),M=l.getY(0,-p-u),R=l.getX(d,-u),O=l.getY(d,-u),L=l.getX(0,p-u),b=l.getY(0,p-u),h.batchQuad(s,T,C,A,M,R,O,L,b,0,0,1,1,E,E,E,E,2)),s.showLeft&&(E=v.getTintAppendFloatAlpha(s.fillLeft,x),T=l.getX(-d,0),C=l.getY(-d,0),A=l.getX(0,p),M=l.getY(0,p),R=l.getX(0,p-u),O=l.getY(0,p-u),L=l.getX(-d,-u),b=l.getY(-d,-u),h.batchQuad(s,T,C,A,M,R,O,L,b,0,0,1,1,E,E,E,E,2)),s.showRight&&(E=v.getTintAppendFloatAlpha(s.fillRight,x),T=l.getX(d,0),C=l.getY(d,0),A=l.getX(0,p),M=l.getY(0,p),R=l.getX(0,p-u),O=l.getY(0,p-u),L=l.getX(d,-u),b=l.getY(d,-u),h.batchQuad(s,T,C,A,M,R,O,L,b,0,0,1,1,E,E,E,E,2)),i.pipelines.postBatch(s)}};c.exports=a},16933:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(60561),a=t(17803),i=new o({Extends:a,Mixins:[v],initialize:function(e,r,h,n,l,f,u,d,p){r===void 0&&(r=0),h===void 0&&(h=0),n===void 0&&(n=48),l===void 0&&(l=32),f===void 0&&(f=!1),u===void 0&&(u=15658734),d===void 0&&(d=10066329),p===void 0&&(p=13421772),a.call(this,e,"IsoTriangle",null),this.projection=4,this.fillTop=u,this.fillLeft=d,this.fillRight=p,this.showTop=!0,this.showLeft=!0,this.showRight=!0,this.isReversed=f,this.isFilled=!0,this.setPosition(r,h),this.setSize(n,l),this.updateDisplayOrigin()},setProjection:function(s){return this.projection=s,this},setReversed:function(s){return this.isReversed=s,this},setFaces:function(s,e,r){return s===void 0&&(s=!0),e===void 0&&(e=!0),r===void 0&&(r=!0),this.showTop=s,this.showLeft=e,this.showRight=r,this},setFillStyle:function(s,e,r){return this.fillTop=s,this.fillLeft=e,this.fillRight=r,this.isFilled=!0,this}});c.exports=i},79590:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(65960),v=t(20926),a=function(i,s,e,r){e.addToRenderList(s);var h=i.currentContext;if(v(i,h,s,e,r)&&s.isFilled){var n=s.width,l=s.height,f=n/2,u=n/s.projection,d=s.isReversed;s.showTop&&d&&(o(h,s,s.fillTop),h.beginPath(),h.moveTo(-f,-l),h.lineTo(0,-u-l),h.lineTo(f,-l),h.lineTo(0,u-l),h.fill()),s.showLeft&&(o(h,s,s.fillLeft),h.beginPath(),d?(h.moveTo(-f,-l),h.lineTo(0,u),h.lineTo(0,u-l)):(h.moveTo(-f,0),h.lineTo(0,u),h.lineTo(0,u-l)),h.fill()),s.showRight&&(o(h,s,s.fillRight),h.beginPath(),d?(h.moveTo(f,-l),h.lineTo(0,u),h.lineTo(0,u-l)):(h.moveTo(f,0),h.lineTo(0,u),h.lineTo(0,u-l)),h.fill()),h.restore()}};c.exports=a},49803:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(39429),v=t(16933);o.register("isotriangle",function(a,i,s,e,r,h,n,l){return this.displayList.add(new v(this.scene,a,i,s,e,r,h,n,l))})},60561:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(29747),v=o,a=o;v=t(51503),a=t(79590),c.exports={renderWebGL:v,renderCanvas:a}},51503:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(91296),v=t(70554),a=function(i,s,e,r){e.addToRenderList(s);var h=i.pipelines.set(s.pipeline),n=o(s,e,r),l=h.calcMatrix.copyFrom(n.calc),f=s.width,u=s.height,d=f/2,p=f/s.projection,x=s.isReversed,E=e.alpha*s.alpha;if(s.isFilled){i.pipelines.preBatch(s);var T,C,A,M,R,O,L;if(s.showTop&&x){T=v.getTintAppendFloatAlpha(s.fillTop,E),C=l.getX(-d,-u),A=l.getY(-d,-u),M=l.getX(0,-p-u),R=l.getY(0,-p-u),O=l.getX(d,-u),L=l.getY(d,-u);var b=l.getX(0,p-u),N=l.getY(0,p-u);h.batchQuad(s,C,A,M,R,O,L,b,N,0,0,1,1,T,T,T,T,2)}s.showLeft&&(T=v.getTintAppendFloatAlpha(s.fillLeft,E),x?(C=l.getX(-d,-u),A=l.getY(-d,-u),M=l.getX(0,p),R=l.getY(0,p),O=l.getX(0,p-u),L=l.getY(0,p-u)):(C=l.getX(-d,0),A=l.getY(-d,0),M=l.getX(0,p),R=l.getY(0,p),O=l.getX(0,p-u),L=l.getY(0,p-u)),h.batchTri(s,C,A,M,R,O,L,0,0,1,1,T,T,T,2)),s.showRight&&(T=v.getTintAppendFloatAlpha(s.fillRight,E),x?(C=l.getX(d,-u),A=l.getY(d,-u),M=l.getX(0,p),R=l.getY(0,p),O=l.getX(0,p-u),L=l.getY(0,p-u)):(C=l.getX(d,0),A=l.getY(d,0),M=l.getX(0,p),R=l.getY(0,p),O=l.getX(0,p-u),L=l.getY(0,p-u)),h.batchTri(s,C,A,M,R,O,L,0,0,1,1,T,T,T,2)),i.pipelines.postBatch(s)}};c.exports=a},57847:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(17803),a=t(23031),i=t(36823),s=new o({Extends:v,Mixins:[i],initialize:function(r,h,n,l,f,u,d,p,x){h===void 0&&(h=0),n===void 0&&(n=0),l===void 0&&(l=0),f===void 0&&(f=0),u===void 0&&(u=128),d===void 0&&(d=0),v.call(this,r,"Line",new a(l,f,u,d));var E=Math.max(1,this.geom.right-this.geom.left),T=Math.max(1,this.geom.bottom-this.geom.top);this.lineWidth=1,this._startWidth=1,this._endWidth=1,this.setPosition(h,n),this.setSize(E,T),p!==void 0&&this.setStrokeStyle(1,p,x),this.updateDisplayOrigin()},setLineWidth:function(e,r){return r===void 0&&(r=e),this._startWidth=e,this._endWidth=r,this.lineWidth=e,this},setTo:function(e,r,h,n){return this.geom.setTo(e,r,h,n),this}});c.exports=s},17440:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(75177),v=t(20926),a=function(i,s,e,r){e.addToRenderList(s);var h=i.currentContext;if(v(i,h,s,e,r)){var n=s._displayOriginX,l=s._displayOriginY;s.isStroked&&(o(h,s),h.beginPath(),h.moveTo(s.geom.x1-n,s.geom.y1-l),h.lineTo(s.geom.x2-n,s.geom.y2-l),h.stroke()),h.restore()}};c.exports=a},2481:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(39429),v=t(57847);o.register("line",function(a,i,s,e,r,h,n,l){return this.displayList.add(new v(this.scene,a,i,s,e,r,h,n,l))})},36823:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(29747),v=o,a=o;v=t(77385),a=t(17440),c.exports={renderWebGL:v,renderCanvas:a}},77385:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(91296),v=t(70554),a=function(i,s,e,r){e.addToRenderList(s);var h=i.pipelines.set(s.pipeline),n=o(s,e,r);h.calcMatrix.copyFrom(n.calc);var l=s._displayOriginX,f=s._displayOriginY,u=e.alpha*s.alpha;if(i.pipelines.preBatch(s),s.isStroked){var d=h.strokeTint,p=v.getTintAppendFloatAlpha(s.strokeColor,s.strokeAlpha*u);d.TL=p,d.TR=p,d.BL=p,d.BR=p,h.batchLine(s.geom.x1-l,s.geom.y1-f,s.geom.x2-l,s.geom.y2-f,s._startWidth/2,s._endWidth/2,1,0,!1,n.sprite,n.camera)}i.pipelines.postBatch(s)};c.exports=a},24949:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(90273),v=t(83419),a=t(94811),i=t(13829),s=t(25717),e=t(17803),r=t(5469),h=new v({Extends:e,Mixins:[o],initialize:function(l,f,u,d,p,x){f===void 0&&(f=0),u===void 0&&(u=0),e.call(this,l,"Polygon",new s(d));var E=i(this.geom);this.setPosition(f,u),this.setSize(E.width,E.height),p!==void 0&&this.setFillStyle(p,x),this.updateDisplayOrigin(),this.updateData()},smooth:function(n){n===void 0&&(n=1);for(var l=0;l<n;l++)r(this.geom);return this.updateData()},setTo:function(n){this.geom.setTo(n);var l=i(this.geom);return this.setSize(l.width,l.height),this.updateDisplayOrigin(),this.updateData()},updateData:function(){for(var n=[],l=this.geom.points,f=0;f<l.length;f++)n.push(l[f].x,l[f].y);return n.push(l[0].x,l[0].y),this.pathIndexes=a(n),this.pathData=n,this}});c.exports=h},38710:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(65960),v=t(75177),a=t(20926),i=function(s,e,r,h){r.addToRenderList(e);var n=s.currentContext;if(a(s,n,e,r,h)){var l=e._displayOriginX,f=e._displayOriginY,u=e.pathData,d=u.length-1,p=u[0]-l,x=u[1]-f;n.beginPath(),n.moveTo(p,x),e.closePath||(d-=2);for(var E=2;E<d;E+=2){var T=u[E]-l,C=u[E+1]-f;n.lineTo(T,C)}e.closePath&&n.closePath(),e.isFilled&&(o(n,e),n.fill()),e.isStroked&&(v(n,e),n.stroke()),n.restore()}};c.exports=i},64827:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(39429),v=t(24949);o.register("polygon",function(a,i,s,e,r){return this.displayList.add(new v(this.scene,a,i,s,e,r))})},90273:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(29747),v=o,a=o;v=t(73695),a=t(38710),c.exports={renderWebGL:v,renderCanvas:a}},73695:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(10441),v=t(91296),a=t(34682),i=function(s,e,r,h){r.addToRenderList(e);var n=s.pipelines.set(e.pipeline),l=v(e,r,h),f=n.calcMatrix.copyFrom(l.calc),u=e._displayOriginX,d=e._displayOriginY,p=r.alpha*e.alpha;s.pipelines.preBatch(e),e.isFilled&&o(n,f,e,p,u,d),e.isStroked&&a(n,e,p,u,d),s.pipelines.postBatch(e)};c.exports=i},74561:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(87841),a=t(17803),i=t(95597),s=new o({Extends:a,Mixins:[i],initialize:function(r,h,n,l,f,u,d){h===void 0&&(h=0),n===void 0&&(n=0),l===void 0&&(l=128),f===void 0&&(f=128),a.call(this,r,"Rectangle",new v(0,0,l,f)),this.setPosition(h,n),this.setSize(l,f),u!==void 0&&this.setFillStyle(u,d),this.updateDisplayOrigin(),this.updateData()},setSize:function(e,r){this.width=e,this.height=r,this.geom.setSize(e,r),this.updateData(),this.updateDisplayOrigin();var h=this.input;return h&&!h.customHitArea&&(h.hitArea.width=e,h.hitArea.height=r),this},updateData:function(){var e=[],r=this.geom,h=this._tempLine;return r.getLineA(h),e.push(h.x1,h.y1,h.x2,h.y2),r.getLineB(h),e.push(h.x2,h.y2),r.getLineC(h),e.push(h.x2,h.y2),r.getLineD(h),e.push(h.x2,h.y2),this.pathData=e,this}});c.exports=s},48682:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(65960),v=t(75177),a=t(20926),i=function(s,e,r,h){r.addToRenderList(e);var n=s.currentContext;if(a(s,n,e,r,h)){var l=e._displayOriginX,f=e._displayOriginY;e.isFilled&&(o(n,e),n.fillRect(-l,-f,e.width,e.height)),e.isStroked&&(v(n,e),n.beginPath(),n.rect(-l,-f,e.width,e.height),n.stroke()),n.restore()}};c.exports=i},87959:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(39429),v=t(74561);o.register("rectangle",function(a,i,s,e,r,h){return this.displayList.add(new v(this.scene,a,i,s,e,r,h))})},95597:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(29747),v=o,a=o;v=t(52059),a=t(48682),c.exports={renderWebGL:v,renderCanvas:a}},52059:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(91296),v=t(34682),a=t(70554),i=function(s,e,r,h){r.addToRenderList(e);var n=s.pipelines.set(e.pipeline),l=o(e,r,h);n.calcMatrix.copyFrom(l.calc);var f=e._displayOriginX,u=e._displayOriginY,d=r.alpha*e.alpha;if(s.pipelines.preBatch(e),e.isFilled){var p=n.fillTint,x=a.getTintAppendFloatAlpha(e.fillColor,e.fillAlpha*d);p.TL=x,p.TR=x,p.BL=x,p.BR=x,n.batchFillRect(-f,-u,e.width,e.height)}e.isStroked&&v(n,e,d,f,u),s.pipelines.postBatch(e)};c.exports=i},55911:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(81991),v=t(83419),a=t(94811),i=t(17803),s=new v({Extends:i,Mixins:[o],initialize:function(r,h,n,l,f,u,d,p){h===void 0&&(h=0),n===void 0&&(n=0),l===void 0&&(l=5),f===void 0&&(f=32),u===void 0&&(u=64),i.call(this,r,"Star",null),this._points=l,this._innerRadius=f,this._outerRadius=u,this.setPosition(h,n),this.setSize(u*2,u*2),d!==void 0&&this.setFillStyle(d,p),this.updateDisplayOrigin(),this.updateData()},setPoints:function(e){return this._points=e,this.updateData()},setInnerRadius:function(e){return this._innerRadius=e,this.updateData()},setOuterRadius:function(e){return this._outerRadius=e,this.updateData()},points:{get:function(){return this._points},set:function(e){this._points=e,this.updateData()}},innerRadius:{get:function(){return this._innerRadius},set:function(e){this._innerRadius=e,this.updateData()}},outerRadius:{get:function(){return this._outerRadius},set:function(e){this._outerRadius=e,this.updateData()}},updateData:function(){var e=[],r=this._points,h=this._innerRadius,n=this._outerRadius,l=Math.PI/2*3,f=Math.PI/r,u=n,d=n;e.push(u,d+-n);for(var p=0;p<r;p++)e.push(u+Math.cos(l)*n,d+Math.sin(l)*n),l+=f,e.push(u+Math.cos(l)*h,d+Math.sin(l)*h),l+=f;return e.push(u,d+-n),this.pathIndexes=a(e),this.pathData=e,this}});c.exports=s},64272:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(65960),v=t(75177),a=t(20926),i=function(s,e,r,h){r.addToRenderList(e);var n=s.currentContext;if(a(s,n,e,r,h)){var l=e._displayOriginX,f=e._displayOriginY,u=e.pathData,d=u.length-1,p=u[0]-l,x=u[1]-f;n.beginPath(),n.moveTo(p,x),e.closePath||(d-=2);for(var E=2;E<d;E+=2){var T=u[E]-l,C=u[E+1]-f;n.lineTo(T,C)}n.closePath(),e.isFilled&&(o(n,e),n.fill()),e.isStroked&&(v(n,e),n.stroke()),n.restore()}};c.exports=i},93697:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(55911),v=t(39429);v.register("star",function(a,i,s,e,r,h,n){return this.displayList.add(new o(this.scene,a,i,s,e,r,h,n))})},81991:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(29747),v=o,a=o;v=t(57017),a=t(64272),c.exports={renderWebGL:v,renderCanvas:a}},57017:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(10441),v=t(91296),a=t(34682),i=function(s,e,r,h){r.addToRenderList(e);var n=s.pipelines.set(e.pipeline),l=v(e,r,h),f=n.calcMatrix.copyFrom(l.calc),u=e._displayOriginX,d=e._displayOriginY,p=r.alpha*e.alpha;s.pipelines.preBatch(e),e.isFilled&&o(n,f,e,p,u,d),e.isStroked&&a(n,e,p,u,d),s.pipelines.postBatch(e)};c.exports=i},36931:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(17803),a=t(16483),i=t(96195),s=new o({Extends:v,Mixins:[i],initialize:function(r,h,n,l,f,u,d,p,x,E,T){h===void 0&&(h=0),n===void 0&&(n=0),l===void 0&&(l=0),f===void 0&&(f=128),u===void 0&&(u=64),d===void 0&&(d=0),p===void 0&&(p=128),x===void 0&&(x=128),v.call(this,r,"Triangle",new a(l,f,u,d,p,x));var C=this.geom.right-this.geom.left,A=this.geom.bottom-this.geom.top;this.setPosition(h,n),this.setSize(C,A),E!==void 0&&this.setFillStyle(E,T),this.updateDisplayOrigin(),this.updateData()},setTo:function(e,r,h,n,l,f){return this.geom.setTo(e,r,h,n,l,f),this.updateData()},updateData:function(){var e=[],r=this.geom,h=this._tempLine;return r.getLineA(h),e.push(h.x1,h.y1,h.x2,h.y2),r.getLineB(h),e.push(h.x2,h.y2),r.getLineC(h),e.push(h.x2,h.y2),this.pathData=e,this}});c.exports=s},85172:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(65960),v=t(75177),a=t(20926),i=function(s,e,r,h){r.addToRenderList(e);var n=s.currentContext;if(a(s,n,e,r,h)){var l=e._displayOriginX,f=e._displayOriginY,u=e.geom.x1-l,d=e.geom.y1-f,p=e.geom.x2-l,x=e.geom.y2-f,E=e.geom.x3-l,T=e.geom.y3-f;n.beginPath(),n.moveTo(u,d),n.lineTo(p,x),n.lineTo(E,T),n.closePath(),e.isFilled&&(o(n,e),n.fill()),e.isStroked&&(v(n,e),n.stroke()),n.restore()}};c.exports=i},45245:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(39429),v=t(36931);o.register("triangle",function(a,i,s,e,r,h,n,l,f,u){return this.displayList.add(new v(this.scene,a,i,s,e,r,h,n,l,f,u))})},96195:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(29747),v=o,a=o;v=t(83253),a=t(85172),c.exports={renderWebGL:v,renderCanvas:a}},83253:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(91296),v=t(34682),a=t(70554),i=function(s,e,r,h){r.addToRenderList(e);var n=s.pipelines.set(e.pipeline),l=o(e,r,h);n.calcMatrix.copyFrom(l.calc);var f=e._displayOriginX,u=e._displayOriginY,d=r.alpha*e.alpha;if(s.pipelines.preBatch(e),e.isFilled){var p=n.fillTint,x=a.getTintAppendFloatAlpha(e.fillColor,e.fillAlpha*d);p.TL=x,p.TR=x,p.BL=x,p.BR=x;var E=e.geom.x1-f,T=e.geom.y1-u,C=e.geom.x2-f,A=e.geom.y2-u,M=e.geom.x3-f,R=e.geom.y3-u;n.batchFillTriangle(E,T,C,A,M,R,l.sprite,l.camera)}e.isStroked&&v(n,e,d,f,u),s.pipelines.postBatch(e)};c.exports=i},68287:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(9674),v=t(83419),a=t(31401),i=t(95643),s=t(92751),e=new v({Extends:i,Mixins:[a.Alpha,a.BlendMode,a.Depth,a.Flip,a.GetBounds,a.Mask,a.Origin,a.Pipeline,a.PostPipeline,a.ScrollFactor,a.Size,a.TextureCrop,a.Tint,a.Transform,a.Visible,s],initialize:function(h,n,l,f,u){i.call(this,h,"Sprite"),this._crop=this.resetCropObject(),this.anims=new o(this),this.setTexture(f,u),this.setPosition(n,l),this.setSizeToFrame(),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(r,h){this.anims.update(r,h)},play:function(r,h){return this.anims.play(r,h)},playReverse:function(r,h){return this.anims.playReverse(r,h)},playAfterDelay:function(r,h){return this.anims.playAfterDelay(r,h)},playAfterRepeat:function(r,h){return this.anims.playAfterRepeat(r,h)},chain:function(r){return this.anims.chain(r)},stop:function(){return this.anims.stop()},stopAfterDelay:function(r){return this.anims.stopAfterDelay(r)},stopAfterRepeat:function(r){return this.anims.stopAfterRepeat(r)},stopOnFrame:function(r){return this.anims.stopOnFrame(r)},toJSON:function(){return a.ToJSON(this)},preDestroy:function(){this.anims.destroy(),this.anims=void 0}});c.exports=e},76552:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o,v,a){v.addToRenderList(o),t.batchSprite(o,o.frame,v,a)};c.exports=g},15567:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(25305),v=t(13059),a=t(44603),i=t(23568),s=t(68287);a.register("sprite",function(e,r){e===void 0&&(e={});var h=i(e,"key",null),n=i(e,"frame",null),l=new s(this.scene,0,0,h,n);return r!==void 0&&(e.add=r),o(this.scene,l,e),v(l,e),l})},46409:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(39429),v=t(68287);o.register("sprite",function(a,i,s,e){return this.displayList.add(new v(this.scene,a,i,s,e))})},92751:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(29747),v=o,a=o;v=t(9409),a=t(76552),c.exports={renderWebGL:v,renderCanvas:a}},9409:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o,v,a){v.addToRenderList(o),o.pipeline.batchSprite(o,v,a)};c.exports=g},14220:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o,v){var a=t.canvas,i=t.context,s=t.style,e=[],r=0,h=v.length;s.maxLines>0&&s.maxLines<v.length&&(h=s.maxLines),s.syncFont(a,i);for(var n=0;n<h;n++){var l=s.strokeThickness;l+=i.measureText(v[n]).width,v[n].length>1&&(l+=t.letterSpacing*(v[n].length-1)),s.wordWrap&&(l-=i.measureText(" ").width),e[n]=Math.ceil(l),r=Math.max(r,e[n])}var f=o.fontSize+s.strokeThickness,u=f*h,d=t.lineSpacing;return h>1&&(u+=d*(h-1)),{width:r,height:u,lines:h,lineWidths:e,lineSpacing:d,lineHeight:f}};c.exports=g},79557:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(27919),v=function(a){var i=o.create(this),s=i.getContext("2d",{willReadFrequently:!0});a.syncFont(i,s);var e=s.measureText(a.testString);if("actualBoundingBoxAscent"in e){var r=e.actualBoundingBoxAscent,h=e.actualBoundingBoxDescent;return o.remove(i),{ascent:r,descent:h,fontSize:r+h}}var n=Math.ceil(e.width*a.baselineX),l=n,f=2*l;l=l*a.baselineY|0,i.width=n,i.height=f,s.fillStyle="#f00",s.fillRect(0,0,n,f),s.font=a._font,s.textBaseline="alphabetic",s.fillStyle="#000",s.fillText(a.testString,0,l);var u={ascent:0,descent:0,fontSize:0},d=s.getImageData(0,0,n,f);if(!d)return u.ascent=l,u.descent=l+6,u.fontSize=u.ascent+u.descent,o.remove(i),u;var p=d.data,x=p.length,E=n*4,T,C,A=0,M=!1;for(T=0;T<l;T++){for(C=0;C<E;C+=4)if(p[A+C]!==255){M=!0;break}if(!M)A+=E;else break}for(u.ascent=l-T,A=x-E,M=!1,T=f;T>l;T--){for(C=0;C<E;C+=4)if(p[A+C]!==255){M=!0;break}if(!M)A-=E;else break}return u.descent=T-l,u.fontSize=u.ascent+u.descent,o.remove(i),u};c.exports=v},50171:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(40366),v=t(27919),a=t(83419),i=t(31401),s=t(95643),e=t(14220),r=t(35154),h=t(35846),n=t(61771),l=t(35762),f=t(45650),u=new a({Extends:s,Mixins:[i.Alpha,i.BlendMode,i.ComputedSize,i.Crop,i.Depth,i.Flip,i.GetBounds,i.Mask,i.Origin,i.Pipeline,i.PostPipeline,i.ScrollFactor,i.Tint,i.Transform,i.Visible,n],initialize:function(p,x,E,T,C){x===void 0&&(x=0),E===void 0&&(E=0),s.call(this,p,"Text"),this.renderer=p.sys.renderer,this.setPosition(x,E),this.setOrigin(0,0),this.initPipeline(),this.initPostPipeline(!0),this.canvas=v.create(this),this.context,this.style=new l(this,C),this.autoRound=!0,this.splitRegExp=/(?:\r\n|\r|\n)/,this._text=void 0,this.padding={left:0,right:0,top:0,bottom:0},this.width=1,this.height=1,this.lineSpacing=0,this.letterSpacing=0,this.style.resolution===0&&(this.style.resolution=1),this._crop=this.resetCropObject(),this._textureKey=f(),this.texture=p.sys.textures.addCanvas(this._textureKey,this.canvas),this.context=this.texture.context,this.frame=this.texture.get(),this.frame.source.resolution=this.style.resolution,this.renderer&&this.renderer.gl&&(this.renderer.deleteTexture(this.frame.source.glTexture),this.frame.source.glTexture=null),this.initRTL(),this.setText(T),C&&C.padding&&this.setPadding(C.padding),C&&C.lineSpacing&&this.setLineSpacing(C.lineSpacing)},initRTL:function(){this.style.rtl&&(this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",o(this.canvas,this.scene.sys.canvas),this.originX=1)},runWordWrap:function(d){var p=this.style;if(p.wordWrapCallback){var x=p.wordWrapCallback.call(p.wordWrapCallbackScope,d,this);return Array.isArray(x)&&(x=x.join(`
`)),x}else return p.wordWrapWidth?p.wordWrapUseAdvanced?this.advancedWordWrap(d,this.context,this.style.wordWrapWidth):this.basicWordWrap(d,this.context,this.style.wordWrapWidth):d},advancedWordWrap:function(d,p,x){for(var E="",T=d.replace(/ +/gi," ").split(this.splitRegExp),C=T.length,A=0;A<C;A++){var M=T[A],R="";M=M.replace(/^ *|\s*$/gi,"");var O=p.measureText(M).width;if(O<x){E+=M+`
`;continue}for(var L=x,b=M.split(" "),N=0;N<b.length;N++){var I=b[N],G=I+" ",X=p.measureText(G).width;if(X>L){if(N===0){for(var $=G;$.length&&($=$.slice(0,-1),X=p.measureText($).width,!(X<=L)););if(!$.length)throw new Error("wordWrapWidth < a single character");var J=I.substr($.length);b[N]=J,R+=$}var z=b[N].length?N:N+1,Y=b.slice(z).join(" ").replace(/[ \n]*$/gi,"");T.splice(A+1,0,Y),C=T.length;break}else R+=G,L-=X}E+=R.replace(/[ \n]*$/gi,"")+`
`}return E=E.replace(/[\s|\n]*$/gi,""),E},basicWordWrap:function(d,p,x){for(var E="",T=d.split(this.splitRegExp),C=T.length-1,A=p.measureText(" ").width,M=0;M<=C;M++){for(var R=x,O=T[M].split(" "),L=O.length-1,b=0;b<=L;b++){var N=O[b],I=p.measureText(N).width,G=I;b<L&&(G+=A),G>R&&b>0&&(E+=`
`,R=x),E+=N,b<L?(E+=" ",R-=G):R-=I}M<C&&(E+=`
`)}return E},getWrappedText:function(d){d===void 0&&(d=this._text),this.style.syncFont(this.canvas,this.context);var p=this.runWordWrap(d);return p.split(this.splitRegExp)},setText:function(d){return!d&&d!==0&&(d=""),Array.isArray(d)&&(d=d.join(`
`)),d!==this._text&&(this._text=d.toString(),this.updateText()),this},appendText:function(d,p){p===void 0&&(p=!0),!d&&d!==0&&(d=""),Array.isArray(d)&&(d=d.join(`
`)),d=d.toString();var x=this._text.concat(p?`
`+d:d);return x!==this._text&&(this._text=x,this.updateText()),this},setStyle:function(d){return this.style.setStyle(d)},setFont:function(d){return this.style.setFont(d)},setFontFamily:function(d){return this.style.setFontFamily(d)},setFontSize:function(d){return this.style.setFontSize(d)},setFontStyle:function(d){return this.style.setFontStyle(d)},setFixedSize:function(d,p){return this.style.setFixedSize(d,p)},setBackgroundColor:function(d){return this.style.setBackgroundColor(d)},setFill:function(d){return this.style.setFill(d)},setColor:function(d){return this.style.setColor(d)},setStroke:function(d,p){return this.style.setStroke(d,p)},setShadow:function(d,p,x,E,T,C){return this.style.setShadow(d,p,x,E,T,C)},setShadowOffset:function(d,p){return this.style.setShadowOffset(d,p)},setShadowColor:function(d){return this.style.setShadowColor(d)},setShadowBlur:function(d){return this.style.setShadowBlur(d)},setShadowStroke:function(d){return this.style.setShadowStroke(d)},setShadowFill:function(d){return this.style.setShadowFill(d)},setWordWrapWidth:function(d,p){return this.style.setWordWrapWidth(d,p)},setWordWrapCallback:function(d,p){return this.style.setWordWrapCallback(d,p)},setAlign:function(d){return this.style.setAlign(d)},setResolution:function(d){return this.style.setResolution(d)},setLineSpacing:function(d){return this.lineSpacing=d,this.updateText()},setLetterSpacing:function(d){return this.letterSpacing=d,this.updateText()},setPadding:function(d,p,x,E){if(typeof d=="object"){var T=d,C=r(T,"x",null);C!==null?(d=C,x=C):(d=r(T,"left",0),x=r(T,"right",d));var A=r(T,"y",null);A!==null?(p=A,E=A):(p=r(T,"top",0),E=r(T,"bottom",p))}else d===void 0&&(d=0),p===void 0&&(p=d),x===void 0&&(x=d),E===void 0&&(E=p);return this.padding.left=d,this.padding.top=p,this.padding.right=x,this.padding.bottom=E,this.updateText()},setMaxLines:function(d){return this.style.setMaxLines(d)},setRTL:function(d){d===void 0&&(d=!0);var p=this.style;return p.rtl===d?this:(p.rtl=d,d?(this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",o(this.canvas,this.scene.sys.canvas)):(this.canvas.dir="ltr",this.context.direction="ltr"),p.align==="left"?p.align="right":p.align==="right"&&(p.align="left"),this)},updateText:function(){var d=this.canvas,p=this.context,x=this.style,E=x.resolution,T=x.metrics;x.syncFont(d,p);var C=this._text;(x.wordWrapWidth||x.wordWrapCallback)&&(C=this.runWordWrap(this._text));var A=C.split(this.splitRegExp),M=e(this,T,A),R=this.padding,O;x.fixedWidth===0?(this.width=M.width+R.left+R.right,O=M.width):(this.width=x.fixedWidth,O=this.width-R.left-R.right,O<M.width&&(O=M.width)),x.fixedHeight===0?this.height=M.height+R.top+R.bottom:this.height=x.fixedHeight;var L=this.width,b=this.height;this.updateDisplayOrigin(),L*=E,b*=E,L=Math.max(L,1),b=Math.max(b,1),d.width!==L||d.height!==b?(d.width=L,d.height=b,this.frame.setSize(L,b),x.syncFont(d,p),x.rtl&&(p.direction="rtl")):p.clearRect(0,0,L,b),p.save(),p.scale(E,E),x.backgroundColor&&(p.fillStyle=x.backgroundColor,p.fillRect(0,0,L,b)),x.syncStyle(d,p),p.translate(R.left,R.top);for(var N,I,G=0;G<M.lines;G++){if(N=x.strokeThickness/2,I=x.strokeThickness/2+G*M.lineHeight+T.ascent,G>0&&(I+=M.lineSpacing*G),x.rtl)N=L-N-R.left-R.right;else if(x.align==="right")N+=O-M.lineWidths[G];else if(x.align==="center")N+=(O-M.lineWidths[G])/2;else if(x.align==="justify"){var X=.85;if(M.lineWidths[G]/M.width>=X){var $=M.width-M.lineWidths[G],J=p.measureText(" ").width,z=A[G].trim(),Y=z.split(" ");$+=(A[G].length-z.length)*J;for(var D=Math.floor($/J),B=0;D>0;)Y[B]+=" ",B=(B+1)%(Y.length-1||1),--D;A[G]=Y.join(" ")}}if(this.autoRound&&(N=Math.round(N),I=Math.round(I)),x.strokeThickness&&(x.syncShadow(p,x.shadowStroke),p.strokeText(A[G],N,I)),x.color){x.syncShadow(p,x.shadowFill);var U=this.letterSpacing;if(U!==0)for(var H=0,j=A[G].split(""),q=0;q<j.length;q++)p.fillText(j[q],N+H,I),H+=p.measureText(j[q]).width+U;else p.fillText(A[G],N,I)}}p.restore(),this.renderer&&this.renderer.gl&&(this.frame.source.glTexture=this.renderer.canvasToTexture(d,this.frame.source.glTexture,!0));var _=this.input;return _&&!_.customHitArea&&(_.hitArea.width=this.width,_.hitArea.height=this.height),this},getTextMetrics:function(){return this.style.getTextMetrics()},text:{get:function(){return this._text},set:function(d){this.setText(d)}},toJSON:function(){var d=i.ToJSON(this),p={autoRound:this.autoRound,text:this._text,style:this.style.toJSON(),padding:{left:this.padding.left,right:this.padding.right,top:this.padding.top,bottom:this.padding.bottom}};return d.data=p,d},preDestroy:function(){h(this.canvas),v.remove(this.canvas);var d=this.texture;d&&d.destroy()}});c.exports=u},79724:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o,v,a){o.width===0||o.height===0||(v.addToRenderList(o),t.batchSprite(o,o.frame,v,a))};c.exports=g},71259:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(25305),v=t(44603),a=t(23568),i=t(50171);v.register("text",function(s,e){s===void 0&&(s={});var r=a(s,"text",""),h=a(s,"style",null),n=a(s,"padding",null);n!==null&&(h.padding=n);var l=new i(this.scene,0,0,r,h);return e!==void 0&&(s.add=e),o(this.scene,l,s),l.autoRound=a(s,"autoRound",!0),l.resolution=a(s,"resolution",1),l})},68005:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(50171),v=t(39429);v.register("text",function(a,i,s,e){return this.displayList.add(new o(this.scene,a,i,s,e))})},61771:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(29747),v=o,a=o;v=t(34397),a=t(79724),c.exports={renderWebGL:v,renderCanvas:a}},35762:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(23568),a=t(35154),i=t(79557),s={fontFamily:["fontFamily","Courier"],fontSize:["fontSize","16px"],fontStyle:["fontStyle",""],backgroundColor:["backgroundColor",null],color:["color","#fff"],stroke:["stroke","#fff"],strokeThickness:["strokeThickness",0],shadowOffsetX:["shadow.offsetX",0],shadowOffsetY:["shadow.offsetY",0],shadowColor:["shadow.color","#000"],shadowBlur:["shadow.blur",0],shadowStroke:["shadow.stroke",!1],shadowFill:["shadow.fill",!1],align:["align","left"],maxLines:["maxLines",0],fixedWidth:["fixedWidth",0],fixedHeight:["fixedHeight",0],resolution:["resolution",0],rtl:["rtl",!1],testString:["testString","|Mqgy"],baselineX:["baselineX",1.2],baselineY:["baselineY",1.4],wordWrapWidth:["wordWrap.width",null],wordWrapCallback:["wordWrap.callback",null],wordWrapCallbackScope:["wordWrap.callbackScope",null],wordWrapUseAdvanced:["wordWrap.useAdvancedWrap",!1]},e=new o({initialize:function(h,n){this.parent=h,this.fontFamily,this.fontSize,this.fontStyle,this.backgroundColor,this.color,this.stroke,this.strokeThickness,this.shadowOffsetX,this.shadowOffsetY,this.shadowColor,this.shadowBlur,this.shadowStroke,this.shadowFill,this.align,this.maxLines,this.fixedWidth,this.fixedHeight,this.resolution,this.rtl,this.testString,this.baselineX,this.baselineY,this.wordWrapWidth,this.wordWrapCallback,this.wordWrapCallbackScope,this.wordWrapUseAdvanced,this._font,this.setStyle(n,!1,!0)},setStyle:function(r,h,n){h===void 0&&(h=!0),n===void 0&&(n=!1),r&&r.hasOwnProperty("fontSize")&&typeof r.fontSize=="number"&&(r.fontSize=r.fontSize.toString()+"px");for(var l in s){var f=n?s[l][1]:this[l];l==="wordWrapCallback"||l==="wordWrapCallbackScope"?this[l]=a(r,s[l][0],f):this[l]=v(r,s[l][0],f)}var u=a(r,"font",null);u!==null&&this.setFont(u,!1),this._font=[this.fontStyle,this.fontSize,this.fontFamily].join(" ").trim();var d=a(r,"fill",null);d!==null&&(this.color=d);var p=a(r,"metrics",!1);return p?this.metrics={ascent:a(p,"ascent",0),descent:a(p,"descent",0),fontSize:a(p,"fontSize",0)}:(h||!this.metrics)&&(this.metrics=i(this)),h?this.parent.updateText():this.parent},syncFont:function(r,h){h.font=this._font},syncStyle:function(r,h){h.textBaseline="alphabetic",h.fillStyle=this.color,h.strokeStyle=this.stroke,h.lineWidth=this.strokeThickness,h.lineCap="round",h.lineJoin="round"},syncShadow:function(r,h){h?(r.shadowOffsetX=this.shadowOffsetX,r.shadowOffsetY=this.shadowOffsetY,r.shadowColor=this.shadowColor,r.shadowBlur=this.shadowBlur):(r.shadowOffsetX=0,r.shadowOffsetY=0,r.shadowColor=0,r.shadowBlur=0)},update:function(r){return r&&(this._font=[this.fontStyle,this.fontSize,this.fontFamily].join(" ").trim(),this.metrics=i(this)),this.parent.updateText()},setFont:function(r,h){h===void 0&&(h=!0);var n=r,l="",f="";if(typeof r!="string")n=a(r,"fontFamily","Courier"),l=a(r,"fontSize","16px"),f=a(r,"fontStyle","");else{var u=r.split(" "),d=0;f=u.length>2?u[d++]:"",l=u[d++]||"16px",n=u[d++]||"Courier"}return(n!==this.fontFamily||l!==this.fontSize||f!==this.fontStyle)&&(this.fontFamily=n,this.fontSize=l,this.fontStyle=f,h&&this.update(!0)),this.parent},setFontFamily:function(r){return this.fontFamily!==r&&(this.fontFamily=r,this.update(!0)),this.parent},setFontStyle:function(r){return this.fontStyle!==r&&(this.fontStyle=r,this.update(!0)),this.parent},setFontSize:function(r){return typeof r=="number"&&(r=r.toString()+"px"),this.fontSize!==r&&(this.fontSize=r,this.update(!0)),this.parent},setTestString:function(r){return this.testString=r,this.update(!0)},setFixedSize:function(r,h){return this.fixedWidth=r,this.fixedHeight=h,r&&(this.parent.width=r),h&&(this.parent.height=h),this.update(!1)},setBackgroundColor:function(r){return this.backgroundColor=r,this.update(!1)},setFill:function(r){return this.color=r,this.update(!1)},setColor:function(r){return this.color=r,this.update(!1)},setResolution:function(r){return this.resolution=r,this.update(!1)},setStroke:function(r,h){return h===void 0&&(h=this.strokeThickness),r===void 0&&this.strokeThickness!==0?(this.strokeThickness=0,this.update(!0)):(this.stroke!==r||this.strokeThickness!==h)&&(this.stroke=r,this.strokeThickness=h,this.update(!0)),this.parent},setShadow:function(r,h,n,l,f,u){return r===void 0&&(r=0),h===void 0&&(h=0),n===void 0&&(n="#000"),l===void 0&&(l=0),f===void 0&&(f=!1),u===void 0&&(u=!0),this.shadowOffsetX=r,this.shadowOffsetY=h,this.shadowColor=n,this.shadowBlur=l,this.shadowStroke=f,this.shadowFill=u,this.update(!1)},setShadowOffset:function(r,h){return r===void 0&&(r=0),h===void 0&&(h=r),this.shadowOffsetX=r,this.shadowOffsetY=h,this.update(!1)},setShadowColor:function(r){return r===void 0&&(r="#000"),this.shadowColor=r,this.update(!1)},setShadowBlur:function(r){return r===void 0&&(r=0),this.shadowBlur=r,this.update(!1)},setShadowStroke:function(r){return this.shadowStroke=r,this.update(!1)},setShadowFill:function(r){return this.shadowFill=r,this.update(!1)},setWordWrapWidth:function(r,h){return h===void 0&&(h=!1),this.wordWrapWidth=r,this.wordWrapUseAdvanced=h,this.update(!1)},setWordWrapCallback:function(r,h){return h===void 0&&(h=null),this.wordWrapCallback=r,this.wordWrapCallbackScope=h,this.update(!1)},setAlign:function(r){return r===void 0&&(r="left"),this.align=r,this.update(!1)},setMaxLines:function(r){return r===void 0&&(r=0),this.maxLines=r,this.update(!1)},getTextMetrics:function(){var r=this.metrics;return{ascent:r.ascent,descent:r.descent,fontSize:r.fontSize}},toJSON:function(){var r={};for(var h in s)r[h]=this[h];return r.metrics=this.getTextMetrics(),r},destroy:function(){this.parent=void 0}});c.exports=e},34397:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(70554),v=function(a,i,s,e){if(!(i.width===0||i.height===0)){s.addToRenderList(i);var r=i.frame,h=r.width,n=r.height,l=o.getTintAppendFloatAlpha,f=a.pipelines.set(i.pipeline,i),u=f.setTexture2D(r.glTexture,i);f.batchTexture(i,r.glTexture,h,n,i.x,i.y,h/i.style.resolution,n/i.style.resolution,i.scaleX,i.scaleY,i.rotation,i.flipX,i.flipY,i.scrollFactorX,i.scrollFactorY,i.displayOriginX,i.displayOriginY,0,0,h,n,l(i.tintTopLeft,s.alpha*i._alphaTL),l(i.tintTopRight,s.alpha*i._alphaTR),l(i.tintBottomLeft,s.alpha*i._alphaBL),l(i.tintBottomRight,s.alpha*i._alphaBR),i.tintFill,0,0,s,e,!1,u)}};c.exports=v},20839:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(27919),v=t(83419),a=t(31401),i=t(95643),s=t(98439),e=t(68703),r=t(56295),h=t(45650),n=t(26099),l=8,f=new v({Extends:i,Mixins:[a.Alpha,a.BlendMode,a.ComputedSize,a.Crop,a.Depth,a.Flip,a.GetBounds,a.Mask,a.Origin,a.Pipeline,a.PostPipeline,a.ScrollFactor,a.Tint,a.Transform,a.Visible,r],initialize:function(d,p,x,E,T,C,A){var M=d.sys.renderer;i.call(this,d,"TileSprite");var R=d.sys.textures.get(C),O=R.get(A);O.source.compressionAlgorithm&&(console.warn("TileSprite cannot use compressed texture"),R=d.sys.textures.get("__MISSING"),O=R.get()),R.type==="DynamicTexture"&&(console.warn("TileSprite cannot use Dynamic Texture"),R=d.sys.textures.get("__MISSING"),O=R.get()),!E||!T?(E=O.width,T=O.height):(E=Math.floor(E),T=Math.floor(T)),this._tilePosition=new n,this._tileScale=new n(1,1),this.dirty=!1,this.renderer=M,this.canvas=o.create(this,E,T),this.context=this.canvas.getContext("2d",{willReadFrequently:!1}),this.displayTexture=R,this.displayFrame=O,this._crop=this.resetCropObject(),this._textureKey=h(),this.texture=d.sys.textures.addCanvas(this._textureKey,this.canvas),this.frame=this.texture.get(),this.potWidth=s(O.width),this.potHeight=s(O.height),this.fillCanvas=o.create2D(this,this.potWidth,this.potHeight),this.fillContext=this.fillCanvas.getContext("2d",{willReadFrequently:!1}),this.fillPattern=null,this.setPosition(p,x),this.setSize(E,T),this.setFrame(A),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)},setTexture:function(u,d){return this.displayTexture=this.scene.sys.textures.get(u),this.setFrame(d)},setFrame:function(u){var d=this.displayTexture.get(u);return this.potWidth=s(d.width),this.potHeight=s(d.height),this.canvas.width=0,!d.cutWidth||!d.cutHeight?this.renderFlags&=-9:this.renderFlags|=l,this.displayFrame=d,this.dirty=!0,this.updateTileTexture(),this},setTilePosition:function(u,d){return u!==void 0&&(this.tilePositionX=u),d!==void 0&&(this.tilePositionY=d),this},setTileScale:function(u,d){return u===void 0&&(u=this.tileScaleX),d===void 0&&(d=u),this.tileScaleX=u,this.tileScaleY=d,this},updateTileTexture:function(){if(!(!this.dirty||!this.renderer)){var u=this.displayFrame;if(u.source.isRenderTexture||u.source.isGLTexture){console.warn("TileSprites can only use Image or Canvas based textures"),this.dirty=!1;return}var d=this.fillContext,p=this.fillCanvas,x=this.potWidth,E=this.potHeight;(!this.renderer||!this.renderer.gl)&&(x=u.cutWidth,E=u.cutHeight),d.clearRect(0,0,x,E),p.width=x,p.height=E,d.drawImage(u.source.image,u.cutX,u.cutY,u.cutWidth,u.cutHeight,0,0,x,E),this.renderer&&this.renderer.gl?this.fillPattern=this.renderer.canvasToTexture(p,this.fillPattern):this.fillPattern=d.createPattern(p,"repeat"),this.updateCanvas(),this.dirty=!1}},updateCanvas:function(){var u=this.canvas;if((u.width!==this.width||u.height!==this.height)&&(u.width=this.width,u.height=this.height,this.frame.setSize(this.width,this.height),this.updateDisplayOrigin(),this.dirty=!0),!this.dirty||this.renderer&&this.renderer.gl){this.dirty=!1;return}var d=this.context;this.scene.sys.game.config.antialias||e.disable(d);var p=this._tileScale.x,x=this._tileScale.y,E=this._tilePosition.x,T=this._tilePosition.y;d.clearRect(0,0,this.width,this.height),d.save(),d.scale(p,x),d.translate(-E,-T),d.fillStyle=this.fillPattern,d.fillRect(E,T,this.width/p,this.height/x),d.restore(),this.dirty=!1},preDestroy:function(){this.renderer&&this.renderer.gl&&this.renderer.deleteTexture(this.fillPattern),o.remove(this.canvas),o.remove(this.fillCanvas),this.fillPattern=null,this.fillContext=null,this.fillCanvas=null,this.displayTexture=null,this.displayFrame=null;var u=this.texture;u&&u.destroy(),this.renderer=null},tilePositionX:{get:function(){return this._tilePosition.x},set:function(u){this._tilePosition.x=u,this.dirty=!0}},tilePositionY:{get:function(){return this._tilePosition.y},set:function(u){this._tilePosition.y=u,this.dirty=!0}},tileScaleX:{get:function(){return this._tileScale.x},set:function(u){this._tileScale.x=u,this.dirty=!0}},tileScaleY:{get:function(){return this._tileScale.y},set:function(u){this._tileScale.y=u,this.dirty=!0}}});c.exports=f},46992:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o,v,a){o.updateCanvas(),v.addToRenderList(o),t.batchSprite(o,o.frame,v,a)};c.exports=g},14167:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(25305),v=t(44603),a=t(23568),i=t(20839);v.register("tileSprite",function(s,e){s===void 0&&(s={});var r=a(s,"x",0),h=a(s,"y",0),n=a(s,"width",512),l=a(s,"height",512),f=a(s,"key",""),u=a(s,"frame",""),d=new i(this.scene,r,h,n,l,f,u);return e!==void 0&&(s.add=e),o(this.scene,d,s),d})},91681:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(20839),v=t(39429);v.register("tileSprite",function(a,i,s,e,r,h){return this.displayList.add(new o(this.scene,a,i,s,e,r,h))})},56295:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(29747),v=o,a=o;v=t(18553),a=t(46992),c.exports={renderWebGL:v,renderCanvas:a}},18553:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(70554),v=function(a,i,s,e){i.updateCanvas();var r=i.width,h=i.height;if(!(r===0||h===0)){s.addToRenderList(i);var n=o.getTintAppendFloatAlpha,l=a.pipelines.set(i.pipeline,i),f=l.setTexture2D(i.fillPattern,i);l.batchTexture(i,i.fillPattern,i.displayFrame.width*i.tileScaleX,i.displayFrame.height*i.tileScaleY,i.x,i.y,r,h,i.scaleX,i.scaleY,i.rotation,i.flipX,i.flipY,i.scrollFactorX,i.scrollFactorY,i.originX*r,i.originY*h,0,0,r,h,n(i.tintTopLeft,s.alpha*i._alphaTL),n(i.tintTopRight,s.alpha*i._alphaTR),n(i.tintBottomLeft,s.alpha*i._alphaBL),n(i.tintBottomRight,s.alpha*i._alphaBR),i.tintFill,i.tilePositionX%i.displayFrame.width/i.displayFrame.width,i.tilePositionY%i.displayFrame.height/i.displayFrame.height,s,e,!1,f)}};c.exports=v},18471:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(45319),v=t(83419),a=t(31401),i=t(51708),s=t(8443),e=t(95643),r=t(36383),h=t(14463),n=t(45650),l=t(10247),f=new v({Extends:e,Mixins:[a.Alpha,a.BlendMode,a.ComputedSize,a.Depth,a.Flip,a.GetBounds,a.Mask,a.Origin,a.Pipeline,a.PostPipeline,a.ScrollFactor,a.TextureCrop,a.Tint,a.Transform,a.Visible,l],initialize:function(d,p,x,E){e.call(this,d,"Video"),this.video,this.videoTexture,this.videoTextureSource,this.snapshotTexture,this.flipY=!1,this._key=n(),this.touchLocked=!1,this.playWhenUnlocked=!1,this.frameReady=!1,this.isStalled=!1,this.failedPlayAttempts=0,this.metadata,this.retry=0,this.retryInterval=500,this._systemMuted=!1,this._codeMuted=!1,this._systemPaused=!1,this._codePaused=!1,this._callbacks={ended:this.completeHandler.bind(this),legacy:this.legacyPlayHandler.bind(this),playing:this.playingHandler.bind(this),seeked:this.seekedHandler.bind(this),seeking:this.seekingHandler.bind(this),stalled:this.stalledHandler.bind(this),suspend:this.stalledHandler.bind(this),waiting:this.stalledHandler.bind(this)},this._loadCallbackHandler=this.loadErrorHandler.bind(this),this._metadataCallbackHandler=this.metadataHandler.bind(this),this._crop=this.resetCropObject(),this.markers={},this._markerIn=0,this._markerOut=0,this._playingMarker=!1,this._lastUpdate=0,this.cacheKey="",this.isSeeking=!1,this._playCalled=!1,this._rfvCallbackId=0;var T=d.sys.game;this._device=T.device.video,this.setPosition(p,x),this.setSize(256,256),this.initPipeline(),this.initPostPipeline(!0),T.events.on(s.PAUSE,this.globalPause,this),T.events.on(s.RESUME,this.globalResume,this);var C=d.sys.sound;C&&C.on(h.GLOBAL_MUTE,this.globalMute,this),E&&this.load(E)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},load:function(u){var d=this.scene.sys.cache.video.get(u);return d?(this.cacheKey=u,this.loadHandler(d.url,d.noAudio,d.crossOrigin)):console.warn("No video in cache for key: "+u),this},changeSource:function(u,d,p,x,E){d===void 0&&(d=!0),p===void 0&&(p=!1),this.cacheKey!==u&&(this.load(u),d&&this.play(p,x,E))},getVideoKey:function(){return this.cacheKey},loadURL:function(u,d,p){d===void 0&&(d=!1);var x=this._device.getVideoURL(u);return x?(this.cacheKey="",this.loadHandler(x.url,d,p)):console.warn("No supported video format found for "+u),this},loadMediaStream:function(u,d,p){return this.loadHandler(null,d,p,u)},loadHandler:function(u,d,p,x){d||(d=!1);var E=this.video;if(E?(this.removeLoadEventHandlers(),this.stop()):(E=document.createElement("video"),E.controls=!1,E.setAttribute("playsinline","playsinline"),E.setAttribute("preload","auto"),E.setAttribute("disablePictureInPicture","true")),d?(E.muted=!0,E.defaultMuted=!0,E.setAttribute("autoplay","autoplay")):(E.muted=!1,E.defaultMuted=!1,E.removeAttribute("autoplay")),p?E.setAttribute("crossorigin",p):E.removeAttribute("crossorigin"),x)if("srcObject"in E)try{E.srcObject=x}catch(C){if(C.name!=="TypeError")throw C;E.src=URL.createObjectURL(x)}else E.src=URL.createObjectURL(x);else E.src=u;this.retry=0,this.video=E,this._playCalled=!1,E.load(),this.addLoadEventHandlers();var T=this.scene.sys.textures.get(this._key);return this.setTexture(T),this},requestVideoFrame:function(u,d){var p=this.video;if(p){var x=d.width,E=d.height,T=this.videoTexture,C=this.videoTextureSource,A=!T||C.source!==p;A?(this._codePaused=p.paused,this._codeMuted=p.muted,T?(C.source=p,C.width=x,C.height=E,T.get().setSize(x,E)):(T=this.scene.sys.textures.create(this._key,p,x,E),T.add("__BASE",0,0,0,x,E),this.setTexture(T),this.videoTexture=T,this.videoTextureSource=T.source[0],this.videoTextureSource.setFlipY(this.flipY),this.emit(i.VIDEO_TEXTURE,this,T)),this.setSizeToFrame(),this.updateDisplayOrigin()):C.update(),this.isStalled=!1,this.metadata=d;var M=d.mediaTime;A&&(this._lastUpdate=M,this.emit(i.VIDEO_CREATED,this,x,E),this.frameReady||(this.frameReady=!0,this.emit(i.VIDEO_PLAY,this))),this._playingMarker?M>=this._markerOut&&(p.loop?(p.currentTime=this._markerIn,this.emit(i.VIDEO_LOOP,this)):(this.stop(!1),this.emit(i.VIDEO_COMPLETE,this))):M<this._lastUpdate&&this.emit(i.VIDEO_LOOP,this),this._lastUpdate=M,this._rfvCallbackId=this.video.requestVideoFrameCallback(this.requestVideoFrame.bind(this))}},play:function(u,d,p){d===void 0&&(d=-1),p===void 0&&(p=r.MAX_SAFE_INTEGER);var x=this.video;return!x||this.isPlaying()?(x||console.warn("Video not loaded"),this):(u===void 0&&(u=x.loop),x.loop=u,this._markerIn=d,this._markerOut=p,this._playingMarker=d>-1&&p>d&&p<r.MAX_SAFE_INTEGER,this._playCalled||(this._rfvCallbackId=x.requestVideoFrameCallback(this.requestVideoFrame.bind(this)),this._playCalled=!0,this.createPlayPromise()),this)},addLoadEventHandlers:function(){var u=this.video;u&&(u.addEventListener("error",this._loadCallbackHandler),u.addEventListener("abort",this._loadCallbackHandler),u.addEventListener("loadedmetadata",this._metadataCallbackHandler))},removeLoadEventHandlers:function(){var u=this.video;u&&(u.removeEventListener("error",this._loadCallbackHandler),u.removeEventListener("abort",this._loadCallbackHandler))},addEventHandlers:function(){var u=this.video;if(u){var d=this._callbacks;for(var p in d)u.addEventListener(p,d[p])}},removeEventHandlers:function(){var u=this.video;if(u){var d=this._callbacks;for(var p in d)u.removeEventListener(p,d[p])}},createPlayPromise:function(u){u===void 0&&(u=!0);var d=this.video,p=d.play();if(p!==void 0){var x=this.playSuccess.bind(this),E=this.playError.bind(this);if(!u){var T=this;E=function(){T.failedPlayAttempts++}}p.then(x).catch(E)}else d.addEventListener("playing",this._callbacks.legacy),u||this.failedPlayAttempts++},addMarker:function(u,d,p){return!isNaN(d)&&d>=0&&!isNaN(p)&&p>d&&(this.markers[u]=[d,p]),this},playMarker:function(u,d){var p=this.markers[u];return p&&this.play(d,p[0],p[1]),this},removeMarker:function(u){return delete this.markers[u],this},snapshot:function(u,d){return u===void 0&&(u=this.width),d===void 0&&(d=this.height),this.snapshotArea(0,0,this.width,this.height,u,d)},snapshotArea:function(u,d,p,x,E,T){u===void 0&&(u=0),d===void 0&&(d=0),p===void 0&&(p=this.width),x===void 0&&(x=this.height),E===void 0&&(E=p),T===void 0&&(T=x);var C=this.video,A=this.snapshotTexture;return A?(A.setSize(E,T),C&&A.context.drawImage(C,u,d,p,x,0,0,E,T)):(A=this.scene.sys.textures.createCanvas(n(),E,T),this.snapshotTexture=A,C&&A.context.drawImage(C,u,d,p,x,0,0,E,T)),A.update()},saveSnapshotTexture:function(u){return this.snapshotTexture?this.scene.sys.textures.renameTexture(this.snapshotTexture.key,u):this.snapshotTexture=this.scene.sys.textures.createCanvas(u,this.width,this.height),this.snapshotTexture},playSuccess:function(){if(this._playCalled){this.addEventHandlers(),this._codePaused=!1,this.touchLocked&&(this.touchLocked=!1,this.emit(i.VIDEO_UNLOCKED,this));var u=this.scene.sys.sound;u&&u.mute&&this.setMute(!0),this._markerIn>-1&&(this.video.currentTime=this._markerIn)}},playError:function(u){var d=u.name;d==="NotAllowedError"?(this.touchLocked=!0,this.playWhenUnlocked=!0,this.failedPlayAttempts=1,this.emit(i.VIDEO_LOCKED,this)):d==="NotSupportedError"?(this.stop(!1),this.emit(i.VIDEO_UNSUPPORTED,this,u)):(this.stop(!1),this.emit(i.VIDEO_ERROR,this,u))},legacyPlayHandler:function(){var u=this.video;u&&(this.playSuccess(),u.removeEventListener("playing",this._callbacks.legacy))},playingHandler:function(){this.isStalled=!1,this.emit(i.VIDEO_PLAYING,this)},loadErrorHandler:function(u){this.stop(!1),this.emit(i.VIDEO_ERROR,this,u)},metadataHandler:function(u){this.emit(i.VIDEO_METADATA,this,u)},setSizeToFrame:function(u){u||(u=this.frame),this.width=u.realWidth,this.height=u.realHeight,this.scaleX!==1&&(this.scaleX=this.displayWidth/this.width),this.scaleY!==1&&(this.scaleY=this.displayHeight/this.height);var d=this.input;return d&&!d.customHitArea&&(d.hitArea.width=this.width,d.hitArea.height=this.height),this},stalledHandler:function(u){this.isStalled=!0,this.emit(i.VIDEO_STALLED,this,u)},completeHandler:function(){this._playCalled=!1,this.emit(i.VIDEO_COMPLETE,this)},preUpdate:function(u,d){var p=this.video;!p||!this._playCalled||this.touchLocked&&this.playWhenUnlocked&&(this.retry+=d,this.retry>=this.retryInterval&&(this.createPlayPromise(!1),this.retry=0))},seekTo:function(u){var d=this.video;if(d){var p=d.duration;if(p!==1/0&&!isNaN(p)){var x=p*u;this.setCurrentTime(x)}}return this},getCurrentTime:function(){return this.video?this.video.currentTime:0},setCurrentTime:function(u){var d=this.video;if(d){if(typeof u=="string"){var p=u[0],x=parseFloat(u.substr(1));p==="+"?u=d.currentTime+x:p==="-"&&(u=d.currentTime-x)}d.currentTime=u}return this},seekingHandler:function(){this.isSeeking=!0,this.emit(i.VIDEO_SEEKING,this)},seekedHandler:function(){this.isSeeking=!1,this.emit(i.VIDEO_SEEKED,this)},getProgress:function(){var u=this.video;if(u){var d=u.duration;if(d!==1/0&&!isNaN(d))return u.currentTime/d}return-1},getDuration:function(){return this.video?this.video.duration:0},setMute:function(u){u===void 0&&(u=!0),this._codeMuted=u;var d=this.video;return d&&(d.muted=this._systemMuted?!0:u),this},isMuted:function(){return this._codeMuted},globalMute:function(u,d){this._systemMuted=d;var p=this.video;p&&(p.muted=this._codeMuted?!0:d)},globalPause:function(){this._systemPaused=!0,this.video&&!this.video.ended&&(this.removeEventHandlers(),this.video.pause())},globalResume:function(){this._systemPaused=!1,this.video&&!this._codePaused&&!this.video.ended&&this.createPlayPromise()},setPaused:function(u){u===void 0&&(u=!0);var d=this.video;return this._codePaused=u,d&&!d.ended&&(u?d.paused||(this.removeEventHandlers(),d.pause()):u||(this._playCalled?d.paused&&!this._systemPaused&&this.createPlayPromise():this.play())),this},pause:function(){return this.setPaused(!0)},resume:function(){return this.setPaused(!1)},getVolume:function(){return this.video?this.video.volume:1},setVolume:function(u){return u===void 0&&(u=1),this.video&&(this.video.volume=o(u,0,1)),this},getPlaybackRate:function(){return this.video?this.video.playbackRate:1},setPlaybackRate:function(u){return this.video&&(this.video.playbackRate=u),this},getLoop:function(){return this.video?this.video.loop:!1},setLoop:function(u){return u===void 0&&(u=!0),this.video&&(this.video.loop=u),this},isPlaying:function(){return this.video?!(this.video.paused||this.video.ended):!1},isPaused:function(){return this.video&&this._playCalled&&this.video.paused||this._codePaused||this._systemPaused},saveTexture:function(u,d){return d===void 0&&(d=!1),this.videoTexture&&(this.scene.sys.textures.renameTexture(this._key,u),this.videoTextureSource.setFlipY(d)),this._key=u,this.flipY=d,!!this.videoTexture},stop:function(u){u===void 0&&(u=!0);var d=this.video;return d&&(this.removeEventHandlers(),d.cancelVideoFrameCallback(this._rfvCallbackId),d.pause()),this.retry=0,this._playCalled=!1,u&&this.emit(i.VIDEO_STOP,this),this},removeVideoElement:function(){var u=this.video;if(u){for(u.parentNode&&u.parentNode.removeChild(u);u.hasChildNodes();)u.removeChild(u.firstChild);u.removeAttribute("autoplay"),u.removeAttribute("src"),this.video=null}},preDestroy:function(){this.stop(!1),this.removeLoadEventHandlers(),this.removeVideoElement();var u=this.scene.sys.game.events;u.off(s.PAUSE,this.globalPause,this),u.off(s.RESUME,this.globalResume,this);var d=this.scene.sys.sound;d&&d.off(h.GLOBAL_MUTE,this.globalMute,this)}});c.exports=f},58352:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o,v,a){o.videoTexture&&(v.addToRenderList(o),t.batchSprite(o,o.frame,v,a))};c.exports=g},11511:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(25305),v=t(44603),a=t(23568),i=t(18471);v.register("video",function(s,e){s===void 0&&(s={});var r=a(s,"key",null),h=new i(this.scene,0,0,r);return e!==void 0&&(s.add=e),o(this.scene,h,s),h})},89025:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(18471),v=t(39429);v.register("video",function(a,i,s){return this.displayList.add(new o(this.scene,a,i,s))})},10247:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(29747),v=o,a=o;v=t(29849),a=t(58352),c.exports={renderWebGL:v,renderCanvas:a}},29849:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o,v,a){o.videoTexture&&(v.addToRenderList(o),o.pipeline.batchSprite(o,v,a))};c.exports=g},41481:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(10312),v=t(96503),a=t(87902),i=t(83419),s=t(31401),e=t(95643),r=t(87841),h=t(37303),n=new i({Extends:e,Mixins:[s.Depth,s.GetBounds,s.Origin,s.Transform,s.ScrollFactor,s.Visible],initialize:function(f,u,d,p,x){p===void 0&&(p=1),x===void 0&&(x=p),e.call(this,f,"Zone"),this.setPosition(u,d),this.width=p,this.height=x,this.blendMode=o.NORMAL,this.updateDisplayOrigin()},displayWidth:{get:function(){return this.scaleX*this.width},set:function(l){this.scaleX=l/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(l){this.scaleY=l/this.height}},setSize:function(l,f,u){u===void 0&&(u=!0),this.width=l,this.height=f,this.updateDisplayOrigin();var d=this.input;return u&&d&&!d.customHitArea&&(d.hitArea.width=l,d.hitArea.height=f),this},setDisplaySize:function(l,f){return this.displayWidth=l,this.displayHeight=f,this},setCircleDropZone:function(l){return this.setDropZone(new v(0,0,l),a)},setRectangleDropZone:function(l,f){return this.setDropZone(new r(0,0,l,f),h)},setDropZone:function(l,f){return this.input||this.setInteractive(l,f,!0),this},setAlpha:function(){},setBlendMode:function(){},renderCanvas:function(l,f,u){u.addToRenderList(f)},renderWebGL:function(l,f,u){u.addToRenderList(f)}});c.exports=n},95261:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(44603),v=t(23568),a=t(41481);o.register("zone",function(i){var s=v(i,"x",0),e=v(i,"y",0),r=v(i,"width",1),h=v(i,"height",r);return new a(this.scene,s,e,r,h)})},84175:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(41481),v=t(39429);v.register("zone",function(a,i,s,e){return this.displayList.add(new o(this.scene,a,i,s,e))})},95166:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t){return t.radius>0?Math.PI*t.radius*t.radius:0};c.exports=g},96503:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(87902),a=t(26241),i=t(79124),s=t(23777),e=t(28176),r=new o({initialize:function(n,l,f){n===void 0&&(n=0),l===void 0&&(l=0),f===void 0&&(f=0),this.type=s.CIRCLE,this.x=n,this.y=l,this._radius=f,this._diameter=f*2},contains:function(h,n){return v(this,h,n)},getPoint:function(h,n){return a(this,h,n)},getPoints:function(h,n,l){return i(this,h,n,l)},getRandomPoint:function(h){return e(this,h)},setTo:function(h,n,l){return this.x=h,this.y=n,this._radius=l,this._diameter=l*2,this},setEmpty:function(){return this._radius=0,this._diameter=0,this},setPosition:function(h,n){return n===void 0&&(n=h),this.x=h,this.y=n,this},isEmpty:function(){return this._radius<=0},radius:{get:function(){return this._radius},set:function(h){this._radius=h,this._diameter=h*2}},diameter:{get:function(){return this._diameter},set:function(h){this._diameter=h,this._radius=h*.5}},left:{get:function(){return this.x-this._radius},set:function(h){this.x=h+this._radius}},right:{get:function(){return this.x+this._radius},set:function(h){this.x=h-this._radius}},top:{get:function(){return this.y-this._radius},set:function(h){this.y=h+this._radius}},bottom:{get:function(){return this.y+this._radius},set:function(h){this.y=h-this._radius}}});c.exports=r},71562:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t){return 2*(Math.PI*t.radius)};c.exports=g},92110:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(2141),v=function(a,i,s){return s===void 0&&(s=new o),s.x=a.x+a.radius*Math.cos(i),s.y=a.y+a.radius*Math.sin(i),s};c.exports=v},42250:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(96503),v=function(a){return new o(a.x,a.y,a.radius)};c.exports=v},87902:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o,v){if(t.radius>0&&o>=t.left&&o<=t.right&&v>=t.top&&v<=t.bottom){var a=(t.x-o)*(t.x-o),i=(t.y-v)*(t.y-v);return a+i<=t.radius*t.radius}else return!1};c.exports=g},5698:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(87902),v=function(a,i){return o(a,i.x,i.y)};c.exports=v},70588:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(87902),v=function(a,i){return o(a,i.x,i.y)&&o(a,i.right,i.y)&&o(a,i.x,i.bottom)&&o(a,i.right,i.bottom)};c.exports=v},26394:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o){return o.setTo(t.x,t.y,t.radius)};c.exports=g},76278:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o){return t.x===o.x&&t.y===o.y&&t.radius===o.radius};c.exports=g},2074:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(87841),v=function(a,i){return i===void 0&&(i=new o),i.x=a.left,i.y=a.top,i.width=a.diameter,i.height=a.diameter,i};c.exports=v},26241:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(92110),v=t(62945),a=t(36383),i=t(2141),s=function(e,r,h){h===void 0&&(h=new i);var n=v(r,0,a.PI2);return o(e,n,h)};c.exports=s},79124:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(71562),v=t(92110),a=t(62945),i=t(36383),s=function(e,r,h,n){n===void 0&&(n=[]),!r&&h>0&&(r=o(e)/h);for(var l=0;l<r;l++){var f=a(l/r,0,i.PI2);n.push(v(e,f))}return n};c.exports=s},50884:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o,v){return t.x+=o,t.y+=v,t};c.exports=g},39212:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o){return t.x+=o.x,t.y+=o.y,t};c.exports=g},28176:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(2141),v=function(a,i){i===void 0&&(i=new o);var s=2*Math.PI*Math.random(),e=Math.random()+Math.random(),r=e>1?2-e:e,h=r*Math.cos(s),n=r*Math.sin(s);return i.x=a.x+h*a.radius,i.y=a.y+n*a.radius,i};c.exports=v},88911:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(96503);o.Area=t(95166),o.Circumference=t(71562),o.CircumferencePoint=t(92110),o.Clone=t(42250),o.Contains=t(87902),o.ContainsPoint=t(5698),o.ContainsRect=t(70588),o.CopyFrom=t(26394),o.Equals=t(76278),o.GetBounds=t(2074),o.GetPoint=t(26241),o.GetPoints=t(79124),o.Offset=t(50884),o.OffsetPoint=t(39212),o.Random=t(28176),c.exports=o},23777:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g={CIRCLE:0,ELLIPSE:1,LINE:2,POINT:3,POLYGON:4,RECTANGLE:5,TRIANGLE:6};c.exports=g},78874:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t){return t.isEmpty()?0:t.getMajorRadius()*t.getMinorRadius()*Math.PI};c.exports=g},92990:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t){var o=t.width/2,v=t.height/2,a=Math.pow(o-v,2)/Math.pow(o+v,2);return Math.PI*(o+v)*(1+3*a/(10+Math.sqrt(4-3*a)))};c.exports=g},79522:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(2141),v=function(a,i,s){s===void 0&&(s=new o);var e=a.width/2,r=a.height/2;return s.x=a.x+e*Math.cos(i),s.y=a.y+r*Math.sin(i),s};c.exports=v},58102:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(8497),v=function(a){return new o(a.x,a.y,a.width,a.height)};c.exports=v},81154:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o,v){if(t.width<=0||t.height<=0)return!1;var a=(o-t.x)/t.width,i=(v-t.y)/t.height;return a*=a,i*=i,a+i<.25};c.exports=g},46662:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(81154),v=function(a,i){return o(a,i.x,i.y)};c.exports=v},1632:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(81154),v=function(a,i){return o(a,i.x,i.y)&&o(a,i.right,i.y)&&o(a,i.x,i.bottom)&&o(a,i.right,i.bottom)};c.exports=v},65534:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o){return o.setTo(t.x,t.y,t.width,t.height)};c.exports=g},8497:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(81154),a=t(90549),i=t(48320),s=t(23777),e=t(24820),r=new o({initialize:function(n,l,f,u){n===void 0&&(n=0),l===void 0&&(l=0),f===void 0&&(f=0),u===void 0&&(u=0),this.type=s.ELLIPSE,this.x=n,this.y=l,this.width=f,this.height=u},contains:function(h,n){return v(this,h,n)},getPoint:function(h,n){return a(this,h,n)},getPoints:function(h,n,l){return i(this,h,n,l)},getRandomPoint:function(h){return e(this,h)},setTo:function(h,n,l,f){return this.x=h,this.y=n,this.width=l,this.height=f,this},setEmpty:function(){return this.width=0,this.height=0,this},setPosition:function(h,n){return n===void 0&&(n=h),this.x=h,this.y=n,this},setSize:function(h,n){return n===void 0&&(n=h),this.width=h,this.height=n,this},isEmpty:function(){return this.width<=0||this.height<=0},getMinorRadius:function(){return Math.min(this.width,this.height)/2},getMajorRadius:function(){return Math.max(this.width,this.height)/2},left:{get:function(){return this.x-this.width/2},set:function(h){this.x=h+this.width/2}},right:{get:function(){return this.x+this.width/2},set:function(h){this.x=h-this.width/2}},top:{get:function(){return this.y-this.height/2},set:function(h){this.y=h+this.height/2}},bottom:{get:function(){return this.y+this.height/2},set:function(h){this.y=h-this.height/2}}});c.exports=r},36146:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o){return t.x===o.x&&t.y===o.y&&t.width===o.width&&t.height===o.height};c.exports=g},23694:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(87841),v=function(a,i){return i===void 0&&(i=new o),i.x=a.left,i.y=a.top,i.width=a.width,i.height=a.height,i};c.exports=v},90549:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(79522),v=t(62945),a=t(36383),i=t(2141),s=function(e,r,h){h===void 0&&(h=new i);var n=v(r,0,a.PI2);return o(e,n,h)};c.exports=s},48320:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(92990),v=t(79522),a=t(62945),i=t(36383),s=function(e,r,h,n){n===void 0&&(n=[]),!r&&h>0&&(r=o(e)/h);for(var l=0;l<r;l++){var f=a(l/r,0,i.PI2);n.push(v(e,f))}return n};c.exports=s},73424:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o,v){return t.x+=o,t.y+=v,t};c.exports=g},44808:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o){return t.x+=o.x,t.y+=o.y,t};c.exports=g},24820:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(2141),v=function(a,i){i===void 0&&(i=new o);var s=Math.random()*Math.PI*2,e=Math.sqrt(Math.random());return i.x=a.x+e*Math.cos(s)*a.width/2,i.y=a.y+e*Math.sin(s)*a.height/2,i};c.exports=v},49203:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(8497);o.Area=t(78874),o.Circumference=t(92990),o.CircumferencePoint=t(79522),o.Clone=t(58102),o.Contains=t(81154),o.ContainsPoint=t(46662),o.ContainsRect=t(1632),o.CopyFrom=t(65534),o.Equals=t(36146),o.GetBounds=t(23694),o.GetPoint=t(90549),o.GetPoints=t(48320),o.Offset=t(73424),o.OffsetPoint=t(44808),o.Random=t(24820),c.exports=o},55738:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(23777),v=t(79291),a={Circle:t(88911),Ellipse:t(49203),Intersects:t(91865),Line:t(2529),Mesh:t(73090),Point:t(43711),Polygon:t(58423),Rectangle:t(93232),Triangle:t(84435)};a=v(!1,a,o),c.exports=a},2044:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(20339),v=function(a,i){return o(a.x,a.y,i.x,i.y)<=a.radius+i.radius};c.exports=v},81491:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o){var v=o.width/2,a=o.height/2,i=Math.abs(t.x-o.x-v),s=Math.abs(t.y-o.y-a),e=v+t.radius,r=a+t.radius;if(i>e||s>r)return!1;if(i<=v||s<=a)return!0;var h=i-v,n=s-a,l=h*h,f=n*n,u=t.radius*t.radius;return l+f<=u};c.exports=g},63376:(c,g,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(2141),v=t(2044),a=function(i,s,e){if(e===void 0&&(e=[]),v(i,s)){var r=i.x,h=i.y,n=i.radius,l=s.x,f=s.y,u=s.radius,d,p,x,E,T;if(h===f)T=(u*u-n*n-l*l+r*r)/(2*(r-l)),d=1,p=-2*f,x=l*l+T*T-2*l*T+f*f-u*u,E=p*p-4*d*x,E===0?e.push(new o(T,-p/(2*d))):E>0&&(e.push(new o(T,(-p+Math.sqrt(E))/(2*d))),e.push(new o(T,(-p-Math.sqrt(E))/(2*d))));else{var C=(r-l)/(h-f),A=(u*u-n*n-l*l+r*r-f*f+h*h)/(2*(h-f));d=C*C+1,p=2*h*C-2*A*C-2*r,x=r*r+h*h+A*A-n*n-2*h*A,E=p*p-4*d*x,E===0?(T=-p/(2*d),e.push(new o(T,A-T*C))):E>0&&(T=(-p+Math.sqrt(E))/(2*d),e.push(new o(T,A-T*C)),T=(-p-Math.sqrt(E))/(2*d),e.push(new o(T,A-T*C)))}}return e};c.exports=a},97439:(c,g,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(4042),v=t(81491),a=function(i,s,e){if(e===void 0&&(e=[]),v(i,s)){var r=s.getLineA(),h=s.getLineB(),n=s.getLineC(),l=s.getLineD();o(r,i,e),o(h,i,e),o(n,i,e),o(l,i,e)}return e};c.exports=a},4042:(c,g,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(2141),v=t(80462),a=function(i,s,e){if(e===void 0&&(e=[]),v(i,s)){var r=i.x1,h=i.y1,n=i.x2,l=i.y2,f=s.x,u=s.y,d=s.radius,p=n-r,x=l-h,E=r-f,T=h-u,C=p*p+x*x,A=2*(p*E+x*T),M=E*E+T*T-d*d,R=A*A-4*C*M,O,L;if(R===0){var b=-A/(2*C);O=r+b*p,L=h+b*x,b>=0&&b<=1&&e.push(new o(O,L))}else if(R>0){var N=(-A-Math.sqrt(R))/(2*C);O=r+N*p,L=h+N*x,N>=0&&N<=1&&e.push(new o(O,L));var I=(-A+Math.sqrt(R))/(2*C);O=r+I*p,L=h+I*x,I>=0&&I<=1&&e.push(new o(O,L))}}return e};c.exports=a},36100:(c,g,t)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(25836),v=function(a,i,s,e){s===void 0&&(s=!1);var r=a.x1,h=a.y1,n=a.x2,l=a.y2,f=i.x1,u=i.y1,d=i.x2,p=i.y2,x=n-r,E=l-h,T=d-f,C=p-u,A=x*C-E*T;if(A===0)return null;var M,R,O;if(s){if(M=(x*(u-h)+E*(r-f))/(T*E-C*x),R=(f+T*M-r)/x,R<0||M<0||M>1)return null;O=R}else{if(M=((f-r)*C-(u-h)*T)/A,R=((h-u)*x-(r-f)*E)/A,M<0||M>1||R<0||R>1)return null;O=M}return e===void 0&&(e=new o),e.set(r+x*O,h+E*O,O)};c.exports=v},3073:(c,g,t)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(36100),v=t(23031),a=t(25836),i=new v,s=new a,e=function(r,h,n,l){n===void 0&&(n=!1),l===void 0&&(l=new a);var f=!1;l.set(),s.set();for(var u=h[h.length-1],d=0;d<h.length;d++){var p=h[d];i.setTo(u.x,u.y,p.x,p.y),u=p,o(r,i,n,s)&&(!f||s.z<l.z)&&(l.copy(s),f=!0)}return f?l:null};c.exports=e},56362:(c,g,t)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(25836),v=t(61369),a=t(3073),i=new o,s=function(e,r,h,n){n===void 0&&(n=new v),Array.isArray(r)||(r=[r]);var l=!1;n.set(),i.set();for(var f=0;f<r.length;f++)a(e,r[f].points,h,i)&&(!l||i.z<n.z)&&(n.set(i.x,i.y,i.z,f),l=!0);return l?n:null};c.exports=s},60646:(c,g,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(2141),v=t(76112),a=t(92773),i=function(s,e,r){if(r===void 0&&(r=[]),a(s,e))for(var h=e.getLineA(),n=e.getLineB(),l=e.getLineC(),f=e.getLineD(),u=[new o,new o,new o,new o],d=[v(h,s,u[0]),v(n,s,u[1]),v(l,s,u[2]),v(f,s,u[3])],p=0;p<4;p++)d[p]&&r.push(u[p]);return r};c.exports=i},71147:(c,g,t)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(61369),v=t(56362),a=t(23031),i=new a;function s(h,n,l,f,u){var d=Math.cos(h),p=Math.sin(h);i.setTo(n,l,n+d,l+p);var x=v(i,f,!0);x&&u.push(new o(x.x,x.y,h,x.w))}function e(h,n){return h.z-n.z}var r=function(h,n,l){Array.isArray(l)||(l=[l]);for(var f=[],u=[],d=0;d<l.length;d++)for(var p=l[d].points,x=0;x<p.length;x++){var E=Math.atan2(p[x].y-n,p[x].x-h);u.indexOf(E)===-1&&(s(E,h,n,l,f),s(E-1e-5,h,n,l,f),s(E+1e-5,h,n,l,f),u.push(E))}return f.sort(e)};c.exports=r},68389:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(87841),v=t(59996),a=function(i,s,e){return e===void 0&&(e=new o),v(i,s)&&(e.x=Math.max(i.x,s.x),e.y=Math.max(i.y,s.y),e.width=Math.min(i.right,s.right)-e.x,e.height=Math.min(i.bottom,s.bottom)-e.y),e};c.exports=a},52784:(c,g,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(60646),v=t(59996),a=function(i,s,e){if(e===void 0&&(e=[]),v(i,s)){var r=i.getLineA(),h=i.getLineB(),n=i.getLineC(),l=i.getLineD();o(r,s,e),o(h,s,e),o(n,s,e),o(l,s,e)}return e};c.exports=a},26341:(c,g,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(89265),v=t(60646),a=function(i,s,e){if(e===void 0&&(e=[]),o(i,s)){var r=s.getLineA(),h=s.getLineB(),n=s.getLineC();v(r,i,e),v(h,i,e),v(n,i,e)}return e};c.exports=a},38720:(c,g,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(4042),v=t(67636),a=function(i,s,e){if(e===void 0&&(e=[]),v(i,s)){var r=i.getLineA(),h=i.getLineB(),n=i.getLineC();o(r,s,e),o(h,s,e),o(n,s,e)}return e};c.exports=a},13882:(c,g,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(2141),v=t(2822),a=t(76112),i=function(s,e,r){if(r===void 0&&(r=[]),v(s,e))for(var h=s.getLineA(),n=s.getLineB(),l=s.getLineC(),f=[new o,new o,new o],u=[a(h,e,f[0]),a(n,e,f[1]),a(l,e,f[2])],d=0;d<3;d++)u[d]&&r.push(f[d]);return r};c.exports=i},75636:(c,g,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(82944),v=t(13882),a=function(i,s,e){if(e===void 0&&(e=[]),o(i,s)){var r=s.getLineA(),h=s.getLineB(),n=s.getLineC();v(i,r,e),v(i,h,e),v(i,n,e)}return e};c.exports=a},80462:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(87902),v=t(2141),a=new v,i=function(s,e,r){if(r===void 0&&(r=a),o(e,s.x1,s.y1))return r.x=s.x1,r.y=s.y1,!0;if(o(e,s.x2,s.y2))return r.x=s.x2,r.y=s.y2,!0;var h=s.x2-s.x1,n=s.y2-s.y1,l=e.x-s.x1,f=e.y-s.y1,u=h*h+n*n,d=h,p=n;if(u>0){var x=(l*h+f*n)/u;d*=x,p*=x}r.x=s.x1+d,r.y=s.y1+p;var E=d*d+p*p;return E<=u&&d*h+p*n>=0&&o(e,r.x,r.y)};c.exports=i},76112:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o,v){var a=t.x1,i=t.y1,s=t.x2,e=t.y2,r=o.x1,h=o.y1,n=o.x2,l=o.y2;if(a===s&&i===e||r===n&&h===l)return!1;var f=(l-h)*(s-a)-(n-r)*(e-i);if(f===0)return!1;var u=((n-r)*(i-h)-(l-h)*(a-r))/f,d=((s-a)*(i-h)-(e-i)*(a-r))/f;return u<0||u>1||d<0||d>1?!1:(v&&(v.x=a+u*(s-a),v.y=i+u*(e-i)),!0)};c.exports=g},92773:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o){var v=t.x1,a=t.y1,i=t.x2,s=t.y2,e=o.x,r=o.y,h=o.right,n=o.bottom,l=0;if(v>=e&&v<=h&&a>=r&&a<=n||i>=e&&i<=h&&s>=r&&s<=n)return!0;if(v<e&&i>=e){if(l=a+(s-a)*(e-v)/(i-v),l>r&&l<=n)return!0}else if(v>h&&i<=h&&(l=a+(s-a)*(h-v)/(i-v),l>=r&&l<=n))return!0;if(a<r&&s>=r){if(l=v+(i-v)*(r-a)/(s-a),l>=e&&l<=h)return!0}else if(a>n&&s<=n&&(l=v+(i-v)*(n-a)/(s-a),l>=e&&l<=h))return!0;return!1};c.exports=g},16204:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Florian Mertens
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o,v){v===void 0&&(v=1);var a=o.x1,i=o.y1,s=o.x2,e=o.y2,r=t.x,h=t.y,n=(s-a)*(s-a)+(e-i)*(e-i);if(n===0)return!1;var l=((r-a)*(s-a)+(h-i)*(e-i))/n;if(l<0)return Math.sqrt((a-r)*(a-r)+(i-h)*(i-h))<=v;if(l>=0&&l<=1){var f=((i-h)*(s-a)-(a-r)*(e-i))/n;return Math.abs(f)*Math.sqrt(n)<=v}else return Math.sqrt((s-r)*(s-r)+(e-h)*(e-h))<=v};c.exports=g},14199:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(16204),v=function(a,i){if(!o(a,i))return!1;var s=Math.min(i.x1,i.x2),e=Math.max(i.x1,i.x2),r=Math.min(i.y1,i.y2),h=Math.max(i.y1,i.y2);return a.x>=s&&a.x<=e&&a.y>=r&&a.y<=h};c.exports=v},59996:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o){return t.width<=0||t.height<=0||o.width<=0||o.height<=0?!1:!(t.right<o.x||t.bottom<o.y||t.x>o.right||t.y>o.bottom)};c.exports=g},89265:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(76112),v=t(37303),a=t(48653),i=t(77493),s=function(e,r){if(r.left>e.right||r.right<e.left||r.top>e.bottom||r.bottom<e.top)return!1;var h=r.getLineA(),n=r.getLineB(),l=r.getLineC();if(v(e,h.x1,h.y1)||v(e,h.x2,h.y2)||v(e,n.x1,n.y1)||v(e,n.x2,n.y2)||v(e,l.x1,l.y1)||v(e,l.x2,l.y2))return!0;var f=e.getLineA(),u=e.getLineB(),d=e.getLineC(),p=e.getLineD();if(o(h,f)||o(h,u)||o(h,d)||o(h,p)||o(n,f)||o(n,u)||o(n,d)||o(n,p)||o(l,f)||o(l,u)||o(l,d)||o(l,p))return!0;var x=i(e),E=a(r,x,!0);return E.length>0};c.exports=s},84411:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o,v,a,i,s){return s===void 0&&(s=0),!(o>t.right+s||v<t.left-s||a>t.bottom+s||i<t.top-s)};c.exports=g},67636:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(80462),v=t(10690),a=function(i,s){return i.left>s.right||i.right<s.left||i.top>s.bottom||i.bottom<s.top?!1:!!(v(i,s.x,s.y)||o(i.getLineA(),s)||o(i.getLineB(),s)||o(i.getLineC(),s))};c.exports=a},2822:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(76112),v=function(a,i){return!!(a.contains(i.x1,i.y1)||a.contains(i.x2,i.y2)||o(a.getLineA(),i)||o(a.getLineB(),i)||o(a.getLineC(),i))};c.exports=v},82944:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(48653),v=t(71694),a=t(76112),i=function(s,e){if(s.left>e.right||s.right<e.left||s.top>e.bottom||s.bottom<e.top)return!1;var r=s.getLineA(),h=s.getLineB(),n=s.getLineC(),l=e.getLineA(),f=e.getLineB(),u=e.getLineC();if(a(r,l)||a(r,f)||a(r,u)||a(h,l)||a(h,f)||a(h,u)||a(n,l)||a(n,f)||a(n,u))return!0;var d=v(s),p=o(e,d,!0);return p.length>0||(d=v(e),p=o(s,d,!0),p.length>0)};c.exports=i},91865:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={CircleToCircle:t(2044),CircleToRectangle:t(81491),GetCircleToCircle:t(63376),GetCircleToRectangle:t(97439),GetLineToCircle:t(4042),GetLineToLine:t(36100),GetLineToPoints:t(3073),GetLineToPolygon:t(56362),GetLineToRectangle:t(60646),GetRaysFromPointToPolygon:t(71147),GetRectangleIntersection:t(68389),GetRectangleToRectangle:t(52784),GetRectangleToTriangle:t(26341),GetTriangleToCircle:t(38720),GetTriangleToLine:t(13882),GetTriangleToTriangle:t(75636),LineToCircle:t(80462),LineToLine:t(76112),LineToRectangle:t(92773),PointToLine:t(16204),PointToLineSegment:t(14199),RectangleToRectangle:t(59996),RectangleToTriangle:t(89265),RectangleToValues:t(84411),TriangleToCircle:t(67636),TriangleToLine:t(2822),TriangleToTriangle:t(82944)}},91938:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t){return Math.atan2(t.y2-t.y1,t.x2-t.x1)};c.exports=g},84993:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o,v){o===void 0&&(o=1),v===void 0&&(v=[]);var a=Math.round(t.x1),i=Math.round(t.y1),s=Math.round(t.x2),e=Math.round(t.y2),r=Math.abs(s-a),h=Math.abs(e-i),n=a<s?1:-1,l=i<e?1:-1,f=r-h;v.push({x:a,y:i});for(var u=1;!(a===s&&i===e);){var d=f<<1;d>-h&&(f-=h,a+=n),d<r&&(f+=r,i+=l),u%o===0&&v.push({x:a,y:i}),u++}return v};c.exports=g},36469:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o,v){var a=o-(t.x1+t.x2)/2,i=v-(t.y1+t.y2)/2;return t.x1+=a,t.y1+=i,t.x2+=a,t.y2+=i,t};c.exports=g},31116:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(23031),v=function(a){return new o(a.x1,a.y1,a.x2,a.y2)};c.exports=v},59944:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o){return o.setTo(t.x1,t.y1,t.x2,t.y2)};c.exports=g},59220:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o){return t.x1===o.x1&&t.y1===o.y1&&t.x2===o.x2&&t.y2===o.y2};c.exports=g},78177:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(35001),v=function(a,i,s){s===void 0&&(s=i);var e=o(a),r=a.x2-a.x1,h=a.y2-a.y1;return i&&(a.x1=a.x1-r/e*i,a.y1=a.y1-h/e*i),s&&(a.x2=a.x2+r/e*s,a.y2=a.y2+h/e*s),a};c.exports=v},26708:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(52816),v=t(6113),a=t(2141),i=function(s,e,r,h,n){h===void 0&&(h=0),n===void 0&&(n=[]);var l=[],f=s.x1,u=s.y1,d=s.x2-f,p=s.y2-u,x=v(e,n),E,T,C=r-1;for(E=0;E<C;E++)T=x(E/C),l.push(new a(f+d*T,u+p*T));if(T=x(1),l.push(new a(f+d*T,u+p*T)),h>0){var A=l[0],M=[A];for(E=1;E<l.length-1;E++){var R=l[E];o(A,R)>=h&&(M.push(R),A=R)}var O=l[l.length-1];return o(A,O)<h&&M.pop(),M.push(O),M}else return l};c.exports=i},32125:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(2141),v=function(a,i){return i===void 0&&(i=new o),i.x=(a.x1+a.x2)/2,i.y=(a.y1+a.y2)/2,i};c.exports=v},99569:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Florian Mertens
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(2141),v=function(a,i,s){s===void 0&&(s=new o);var e=a.x1,r=a.y1,h=a.x2,n=a.y2,l=(h-e)*(h-e)+(n-r)*(n-r);if(l===0)return s;var f=((i.x-e)*(h-e)+(i.y-r)*(n-r))/l;return s.x=e+f*(h-e),s.y=r+f*(n-r),s};c.exports=v},34638:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(36383),v=t(91938),a=t(2141),i=function(s,e){e===void 0&&(e=new a);var r=v(s)-o.TAU;return e.x=Math.cos(r),e.y=Math.sin(r),e};c.exports=i},13151:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(2141),v=function(a,i,s){return s===void 0&&(s=new o),s.x=a.x1+(a.x2-a.x1)*i,s.y=a.y1+(a.y2-a.y1)*i,s};c.exports=v},15258:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(35001),v=t(2141),a=function(i,s,e,r){r===void 0&&(r=[]),!s&&e>0&&(s=o(i)/e);for(var h=i.x1,n=i.y1,l=i.x2,f=i.y2,u=0;u<s;u++){var d=u/s,p=h+(l-h)*d,x=n+(f-n)*d;r.push(new v(p,x))}return r};c.exports=a},26408:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Florian Mertens
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o){var v=t.x1,a=t.y1,i=t.x2,s=t.y2,e=(i-v)*(i-v)+(s-a)*(s-a);if(e===0)return!1;var r=((a-o.y)*(i-v)-(v-o.x)*(s-a))/e;return Math.abs(r)*Math.sqrt(e)};c.exports=g},98770:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t){return Math.abs(t.y1-t.y2)};c.exports=g},35001:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t){return Math.sqrt((t.x2-t.x1)*(t.x2-t.x1)+(t.y2-t.y1)*(t.y2-t.y1))};c.exports=g},23031:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(13151),a=t(15258),i=t(23777),s=t(65822),e=t(26099),r=new o({initialize:function(n,l,f,u){n===void 0&&(n=0),l===void 0&&(l=0),f===void 0&&(f=0),u===void 0&&(u=0),this.type=i.LINE,this.x1=n,this.y1=l,this.x2=f,this.y2=u},getPoint:function(h,n){return v(this,h,n)},getPoints:function(h,n,l){return a(this,h,n,l)},getRandomPoint:function(h){return s(this,h)},setTo:function(h,n,l,f){return h===void 0&&(h=0),n===void 0&&(n=0),l===void 0&&(l=0),f===void 0&&(f=0),this.x1=h,this.y1=n,this.x2=l,this.y2=f,this},setFromObjects:function(h,n){return this.x1=h.x,this.y1=h.y,this.x2=n.x,this.y2=n.y,this},getPointA:function(h){return h===void 0&&(h=new e),h.set(this.x1,this.y1),h},getPointB:function(h){return h===void 0&&(h=new e),h.set(this.x2,this.y2),h},left:{get:function(){return Math.min(this.x1,this.x2)},set:function(h){this.x1<=this.x2?this.x1=h:this.x2=h}},right:{get:function(){return Math.max(this.x1,this.x2)},set:function(h){this.x1>this.x2?this.x1=h:this.x2=h}},top:{get:function(){return Math.min(this.y1,this.y2)},set:function(h){this.y1<=this.y2?this.y1=h:this.y2=h}},bottom:{get:function(){return Math.max(this.y1,this.y2)},set:function(h){this.y1>this.y2?this.y1=h:this.y2=h}}});c.exports=r},64795:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(36383),v=t(15994),a=t(91938),i=function(s){var e=a(s)-o.TAU;return v(e,-Math.PI,Math.PI)};c.exports=i},52616:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(36383),v=t(91938),a=function(i){return Math.cos(v(i)-o.TAU)};c.exports=a},87231:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(36383),v=t(91938),a=function(i){return Math.sin(v(i)-o.TAU)};c.exports=a},89662:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o,v){return t.x1+=o,t.y1+=v,t.x2+=o,t.y2+=v,t};c.exports=g},71165:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t){return-((t.x2-t.x1)/(t.y2-t.y1))};c.exports=g},65822:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(2141),v=function(a,i){i===void 0&&(i=new o);var s=Math.random();return i.x=a.x1+s*(a.x2-a.x1),i.y=a.y1+s*(a.y2-a.y1),i};c.exports=v},69777:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(91938),v=t(64795),a=function(i,s){return 2*v(s)-Math.PI-o(i)};c.exports=a},39706:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(64400),v=function(a,i){var s=(a.x1+a.x2)/2,e=(a.y1+a.y2)/2;return o(a,s,e,i)};c.exports=v},82585:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(64400),v=function(a,i,s){return o(a,i.x,i.y,s)};c.exports=v},64400:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o,v,a){var i=Math.cos(a),s=Math.sin(a),e=t.x1-o,r=t.y1-v;return t.x1=e*i-r*s+o,t.y1=e*s+r*i+v,e=t.x2-o,r=t.y2-v,t.x2=e*i-r*s+o,t.y2=e*s+r*i+v,t};c.exports=g},62377:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o,v,a,i){return t.x1=o,t.y1=v,t.x2=o+Math.cos(a)*i,t.y2=v+Math.sin(a)*i,t};c.exports=g},71366:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t){return(t.y2-t.y1)/(t.x2-t.x1)};c.exports=g},10809:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t){return Math.abs(t.x1-t.x2)};c.exports=g},2529:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(23031);o.Angle=t(91938),o.BresenhamPoints=t(84993),o.CenterOn=t(36469),o.Clone=t(31116),o.CopyFrom=t(59944),o.Equals=t(59220),o.Extend=t(78177),o.GetEasedPoints=t(26708),o.GetMidPoint=t(32125),o.GetNearestPoint=t(99569),o.GetNormal=t(34638),o.GetPoint=t(13151),o.GetPoints=t(15258),o.GetShortestDistance=t(26408),o.Height=t(98770),o.Length=t(35001),o.NormalAngle=t(64795),o.NormalX=t(52616),o.NormalY=t(87231),o.Offset=t(89662),o.PerpSlope=t(71165),o.Random=t(65822),o.ReflectAngle=t(69777),o.Rotate=t(39706),o.RotateAroundPoint=t(82585),o.RotateAroundXY=t(64400),o.SetToAngle=t(62377),o.Slope=t(71366),o.Width=t(10809),c.exports=o},83997:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(87841),a=t(26099);function i(e,r,h,n){var l=e-h,f=r-n,u=l*l+f*f;return Math.sqrt(u)}var s=new o({initialize:function(r,h,n){this.vertex1=r,this.vertex2=h,this.vertex3=n,this.bounds=new v,this._inCenter=new a},getInCenter:function(e){e===void 0&&(e=!0);var r=this.vertex1,h=this.vertex2,n=this.vertex3,l,f,u,d,p,x;e?(l=r.x,f=r.y,u=h.x,d=h.y,p=n.x,x=n.y):(l=r.vx,f=r.vy,u=h.vx,d=h.vy,p=n.vx,x=n.vy);var E=i(p,x,u,d),T=i(l,f,p,x),C=i(u,d,l,f),A=E+T+C;return this._inCenter.set((l*E+u*T+p*C)/A,(f*E+d*T+x*C)/A)},contains:function(e,r,h){var n=this.vertex1,l=this.vertex2,f=this.vertex3,u=n.vx,d=n.vy,p=l.vx,x=l.vy,E=f.vx,T=f.vy;if(h){var C=h.a,A=h.b,M=h.c,R=h.d,O=h.e,L=h.f;u=n.vx*C+n.vy*M+O,d=n.vx*A+n.vy*R+L,p=l.vx*C+l.vy*M+O,x=l.vx*A+l.vy*R+L,E=f.vx*C+f.vy*M+O,T=f.vx*A+f.vy*R+L}var b=E-u,N=T-d,I=p-u,G=x-d,X=e-u,$=r-d,J=b*b+N*N,z=b*I+N*G,Y=b*X+N*$,D=I*I+G*G,B=I*X+G*$,U=J*D-z*z,H=U===0?0:1/U,j=(D*Y-z*B)*H,q=(J*B-z*Y)*H;return j>=0&&q>=0&&j+q<1},isCounterClockwise:function(e){var r=this.vertex1,h=this.vertex2,n=this.vertex3,l=(h.vx-r.vx)*(n.vy-r.vy)-(h.vy-r.vy)*(n.vx-r.vx);return e<=0?l>=0:l<0},load:function(e,r,h,n,l){return h=this.vertex1.load(e,r,h,n,l),h=this.vertex2.load(e,r,h,n,l),h=this.vertex3.load(e,r,h,n,l),h},transformCoordinatesLocal:function(e,r,h,n){return this.vertex1.transformCoordinatesLocal(e,r,h,n),this.vertex2.transformCoordinatesLocal(e,r,h,n),this.vertex3.transformCoordinatesLocal(e,r,h,n),this},updateBounds:function(){var e=this.vertex1,r=this.vertex2,h=this.vertex3,n=this.bounds;return n.x=Math.min(e.vx,r.vx,h.vx),n.y=Math.min(e.vy,r.vy,h.vy),n.width=Math.max(e.vx,r.vx,h.vx)-n.x,n.height=Math.max(e.vy,r.vy,h.vy)-n.y,this},isInView:function(e,r,h,n,l,f,u,d,p,x,E){this.update(n,l,f,u,d,p,x,E);var T=this.vertex1,C=this.vertex2,A=this.vertex3;if(T.ta<=0&&C.ta<=0&&A.ta<=0||r&&!this.isCounterClockwise(h))return!1;var M=this.bounds;M.x=Math.min(T.tx,C.tx,A.tx),M.y=Math.min(T.ty,C.ty,A.ty),M.width=Math.max(T.tx,C.tx,A.tx)-M.x,M.height=Math.max(T.ty,C.ty,A.ty)-M.y;var R=e.x+e.width,O=e.y+e.height;return M.width<=0||M.height<=0||e.width<=0||e.height<=0?!1:!(M.right<e.x||M.bottom<e.y||M.x>R||M.y>O)},scrollUV:function(e,r){return this.vertex1.scrollUV(e,r),this.vertex2.scrollUV(e,r),this.vertex3.scrollUV(e,r),this},scaleUV:function(e,r){return this.vertex1.scaleUV(e,r),this.vertex2.scaleUV(e,r),this.vertex3.scaleUV(e,r),this},setColor:function(e){return this.vertex1.color=e,this.vertex2.color=e,this.vertex3.color=e,this},update:function(e,r,h,n,l,f,u,d){return this.vertex1.update(r,h,n,l,f,u,d,e),this.vertex2.update(r,h,n,l,f,u,d,e),this.vertex3.update(r,h,n,l,f,u,d,e),this},translate:function(e,r){r===void 0&&(r=0);var h=this.vertex1,n=this.vertex2,l=this.vertex3;return h.x+=e,h.y+=r,n.x+=e,n.y+=r,l.x+=e,l.y+=r,this},x:{get:function(){return this.getInCenter().x},set:function(e){var r=this.getInCenter();this.translate(e-r.x,0)}},y:{get:function(){return this.getInCenter().y},set:function(e){var r=this.getInCenter();this.translate(0,e-r.y)}},alpha:{get:function(){var e=this.vertex1,r=this.vertex2,h=this.vertex3;return(e.alpha+r.alpha+h.alpha)/3},set:function(e){this.vertex1.alpha=e,this.vertex2.alpha=e,this.vertex3.alpha=e}},depth:{get:function(){var e=this.vertex1,r=this.vertex2,h=this.vertex3;return(e.vz+r.vz+h.vz)/3}},destroy:function(){this.vertex1=null,this.vertex2=null,this.vertex3=null}});c.exports=s},48803:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83997),v=t(95540),a=t(37867),i=t(25836),s=t(39318),e=new i,r=new i,h=new a,n=function(l){var f=v(l,"mesh"),u=v(l,"texture",null),d=v(l,"frame"),p=v(l,"width",1),x=v(l,"height",p),E=v(l,"widthSegments",1),T=v(l,"heightSegments",E),C=v(l,"x",0),A=v(l,"y",0),M=v(l,"z",0),R=v(l,"rotateX",0),O=v(l,"rotateY",0),L=v(l,"rotateZ",0),b=v(l,"zIsUp",!0),N=v(l,"isOrtho",f?f.dirtyCache[11]:!1),I=v(l,"colors",[16777215]),G=v(l,"alphas",[1]),X=v(l,"tile",!1),$=v(l,"flipY",!1),J=v(l,"width",null),z={faces:[],verts:[]};e.set(C,A,M),r.set(R,O,L),h.fromRotationXYTranslation(r,e,b);var Y;if(!u&&f)u=f.texture,d||(Y=f.frame);else if(f&&typeof u=="string")u=f.scene.sys.textures.get(u);else if(!u)return z;Y||(Y=u.get(d)),!J&&N&&u&&f&&(p=Y.width/f.height,x=Y.height/f.height);var D=p/2,B=x/2,U=Math.floor(E),H=Math.floor(T),j=U+1,q=H+1,_=p/U,st=x/H,ut=[],ct=[],pt,Tt,mt=0,wt=1,Nt=0,zt=1;Y&&(mt=Y.u0,wt=Y.u1,$?(Nt=Y.v1,zt=Y.v0):(Nt=Y.v0,zt=Y.v1));var Ot=wt-mt,St=zt-Nt;for(Tt=0;Tt<q;Tt++){var It=Tt*st-B;for(pt=0;pt<j;pt++){var bt=pt*_-D;ct.push(bt,-It);var Xt=mt+Ot*(pt/U),Wt=Nt+St*(Tt/H);ut.push(Xt,Wt)}}Array.isArray(I)||(I=[I]),Array.isArray(G)||(G=[G]);var he=0,kt=0;for(Tt=0;Tt<H;Tt++)for(pt=0;pt<U;pt++){var jt=(pt+j*Tt)*2,Ht=(pt+j*(Tt+1))*2,ve=(pt+1+j*(Tt+1))*2,le=(pt+1+j*Tt)*2,Te=I[kt],se=G[he],ne=new s(ct[jt],ct[jt+1],0,ut[jt],ut[jt+1],Te,se).transformMat4(h),fe=new s(ct[Ht],ct[Ht+1],0,ut[Ht],ut[Ht+1],Te,se).transformMat4(h),Se=new s(ct[le],ct[le+1],0,ut[le],ut[le+1],Te,se).transformMat4(h),Ie=new s(ct[Ht],ct[Ht+1],0,ut[Ht],ut[Ht+1],Te,se).transformMat4(h),re=new s(ct[ve],ct[ve+1],0,ut[ve],ut[ve+1],Te,se).transformMat4(h),Be=new s(ct[le],ct[le+1],0,ut[le],ut[le+1],Te,se).transformMat4(h);X&&(ne.setUVs(mt,zt),fe.setUVs(mt,Nt),Se.setUVs(wt,zt),Ie.setUVs(mt,Nt),re.setUVs(wt,Nt),Be.setUVs(wt,zt)),kt++,kt===I.length&&(kt=0),he++,he===G.length&&(he=0),z.verts.push(ne,fe,Se,Ie,re,Be),z.faces.push(new o(ne,fe,Se),new o(Ie,re,Be))}return f&&(f.faces=f.faces.concat(z.faces),f.vertices=f.vertices.concat(z.verts)),z};c.exports=n},34684:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83997),v=t(37867),a=t(25836),i=t(39318),s=new a,e=new a,r=new v,h=function(n,l,f,u,d,p,x,E,T,C){f===void 0&&(f=1),u===void 0&&(u=0),d===void 0&&(d=0),p===void 0&&(p=0),x===void 0&&(x=0),E===void 0&&(E=0),T===void 0&&(T=0),C===void 0&&(C=!0);var A={faces:[],verts:[]},M=n.materials;s.set(u,d,p),e.set(x,E,T),r.fromRotationXYTranslation(e,s,C);for(var R=0;R<n.models.length;R++)for(var O=n.models[R],L=O.vertices,b=O.textureCoords,N=O.faces,I=0;I<N.length;I++){var G=N[I],X=G.vertices[0],$=G.vertices[1],J=G.vertices[2],z=L[X.vertexIndex],Y=L[$.vertexIndex],D=L[J.vertexIndex],B=X.textureCoordsIndex,U=$.textureCoordsIndex,H=J.textureCoordsIndex,j=B===-1?{u:0,v:1}:b[B],q=U===-1?{u:0,v:0}:b[U],_=H===-1?{u:1,v:1}:b[H],st=16777215;G.material!==""&&M[G.material]&&(st=M[G.material]);var ut=new i(z.x*f,z.y*f,z.z*f,j.u,j.v,st).transformMat4(r),ct=new i(Y.x*f,Y.y*f,Y.z*f,q.u,q.v,st).transformMat4(r),pt=new i(D.x*f,D.y*f,D.z*f,_.u,_.v,st).transformMat4(r);A.verts.push(ut,ct,pt),A.faces.push(new o(ut,ct,pt))}return l&&(l.faces=l.faces.concat(A.faces),l.vertices=l.vertices.concat(A.verts)),A};c.exports=h},92515:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83997),v=t(39318),a=function(i,s,e,r,h,n,l,f){if(r===void 0&&(r=!1),n===void 0&&(n=16777215),l===void 0&&(l=1),f===void 0&&(f=!1),i.length!==s.length&&!r){console.warn("GenerateVerts: vertices and uvs count not equal");return}var u={faces:[],vertices:[]},d,p,x,E,T,C,A,M,R,O,L,b=r?3:2,N=Array.isArray(n),I=Array.isArray(l);if(Array.isArray(e)&&e.length>0)for(d=0;d<e.length;d++){var G=e[d],X=e[d]*2,$=e[d]*b;p=i[$],x=i[$+1],E=r?i[$+2]:0,T=s[X],C=s[X+1],f&&(C=1-C),A=N?n[G]:n,M=I?l[G]:l,R=0,O=0,L=0,h&&(R=h[$],O=h[$+1],L=r?h[$+2]:0),u.vertices.push(new v(p,x,E,T,C,A,M,R,O,L))}else{var J=0,z=0;for(d=0;d<i.length;d+=b)p=i[d],x=i[d+1],E=r?i[d+2]:0,T=s[J],C=s[J+1],A=N?n[z]:n,M=I?l[z]:l,R=0,O=0,L=0,h&&(R=h[d],O=h[d+1],L=r?h[d+2]:0),u.vertices.push(new v(p,x,E,T,C,A,M,R,O,L)),J+=2,z++}for(d=0;d<u.vertices.length;d+=3){var Y=u.vertices[d],D=u.vertices[d+1],B=u.vertices[d+2];u.faces.push(new o(Y,D,B))}return u};c.exports=a},85048:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=!0,t="untitled",o="",v="";function a(p){var x=p.indexOf("#");return x>-1?p.substring(0,x):p}function i(p){return p.models.length===0&&p.models.push({faces:[],name:t,textureCoords:[],vertexNormals:[],vertices:[]}),o="",p.models[p.models.length-1]}function s(p,x){var E=p.length>=2?p[1]:t;x.models.push({faces:[],name:E,textureCoords:[],vertexNormals:[],vertices:[]}),o=""}function e(p){p.length===2&&(o=p[1])}function r(p,x){var E=p.length,T=E>=2?parseFloat(p[1]):0,C=E>=3?parseFloat(p[2]):0,A=E>=4?parseFloat(p[3]):0;i(x).vertices.push({x:T,y:C,z:A})}function h(p,x){var E=p.length,T=E>=2?parseFloat(p[1]):0,C=E>=3?parseFloat(p[2]):0,A=E>=4?parseFloat(p[3]):0;isNaN(T)&&(T=0),isNaN(C)&&(C=0),isNaN(A)&&(A=0),g&&(C=1-C),i(x).textureCoords.push({u:T,v:C,w:A})}function n(p,x){var E=p.length,T=E>=2?parseFloat(p[1]):0,C=E>=3?parseFloat(p[2]):0,A=E>=4?parseFloat(p[3]):0;i(x).vertexNormals.push({x:T,y:C,z:A})}function l(p,x){var E=p.length-1;if(!(E<3)){for(var T={group:o,material:v,vertices:[]},C=0;C<E;C++){var A=p[C+1],M=A.split("/"),R=M.length;if(!(R<1||R>3)){var O=0,L=0,b=0;O=parseInt(M[0],10),R>1&&M[1]!==""&&(L=parseInt(M[1],10)),R>2&&(b=parseInt(M[2],10)),O!==0&&(O<0&&(O=i(x).vertices.length+1+O),L-=1,O-=1,b-=1,T.vertices.push({textureCoordsIndex:L,vertexIndex:O,vertexNormalIndex:b}))}}i(x).faces.push(T)}}function f(p,x){p.length>=2&&x.materialLibraries.push(p[1])}function u(p){p.length>=2&&(v=p[1])}var d=function(p,x){x===void 0&&(x=!0),g=x;var E={materials:{},materialLibraries:[],models:[]};o="",v="";for(var T=p.split(`
`),C=0;C<T.length;C++){var A=a(T[C]),M=A.replace(/\s\s+/g," ").trim().split(" ");switch(M[0].toLowerCase()){case"o":s(M,E);break;case"g":e(M);break;case"v":r(M,E);break;case"vt":h(M,E);break;case"vn":n(M,E);break;case"f":l(M,E);break;case"mtllib":f(M,E);break;case"usemtl":u(M);break}}return E};c.exports=d},61485:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(37589),v=function(a){for(var i={},s=a.split(`
`),e="",r=0;r<s.length;r++){var h=s[r].trim();if(!(h.indexOf("#")===0||h==="")){var n=h.replace(/\s\s+/g," ").trim().split(" ");switch(n[0].toLowerCase()){case"newmtl":{e=n[1];break}case"kd":{var l=Math.floor(n[1]*255),f=n.length>=2?Math.floor(n[2]*255):l,u=n.length>=3?Math.floor(n[3]*255):l;i[e]=o(l,f,u);break}}}}return i};c.exports=v},92570:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o,v,a){var i,s;if(v===void 0&&a===void 0){var e=t.getInCenter();i=e.x,s=e.y}var r=Math.cos(o),h=Math.sin(o),n=t.vertex1,l=t.vertex2,f=t.vertex3,u=n.x-i,d=n.y-s;n.set(u*r-d*h+i,u*h+d*r+s),u=l.x-i,d=l.y-s,l.set(u*r-d*h+i,u*h+d*r+s),u=f.x-i,d=f.y-s,f.set(u*r-d*h+i,u*h+d*r+s)};c.exports=g},39318:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(70554),a=t(25836),i=new o({Extends:a,initialize:function(e,r,h,n,l,f,u,d,p,x){f===void 0&&(f=16777215),u===void 0&&(u=1),d===void 0&&(d=0),p===void 0&&(p=0),x===void 0&&(x=0),a.call(this,e,r,h),this.vx=0,this.vy=0,this.vz=0,this.nx=d,this.ny=p,this.nz=x,this.u=n,this.v=l,this.color=f,this.alpha=u,this.tx=0,this.ty=0,this.ta=0,this.tu=n,this.tv=l},setUVs:function(s,e){return this.u=s,this.v=e,this.tu=s,this.tv=e,this},scrollUV:function(s,e){return this.tu+=s,this.tv+=e,this},scaleUV:function(s,e){return this.tu=this.u*s,this.tv=this.v*e,this},transformCoordinatesLocal:function(s,e,r,h){var n=this.x,l=this.y,f=this.z,u=s.val,d=n*u[0]+l*u[4]+f*u[8]+u[12],p=n*u[1]+l*u[5]+f*u[9]+u[13],x=n*u[2]+l*u[6]+f*u[10]+u[14],E=n*u[3]+l*u[7]+f*u[11]+u[15];this.vx=d/E*e,this.vy=-(p/E)*r,h<=0?this.vz=x/E:this.vz=-(x/E)},resize:function(s,e,r,h,n,l){return this.x=s,this.y=e,this.vx=this.x*r,this.vy=-this.y*h,this.vz=0,n<.5?this.vx+=r*(.5-n):n>.5&&(this.vx-=r*(n-.5)),l<.5?this.vy+=h*(.5-l):l>.5&&(this.vy-=h*(l-.5)),this},update:function(s,e,r,h,n,l,f,u){var d=this.vx*s+this.vy*r+n,p=this.vx*e+this.vy*h+l;return f&&(d=Math.round(d),p=Math.round(p)),this.tx=d,this.ty=p,this.ta=this.alpha*u,this},load:function(s,e,r,h,n){return s[++r]=this.tx,s[++r]=this.ty,s[++r]=this.tu,s[++r]=this.tv,s[++r]=h,s[++r]=n,e[++r]=v.getTintAppendFloatAlpha(this.color,this.ta),r}});c.exports=i},73090:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o={Face:t(83997),GenerateGridVerts:t(48803),GenerateObjVerts:t(34684),GenerateVerts:t(92515),ParseObj:t(85048),ParseObjMaterial:t(61485),RotateFace:t(92570),Vertex:t(39318)};c.exports=o},96550:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t){return t.setTo(Math.ceil(t.x),Math.ceil(t.y))};c.exports=g},99706:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(2141),v=function(a){return new o(a.x,a.y)};c.exports=v},68010:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o){return o.setTo(t.x,t.y)};c.exports=g},27814:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o){return t.x===o.x&&t.y===o.y};c.exports=g},73565:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t){return t.setTo(Math.floor(t.x),Math.floor(t.y))};c.exports=g},87555:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(2141),v=function(a,i){if(i===void 0&&(i=new o),!Array.isArray(a))throw new Error("GetCentroid points argument must be an array");var s=a.length;if(s<1)throw new Error("GetCentroid points array must not be empty");if(s===1)i.x=a[0].x,i.y=a[0].y;else{for(var e=0;e<s;e++)i.x+=a[e].x,i.y+=a[e].y;i.x/=s,i.y/=s}return i};c.exports=v},28793:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)};c.exports=g},44405:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t){return t.x*t.x+t.y*t.y};c.exports=g},20873:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(87841),v=function(a,i){i===void 0&&(i=new o);for(var s=Number.NEGATIVE_INFINITY,e=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY,h=Number.POSITIVE_INFINITY,n=0;n<a.length;n++){var l=a[n];l.x>s&&(s=l.x),l.x<e&&(e=l.x),l.y>r&&(r=l.y),l.y<h&&(h=l.y)}return i.x=e,i.y=h,i.width=s-e,i.height=r-h,i};c.exports=v},26152:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(2141),v=function(a,i,s,e){return s===void 0&&(s=0),e===void 0&&(e=new o),e.x=a.x+(i.x-a.x)*s,e.y=a.y+(i.y-a.y)*s,e};c.exports=v},55767:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t){return t.setTo(t.y,t.x)};c.exports=g},79432:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(2141),v=function(a,i){return i===void 0&&(i=new o),i.setTo(-a.x,-a.y)};c.exports=v},2141:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(23777),a=new o({initialize:function(s,e){s===void 0&&(s=0),e===void 0&&(e=s),this.type=v.POINT,this.x=s,this.y=e},setTo:function(i,s){return i===void 0&&(i=0),s===void 0&&(s=i),this.x=i,this.y=s,this}});c.exports=a},72930:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(2141),v=t(44405),a=function(i,s,e){e===void 0&&(e=new o);var r=i.x*s.x+i.y*s.y,h=r/v(s);return h!==0&&(e.x=h*s.x,e.y=h*s.y),e};c.exports=a},62880:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(2141),v=function(a,i,s){s===void 0&&(s=new o);var e=a.x*i.x+a.y*i.y;return e!==0&&(s.x=e*i.x,s.y=e*i.y),s};c.exports=v},15093:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(28793),v=function(a,i){if(a.x!==0||a.y!==0){var s=o(a);a.x/=s,a.y/=s}return a.x*=i,a.y*=i,a};c.exports=v},43711:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(2141);o.Ceil=t(96550),o.Clone=t(99706),o.CopyFrom=t(68010),o.Equals=t(27814),o.Floor=t(73565),o.GetCentroid=t(87555),o.GetMagnitude=t(28793),o.GetMagnitudeSq=t(44405),o.GetRectangleFromPoints=t(20873),o.Interpolate=t(26152),o.Invert=t(55767),o.Negative=t(79432),o.Project=t(72930),o.ProjectUnit=t(62880),o.SetMagnitude=t(15093),c.exports=o},12306:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(25717),v=function(a){return new o(a.points)};c.exports=v},63814:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o,v){for(var a=!1,i=-1,s=t.points.length-1;++i<t.points.length;s=i){var e=t.points[i].x,r=t.points[i].y,h=t.points[s].x,n=t.points[s].y;(r<=v&&v<n||n<=v&&v<r)&&o<(h-e)*(v-r)/(n-r)+e&&(a=!a)}return a};c.exports=g},99338:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(63814),v=function(a,i){return o(a,i.x,i.y)};c.exports=v},94811:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function g(z,Y,D){D=D||2;var B=Y&&Y.length,U=B?Y[0]*D:z.length,H=t(z,0,U,D,!0),j=[];if(!H||H.next===H.prev)return j;var q,_,st,ut,ct,pt,Tt;if(B&&(H=r(z,Y,H,D)),z.length>80*D){q=st=z[0],_=ut=z[1];for(var mt=D;mt<U;mt+=D)ct=z[mt],pt=z[mt+1],ct<q&&(q=ct),pt<_&&(_=pt),ct>st&&(st=ct),pt>ut&&(ut=pt);Tt=Math.max(st-q,ut-_),Tt=Tt!==0?32767/Tt:0}return v(H,j,D,q,_,Tt,0),j}function t(z,Y,D,B,U){var H,j;if(U===J(z,Y,D,B)>0)for(H=Y;H<D;H+=B)j=G(H,z[H],z[H+1],j);else for(H=D-B;H>=Y;H-=B)j=G(H,z[H],z[H+1],j);return j&&A(j,j.next)&&(X(j),j=j.next),j}function o(z,Y){if(!z)return z;Y||(Y=z);var D=z,B;do if(B=!1,!D.steiner&&(A(D,D.next)||C(D.prev,D,D.next)===0)){if(X(D),D=Y=D.prev,D===D.next)break;B=!0}else D=D.next;while(B||D!==Y);return Y}function v(z,Y,D,B,U,H,j){if(z){!j&&H&&u(z,B,U,H);for(var q=z,_,st;z.prev!==z.next;){if(_=z.prev,st=z.next,H?i(z,B,U,H):a(z)){Y.push(_.i/D|0),Y.push(z.i/D|0),Y.push(st.i/D|0),X(z),z=st.next,q=st.next;continue}if(z=st,z===q){j?j===1?(z=s(o(z),Y,D),v(z,Y,D,B,U,H,2)):j===2&&e(z,Y,D,B,U,H):v(o(z),Y,D,B,U,H,1);break}}}}function a(z){var Y=z.prev,D=z,B=z.next;if(C(Y,D,B)>=0)return!1;for(var U=Y.x,H=D.x,j=B.x,q=Y.y,_=D.y,st=B.y,ut=U<H?U<j?U:j:H<j?H:j,ct=q<_?q<st?q:st:_<st?_:st,pt=U>H?U>j?U:j:H>j?H:j,Tt=q>_?q>st?q:st:_>st?_:st,mt=B.next;mt!==Y;){if(mt.x>=ut&&mt.x<=pt&&mt.y>=ct&&mt.y<=Tt&&E(U,q,H,_,j,st,mt.x,mt.y)&&C(mt.prev,mt,mt.next)>=0)return!1;mt=mt.next}return!0}function i(z,Y,D,B){var U=z.prev,H=z,j=z.next;if(C(U,H,j)>=0)return!1;for(var q=U.x,_=H.x,st=j.x,ut=U.y,ct=H.y,pt=j.y,Tt=q<_?q<st?q:st:_<st?_:st,mt=ut<ct?ut<pt?ut:pt:ct<pt?ct:pt,wt=q>_?q>st?q:st:_>st?_:st,Nt=ut>ct?ut>pt?ut:pt:ct>pt?ct:pt,zt=p(Tt,mt,Y,D,B),Ot=p(wt,Nt,Y,D,B),St=z.prevZ,It=z.nextZ;St&&St.z>=zt&&It&&It.z<=Ot;){if(St.x>=Tt&&St.x<=wt&&St.y>=mt&&St.y<=Nt&&St!==U&&St!==j&&E(q,ut,_,ct,st,pt,St.x,St.y)&&C(St.prev,St,St.next)>=0||(St=St.prevZ,It.x>=Tt&&It.x<=wt&&It.y>=mt&&It.y<=Nt&&It!==U&&It!==j&&E(q,ut,_,ct,st,pt,It.x,It.y)&&C(It.prev,It,It.next)>=0))return!1;It=It.nextZ}for(;St&&St.z>=zt;){if(St.x>=Tt&&St.x<=wt&&St.y>=mt&&St.y<=Nt&&St!==U&&St!==j&&E(q,ut,_,ct,st,pt,St.x,St.y)&&C(St.prev,St,St.next)>=0)return!1;St=St.prevZ}for(;It&&It.z<=Ot;){if(It.x>=Tt&&It.x<=wt&&It.y>=mt&&It.y<=Nt&&It!==U&&It!==j&&E(q,ut,_,ct,st,pt,It.x,It.y)&&C(It.prev,It,It.next)>=0)return!1;It=It.nextZ}return!0}function s(z,Y,D){var B=z;do{var U=B.prev,H=B.next.next;!A(U,H)&&M(U,B,B.next,H)&&b(U,H)&&b(H,U)&&(Y.push(U.i/D|0),Y.push(B.i/D|0),Y.push(H.i/D|0),X(B),X(B.next),B=z=H),B=B.next}while(B!==z);return o(B)}function e(z,Y,D,B,U,H){var j=z;do{for(var q=j.next.next;q!==j.prev;){if(j.i!==q.i&&T(j,q)){var _=I(j,q);j=o(j,j.next),_=o(_,_.next),v(j,Y,D,B,U,H,0),v(_,Y,D,B,U,H,0);return}q=q.next}j=j.next}while(j!==z)}function r(z,Y,D,B){var U=[],H,j,q,_,st;for(H=0,j=Y.length;H<j;H++)q=Y[H]*B,_=H<j-1?Y[H+1]*B:z.length,st=t(z,q,_,B,!1),st===st.next&&(st.steiner=!0),U.push(x(st));for(U.sort(h),H=0;H<U.length;H++)D=n(U[H],D);return D}function h(z,Y){return z.x-Y.x}function n(z,Y){var D=l(z,Y);if(!D)return Y;var B=I(D,z);return o(B,B.next),o(D,D.next)}function l(z,Y){var D=Y,B=z.x,U=z.y,H=-1/0,j;do{if(U<=D.y&&U>=D.next.y&&D.next.y!==D.y){var q=D.x+(U-D.y)*(D.next.x-D.x)/(D.next.y-D.y);if(q<=B&&q>H&&(H=q,j=D.x<D.next.x?D:D.next,q===B))return j}D=D.next}while(D!==Y);if(!j)return null;var _=j,st=j.x,ut=j.y,ct=1/0,pt;D=j;do B>=D.x&&D.x>=st&&B!==D.x&&E(U<ut?B:H,U,st,ut,U<ut?H:B,U,D.x,D.y)&&(pt=Math.abs(U-D.y)/(B-D.x),b(D,z)&&(pt<ct||pt===ct&&(D.x>j.x||D.x===j.x&&f(j,D)))&&(j=D,ct=pt)),D=D.next;while(D!==_);return j}function f(z,Y){return C(z.prev,z,Y.prev)<0&&C(Y.next,z,z.next)<0}function u(z,Y,D,B){var U=z;do U.z===0&&(U.z=p(U.x,U.y,Y,D,B)),U.prevZ=U.prev,U.nextZ=U.next,U=U.next;while(U!==z);U.prevZ.nextZ=null,U.prevZ=null,d(U)}function d(z){var Y,D,B,U,H,j,q,_,st=1;do{for(D=z,z=null,H=null,j=0;D;){for(j++,B=D,q=0,Y=0;Y<st&&(q++,B=B.nextZ,!!B);Y++);for(_=st;q>0||_>0&&B;)q!==0&&(_===0||!B||D.z<=B.z)?(U=D,D=D.nextZ,q--):(U=B,B=B.nextZ,_--),H?H.nextZ=U:z=U,U.prevZ=H,H=U;D=B}H.nextZ=null,st*=2}while(j>1);return z}function p(z,Y,D,B,U){return z=(z-D)*U|0,Y=(Y-B)*U|0,z=(z|z<<8)&16711935,z=(z|z<<4)&252645135,z=(z|z<<2)&858993459,z=(z|z<<1)&1431655765,Y=(Y|Y<<8)&16711935,Y=(Y|Y<<4)&252645135,Y=(Y|Y<<2)&858993459,Y=(Y|Y<<1)&1431655765,z|Y<<1}function x(z){var Y=z,D=z;do(Y.x<D.x||Y.x===D.x&&Y.y<D.y)&&(D=Y),Y=Y.next;while(Y!==z);return D}function E(z,Y,D,B,U,H,j,q){return(U-j)*(Y-q)>=(z-j)*(H-q)&&(z-j)*(B-q)>=(D-j)*(Y-q)&&(D-j)*(H-q)>=(U-j)*(B-q)}function T(z,Y){return z.next.i!==Y.i&&z.prev.i!==Y.i&&!L(z,Y)&&(b(z,Y)&&b(Y,z)&&N(z,Y)&&(C(z.prev,z,Y.prev)||C(z,Y.prev,Y))||A(z,Y)&&C(z.prev,z,z.next)>0&&C(Y.prev,Y,Y.next)>0)}function C(z,Y,D){return(Y.y-z.y)*(D.x-Y.x)-(Y.x-z.x)*(D.y-Y.y)}function A(z,Y){return z.x===Y.x&&z.y===Y.y}function M(z,Y,D,B){var U=O(C(z,Y,D)),H=O(C(z,Y,B)),j=O(C(D,B,z)),q=O(C(D,B,Y));return!!(U!==H&&j!==q||U===0&&R(z,D,Y)||H===0&&R(z,B,Y)||j===0&&R(D,z,B)||q===0&&R(D,Y,B))}function R(z,Y,D){return Y.x<=Math.max(z.x,D.x)&&Y.x>=Math.min(z.x,D.x)&&Y.y<=Math.max(z.y,D.y)&&Y.y>=Math.min(z.y,D.y)}function O(z){return z>0?1:z<0?-1:0}function L(z,Y){var D=z;do{if(D.i!==z.i&&D.next.i!==z.i&&D.i!==Y.i&&D.next.i!==Y.i&&M(D,D.next,z,Y))return!0;D=D.next}while(D!==z);return!1}function b(z,Y){return C(z.prev,z,z.next)<0?C(z,Y,z.next)>=0&&C(z,z.prev,Y)>=0:C(z,Y,z.prev)<0||C(z,z.next,Y)<0}function N(z,Y){var D=z,B=!1,U=(z.x+Y.x)/2,H=(z.y+Y.y)/2;do D.y>H!=D.next.y>H&&D.next.y!==D.y&&U<(D.next.x-D.x)*(H-D.y)/(D.next.y-D.y)+D.x&&(B=!B),D=D.next;while(D!==z);return B}function I(z,Y){var D=new $(z.i,z.x,z.y),B=new $(Y.i,Y.x,Y.y),U=z.next,H=Y.prev;return z.next=Y,Y.prev=z,D.next=U,U.prev=D,B.next=D,D.prev=B,H.next=B,B.prev=H,B}function G(z,Y,D,B){var U=new $(z,Y,D);return B?(U.next=B.next,U.prev=B,B.next.prev=U,B.next=U):(U.prev=U,U.next=U),U}function X(z){z.next.prev=z.prev,z.prev.next=z.next,z.prevZ&&(z.prevZ.nextZ=z.nextZ),z.nextZ&&(z.nextZ.prevZ=z.prevZ)}function $(z,Y,D){this.i=z,this.x=Y,this.y=D,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}g.deviation=function(z,Y,D,B){var U=Y&&Y.length,H=U?Y[0]*D:z.length,j=Math.abs(J(z,0,H,D));if(U)for(var q=0,_=Y.length;q<_;q++){var st=Y[q]*D,ut=q<_-1?Y[q+1]*D:z.length;j-=Math.abs(J(z,st,ut,D))}var ct=0;for(q=0;q<B.length;q+=3){var pt=B[q]*D,Tt=B[q+1]*D,mt=B[q+2]*D;ct+=Math.abs((z[pt]-z[mt])*(z[Tt+1]-z[pt+1])-(z[pt]-z[Tt])*(z[mt+1]-z[pt+1]))}return j===0&&ct===0?0:Math.abs((ct-j)/j)};function J(z,Y,D,B){for(var U=0,H=Y,j=D-B;H<D;H+=B)U+=(z[j]-z[H])*(z[H+1]+z[j+1]),j=H;return U}g.flatten=function(z){for(var Y=z[0][0].length,D={vertices:[],holes:[],dimensions:Y},B=0,U=0;U<z.length;U++){for(var H=0;H<z[U].length;H++)for(var j=0;j<Y;j++)D.vertices.push(z[U][H][j]);U>0&&(B+=z[U-1].length,D.holes.push(B))}return D},c.exports=g},13829:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(87841),v=function(a,i){i===void 0&&(i=new o);for(var s=1/0,e=1/0,r=-s,h=-e,n,l=0;l<a.points.length;l++)n=a.points[l],s=Math.min(s,n.x),e=Math.min(e,n.y),r=Math.max(r,n.x),h=Math.max(h,n.y);return i.x=s,i.y=e,i.width=r-s,i.height=h-e,i};c.exports=v},26173:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o){o===void 0&&(o=[]);for(var v=0;v<t.points.length;v++)o.push(t.points[v].x),o.push(t.points[v].y);return o};c.exports=g},9564:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(35001),v=t(23031),a=t(30052),i=function(s,e,r,h){h===void 0&&(h=[]);var n=s.points,l=a(s);!e&&r>0&&(e=l/r);for(var f=0;f<e;f++)for(var u=l*(f/e),d=0,p=0;p<n.length;p++){var x=n[p],E=n[(p+1)%n.length],T=new v(x.x,x.y,E.x,E.y),C=o(T);if(u<d||u>d+C){d+=C;continue}var A=T.getPoint((u-d)/C);h.push(A);break}return h};c.exports=i},30052:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(35001),v=t(23031),a=function(i){for(var s=i.points,e=0,r=0;r<s.length;r++){var h=s[r],n=s[(r+1)%s.length],l=new v(h.x,h.y,n.x,n.y);e+=o(l)}return e};c.exports=a},25717:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(63814),a=t(9564),i=t(23777),s=new o({initialize:function(r){this.type=i.POLYGON,this.area=0,this.points=[],r&&this.setTo(r)},contains:function(e,r){return v(this,e,r)},setTo:function(e){if(this.area=0,this.points=[],typeof e=="string"&&(e=e.split(" ")),!Array.isArray(e))return this;for(var r,h=0;h<e.length;h++)r={x:0,y:0},typeof e[h]=="number"||typeof e[h]=="string"?(r.x=parseFloat(e[h]),r.y=parseFloat(e[h+1]),h++):Array.isArray(e[h])?(r.x=e[h][0],r.y=e[h][1]):(r.x=e[h].x,r.y=e[h].y),this.points.push(r);return this.calculateArea(),this},calculateArea:function(){if(this.points.length<3)return this.area=0,this.area;for(var e=0,r,h,n=0;n<this.points.length-1;n++)r=this.points[n],h=this.points[n+1],e+=(h.x-r.x)*(r.y+h.y);return r=this.points[0],h=this.points[this.points.length-1],e+=(r.x-h.x)*(h.y+r.y),this.area=-e*.5,this.area},getPoints:function(e,r,h){return a(this,e,r,h)}});c.exports=s},8133:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t){return t.points.reverse(),t};c.exports=g},29524:c=>{function g(s,e){var r=s.x-e.x,h=s.y-e.y;return r*r+h*h}function t(s,e,r){var h=e.x,n=e.y,l=r.x-h,f=r.y-n;if(l!==0||f!==0){var u=((s.x-h)*l+(s.y-n)*f)/(l*l+f*f);u>1?(h=r.x,n=r.y):u>0&&(h+=l*u,n+=f*u)}return l=s.x-h,f=s.y-n,l*l+f*f}function o(s,e){for(var r=s[0],h=[r],n,l=1,f=s.length;l<f;l++)n=s[l],g(n,r)>e&&(h.push(n),r=n);return r!==n&&h.push(n),h}function v(s,e,r,h,n){for(var l=h,f,u=e+1;u<r;u++){var d=t(s[u],s[e],s[r]);d>l&&(f=u,l=d)}l>h&&(f-e>1&&v(s,e,f,h,n),n.push(s[f]),r-f>1&&v(s,f,r,h,n))}function a(s,e){var r=s.length-1,h=[s[0]];return v(s,0,r,e,h),h.push(s[r]),h}var i=function(s,e,r){e===void 0&&(e=1),r===void 0&&(r=!1);var h=s.points;if(h.length>2){var n=e*e;r||(h=o(h,n)),s.setTo(a(h,n))}return s};c.exports=i},5469:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Igor Ognichenko <ognichenko.igor@gmail.com>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(o,v){return o[0]=v[0],o[1]=v[1],o},t=function(o){var v,a=[],i=o.points;for(v=0;v<i.length;v++)a.push([i[v].x,i[v].y]);var s=[];for(a.length>0&&s.push(g([0,0],a[0])),v=0;v<a.length-1;v++){var e=a[v],r=a[v+1],h=e[0],n=e[1],l=r[0],f=r[1];s.push([.85*h+.15*l,.85*n+.15*f]),s.push([.15*h+.85*l,.15*n+.85*f])}return a.length>1&&s.push(g([0,0],a[a.length-1])),o.setTo(s)};c.exports=t},24709:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o,v){for(var a=t.points,i=0;i<a.length;i++)a[i].x+=o,a[i].y+=v;return t};c.exports=g},58423:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(25717);o.Clone=t(12306),o.Contains=t(63814),o.ContainsPoint=t(99338),o.Earcut=t(94811),o.GetAABB=t(13829),o.GetNumberArray=t(26173),o.GetPoints=t(9564),o.Perimeter=t(30052),o.Reverse=t(8133),o.Simplify=t(29524),o.Smooth=t(5469),o.Translate=t(24709),c.exports=o},62224:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t){return t.width*t.height};c.exports=g},98615:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t){return t.x=Math.ceil(t.x),t.y=Math.ceil(t.y),t};c.exports=g},31688:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t){return t.x=Math.ceil(t.x),t.y=Math.ceil(t.y),t.width=Math.ceil(t.width),t.height=Math.ceil(t.height),t};c.exports=g},67502:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o,v){return t.x=o-t.width/2,t.y=v-t.height/2,t};c.exports=g},65085:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(87841),v=function(a){return new o(a.x,a.y,a.width,a.height)};c.exports=v},37303:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o,v){return t.width<=0||t.height<=0?!1:t.x<=o&&t.x+t.width>=o&&t.y<=v&&t.y+t.height>=v};c.exports=g},96553:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(37303),v=function(a,i){return o(a,i.x,i.y)};c.exports=v},70273:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o){return o.width*o.height>t.width*t.height?!1:o.x>t.x&&o.x<t.right&&o.right>t.x&&o.right<t.right&&o.y>t.y&&o.y<t.bottom&&o.bottom>t.y&&o.bottom<t.bottom};c.exports=g},43459:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o){return o.setTo(t.x,t.y,t.width,t.height)};c.exports=g},77493:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o){return o===void 0&&(o=[]),o.push({x:t.x,y:t.y}),o.push({x:t.right,y:t.y}),o.push({x:t.right,y:t.bottom}),o.push({x:t.x,y:t.bottom}),o};c.exports=g},9219:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o){return t.x===o.x&&t.y===o.y&&t.width===o.width&&t.height===o.height};c.exports=g},53751:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(8249),v=function(a,i){var s=o(a);return s<o(i)?a.setSize(i.height*s,i.height):a.setSize(i.width,i.width/s),a.setPosition(i.centerX-a.width/2,i.centerY-a.height/2)};c.exports=v},16088:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(8249),v=function(a,i){var s=o(a);return s>o(i)?a.setSize(i.height*s,i.height):a.setSize(i.width,i.width/s),a.setPosition(i.centerX-a.width/2,i.centerY-a.height/2)};c.exports=v},80774:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t){return t.x=Math.floor(t.x),t.y=Math.floor(t.y),t};c.exports=g},83859:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t){return t.x=Math.floor(t.x),t.y=Math.floor(t.y),t.width=Math.floor(t.width),t.height=Math.floor(t.height),t};c.exports=g},19217:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(87841),v=t(36383),a=function(i,s){if(s===void 0&&(s=new o),i.length===0)return s;for(var e=Number.MAX_VALUE,r=Number.MAX_VALUE,h=v.MIN_SAFE_INTEGER,n=v.MIN_SAFE_INTEGER,l,f,u,d=0;d<i.length;d++)l=i[d],Array.isArray(l)?(f=l[0],u=l[1]):(f=l.x,u=l.y),e=Math.min(e,f),r=Math.min(r,u),h=Math.max(h,f),n=Math.max(n,u);return s.x=e,s.y=r,s.width=h-e,s.height=n-r,s};c.exports=a},9477:(c,g,t)=>{/**
 * @author       samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(87841),v=function(a,i,s,e,r){return r===void 0&&(r=new o),r.setTo(Math.min(a,s),Math.min(i,e),Math.abs(a-s),Math.abs(i-e))};c.exports=v},8249:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t){return t.height===0?NaN:t.width/t.height};c.exports=g},27165:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(2141),v=function(a,i){return i===void 0&&(i=new o),i.x=a.centerX,i.y=a.centerY,i};c.exports=v},20812:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(13019),v=t(2141),a=function(i,s,e){if(e===void 0&&(e=new v),s<=0||s>=1)return e.x=i.x,e.y=i.y,e;var r=o(i)*s;return s>.5?(r-=i.width+i.height,r<=i.width?(e.x=i.right-r,e.y=i.bottom):(e.x=i.x,e.y=i.bottom-(r-i.width))):r<=i.width?(e.x=i.x+r,e.y=i.y):(e.x=i.right,e.y=i.y+(r-i.width)),e};c.exports=a},34819:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(20812),v=t(13019),a=function(i,s,e,r){r===void 0&&(r=[]),!s&&e>0&&(s=v(i)/e);for(var h=0;h<s;h++){var n=h/s;r.push(o(i,n))}return r};c.exports=a},51313:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(2141),v=function(a,i){return i===void 0&&(i=new o),i.x=a.width,i.y=a.height,i};c.exports=v},86091:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(67502),v=function(a,i,s){var e=a.centerX,r=a.centerY;return a.setSize(a.width+i*2,a.height+s*2),o(a,e,r)};c.exports=v},53951:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(87841),v=t(59996),a=function(i,s,e){return e===void 0&&(e=new o),v(i,s)?(e.x=Math.max(i.x,s.x),e.y=Math.max(i.y,s.y),e.width=Math.min(i.right,s.right)-e.x,e.height=Math.min(i.bottom,s.bottom)-e.y):e.setEmpty(),e};c.exports=a},14649:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(13019),v=t(2141),a=function(i,s,e,r){if(r===void 0&&(r=[]),!s&&!e)return r;s?e=Math.round(o(i)/s):s=o(i)/e;for(var h=i.x,n=i.y,l=0,f=0;f<e;f++)switch(r.push(new v(h,n)),l){case 0:h+=s,h>=i.right&&(l=1,n+=h-i.right,h=i.right);break;case 1:n+=s,n>=i.bottom&&(l=2,h-=n-i.bottom,n=i.bottom);break;case 2:h-=s,h<=i.left&&(l=3,n-=i.left-h,h=i.left);break;case 3:n-=s,n<=i.top&&(l=0,n=i.top);break}return r};c.exports=a},33595:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o){for(var v=t.x,a=t.right,i=t.y,s=t.bottom,e=0;e<o.length;e++)v=Math.min(v,o[e].x),a=Math.max(a,o[e].x),i=Math.min(i,o[e].y),s=Math.max(s,o[e].y);return t.x=v,t.y=i,t.width=a-v,t.height=s-i,t};c.exports=g},20074:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o){var v=Math.min(t.x,o.x),a=Math.max(t.right,o.right);t.x=v,t.width=a-v;var i=Math.min(t.y,o.y),s=Math.max(t.bottom,o.bottom);return t.y=i,t.height=s-i,t};c.exports=g},92171:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o,v){var a=Math.min(t.x,o),i=Math.max(t.right,o);t.x=a,t.width=i-a;var s=Math.min(t.y,v),e=Math.max(t.bottom,v);return t.y=s,t.height=e-s,t};c.exports=g},42981:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o,v){return t.x+=o,t.y+=v,t};c.exports=g},46907:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o){return t.x+=o.x,t.y+=o.y,t};c.exports=g},60170:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o){return t.x<o.right&&t.right>o.x&&t.y<o.bottom&&t.bottom>o.y};c.exports=g},13019:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t){return 2*(t.width+t.height)};c.exports=g},85133:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(2141),v=t(39506),a=function(i,s,e){e===void 0&&(e=new o),s=v(s);var r=Math.sin(s),h=Math.cos(s),n=h>0?i.width/2:i.width/-2,l=r>0?i.height/2:i.height/-2;return Math.abs(n*r)<Math.abs(l*h)?l=n*r/h:n=l*h/r,e.x=n+i.centerX,e.y=l+i.centerY,e};c.exports=a},26597:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(2141),v=function(a,i){return i===void 0&&(i=new o),i.x=a.x+Math.random()*a.width,i.y=a.y+Math.random()*a.height,i};c.exports=v},86470:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(30976),v=t(70273),a=t(2141),i=function(s,e,r){if(r===void 0&&(r=new a),v(s,e))switch(o(0,3)){case 0:r.x=s.x+Math.random()*(e.right-s.x),r.y=s.y+Math.random()*(e.top-s.y);break;case 1:r.x=e.x+Math.random()*(s.right-e.x),r.y=e.bottom+Math.random()*(s.bottom-e.bottom);break;case 2:r.x=s.x+Math.random()*(e.x-s.x),r.y=e.y+Math.random()*(s.bottom-e.y);break;case 3:r.x=e.right+Math.random()*(s.right-e.right),r.y=s.y+Math.random()*(e.bottom-s.y);break}return r};c.exports=i},87841:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(37303),a=t(20812),i=t(34819),s=t(23777),e=t(23031),r=t(26597),h=new o({initialize:function(l,f,u,d){l===void 0&&(l=0),f===void 0&&(f=0),u===void 0&&(u=0),d===void 0&&(d=0),this.type=s.RECTANGLE,this.x=l,this.y=f,this.width=u,this.height=d},contains:function(n,l){return v(this,n,l)},getPoint:function(n,l){return a(this,n,l)},getPoints:function(n,l,f){return i(this,n,l,f)},getRandomPoint:function(n){return r(this,n)},setTo:function(n,l,f,u){return this.x=n,this.y=l,this.width=f,this.height=u,this},setEmpty:function(){return this.setTo(0,0,0,0)},setPosition:function(n,l){return l===void 0&&(l=n),this.x=n,this.y=l,this},setSize:function(n,l){return l===void 0&&(l=n),this.width=n,this.height=l,this},isEmpty:function(){return this.width<=0||this.height<=0},getLineA:function(n){return n===void 0&&(n=new e),n.setTo(this.x,this.y,this.right,this.y),n},getLineB:function(n){return n===void 0&&(n=new e),n.setTo(this.right,this.y,this.right,this.bottom),n},getLineC:function(n){return n===void 0&&(n=new e),n.setTo(this.right,this.bottom,this.x,this.bottom),n},getLineD:function(n){return n===void 0&&(n=new e),n.setTo(this.x,this.bottom,this.x,this.y),n},left:{get:function(){return this.x},set:function(n){n>=this.right?this.width=0:this.width=this.right-n,this.x=n}},right:{get:function(){return this.x+this.width},set:function(n){n<=this.x?this.width=0:this.width=n-this.x}},top:{get:function(){return this.y},set:function(n){n>=this.bottom?this.height=0:this.height=this.bottom-n,this.y=n}},bottom:{get:function(){return this.y+this.height},set:function(n){n<=this.y?this.height=0:this.height=n-this.y}},centerX:{get:function(){return this.x+this.width/2},set:function(n){this.x=n-this.width/2}},centerY:{get:function(){return this.y+this.height/2},set:function(n){this.y=n-this.height/2}}});c.exports=h},94845:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o){return t.width===o.width&&t.height===o.height};c.exports=g},31730:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o,v){return v===void 0&&(v=o),t.width*=o,t.height*=v,t};c.exports=g},36899:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(87841),v=function(a,i,s){s===void 0&&(s=new o);var e=Math.min(a.x,i.x),r=Math.min(a.y,i.y),h=Math.max(a.right,i.right)-e,n=Math.max(a.bottom,i.bottom)-r;return s.setTo(e,r,h,n)};c.exports=v},93232:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(87841);o.Area=t(62224),o.Ceil=t(98615),o.CeilAll=t(31688),o.CenterOn=t(67502),o.Clone=t(65085),o.Contains=t(37303),o.ContainsPoint=t(96553),o.ContainsRect=t(70273),o.CopyFrom=t(43459),o.Decompose=t(77493),o.Equals=t(9219),o.FitInside=t(53751),o.FitOutside=t(16088),o.Floor=t(80774),o.FloorAll=t(83859),o.FromPoints=t(19217),o.FromXY=t(9477),o.GetAspectRatio=t(8249),o.GetCenter=t(27165),o.GetPoint=t(20812),o.GetPoints=t(34819),o.GetSize=t(51313),o.Inflate=t(86091),o.Intersection=t(53951),o.MarchingAnts=t(14649),o.MergePoints=t(33595),o.MergeRect=t(20074),o.MergeXY=t(92171),o.Offset=t(42981),o.OffsetPoint=t(46907),o.Overlaps=t(60170),o.Perimeter=t(13019),o.PerimeterPoint=t(85133),o.Random=t(26597),o.RandomOutside=t(86470),o.SameDimensions=t(94845),o.Scale=t(31730),o.Union=t(36899),c.exports=o},41658:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t){var o=t.x1,v=t.y1,a=t.x2,i=t.y2,s=t.x3,e=t.y3;return Math.abs(((s-o)*(i-v)-(a-o)*(e-v))/2)};c.exports=g},39208:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(16483),v=function(a,i,s){var e=s*(Math.sqrt(3)/2),r=a,h=i,n=a+s/2,l=i+e,f=a-s/2,u=i+e;return new o(r,h,n,l,f,u)};c.exports=v},39545:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(94811),v=t(16483),a=function(i,s,e,r,h){s===void 0&&(s=null),e===void 0&&(e=1),r===void 0&&(r=1),h===void 0&&(h=[]);for(var n=o(i,s),l,f,u,d,p,x,E,T,C,A=0;A<n.length;A+=3)l=n[A],f=n[A+1],u=n[A+2],d=i[l*2]*e,p=i[l*2+1]*r,x=i[f*2]*e,E=i[f*2+1]*r,T=i[u*2]*e,C=i[u*2+1]*r,h.push(new v(d,p,x,E,T,C));return h};c.exports=a},90301:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(16483),v=function(a,i,s,e){e===void 0&&(e=s);var r=a,h=i,n=a,l=i-e,f=a+s,u=i;return new o(r,h,n,l,f,u)};c.exports=v},23707:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(97523),v=t(13584),a=function(i,s,e,r){r===void 0&&(r=o);var h=r(i),n=s-h.x,l=e-h.y;return v(i,n,l)};c.exports=a},97523:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(2141),v=function(a,i){return i===void 0&&(i=new o),i.x=(a.x1+a.x2+a.x3)/3,i.y=(a.y1+a.y2+a.y3)/3,i};c.exports=v},24951:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(26099);function v(i,s,e,r){return i*r-s*e}var a=function(i,s){s===void 0&&(s=new o);var e=i.x3,r=i.y3,h=i.x1-e,n=i.y1-r,l=i.x2-e,f=i.y2-r,u=2*v(h,n,l,f),d=v(n,h*h+n*n,f,l*l+f*f),p=v(h,h*h+n*n,l,l*l+f*f);return s.x=e-d/u,s.y=r+p/u,s};c.exports=a},85614:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(96503),v=function(a,i){i===void 0&&(i=new o);var s=a.x1,e=a.y1,r=a.x2,h=a.y2,n=a.x3,l=a.y3,f=r-s,u=h-e,d=n-s,p=l-e,x=f*(s+r)+u*(e+h),E=d*(s+n)+p*(e+l),T=2*(f*(l-h)-u*(n-r)),C,A;if(Math.abs(T)<1e-6){var M=Math.min(s,r,n),R=Math.min(e,h,l);C=(Math.max(s,r,n)-M)*.5,A=(Math.max(e,h,l)-R)*.5,i.x=M+C,i.y=R+A,i.radius=Math.sqrt(C*C+A*A)}else i.x=(p*x-u*E)/T,i.y=(f*E-d*x)/T,C=i.x-s,A=i.y-e,i.radius=Math.sqrt(C*C+A*A);return i};c.exports=v},74422:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(16483),v=function(a){return new o(a.x1,a.y1,a.x2,a.y2,a.x3,a.y3)};c.exports=v},10690:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o,v){var a=t.x3-t.x1,i=t.y3-t.y1,s=t.x2-t.x1,e=t.y2-t.y1,r=o-t.x1,h=v-t.y1,n=a*a+i*i,l=a*s+i*e,f=a*r+i*h,u=s*s+e*e,d=s*r+e*h,p=n*u-l*l,x=p===0?0:1/p,E=(u*f-l*d)*x,T=(n*d-l*f)*x;return E>=0&&T>=0&&E+T<1};c.exports=g},48653:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o,v,a){v===void 0&&(v=!1),a===void 0&&(a=[]);for(var i=t.x3-t.x1,s=t.y3-t.y1,e=t.x2-t.x1,r=t.y2-t.y1,h=i*i+s*s,n=i*e+s*r,l=e*e+r*r,f=h*l-n*n,u=f===0?0:1/f,d,p,x,E,T,C,A=t.x1,M=t.y1,R=0;R<o.length&&(x=o[R].x-A,E=o[R].y-M,T=i*x+s*E,C=e*x+r*E,d=(l*T-n*C)*u,p=(h*C-n*T)*u,!(d>=0&&p>=0&&d+p<1&&(a.push({x:o[R].x,y:o[R].y}),v)));R++);return a};c.exports=g},96006:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(10690),v=function(a,i){return o(a,i.x,i.y)};c.exports=v},71326:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o){return o.setTo(t.x1,t.y1,t.x2,t.y2,t.x3,t.y3)};c.exports=g},71694:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o){return o===void 0&&(o=[]),o.push({x:t.x1,y:t.y1}),o.push({x:t.x2,y:t.y2}),o.push({x:t.x3,y:t.y3}),o};c.exports=g},33522:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o){return t.x1===o.x1&&t.y1===o.y1&&t.x2===o.x2&&t.y2===o.y2&&t.x3===o.x3&&t.y3===o.y3};c.exports=g},20437:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(2141),v=t(35001),a=function(i,s,e){e===void 0&&(e=new o);var r=i.getLineA(),h=i.getLineB(),n=i.getLineC();if(s<=0||s>=1)return e.x=r.x1,e.y=r.y1,e;var l=v(r),f=v(h),u=v(n),d=l+f+u,p=d*s,x=0;return p<l?(x=p/l,e.x=r.x1+(r.x2-r.x1)*x,e.y=r.y1+(r.y2-r.y1)*x):p>l+f?(p-=l+f,x=p/u,e.x=n.x1+(n.x2-n.x1)*x,e.y=n.y1+(n.y2-n.y1)*x):(p-=l,x=p/f,e.x=h.x1+(h.x2-h.x1)*x,e.y=h.y1+(h.y2-h.y1)*x),e};c.exports=a},80672:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(35001),v=t(2141),a=function(i,s,e,r){r===void 0&&(r=[]);var h=i.getLineA(),n=i.getLineB(),l=i.getLineC(),f=o(h),u=o(n),d=o(l),p=f+u+d;!s&&e>0&&(s=p/e);for(var x=0;x<s;x++){var E=p*(x/s),T=0,C=new v;E<f?(T=E/f,C.x=h.x1+(h.x2-h.x1)*T,C.y=h.y1+(h.y2-h.y1)*T):E>f+u?(E-=f+u,T=E/d,C.x=l.x1+(l.x2-l.x1)*T,C.y=l.y1+(l.y2-l.y1)*T):(E-=f,T=E/u,C.x=n.x1+(n.x2-n.x1)*T,C.y=n.y1+(n.y2-n.y1)*T),r.push(C)}return r};c.exports=a},39757:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(2141);function v(i,s,e,r){var h=i-e,n=s-r,l=h*h+n*n;return Math.sqrt(l)}var a=function(i,s){s===void 0&&(s=new o);var e=i.x1,r=i.y1,h=i.x2,n=i.y2,l=i.x3,f=i.y3,u=v(l,f,h,n),d=v(e,r,l,f),p=v(h,n,e,r),x=u+d+p;return s.x=(e*u+h*d+l*p)/x,s.y=(r*u+n*d+f*p)/x,s};c.exports=a},13584:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o,v){return t.x1+=o,t.y1+=v,t.x2+=o,t.y2+=v,t.x3+=o,t.y3+=v,t};c.exports=g},1376:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(35001),v=function(a){var i=a.getLineA(),s=a.getLineB(),e=a.getLineC();return o(i)+o(s)+o(e)};c.exports=v},90260:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(2141),v=function(a,i){i===void 0&&(i=new o);var s=a.x2-a.x1,e=a.y2-a.y1,r=a.x3-a.x1,h=a.y3-a.y1,n=Math.random(),l=Math.random();return n+l>=1&&(n=1-n,l=1-l),i.x=a.x1+(s*n+r*l),i.y=a.y1+(e*n+h*l),i};c.exports=v},52172:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(99614),v=t(39757),a=function(i,s){var e=v(i);return o(i,e.x,e.y,s)};c.exports=a},49907:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(99614),v=function(a,i,s){return o(a,i.x,i.y,s)};c.exports=v},99614:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o,v,a){var i=Math.cos(a),s=Math.sin(a),e=t.x1-o,r=t.y1-v;return t.x1=e*i-r*s+o,t.y1=e*s+r*i+v,e=t.x2-o,r=t.y2-v,t.x2=e*i-r*s+o,t.y2=e*s+r*i+v,e=t.x3-o,r=t.y3-v,t.x3=e*i-r*s+o,t.y3=e*s+r*i+v,t};c.exports=g},16483:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(10690),a=t(20437),i=t(80672),s=t(23777),e=t(23031),r=t(90260),h=new o({initialize:function(l,f,u,d,p,x){l===void 0&&(l=0),f===void 0&&(f=0),u===void 0&&(u=0),d===void 0&&(d=0),p===void 0&&(p=0),x===void 0&&(x=0),this.type=s.TRIANGLE,this.x1=l,this.y1=f,this.x2=u,this.y2=d,this.x3=p,this.y3=x},contains:function(n,l){return v(this,n,l)},getPoint:function(n,l){return a(this,n,l)},getPoints:function(n,l,f){return i(this,n,l,f)},getRandomPoint:function(n){return r(this,n)},setTo:function(n,l,f,u,d,p){return n===void 0&&(n=0),l===void 0&&(l=0),f===void 0&&(f=0),u===void 0&&(u=0),d===void 0&&(d=0),p===void 0&&(p=0),this.x1=n,this.y1=l,this.x2=f,this.y2=u,this.x3=d,this.y3=p,this},getLineA:function(n){return n===void 0&&(n=new e),n.setTo(this.x1,this.y1,this.x2,this.y2),n},getLineB:function(n){return n===void 0&&(n=new e),n.setTo(this.x2,this.y2,this.x3,this.y3),n},getLineC:function(n){return n===void 0&&(n=new e),n.setTo(this.x3,this.y3,this.x1,this.y1),n},left:{get:function(){return Math.min(this.x1,this.x2,this.x3)},set:function(n){var l=0;this.x1<=this.x2&&this.x1<=this.x3?l=this.x1-n:this.x2<=this.x1&&this.x2<=this.x3?l=this.x2-n:l=this.x3-n,this.x1-=l,this.x2-=l,this.x3-=l}},right:{get:function(){return Math.max(this.x1,this.x2,this.x3)},set:function(n){var l=0;this.x1>=this.x2&&this.x1>=this.x3?l=this.x1-n:this.x2>=this.x1&&this.x2>=this.x3?l=this.x2-n:l=this.x3-n,this.x1-=l,this.x2-=l,this.x3-=l}},top:{get:function(){return Math.min(this.y1,this.y2,this.y3)},set:function(n){var l=0;this.y1<=this.y2&&this.y1<=this.y3?l=this.y1-n:this.y2<=this.y1&&this.y2<=this.y3?l=this.y2-n:l=this.y3-n,this.y1-=l,this.y2-=l,this.y3-=l}},bottom:{get:function(){return Math.max(this.y1,this.y2,this.y3)},set:function(n){var l=0;this.y1>=this.y2&&this.y1>=this.y3?l=this.y1-n:this.y2>=this.y1&&this.y2>=this.y3?l=this.y2-n:l=this.y3-n,this.y1-=l,this.y2-=l,this.y3-=l}}});c.exports=h},84435:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(16483);o.Area=t(41658),o.BuildEquilateral=t(39208),o.BuildFromPolygon=t(39545),o.BuildRight=t(90301),o.CenterOn=t(23707),o.Centroid=t(97523),o.CircumCenter=t(24951),o.CircumCircle=t(85614),o.Clone=t(74422),o.Contains=t(10690),o.ContainsArray=t(48653),o.ContainsPoint=t(96006),o.CopyFrom=t(71326),o.Decompose=t(71694),o.Equals=t(33522),o.GetPoint=t(20437),o.GetPoints=t(80672),o.InCenter=t(39757),o.Perimeter=t(1376),o.Offset=t(13584),o.Random=t(90260),o.Rotate=t(52172),o.RotateAroundPoint=t(49907),o.RotateAroundXY=t(99614),c.exports=o},74457:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o,v){return{gameObject:t,enabled:!0,draggable:!1,dropZone:!1,cursor:!1,target:null,camera:null,hitArea:o,hitAreaCallback:v,hitAreaDebug:null,customHitArea:!1,localX:0,localY:0,dragState:0,dragStartX:0,dragStartY:0,dragStartXGlobal:0,dragStartYGlobal:0,dragX:0,dragY:0}};c.exports=g},84409:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o){return function(v,a,i,s){var e=t.getPixelAlpha(a,i,s.texture.key,s.frame.name);return e&&e>=o}};c.exports=g},7003:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(93301),a=t(50792),i=t(8214),s=t(8443),e=t(78970),r=t(85098),h=t(42515),n=t(36210),l=t(61340),f=t(85955),u=new o({initialize:function(p,x){this.game=p,this.scaleManager,this.canvas,this.config=x,this.enabled=!0,this.events=new a,this.isOver=!0,this.defaultCursor="",this.keyboard=x.inputKeyboard?new e(this):null,this.mouse=x.inputMouse?new r(this):null,this.touch=x.inputTouch?new n(this):null,this.pointers=[],this.pointersTotal=x.inputActivePointers,x.inputTouch&&this.pointersTotal===1&&(this.pointersTotal=2);for(var E=0;E<=this.pointersTotal;E++){var T=new h(this,E);T.smoothFactor=x.inputSmoothFactor,this.pointers.push(T)}this.mousePointer=x.inputMouse?this.pointers[0]:null,this.activePointer=this.pointers[0],this.globalTopOnly=!0,this.time=0,this._tempPoint={x:0,y:0},this._tempHitTest=[],this._tempMatrix=new l,this._tempMatrix2=new l,this._tempSkip=!1,this.mousePointerContainer=[this.mousePointer],p.events.once(s.BOOT,this.boot,this)},boot:function(){var d=this.game,p=d.events;this.canvas=d.canvas,this.scaleManager=d.scale,this.events.emit(i.MANAGER_BOOT),p.on(s.PRE_RENDER,this.preRender,this),p.once(s.DESTROY,this.destroy,this)},setCanvasOver:function(d){this.isOver=!0,this.events.emit(i.GAME_OVER,d)},setCanvasOut:function(d){this.isOver=!1,this.events.emit(i.GAME_OUT,d)},preRender:function(){var d=this.game.loop.now,p=this.game.loop.delta,x=this.game.scene.getScenes(!0,!0);this.time=d,this.events.emit(i.MANAGER_UPDATE);for(var E=0;E<x.length;E++){var T=x[E];if(T.sys.input&&T.sys.input.updatePoll(d,p)&&this.globalTopOnly)return}},setDefaultCursor:function(d){this.defaultCursor=d,this.canvas.style.cursor!==d&&(this.canvas.style.cursor=d)},setCursor:function(d){d.cursor&&(this.canvas.style.cursor=d.cursor)},resetCursor:function(d){d.cursor&&this.canvas&&(this.canvas.style.cursor=this.defaultCursor)},addPointer:function(d){d===void 0&&(d=1);var p=[];this.pointersTotal+d>10&&(d=10-this.pointersTotal);for(var x=0;x<d;x++){var E=this.pointers.length,T=new h(this,E);T.smoothFactor=this.config.inputSmoothFactor,this.pointers.push(T),this.pointersTotal++,p.push(T)}return p},updateInputPlugins:function(d,p){var x=this.game.scene.getScenes(!1,!0);this._tempSkip=!1;for(var E=0;E<x.length;E++){var T=x[E];if(T.sys.input){var C=T.sys.input.update(d,p);if(C&&this.globalTopOnly||this._tempSkip)return}}},onTouchStart:function(d){for(var p=this.pointers,x=[],E=0;E<d.changedTouches.length;E++)for(var T=d.changedTouches[E],C=1;C<this.pointersTotal;C++){var A=p[C];if(!A.active){A.touchstart(T,d),this.activePointer=A,x.push(A);break}}this.updateInputPlugins(v.TOUCH_START,x)},onTouchMove:function(d){for(var p=this.pointers,x=[],E=0;E<d.changedTouches.length;E++)for(var T=d.changedTouches[E],C=1;C<this.pointersTotal;C++){var A=p[C];if(A.active&&A.identifier===T.identifier){var M=document.elementFromPoint(T.clientX,T.clientY),R=M===this.canvas;!this.isOver&&R?this.setCanvasOver(d):this.isOver&&!R&&this.setCanvasOut(d),this.isOver&&(A.touchmove(T,d),this.activePointer=A,x.push(A));break}}this.updateInputPlugins(v.TOUCH_MOVE,x)},onTouchEnd:function(d){for(var p=this.pointers,x=[],E=0;E<d.changedTouches.length;E++)for(var T=d.changedTouches[E],C=1;C<this.pointersTotal;C++){var A=p[C];if(A.active&&A.identifier===T.identifier){A.touchend(T,d),x.push(A);break}}this.updateInputPlugins(v.TOUCH_END,x)},onTouchCancel:function(d){for(var p=this.pointers,x=[],E=0;E<d.changedTouches.length;E++)for(var T=d.changedTouches[E],C=1;C<this.pointersTotal;C++){var A=p[C];if(A.active&&A.identifier===T.identifier){A.touchcancel(T,d),x.push(A);break}}this.updateInputPlugins(v.TOUCH_CANCEL,x)},onMouseDown:function(d){var p=this.mousePointer;p.down(d),p.updateMotion(),this.activePointer=p,this.updateInputPlugins(v.MOUSE_DOWN,this.mousePointerContainer)},onMouseMove:function(d){var p=this.mousePointer;p.move(d),p.updateMotion(),this.activePointer=p,this.updateInputPlugins(v.MOUSE_MOVE,this.mousePointerContainer)},onMouseUp:function(d){var p=this.mousePointer;p.up(d),p.updateMotion(),this.activePointer=p,this.updateInputPlugins(v.MOUSE_UP,this.mousePointerContainer)},onMouseWheel:function(d){var p=this.mousePointer;p.wheel(d),this.activePointer=p,this.updateInputPlugins(v.MOUSE_WHEEL,this.mousePointerContainer)},onPointerLockChange:function(d){var p=this.mouse.locked;this.mousePointer.locked=p,this.events.emit(i.POINTERLOCK_CHANGE,d,p)},inputCandidate:function(d,p){var x=d.input;if(!x||!x.enabled||!d.willRender(p))return!1;var E=!0,T=d.parentContainer;if(T)do{if(!T.willRender(p)){E=!1;break}T=T.parentContainer}while(T);return E},hitTest:function(d,p,x,E){E===void 0&&(E=this._tempHitTest);var T=this._tempPoint,C=x.scrollX,A=x.scrollY;E.length=0;var M=d.x,R=d.y;x.getWorldPoint(M,R,T),d.worldX=T.x,d.worldY=T.y;for(var O={x:0,y:0},L=this._tempMatrix,b=this._tempMatrix2,N=0;N<p.length;N++){var I=p[N];if(this.inputCandidate(I,x)){var G=T.x+C*I.scrollFactorX-C,X=T.y+A*I.scrollFactorY-A;I.parentContainer?(I.getWorldTransformMatrix(L,b),L.applyInverse(G,X,O)):f(G,X,I.x,I.y,I.rotation,I.scaleX,I.scaleY,O),this.pointWithinHitArea(I,O.x,O.y)&&E.push(I)}}return E},pointWithinHitArea:function(d,p,x){p+=d.displayOriginX,x+=d.displayOriginY;var E=d.input;return E&&E.hitAreaCallback(E.hitArea,p,x,d)?(E.localX=p,E.localY=x,!0):!1},pointWithinInteractiveObject:function(d,p,x){return d.hitArea?(p+=d.gameObject.displayOriginX,x+=d.gameObject.displayOriginY,d.localX=p,d.localY=x,d.hitAreaCallback(d.hitArea,p,x,d)):!1},transformPointer:function(d,p,x,E){var T=d.position,C=d.prevPosition;C.x=T.x,C.y=T.y;var A=this.scaleManager.transformX(p),M=this.scaleManager.transformY(x),R=d.smoothFactor;!E||R===0?(T.x=A,T.y=M):(T.x=A*R+C.x*(1-R),T.y=M*R+C.y*(1-R))},destroy:function(){this.events.removeAllListeners(),this.game.events.off(s.PRE_RENDER),this.keyboard&&this.keyboard.destroy(),this.mouse&&this.mouse.destroy(),this.touch&&this.touch.destroy();for(var d=0;d<this.pointers.length;d++)this.pointers[d].destroy();this.pointers=[],this._tempHitTest=[],this._tempMatrix.destroy(),this.canvas=null,this.game=null}});c.exports=u},48205:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(96503),v=t(87902),a=t(83419),i=t(93301),s=t(74457),e=t(84409),r=t(20339),h=t(8497),n=t(81154),l=t(8214),f=t(50792),u=t(95540),d=t(23777),p=t(89639),x=t(41212),E=t(37277),T=t(87841),C=t(37303),A=t(44594),M=t(16483),R=t(10690),O=new a({Extends:f,initialize:function(b){f.call(this),this.scene=b,this.systems=b.sys,this.settings=b.sys.settings,this.manager=b.sys.game.input,this.pluginEvents=new f,this.enabled=!0,this.displayList,this.cameras,p.install(this),this.mouse=this.manager.mouse,this.topOnly=!0,this.pollRate=-1,this._pollTimer=0;var N={cancelled:!1};this._eventContainer={stopPropagation:function(){N.cancelled=!0}},this._eventData=N,this.dragDistanceThreshold=0,this.dragTimeThreshold=0,this._temp=[],this._tempZones=[],this._list=[],this._pendingInsertion=[],this._pendingRemoval=[],this._draggable=[],this._drag={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[]},this._dragState=[],this._over={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[]},this._validTypes=["onDown","onUp","onOver","onOut","onMove","onDragStart","onDrag","onDragEnd","onDragEnter","onDragLeave","onDragOver","onDrop"],this._updatedThisFrame=!1,b.sys.events.once(A.BOOT,this.boot,this),b.sys.events.on(A.START,this.start,this)},boot:function(){this.cameras=this.systems.cameras,this.displayList=this.systems.displayList,this.systems.events.once(A.DESTROY,this.destroy,this),this.pluginEvents.emit(l.BOOT)},start:function(){var L=this.systems.events;L.on(A.TRANSITION_START,this.transitionIn,this),L.on(A.TRANSITION_OUT,this.transitionOut,this),L.on(A.TRANSITION_COMPLETE,this.transitionComplete,this),L.on(A.PRE_UPDATE,this.preUpdate,this),L.once(A.SHUTDOWN,this.shutdown,this),this.manager.events.on(l.GAME_OUT,this.onGameOut,this),this.manager.events.on(l.GAME_OVER,this.onGameOver,this),this.enabled=!0,this._dragState=[0,0,0,0,0,0,0,0,0,0],this.pluginEvents.emit(l.START)},onGameOver:function(L){this.isActive()&&this.emit(l.GAME_OVER,L.timeStamp,L)},onGameOut:function(L){this.isActive()&&this.emit(l.GAME_OUT,L.timeStamp,L)},preUpdate:function(){this.pluginEvents.emit(l.PRE_UPDATE);var L=this._pendingRemoval,b=this._pendingInsertion,N=L.length,I=b.length;if(!(N===0&&I===0)){for(var G=this._list,X=0;X<N;X++){var $=L[X],J=G.indexOf($);J>-1&&(G.splice(J,1),this.clear($,!0))}this._pendingRemoval.length=0,this._list=G.concat(b.splice(0))}},isActive:function(){return this.enabled&&this.scene.sys.canInput()},updatePoll:function(L,b){if(!this.isActive())return!1;if(this.pluginEvents.emit(l.UPDATE,L,b),this._updatedThisFrame)return this._updatedThisFrame=!1,!1;var N,I=this.manager,G=I.pointers,X=I.pointersTotal;for(N=0;N<X;N++)G[N].updateMotion();if(this._list.length===0)return!1;var $=this.pollRate;if($===-1)return!1;if($>0)if(this._pollTimer-=b,this._pollTimer<0)this._pollTimer=this.pollRate;else return!1;var J=!1;for(N=0;N<X;N++){var z=0,Y=G[N];this._tempZones=[],this._temp=this.hitTestPointer(Y),this.sortGameObjects(this._temp,Y),this.sortDropZones(this._tempZones),this.topOnly&&(this._temp.length&&this._temp.splice(1),this._tempZones.length&&this._tempZones.splice(1)),z+=this.processOverOutEvents(Y),this.getDragState(Y)===2&&this.processDragThresholdEvent(Y,L),z>0&&(J=!0)}return J},update:function(L,b){if(!this.isActive())return!1;for(var N=b.length,I=!1,G=0;G<N;G++){var X=0,$=b[G];switch(this._tempZones=[],this._temp=this.hitTestPointer($),this.sortGameObjects(this._temp,$),this.sortDropZones(this._tempZones),this.topOnly&&(this._temp.length&&this._temp.splice(1),this._tempZones.length&&this._tempZones.splice(1)),L){case i.MOUSE_DOWN:X+=this.processDragDownEvent($),X+=this.processDownEvents($),X+=this.processOverOutEvents($);break;case i.MOUSE_UP:X+=this.processDragUpEvent($),X+=this.processUpEvents($),X+=this.processOverOutEvents($);break;case i.TOUCH_START:X+=this.processDragDownEvent($),X+=this.processDownEvents($),X+=this.processOverEvents($);break;case i.TOUCH_END:case i.TOUCH_CANCEL:X+=this.processDragUpEvent($),X+=this.processUpEvents($),X+=this.processOutEvents($);break;case i.MOUSE_MOVE:case i.TOUCH_MOVE:X+=this.processDragMoveEvent($),X+=this.processMoveEvents($),X+=this.processOverOutEvents($);break;case i.MOUSE_WHEEL:X+=this.processWheelEvent($);break}X>0&&(I=!0)}return this._updatedThisFrame=!0,I},clear:function(L,b){b===void 0&&(b=!1),this.disable(L);var N=L.input;N&&(this.removeDebug(L),this.manager.resetCursor(N),N.gameObject=void 0,N.target=void 0,N.hitArea=void 0,N.hitAreaCallback=void 0,N.callbackContext=void 0,L.input=null),b||this.queueForRemoval(L);var I=this._draggable.indexOf(L);return I>-1&&this._draggable.splice(I,1),L},disable:function(L){var b=L.input;b&&(b.enabled=!1,b.dragState=0);for(var N=this._drag,I=this._over,G=this.manager,X=0,$;X<G.pointersTotal;X++)$=N[X].indexOf(L),$>-1&&N[X].splice($,1),$=I[X].indexOf(L),$>-1&&I[X].splice($,1);return this},enable:function(L,b,N,I){return I===void 0&&(I=!1),L.input?L.input.enabled=!0:this.setHitArea(L,b,N),L.input&&I&&!L.input.dropZone&&(L.input.dropZone=I),this},hitTestPointer:function(L){for(var b=this.cameras.getCamerasBelowPointer(L),N=0;N<b.length;N++){for(var I=b[N],G=this.manager.hitTest(L,this._list,I),X=0;X<G.length;X++){var $=G[X];$.input.dropZone&&this._tempZones.push($)}if(G.length>0)return L.camera=I,G}return L.camera=b[0],[]},processDownEvents:function(L){var b=0,N=this._temp,I=this._eventData,G=this._eventContainer;I.cancelled=!1;for(var X=!1,$=0;$<N.length;$++){var J=N[$];if(!(!J.input||!J.input.enabled)){if(b++,J.emit(l.GAMEOBJECT_POINTER_DOWN,L,J.input.localX,J.input.localY,G),I.cancelled||!J.input||!J.input.enabled){X=!0;break}if(this.emit(l.GAMEOBJECT_DOWN,L,J,G),I.cancelled||!J.input){X=!0;break}}}return!X&&this.manager&&(L.downElement===this.manager.game.canvas?this.emit(l.POINTER_DOWN,L,N):this.emit(l.POINTER_DOWN_OUTSIDE,L)),b},getDragState:function(L){return this._dragState[L.id]},setDragState:function(L,b){this._dragState[L.id]=b},processDragThresholdEvent:function(L,b){var N=!1,I=this.dragTimeThreshold,G=this.dragDistanceThreshold;if((G>0&&r(L.x,L.y,L.downX,L.downY)>=G||I>0&&b>=L.downTime+I)&&(N=!0),N)return this.setDragState(L,3),this.processDragStartList(L)},processDragStartList:function(L){if(this.getDragState(L)!==3)return 0;for(var b=this._drag[L.id],N=0;N<b.length;N++){var I=b[N],G=I.input;G.dragState=2,G.dragStartX=I.x,G.dragStartY=I.y,G.dragStartXGlobal=L.worldX,G.dragStartYGlobal=L.worldY,G.dragX=G.dragStartXGlobal-G.dragStartX,G.dragY=G.dragStartYGlobal-G.dragStartY,I.emit(l.GAMEOBJECT_DRAG_START,L,G.dragX,G.dragY),this.emit(l.DRAG_START,L,I)}return this.setDragState(L,4),b.length},processDragDownEvent:function(L){var b=this._temp;if(this._draggable.length===0||b.length===0||!L.primaryDown||this.getDragState(L)!==0)return 0;this.setDragState(L,1);for(var N=[],I=0;I<b.length;I++){var G=b[I];G.input.draggable&&G.input.dragState===0&&N.push(G)}return N.length===0?(this.setDragState(L,0),0):(N.length>1&&(this.sortGameObjects(N,L),this.topOnly&&N.splice(1)),this._drag[L.id]=N,this.dragDistanceThreshold===0&&this.dragTimeThreshold===0?(this.setDragState(L,3),this.processDragStartList(L)):(this.setDragState(L,2),0))},processDragMoveEvent:function(L){if(this.getDragState(L)===2&&this.processDragThresholdEvent(L,this.manager.game.loop.now),this.getDragState(L)!==4)return 0;for(var b=this._tempZones,N=this._drag[L.id],I=0;I<N.length;I++){var G=N[I],X=G.input,$=X.target;if($){var J=b.indexOf($);J===0?(G.emit(l.GAMEOBJECT_DRAG_OVER,L,$),this.emit(l.DRAG_OVER,L,G,$)):J>0?(G.emit(l.GAMEOBJECT_DRAG_LEAVE,L,$),this.emit(l.DRAG_LEAVE,L,G,$),X.target=b[0],$=X.target,G.emit(l.GAMEOBJECT_DRAG_ENTER,L,$),this.emit(l.DRAG_ENTER,L,G,$)):(G.emit(l.GAMEOBJECT_DRAG_LEAVE,L,$),this.emit(l.DRAG_LEAVE,L,G,$),b[0]?(X.target=b[0],$=X.target,G.emit(l.GAMEOBJECT_DRAG_ENTER,L,$),this.emit(l.DRAG_ENTER,L,G,$)):X.target=null)}else!$&&b[0]&&(X.target=b[0],$=X.target,G.emit(l.GAMEOBJECT_DRAG_ENTER,L,$),this.emit(l.DRAG_ENTER,L,G,$));var z,Y;if(!G.parentContainer)z=L.worldX-X.dragX,Y=L.worldY-X.dragY;else{var D=L.worldX-X.dragStartXGlobal,B=L.worldY-X.dragStartYGlobal,U=G.getParentRotation(),H=D*Math.cos(U)+B*Math.sin(U),j=B*Math.cos(U)-D*Math.sin(U);H*=1/G.parentContainer.scaleX,j*=1/G.parentContainer.scaleY,z=H+X.dragStartX,Y=j+X.dragStartY}G.emit(l.GAMEOBJECT_DRAG,L,z,Y),this.emit(l.DRAG,L,G,z,Y)}return N.length},processDragUpEvent:function(L){for(var b=this._drag[L.id],N=0;N<b.length;N++){var I=b[N],G=I.input;if(G&&G.dragState===2){G.dragState=0,G.dragX=G.localX-I.displayOriginX,G.dragY=G.localY-I.displayOriginY;var X=!1,$=G.target;$&&(I.emit(l.GAMEOBJECT_DROP,L,$),this.emit(l.DROP,L,I,$),G.target=null,X=!0),I.input&&I.input.enabled&&(I.emit(l.GAMEOBJECT_DRAG_END,L,G.dragX,G.dragY,X),this.emit(l.DRAG_END,L,I,X))}}return this.setDragState(L,0),b.splice(0),0},processMoveEvents:function(L){var b=0,N=this._temp,I=this._eventData,G=this._eventContainer;I.cancelled=!1;for(var X=!1,$=0;$<N.length;$++){var J=N[$];if(!(!J.input||!J.input.enabled)){if(b++,J.emit(l.GAMEOBJECT_POINTER_MOVE,L,J.input.localX,J.input.localY,G),I.cancelled||!J.input||!J.input.enabled){X=!0;break}if(this.emit(l.GAMEOBJECT_MOVE,L,J,G),I.cancelled||!J.input||!J.input.enabled){X=!0;break}if(this.topOnly)break}}return X||this.emit(l.POINTER_MOVE,L,N),b},processWheelEvent:function(L){var b=0,N=this._temp,I=this._eventData,G=this._eventContainer;I.cancelled=!1;for(var X=!1,$=L.deltaX,J=L.deltaY,z=L.deltaZ,Y=0;Y<N.length;Y++){var D=N[Y];if(!(!D.input||!D.input.enabled)){if(b++,D.emit(l.GAMEOBJECT_POINTER_WHEEL,L,$,J,z,G),I.cancelled||!D.input||!D.input.enabled){X=!0;break}if(this.emit(l.GAMEOBJECT_WHEEL,L,D,$,J,z,G),I.cancelled||!D.input||!D.input.enabled){X=!0;break}}}return X||this.emit(l.POINTER_WHEEL,L,N,$,J,z),b},processOverEvents:function(L){var b=this._temp,N=0,I=b.length,G=[];if(I>0){var X=this.manager,$=this._eventData,J=this._eventContainer;$.cancelled=!1;for(var z=!1,Y=0;Y<I;Y++){var D=b[Y];if(!(!D.input||!D.input.enabled)){if(G.push(D),X.setCursor(D.input),D.emit(l.GAMEOBJECT_POINTER_OVER,L,D.input.localX,D.input.localY,J),N++,$.cancelled||!D.input||!D.input.enabled){z=!0;break}if(this.emit(l.GAMEOBJECT_OVER,L,D,J),$.cancelled||!D.input||!D.input.enabled){z=!0;break}}}z||this.emit(l.POINTER_OVER,L,G)}return this._over[L.id]=G,N},processOutEvents:function(L){var b=this._over[L.id],N=0,I=b.length;if(I>0){var G=this.manager,X=this._eventData,$=this._eventContainer;X.cancelled=!1;var J=!1;this.sortGameObjects(b,L);for(var z=0;z<I;z++){var Y=b[z];if(Y=b[z],!(!Y.input||!Y.input.enabled)){if(G.resetCursor(Y.input),Y.emit(l.GAMEOBJECT_POINTER_OUT,L,$),N++,X.cancelled||!Y.input||!Y.input.enabled){J=!0;break}if(this.emit(l.GAMEOBJECT_OUT,L,Y,$),X.cancelled||!Y.input||!Y.input.enabled){J=!0;break}J||this.emit(l.POINTER_OUT,L,b)}}this._over[L.id]=[]}return N},processOverOutEvents:function(L){var b=this._temp,N,I,G=[],X=[],$=[],J=this._over[L.id],z=this._drag[L.id],Y=this.manager;for(N=0;N<J.length;N++)I=J[N],b.indexOf(I)===-1&&z.indexOf(I)===-1?G.push(I):$.push(I);for(N=0;N<b.length;N++)I=b[N],J.indexOf(I)===-1&&X.push(I);var D=G.length,B=0,U=this._eventData,H=this._eventContainer;U.cancelled=!1;var j=!1;if(D>0){for(this.sortGameObjects(G,L),N=0;N<D;N++)if(I=G[N],!(!I.input||!I.input.enabled)){if(Y.resetCursor(I.input),I.emit(l.GAMEOBJECT_POINTER_OUT,L,H),B++,U.cancelled||!I.input||!I.input.enabled){j=!0;break}if(this.emit(l.GAMEOBJECT_OUT,L,I,H),U.cancelled||!I.input||!I.input.enabled){j=!0;break}}j||this.emit(l.POINTER_OUT,L,G)}if(D=X.length,U.cancelled=!1,j=!1,D>0){for(this.sortGameObjects(X,L),N=0;N<D;N++)if(I=X[N],!(!I.input||!I.input.enabled)){if(Y.setCursor(I.input),I.emit(l.GAMEOBJECT_POINTER_OVER,L,I.input.localX,I.input.localY,H),B++,U.cancelled||!I.input||!I.input.enabled){j=!0;break}if(this.emit(l.GAMEOBJECT_OVER,L,I,H),U.cancelled||!I.input||!I.input.enabled){j=!0;break}}j||this.emit(l.POINTER_OVER,L,X)}return J=$.concat(X),this._over[L.id]=this.sortGameObjects(J,L),B},processUpEvents:function(L){var b=this._temp,N=this._eventData,I=this._eventContainer;N.cancelled=!1;for(var G=!1,X=0;X<b.length;X++){var $=b[X];if(!(!$.input||!$.input.enabled)){if($.emit(l.GAMEOBJECT_POINTER_UP,L,$.input.localX,$.input.localY,I),N.cancelled||!$.input||!$.input.enabled){G=!0;break}if(this.emit(l.GAMEOBJECT_UP,L,$,I),N.cancelled||!$.input||!$.input.enabled){G=!0;break}}}return!G&&this.manager&&(L.upElement===this.manager.game.canvas?this.emit(l.POINTER_UP,L,b):this.emit(l.POINTER_UP_OUTSIDE,L)),b.length},queueForInsertion:function(L){return this._pendingInsertion.indexOf(L)===-1&&this._list.indexOf(L)===-1&&this._pendingInsertion.push(L),this},queueForRemoval:function(L){return this._pendingRemoval.push(L),this},setDraggable:function(L,b){b===void 0&&(b=!0),Array.isArray(L)||(L=[L]);for(var N=0;N<L.length;N++){var I=L[N];I.input.draggable=b;var G=this._draggable.indexOf(I);b&&G===-1?this._draggable.push(I):!b&&G>-1&&this._draggable.splice(G,1)}return this},makePixelPerfect:function(L){L===void 0&&(L=1);var b=this.systems.textures;return e(b,L)},setHitArea:function(L,b,N){if(b===void 0)return this.setHitAreaFromTexture(L);Array.isArray(L)||(L=[L]);var I=!1,G=!1,X=!1,$=!1,J=!1,z=!0;if(x(b)&&Object.keys(b).length){var Y=b,D=L.some(function(q){return q.hasOwnProperty("faces")});if(!D){b=u(Y,"hitArea",null),N=u(Y,"hitAreaCallback",null),J=u(Y,"pixelPerfect",!1);var B=u(Y,"alphaTolerance",1);J&&(b={},N=this.makePixelPerfect(B))}I=u(Y,"draggable",!1),G=u(Y,"dropZone",!1),X=u(Y,"cursor",!1),$=u(Y,"useHandCursor",!1),(!b||!N)&&(this.setHitAreaFromTexture(L),z=!1)}else typeof b=="function"&&!N&&(N=b,b={});for(var U=0;U<L.length;U++){var H=L[U];if(J&&H.type==="Container"){console.warn("Cannot pixelPerfect test a Container. Use a custom callback.");continue}var j=H.input?H.input:s(H,b,N);j.customHitArea=z,j.dropZone=G,j.cursor=$?"pointer":X,H.input=j,I&&this.setDraggable(H),this.queueForInsertion(H)}return this},setHitAreaCircle:function(L,b,N,I,G){G===void 0&&(G=v);var X=new o(b,N,I);return this.setHitArea(L,X,G)},setHitAreaEllipse:function(L,b,N,I,G,X){X===void 0&&(X=n);var $=new h(b,N,I,G);return this.setHitArea(L,$,X)},setHitAreaFromTexture:function(L,b){b===void 0&&(b=C),Array.isArray(L)||(L=[L]);for(var N=0;N<L.length;N++){var I=L[N],G=I.frame,X=0,$=0;if(I.width?(X=I.width,$=I.height):G&&(X=G.realWidth,$=G.realHeight),I.type==="Container"&&(X===0||$===0)){console.warn("Container.setInteractive must specify a Shape or call setSize() first");continue}X!==0&&$!==0&&(I.input=s(I,new T(0,0,X,$),b),this.queueForInsertion(I))}return this},setHitAreaRectangle:function(L,b,N,I,G,X){X===void 0&&(X=C);var $=new T(b,N,I,G);return this.setHitArea(L,$,X)},setHitAreaTriangle:function(L,b,N,I,G,X,$,J){J===void 0&&(J=R);var z=new M(b,N,I,G,X,$);return this.setHitArea(L,z,J)},enableDebug:function(L,b){b===void 0&&(b=65280);var N=L.input;if(!N||!N.hitArea)return this;var I=N.hitArea,G=I.type,X=N.hitAreaDebug,$=this.systems.add,J=this.systems.updateList;X&&(J.remove(X),X.destroy(),X=null);var z=0,Y=0;switch(G){case d.CIRCLE:X=$.arc(0,0,I.radius),z=I.x-I.radius,Y=I.y-I.radius;break;case d.ELLIPSE:X=$.ellipse(0,0,I.width,I.height),z=I.x-I.width/2,Y=I.y-I.height/2;break;case d.LINE:X=$.line(0,0,I.x1,I.y1,I.x2,I.y2);break;case d.POLYGON:X=$.polygon(0,0,I.points);break;case d.RECTANGLE:X=$.rectangle(0,0,I.width,I.height),z=I.x,Y=I.y;break;case d.TRIANGLE:X=$.triangle(0,0,I.x1,I.y1,I.x2,I.y2,I.x3,I.y3);break}return X&&(X.isFilled=!1,X.strokeColor=b,X.preUpdate=function(){X.setVisible(L.visible),X.setStrokeStyle(1/L.scale,X.strokeColor),X.setDisplayOrigin(L.displayOriginX,L.displayOriginY);var D=L.x,B=L.y,U=L.rotation,H=L.scaleX,j=L.scaleY;if(L.parentContainer){var q=L.getWorldTransformMatrix();D=q.tx,B=q.ty,U=q.rotation,H=q.scaleX,j=q.scaleY}X.setRotation(U),X.setScale(H,j),X.setPosition(D+z*H,B+Y*j),X.setScrollFactor(L.scrollFactorX,L.scrollFactorY),X.setDepth(L.depth)},J.add(X),N.hitAreaDebug=X),this},removeDebug:function(L){var b=L.input;if(b&&b.hitAreaDebug){var N=b.hitAreaDebug;N.destroy(),b.hitAreaDebug=null}return this},setPollAlways:function(){return this.setPollRate(0)},setPollOnMove:function(){return this.setPollRate(-1)},setPollRate:function(L){return this.pollRate=L,this._pollTimer=0,this},setGlobalTopOnly:function(L){return this.manager.globalTopOnly=L,this},setTopOnly:function(L){return this.topOnly=L,this},sortGameObjects:function(L,b){if(L.length<2||!b.camera)return L;var N=b.camera.renderList;return L.sort(function(I,G){var X=Math.max(N.indexOf(I),0),$=Math.max(N.indexOf(G),0);return $-X})},sortDropZones:function(L){return L.length<2?L:(this.scene.sys.depthSort(),L.sort(this.sortDropZoneHandler.bind(this)))},sortDropZoneHandler:function(L,b){if(!L.parentContainer&&!b.parentContainer)return this.displayList.getIndex(b)-this.displayList.getIndex(L);if(L.parentContainer===b.parentContainer)return b.parentContainer.getIndex(b)-L.parentContainer.getIndex(L);if(L.parentContainer===b)return-1;if(b.parentContainer===L)return 1;for(var N=L.getIndexList(),I=b.getIndexList(),G=Math.min(N.length,I.length),X=0;X<G;X++){var $=N[X],J=I[X];if($!==J)return J-$}return I.length-N.length},stopPropagation:function(){return this.manager._tempSkip=!0,this},addPointer:function(L){return this.manager.addPointer(L)},setDefaultCursor:function(L){return this.manager.setDefaultCursor(L),this},transitionIn:function(){this.enabled=this.settings.transitionAllowInput},transitionComplete:function(){this.settings.transitionAllowInput||(this.enabled=!0)},transitionOut:function(){this.enabled=this.settings.transitionAllowInput},shutdown:function(){this.pluginEvents.emit(l.SHUTDOWN),this._temp.length=0,this._list.length=0,this._draggable.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0,this._dragState.length=0;for(var L=0;L<10;L++)this._drag[L]=[],this._over[L]=[];this.removeAllListeners();var b=this.manager;b.canvas.style.cursor=b.defaultCursor;var N=this.systems.events;N.off(A.TRANSITION_START,this.transitionIn,this),N.off(A.TRANSITION_OUT,this.transitionOut,this),N.off(A.TRANSITION_COMPLETE,this.transitionComplete,this),N.off(A.PRE_UPDATE,this.preUpdate,this),b.events.off(l.GAME_OUT,this.onGameOut,this),b.events.off(l.GAME_OVER,this.onGameOver,this),N.off(A.SHUTDOWN,this.shutdown,this)},resetPointers:function(){for(var L=this.manager.pointers,b=0;b<L.length;b++)L[b].reset()},destroy:function(){this.shutdown(),this.pluginEvents.emit(l.DESTROY),this.pluginEvents.removeAllListeners(),this.scene.sys.events.off(A.START,this.start,this),this.scene=null,this.cameras=null,this.manager=null,this.events=null,this.mouse=null},x:{get:function(){return this.manager.activePointer.x}},y:{get:function(){return this.manager.activePointer.y}},isOver:{get:function(){return this.manager.isOver}},mousePointer:{get:function(){return this.manager.mousePointer}},activePointer:{get:function(){return this.manager.activePointer}},pointer1:{get:function(){return this.manager.pointers[1]}},pointer2:{get:function(){return this.manager.pointers[2]}},pointer3:{get:function(){return this.manager.pointers[3]}},pointer4:{get:function(){return this.manager.pointers[4]}},pointer5:{get:function(){return this.manager.pointers[5]}},pointer6:{get:function(){return this.manager.pointers[6]}},pointer7:{get:function(){return this.manager.pointers[7]}},pointer8:{get:function(){return this.manager.pointers[8]}},pointer9:{get:function(){return this.manager.pointers[9]}},pointer10:{get:function(){return this.manager.pointers[10]}}});E.register("InputPlugin",O,"input"),c.exports=O},89639:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(35154),v={},a={};a.register=function(i,s,e,r,h){v[i]={plugin:s,mapping:e,settingsKey:r,configKey:h}},a.getPlugin=function(i){return v[i]},a.install=function(i){var s=i.scene.sys,e=s.settings.input,r=s.game.config;for(var h in v){var n=v[h].plugin,l=v[h].mapping,f=v[h].settingsKey,u=v[h].configKey;o(e,f,r[u])&&(i[l]=new n(i))}},a.remove=function(i){v.hasOwnProperty(i)&&delete v[i]},c.exports=a},42515:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(31040),v=t(83419),a=t(20339),i=t(43855),s=t(47235),e=t(26099),r=t(25892),h=new v({initialize:function(l,f){this.manager=l,this.id=f,this.event,this.downElement,this.upElement,this.camera=null,this.button=0,this.buttons=0,this.position=new e,this.prevPosition=new e,this.midPoint=new e(-1,-1),this.velocity=new e,this.angle=0,this.distance=0,this.smoothFactor=0,this.motionFactor=.2,this.worldX=0,this.worldY=0,this.moveTime=0,this.downX=0,this.downY=0,this.downTime=0,this.upX=0,this.upY=0,this.upTime=0,this.primaryDown=!1,this.isDown=!1,this.wasTouch=!1,this.wasCanceled=!1,this.movementX=0,this.movementY=0,this.identifier=0,this.pointerId=null,this.active=f===0,this.locked=!1,this.deltaX=0,this.deltaY=0,this.deltaZ=0},updateWorldPoint:function(n){var l=n.getWorldPoint(this.x,this.y);return this.worldX=l.x,this.worldY=l.y,this},positionToCamera:function(n,l){return n.getWorldPoint(this.x,this.y,l)},updateMotion:function(){var n=this.position.x,l=this.position.y,f=this.midPoint.x,u=this.midPoint.y;if(!(n===f&&l===u)){var d=s(this.motionFactor,f,n),p=s(this.motionFactor,u,l);i(d,n,.1)&&(d=n),i(p,l,.1)&&(p=l),this.midPoint.set(d,p);var x=n-d,E=l-p;this.velocity.set(x,E),this.angle=o(d,p,n,l),this.distance=Math.sqrt(x*x+E*E)}},up:function(n){"buttons"in n&&(this.buttons=n.buttons),this.event=n,this.button=n.button,this.upElement=n.target,this.manager.transformPointer(this,n.pageX,n.pageY,!1),n.button===0&&(this.primaryDown=!1,this.upX=this.x,this.upY=this.y),this.buttons===0&&(this.isDown=!1,this.upTime=n.timeStamp,this.wasTouch=!1)},down:function(n){"buttons"in n&&(this.buttons=n.buttons),this.event=n,this.button=n.button,this.downElement=n.target,this.manager.transformPointer(this,n.pageX,n.pageY,!1),n.button===0&&(this.primaryDown=!0,this.downX=this.x,this.downY=this.y),r.macOS&&n.ctrlKey&&(this.buttons=2,this.primaryDown=!1),this.isDown||(this.isDown=!0,this.downTime=n.timeStamp),this.wasTouch=!1},move:function(n){"buttons"in n&&(this.buttons=n.buttons),this.event=n,this.manager.transformPointer(this,n.pageX,n.pageY,!0),this.locked&&(this.movementX=n.movementX||n.mozMovementX||n.webkitMovementX||0,this.movementY=n.movementY||n.mozMovementY||n.webkitMovementY||0),this.moveTime=n.timeStamp,this.wasTouch=!1},wheel:function(n){"buttons"in n&&(this.buttons=n.buttons),this.event=n,this.manager.transformPointer(this,n.pageX,n.pageY,!1),this.deltaX=n.deltaX,this.deltaY=n.deltaY,this.deltaZ=n.deltaZ,this.wasTouch=!1},touchstart:function(n,l){n.pointerId&&(this.pointerId=n.pointerId),this.identifier=n.identifier,this.target=n.target,this.active=!0,this.buttons=1,this.event=l,this.downElement=n.target,this.manager.transformPointer(this,n.pageX,n.pageY,!1),this.primaryDown=!0,this.downX=this.x,this.downY=this.y,this.downTime=l.timeStamp,this.isDown=!0,this.wasTouch=!0,this.wasCanceled=!1,this.updateMotion()},touchmove:function(n,l){this.event=l,this.manager.transformPointer(this,n.pageX,n.pageY,!0),this.moveTime=l.timeStamp,this.wasTouch=!0,this.updateMotion()},touchend:function(n,l){this.buttons=0,this.event=l,this.upElement=n.target,this.manager.transformPointer(this,n.pageX,n.pageY,!1),this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=l.timeStamp,this.isDown=!1,this.wasTouch=!0,this.wasCanceled=!1,this.active=!1,this.updateMotion()},touchcancel:function(n,l){this.buttons=0,this.event=l,this.upElement=n.target,this.manager.transformPointer(this,n.pageX,n.pageY,!1),this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=l.timeStamp,this.isDown=!1,this.wasTouch=!0,this.wasCanceled=!0,this.active=!1},noButtonDown:function(){return this.buttons===0},leftButtonDown:function(){return!!(this.buttons&1)},rightButtonDown:function(){return!!(this.buttons&2)},middleButtonDown:function(){return!!(this.buttons&4)},backButtonDown:function(){return!!(this.buttons&8)},forwardButtonDown:function(){return!!(this.buttons&16)},leftButtonReleased:function(){return this.button===0&&!this.isDown},rightButtonReleased:function(){return this.button===2&&!this.isDown},middleButtonReleased:function(){return this.button===1&&!this.isDown},backButtonReleased:function(){return this.button===3&&!this.isDown},forwardButtonReleased:function(){return this.button===4&&!this.isDown},getDistance:function(){return this.isDown?a(this.downX,this.downY,this.x,this.y):a(this.downX,this.downY,this.upX,this.upY)},getDistanceX:function(){return this.isDown?Math.abs(this.downX-this.x):Math.abs(this.downX-this.upX)},getDistanceY:function(){return this.isDown?Math.abs(this.downY-this.y):Math.abs(this.downY-this.upY)},getDuration:function(){return this.isDown?this.manager.time-this.downTime:this.upTime-this.downTime},getAngle:function(){return this.isDown?o(this.downX,this.downY,this.x,this.y):o(this.downX,this.downY,this.upX,this.upY)},getInterpolatedPosition:function(n,l){n===void 0&&(n=10),l===void 0&&(l=[]);for(var f=this.prevPosition.x,u=this.prevPosition.y,d=this.position.x,p=this.position.y,x=0;x<n;x++){var E=1/n*x;l[x]={x:s(E,f,d),y:s(E,u,p)}}return l},reset:function(){this.event=null,this.downElement=null,this.upElement=null,this.button=0,this.buttons=0,this.position.set(0,0),this.prevPosition.set(0,0),this.midPoint.set(-1,-1),this.velocity.set(0,0),this.angle=0,this.distance=0,this.worldX=0,this.worldY=0,this.downX=0,this.downY=0,this.upX=0,this.upY=0,this.moveTime=0,this.upTime=0,this.downTime=0,this.primaryDown=!1,this.isDown=!1,this.wasTouch=!1,this.wasCanceled=!1,this.movementX=0,this.movementY=0,this.identifier=0,this.pointerId=null,this.deltaX=0,this.deltaY=0,this.deltaZ=0,this.active=this.id===0},destroy:function(){this.camera=null,this.manager=null,this.position=null},x:{get:function(){return this.position.x},set:function(n){this.position.x=n}},y:{get:function(){return this.position.y},set:function(n){this.position.y=n}},time:{get:function(){return this.event?this.event.timeStamp:0}}});c.exports=h},93301:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g={MOUSE_DOWN:0,MOUSE_MOVE:1,MOUSE_UP:2,TOUCH_START:3,TOUCH_MOVE:4,TOUCH_END:5,POINTER_LOCK_CHANGE:6,TOUCH_CANCEL:7,MOUSE_WHEEL:8};c.exports=g},7179:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="boot"},85375:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="destroy"},39843:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="dragend"},23388:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="dragenter"},16133:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="drag"},27829:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="dragleave"},53904:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="dragover"},56058:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="dragstart"},2642:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="drop"},88171:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="gameobjectdown"},36147:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="dragend"},71692:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="dragenter"},96149:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="drag"},81285:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="dragleave"},74048:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="dragover"},21322:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="dragstart"},49378:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="drop"},86754:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="gameobjectmove"},86433:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="gameobjectout"},60709:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="gameobjectover"},24081:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pointerdown"},11172:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pointermove"},18907:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pointerout"},95579:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pointerover"},35368:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pointerup"},26972:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="wheel"},47078:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="gameobjectup"},73802:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="gameobjectwheel"},56718:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="gameout"},25936:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="gameover"},27503:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="boot"},50852:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="process"},96438:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="update"},59152:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pointerlockchange"},47777:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pointerdown"},27957:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pointerdownoutside"},19444:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pointermove"},54251:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pointerout"},18667:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pointerover"},27192:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pointerup"},24652:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pointerupoutside"},45132:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="wheel"},44512:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="preupdate"},15757:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="shutdown"},41637:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="start"},93802:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="update"},8214:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={BOOT:t(7179),DESTROY:t(85375),DRAG_END:t(39843),DRAG_ENTER:t(23388),DRAG:t(16133),DRAG_LEAVE:t(27829),DRAG_OVER:t(53904),DRAG_START:t(56058),DROP:t(2642),GAME_OUT:t(56718),GAME_OVER:t(25936),GAMEOBJECT_DOWN:t(88171),GAMEOBJECT_DRAG_END:t(36147),GAMEOBJECT_DRAG_ENTER:t(71692),GAMEOBJECT_DRAG:t(96149),GAMEOBJECT_DRAG_LEAVE:t(81285),GAMEOBJECT_DRAG_OVER:t(74048),GAMEOBJECT_DRAG_START:t(21322),GAMEOBJECT_DROP:t(49378),GAMEOBJECT_MOVE:t(86754),GAMEOBJECT_OUT:t(86433),GAMEOBJECT_OVER:t(60709),GAMEOBJECT_POINTER_DOWN:t(24081),GAMEOBJECT_POINTER_MOVE:t(11172),GAMEOBJECT_POINTER_OUT:t(18907),GAMEOBJECT_POINTER_OVER:t(95579),GAMEOBJECT_POINTER_UP:t(35368),GAMEOBJECT_POINTER_WHEEL:t(26972),GAMEOBJECT_UP:t(47078),GAMEOBJECT_WHEEL:t(73802),MANAGER_BOOT:t(27503),MANAGER_PROCESS:t(50852),MANAGER_UPDATE:t(96438),POINTER_DOWN:t(47777),POINTER_DOWN_OUTSIDE:t(27957),POINTER_MOVE:t(19444),POINTER_OUT:t(54251),POINTER_OVER:t(18667),POINTER_UP:t(27192),POINTER_UP_OUTSIDE:t(24652),POINTER_WHEEL:t(45132),POINTERLOCK_CHANGE:t(59152),PRE_UPDATE:t(44512),SHUTDOWN:t(15757),START:t(41637),UPDATE:t(93802)}},97421:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=new o({initialize:function(i,s){this.pad=i,this.events=i.events,this.index=s,this.value=0,this.threshold=.1},update:function(a){this.value=a},getValue:function(){return Math.abs(this.value)<this.threshold?0:this.value},destroy:function(){this.pad=null,this.events=null}});c.exports=v},28884:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(92734),a=new o({initialize:function(s,e){this.pad=s,this.events=s.manager,this.index=e,this.value=0,this.threshold=1,this.pressed=!1},update:function(i){this.value=i;var s=this.pad,e=this.index;i>=this.threshold?this.pressed||(this.pressed=!0,this.events.emit(v.BUTTON_DOWN,s,this,i),this.pad.emit(v.GAMEPAD_BUTTON_DOWN,e,i,this)):this.pressed&&(this.pressed=!1,this.events.emit(v.BUTTON_UP,s,this,i),this.pad.emit(v.GAMEPAD_BUTTON_UP,e,i,this))},destroy:function(){this.pad=null,this.events=null}});c.exports=a},99125:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(97421),v=t(28884),a=t(83419),i=t(50792),s=t(26099),e=new a({Extends:i,initialize:function(h,n){i.call(this),this.manager=h,this.pad=n,this.id=n.id,this.index=n.index;for(var l=[],f=0;f<n.buttons.length;f++)l.push(new v(this,f));this.buttons=l;var u=[];for(f=0;f<n.axes.length;f++)u.push(new o(this,f));this.axes=u,this.vibration=n.vibrationActuator;var d={value:0,pressed:!1};this._LCLeft=l[14]?l[14]:d,this._LCRight=l[15]?l[15]:d,this._LCTop=l[12]?l[12]:d,this._LCBottom=l[13]?l[13]:d,this._RCLeft=l[2]?l[2]:d,this._RCRight=l[1]?l[1]:d,this._RCTop=l[3]?l[3]:d,this._RCBottom=l[0]?l[0]:d,this._FBLeftTop=l[4]?l[4]:d,this._FBLeftBottom=l[6]?l[6]:d,this._FBRightTop=l[5]?l[5]:d,this._FBRightBottom=l[7]?l[7]:d;var p={value:0};this._HAxisLeft=u[0]?u[0]:p,this._VAxisLeft=u[1]?u[1]:p,this._HAxisRight=u[2]?u[2]:p,this._VAxisRight=u[3]?u[3]:p,this.leftStick=new s,this.rightStick=new s,this._created=performance.now()},getAxisTotal:function(){return this.axes.length},getAxisValue:function(r){return this.axes[r].getValue()},setAxisThreshold:function(r){for(var h=0;h<this.axes.length;h++)this.axes[h].threshold=r},getButtonTotal:function(){return this.buttons.length},getButtonValue:function(r){return this.buttons[r].value},isButtonDown:function(r){return this.buttons[r].pressed},update:function(r){if(!(r.timestamp<this._created)){var h,n=this.buttons,l=r.buttons,f=n.length;for(h=0;h<f;h++)n[h].update(l[h].value);var u=this.axes,d=r.axes;for(f=u.length,h=0;h<f;h++)u[h].update(d[h]);f>=2&&(this.leftStick.set(u[0].getValue(),u[1].getValue()),f>=4&&this.rightStick.set(u[2].getValue(),u[3].getValue()))}},destroy:function(){this.removeAllListeners(),this.manager=null,this.pad=null;var r;for(r=0;r<this.buttons.length;r++)this.buttons[r].destroy();for(r=0;r<this.axes.length;r++)this.axes[r].destroy();this.buttons=[],this.axes=[]},connected:{get:function(){return this.pad.connected}},timestamp:{get:function(){return this.pad.timestamp}},left:{get:function(){return this._LCLeft.pressed}},right:{get:function(){return this._LCRight.pressed}},up:{get:function(){return this._LCTop.pressed}},down:{get:function(){return this._LCBottom.pressed}},A:{get:function(){return this._RCBottom.pressed}},Y:{get:function(){return this._RCTop.pressed}},X:{get:function(){return this._RCLeft.pressed}},B:{get:function(){return this._RCRight.pressed}},L1:{get:function(){return this._FBLeftTop.value}},L2:{get:function(){return this._FBLeftBottom.value}},R1:{get:function(){return this._FBRightTop.value}},R2:{get:function(){return this._FBRightBottom.value}}});c.exports=e},56654:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(50792),a=t(92734),i=t(99125),s=t(35154),e=t(89639),r=t(8214),h=new o({Extends:v,initialize:function(l){v.call(this),this.scene=l.scene,this.settings=this.scene.sys.settings,this.sceneInputPlugin=l,this.enabled=!0,this.target,this.gamepads=[],this.queue=[],this.onGamepadHandler,this._pad1,this._pad2,this._pad3,this._pad4,l.pluginEvents.once(r.BOOT,this.boot,this),l.pluginEvents.on(r.START,this.start,this)},boot:function(){var n=this.scene.sys.game,l=this.settings.input,f=n.config;this.enabled=s(l,"gamepad",f.inputGamepad)&&n.device.input.gamepads,this.target=s(l,"gamepad.target",f.inputGamepadEventTarget),this.sceneInputPlugin.pluginEvents.once(r.DESTROY,this.destroy,this)},start:function(){this.enabled&&(this.startListeners(),this.refreshPads()),this.sceneInputPlugin.pluginEvents.once(r.SHUTDOWN,this.shutdown,this)},isActive:function(){return this.enabled&&this.scene.sys.isActive()},startListeners:function(){var n=this,l=this.target,f=function(u){u.defaultPrevented||!n.isActive()||(n.refreshPads(),n.queue.push(u))};this.onGamepadHandler=f,l.addEventListener("gamepadconnected",f,!1),l.addEventListener("gamepaddisconnected",f,!1),this.sceneInputPlugin.pluginEvents.on(r.UPDATE,this.update,this)},stopListeners:function(){this.target.removeEventListener("gamepadconnected",this.onGamepadHandler),this.target.removeEventListener("gamepaddisconnected",this.onGamepadHandler),this.sceneInputPlugin.pluginEvents.off(r.UPDATE,this.update);for(var n=0;n<this.gamepads.length;n++)this.gamepads[n].removeAllListeners()},disconnectAll:function(){for(var n=0;n<this.gamepads.length;n++)this.gamepads[n].pad.connected=!1},refreshPads:function(){var n=navigator.getGamepads();if(!n)this.disconnectAll();else for(var l=this.gamepads,f=0;f<n.length;f++){var u=n[f];if(u){var d=u.id,p=u.index,x=l[p];if(x)x.id!==d?(x.destroy(),l[p]=new i(this,u)):x.update(u);else{var E=new i(this,u);l[p]=E,this._pad1?this._pad2?this._pad3?this._pad4||(this._pad4=E):this._pad3=E:this._pad2=E:this._pad1=E}}}},getAll:function(){for(var n=[],l=this.gamepads,f=0;f<l.length;f++)l[f]&&n.push(l[f]);return n},getPad:function(n){for(var l=this.gamepads,f=0;f<l.length;f++)if(l[f]&&l[f].index===n)return l[f]},update:function(){if(this.enabled){this.refreshPads();var n=this.queue.length;if(n!==0)for(var l=this.queue.splice(0,n),f=0;f<n;f++){var u=l[f],d=this.getPad(u.gamepad.index);u.type==="gamepadconnected"?this.emit(a.CONNECTED,d,u):u.type==="gamepaddisconnected"&&this.emit(a.DISCONNECTED,d,u)}}},shutdown:function(){this.stopListeners(),this.removeAllListeners()},destroy:function(){this.shutdown();for(var n=0;n<this.gamepads.length;n++)this.gamepads[n]&&this.gamepads[n].destroy();this.gamepads=[],this.scene=null,this.settings=null,this.sceneInputPlugin=null,this.target=null},total:{get:function(){return this.gamepads.length}},pad1:{get:function(){return this._pad1}},pad2:{get:function(){return this._pad2}},pad3:{get:function(){return this._pad3}},pad4:{get:function(){return this._pad4}}});e.register("GamepadPlugin",h,"gamepad","gamepad","inputGamepad"),c.exports=h},89651:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,SELECT:8,START:9,B:0,A:1,Y:2,X:3,LEFT_SHOULDER:4,RIGHT_SHOULDER:5}},65294:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,SHARE:8,OPTIONS:9,PS:16,TOUCHBAR:17,X:0,CIRCLE:1,SQUARE:2,TRIANGLE:3,L1:4,R1:5,L2:6,R2:7,L3:10,R3:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3}},90089:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,MENU:16,A:0,B:1,X:2,Y:3,LB:4,RB:5,LT:6,RT:7,BACK:8,START:9,LS:10,RS:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3}},64894:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={DUALSHOCK_4:t(65294),SNES_USB:t(89651),XBOX_360:t(90089)}},46008:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="down"},7629:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="up"},42206:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="connected"},86544:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="disconnected"},94784:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="down"},14325:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="up"},92734:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={BUTTON_DOWN:t(46008),BUTTON_UP:t(7629),CONNECTED:t(42206),DISCONNECTED:t(86544),GAMEPAD_BUTTON_DOWN:t(94784),GAMEPAD_BUTTON_UP:t(14325)}},48646:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Axis:t(97421),Button:t(28884),Events:t(92734),Gamepad:t(99125),GamepadPlugin:t(56654),Configs:t(64894)}},14350:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(93301),v=t(79291),a={CreatePixelPerfectHandler:t(84409),CreateInteractiveObject:t(74457),Events:t(8214),Gamepad:t(48646),InputManager:t(7003),InputPlugin:t(48205),InputPluginCache:t(89639),Keyboard:t(51442),Mouse:t(87078),Pointer:t(42515),Touch:t(95618)};a=v(!1,a,o),c.exports=a},78970:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(72905),v=t(83419),a=t(8443),i=t(8214),s=t(46032),e=t(29747),r=new v({initialize:function(n){this.manager=n,this.queue=[],this.preventDefault=!0,this.captures=[],this.enabled=!1,this.target,this.onKeyDown=e,this.onKeyUp=e,n.events.once(i.MANAGER_BOOT,this.boot,this)},boot:function(){var h=this.manager.config;this.enabled=h.inputKeyboard,this.target=h.inputKeyboardEventTarget,this.addCapture(h.inputKeyboardCapture),!this.target&&window&&(this.target=window),this.enabled&&this.target&&this.startListeners(),this.manager.game.events.on(a.POST_STEP,this.postUpdate,this)},startListeners:function(){var h=this;this.onKeyDown=function(l){if(!(l.defaultPrevented||!h.enabled||!h.manager)){h.queue.push(l),h.manager.events.emit(i.MANAGER_PROCESS);var f=l.altKey||l.ctrlKey||l.shiftKey||l.metaKey;h.preventDefault&&!f&&h.captures.indexOf(l.keyCode)>-1&&l.preventDefault()}},this.onKeyUp=function(l){if(!(l.defaultPrevented||!h.enabled||!h.manager)){h.queue.push(l),h.manager.events.emit(i.MANAGER_PROCESS);var f=l.altKey||l.ctrlKey||l.shiftKey||l.metaKey;h.preventDefault&&!f&&h.captures.indexOf(l.keyCode)>-1&&l.preventDefault()}};var n=this.target;n&&(n.addEventListener("keydown",this.onKeyDown,!1),n.addEventListener("keyup",this.onKeyUp,!1),this.enabled=!0)},stopListeners:function(){var h=this.target;h.removeEventListener("keydown",this.onKeyDown,!1),h.removeEventListener("keyup",this.onKeyUp,!1),this.enabled=!1},postUpdate:function(){this.queue=[]},addCapture:function(h){typeof h=="string"&&(h=h.split(",")),Array.isArray(h)||(h=[h]);for(var n=this.captures,l=0;l<h.length;l++){var f=h[l];typeof f=="string"&&(f=s[f.trim().toUpperCase()]),n.indexOf(f)===-1&&n.push(f)}this.preventDefault=n.length>0},removeCapture:function(h){typeof h=="string"&&(h=h.split(",")),Array.isArray(h)||(h=[h]);for(var n=this.captures,l=0;l<h.length;l++){var f=h[l];typeof f=="string"&&(f=s[f.toUpperCase()]),o(n,f)}this.preventDefault=n.length>0},clearCaptures:function(){this.captures=[],this.preventDefault=!1},destroy:function(){this.stopListeners(),this.clearCaptures(),this.queue=[],this.manager.game.events.off(a.POST_RENDER,this.postUpdate,this),this.target=null,this.enabled=!1,this.manager=null}});c.exports=r},28846:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(50792),a=t(95922),i=t(8443),s=t(35154),e=t(8214),r=t(89639),h=t(30472),n=t(46032),l=t(87960),f=t(74600),u=t(44594),d=t(56583),p=new o({Extends:v,initialize:function(E){v.call(this),this.game=E.systems.game,this.scene=E.scene,this.settings=this.scene.sys.settings,this.sceneInputPlugin=E,this.manager=E.manager.keyboard,this.enabled=!0,this.keys=[],this.combos=[],this.prevCode=null,this.prevTime=0,this.prevType=null,E.pluginEvents.once(e.BOOT,this.boot,this),E.pluginEvents.on(e.START,this.start,this)},boot:function(){var x=this.settings.input;this.enabled=s(x,"keyboard",!0);var E=s(x,"keyboard.capture",null);E&&this.addCaptures(E),this.sceneInputPlugin.pluginEvents.once(e.DESTROY,this.destroy,this)},start:function(){this.sceneInputPlugin.manager.events.on(e.MANAGER_PROCESS,this.update,this),this.sceneInputPlugin.pluginEvents.once(e.SHUTDOWN,this.shutdown,this),this.game.events.on(i.BLUR,this.resetKeys,this),this.scene.sys.events.on(u.PAUSE,this.resetKeys,this),this.scene.sys.events.on(u.SLEEP,this.resetKeys,this)},isActive:function(){return this.enabled&&this.scene.sys.canInput()},addCapture:function(x){return this.manager.addCapture(x),this},removeCapture:function(x){return this.manager.removeCapture(x),this},getCaptures:function(){return this.manager.captures},enableGlobalCapture:function(){return this.manager.preventDefault=!0,this},disableGlobalCapture:function(){return this.manager.preventDefault=!1,this},clearCaptures:function(){return this.manager.clearCaptures(),this},createCursorKeys:function(){return this.addKeys({up:n.UP,down:n.DOWN,left:n.LEFT,right:n.RIGHT,space:n.SPACE,shift:n.SHIFT})},addKeys:function(x,E,T){E===void 0&&(E=!0),T===void 0&&(T=!1);var C={};if(typeof x=="string"){x=x.split(",");for(var A=0;A<x.length;A++){var M=x[A].trim();M&&(C[M]=this.addKey(M,E,T))}}else for(var R in x)C[R]=this.addKey(x[R],E,T);return C},addKey:function(x,E,T){E===void 0&&(E=!0),T===void 0&&(T=!1);var C=this.keys;if(x instanceof h){var A=C.indexOf(x);return A>-1?C[A]=x:C[x.keyCode]=x,E&&this.addCapture(x.keyCode),x.setEmitOnRepeat(T),x}return typeof x=="string"&&(x=n[x.toUpperCase()]),C[x]||(C[x]=new h(this,x),E&&this.addCapture(x),C[x].setEmitOnRepeat(T)),C[x]},removeKey:function(x,E,T){E===void 0&&(E=!1),T===void 0&&(T=!1);var C=this.keys,A;if(x instanceof h){var M=C.indexOf(x);M>-1&&(A=this.keys[M],this.keys[M]=void 0)}else typeof x=="string"&&(x=n[x.toUpperCase()]);return C[x]&&(A=C[x],C[x]=void 0),A&&(A.plugin=null,T&&this.removeCapture(A.keyCode),E&&A.destroy()),this},removeAllKeys:function(x,E){x===void 0&&(x=!1),E===void 0&&(E=!1);for(var T=this.keys,C=0;C<T.length;C++){var A=T[C];A&&(T[C]=void 0,E&&this.removeCapture(A.keyCode),x&&A.destroy())}return this},createCombo:function(x,E){return new l(this,x,E)},checkDown:function(x,E){if(E===void 0&&(E=0),this.enabled&&x.isDown){var T=d(this.time-x.timeDown,E);if(T>x._tick)return x._tick=T,!0}return!1},update:function(){var x=this.manager.queue,E=x.length;if(!(!this.isActive()||E===0))for(var T=this.keys,C=0;C<E;C++){var A=x[C],M=A.keyCode,R=T[M],O=!1;A.cancelled===void 0&&(A.cancelled=0,A.stopImmediatePropagation=function(){A.cancelled=1},A.stopPropagation=function(){A.cancelled=-1}),A.cancelled!==-1&&(M===this.prevCode&&A.timeStamp===this.prevTime&&A.type===this.prevType||(this.prevCode=M,this.prevTime=A.timeStamp,this.prevType=A.type,A.type==="keydown"?(R&&(O=R.isDown,R.onDown(A)),!A.cancelled&&(!R||!O)&&(f[M]&&this.emit(a.KEY_DOWN+f[M],A),A.cancelled||this.emit(a.ANY_KEY_DOWN,A))):(R&&R.onUp(A),A.cancelled||(f[M]&&this.emit(a.KEY_UP+f[M],A),A.cancelled||this.emit(a.ANY_KEY_UP,A))),A.cancelled===1&&(A.cancelled=0)))}},resetKeys:function(){for(var x=this.keys,E=0;E<x.length;E++)x[E]&&x[E].reset();return this},shutdown:function(){this.removeAllKeys(!0),this.removeAllListeners(),this.sceneInputPlugin.manager.events.off(e.MANAGER_PROCESS,this.update,this),this.game.events.off(i.BLUR,this.resetKeys),this.scene.sys.events.off(u.PAUSE,this.resetKeys,this),this.scene.sys.events.off(u.SLEEP,this.resetKeys,this),this.queue=[]},destroy:function(){this.shutdown();for(var x=this.keys,E=0;E<x.length;E++)x[E]&&x[E].destroy();this.keys=[],this.combos=[],this.queue=[],this.scene=null,this.settings=null,this.sceneInputPlugin=null,this.manager=null},time:{get:function(){return this.sceneInputPlugin.manager.time}}});r.register("KeyboardPlugin",p,"keyboard","keyboard","inputKeyboard"),c.exports=p},66970:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o){return o.timeLastMatched=t.timeStamp,o.index++,o.index===o.size?!0:(o.current=o.keyCodes[o.index],!1)};c.exports=g},87960:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(95922),a=t(95540),i=t(68769),s=t(92803),e=new o({initialize:function(h,n,l){if(l===void 0&&(l={}),n.length<2)return!1;this.manager=h,this.enabled=!0,this.keyCodes=[];for(var f=0;f<n.length;f++){var u=n[f];typeof u=="string"?this.keyCodes.push(u.toUpperCase().charCodeAt(0)):typeof u=="number"?this.keyCodes.push(u):u.hasOwnProperty("keyCode")&&this.keyCodes.push(u.keyCode)}this.current=this.keyCodes[0],this.index=0,this.size=this.keyCodes.length,this.timeLastMatched=0,this.matched=!1,this.timeMatched=0,this.resetOnWrongKey=a(l,"resetOnWrongKey",!0),this.maxKeyDelay=a(l,"maxKeyDelay",0),this.resetOnMatch=a(l,"resetOnMatch",!1),this.deleteOnMatch=a(l,"deleteOnMatch",!1);var d=this,p=function(x){if(!(d.matched||!d.enabled)){var E=i(x,d);E&&(d.manager.emit(v.COMBO_MATCH,d,x),d.resetOnMatch?s(d):d.deleteOnMatch&&d.destroy())}};this.onKeyDown=p,this.manager.on(v.ANY_KEY_DOWN,this.onKeyDown)},progress:{get:function(){return this.index/this.size}},destroy:function(){this.enabled=!1,this.keyCodes=[],this.manager.off(v.ANY_KEY_DOWN,this.onKeyDown),this.manager=null}});c.exports=e},68769:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(66970),v=function(a,i){if(i.matched)return!0;var s=!1,e=!1;if(a.keyCode===i.current)if(i.index>0&&i.maxKeyDelay>0){var r=i.timeLastMatched+i.maxKeyDelay;a.timeStamp<=r&&(e=!0,s=o(a,i))}else e=!0,s=o(a,i);return!e&&i.resetOnWrongKey&&(i.index=0,i.current=i.keyCodes[0]),s&&(i.timeLastMatched=a.timeStamp,i.matched=!0,i.timeMatched=a.timeStamp),s};c.exports=v},92803:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t){return t.current=t.keyCodes[0],t.index=0,t.timeLastMatched=0,t.matched=!1,t.timeMatched=0,t};c.exports=g},92612:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="keydown"},23345:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="keyup"},21957:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="keycombomatch"},44743:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="down"},3771:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="keydown-"},46358:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="keyup-"},75674:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="up"},95922:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={ANY_KEY_DOWN:t(92612),ANY_KEY_UP:t(23345),COMBO_MATCH:t(21957),DOWN:t(44743),KEY_DOWN:t(3771),KEY_UP:t(46358),UP:t(75674)}},51442:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Events:t(95922),KeyboardManager:t(78970),KeyboardPlugin:t(28846),Key:t(30472),KeyCodes:t(46032),KeyCombo:t(87960),AdvanceKeyCombo:t(66970),ProcessKeyCombo:t(68769),ResetKeyCombo:t(92803),JustDown:t(90229),JustUp:t(38796),DownDuration:t(37015),UpDuration:t(41170)}},37015:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o){o===void 0&&(o=50);var v=t.plugin.game.loop.time-t.timeDown;return t.isDown&&v<o};c.exports=g},90229:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t){return t._justDown?(t._justDown=!1,!0):!1};c.exports=g},38796:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t){return t._justUp?(t._justUp=!1,!0):!1};c.exports=g},30472:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(50792),a=t(95922),i=new o({Extends:v,initialize:function(e,r){v.call(this),this.plugin=e,this.keyCode=r,this.originalEvent=void 0,this.enabled=!0,this.isDown=!1,this.isUp=!0,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.metaKey=!1,this.location=0,this.timeDown=0,this.duration=0,this.timeUp=0,this.emitOnRepeat=!1,this.repeats=0,this._justDown=!1,this._justUp=!1,this._tick=-1},setEmitOnRepeat:function(s){return this.emitOnRepeat=s,this},onDown:function(s){this.originalEvent=s,this.enabled&&(this.altKey=s.altKey,this.ctrlKey=s.ctrlKey,this.shiftKey=s.shiftKey,this.metaKey=s.metaKey,this.location=s.location,this.repeats++,this.isDown?this.emitOnRepeat&&this.emit(a.DOWN,this,s):(this.isDown=!0,this.isUp=!1,this.timeDown=s.timeStamp,this.duration=0,this._justDown=!0,this._justUp=!1,this.emit(a.DOWN,this,s)))},onUp:function(s){this.originalEvent=s,this.enabled&&(this.isDown=!1,this.isUp=!0,this.timeUp=s.timeStamp,this.duration=this.timeUp-this.timeDown,this.repeats=0,this._justDown=!1,this._justUp=!0,this._tick=-1,this.emit(a.UP,this,s))},reset:function(){return this.isDown=!1,this.isUp=!0,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.metaKey=!1,this.timeDown=0,this.duration=0,this.timeUp=0,this.repeats=0,this._justDown=!1,this._justUp=!1,this._tick=-1,this},getDuration:function(){return this.isDown?this.plugin.game.loop.time-this.timeDown:0},destroy:function(){this.removeAllListeners(),this.originalEvent=null,this.plugin=null}});c.exports=i},46032:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:42,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,NUMPAD_ZERO:96,NUMPAD_ONE:97,NUMPAD_TWO:98,NUMPAD_THREE:99,NUMPAD_FOUR:100,NUMPAD_FIVE:101,NUMPAD_SIX:102,NUMPAD_SEVEN:103,NUMPAD_EIGHT:104,NUMPAD_NINE:105,NUMPAD_ADD:107,NUMPAD_SUBTRACT:109,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,SEMICOLON:186,PLUS:187,COMMA:188,MINUS:189,PERIOD:190,FORWARD_SLASH:191,BACK_SLASH:220,QUOTES:222,BACKTICK:192,OPEN_BRACKET:219,CLOSED_BRACKET:221,SEMICOLON_FIREFOX:59,COLON:58,COMMA_FIREFOX_WINDOWS:60,COMMA_FIREFOX:62,BRACKET_RIGHT_FIREFOX:174,BRACKET_LEFT_FIREFOX:175};c.exports=g},74600:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(46032),v={};for(var a in o)v[o[a]]=a;c.exports=v},41170:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o){o===void 0&&(o=50);var v=t.plugin.game.loop.time-t.timeUp;return t.isUp&&v<o};c.exports=g},85098:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(89357),a=t(8214),i=t(29747),s=new o({initialize:function(r){this.manager=r,this.preventDefaultDown=!0,this.preventDefaultUp=!0,this.preventDefaultMove=!0,this.preventDefaultWheel=!1,this.enabled=!1,this.target,this.locked=!1,this.onMouseMove=i,this.onMouseDown=i,this.onMouseUp=i,this.onMouseDownWindow=i,this.onMouseUpWindow=i,this.onMouseOver=i,this.onMouseOut=i,this.onMouseWheel=i,this.pointerLockChange=i,this.isTop=!0,r.events.once(a.MANAGER_BOOT,this.boot,this)},boot:function(){var e=this.manager.config;this.enabled=e.inputMouse,this.target=e.inputMouseEventTarget,this.passive=e.inputMousePassive,this.preventDefaultDown=e.inputMousePreventDefaultDown,this.preventDefaultUp=e.inputMousePreventDefaultUp,this.preventDefaultMove=e.inputMousePreventDefaultMove,this.preventDefaultWheel=e.inputMousePreventDefaultWheel,this.target?typeof this.target=="string"&&(this.target=document.getElementById(this.target)):this.target=this.manager.game.canvas,e.disableContextMenu&&this.disableContextMenu(),this.enabled&&this.target&&this.startListeners()},disableContextMenu:function(){return this.target.addEventListener("contextmenu",function(e){return e.preventDefault(),!1}),this},requestPointerLock:function(){if(v.pointerLock){var e=this.target;e.requestPointerLock=e.requestPointerLock||e.mozRequestPointerLock||e.webkitRequestPointerLock,e.requestPointerLock()}},releasePointerLock:function(){v.pointerLock&&(document.exitPointerLock=document.exitPointerLock||document.mozExitPointerLock||document.webkitExitPointerLock,document.exitPointerLock())},startListeners:function(){var e=this.target;if(e){var r=this,h=this.manager,n=h.canvas,l=window&&window.focus&&h.game.config.autoFocus;this.onMouseMove=function(u){!u.defaultPrevented&&r.enabled&&h&&h.enabled&&(h.onMouseMove(u),r.preventDefaultMove&&u.preventDefault())},this.onMouseDown=function(u){l&&window.focus(),!u.defaultPrevented&&r.enabled&&h&&h.enabled&&(h.onMouseDown(u),r.preventDefaultDown&&u.target===n&&u.preventDefault())},this.onMouseDownWindow=function(u){u.sourceCapabilities&&u.sourceCapabilities.firesTouchEvents||!u.defaultPrevented&&r.enabled&&h&&h.enabled&&u.target!==n&&h.onMouseDown(u)},this.onMouseUp=function(u){!u.defaultPrevented&&r.enabled&&h&&h.enabled&&(h.onMouseUp(u),r.preventDefaultUp&&u.target===n&&u.preventDefault())},this.onMouseUpWindow=function(u){u.sourceCapabilities&&u.sourceCapabilities.firesTouchEvents||!u.defaultPrevented&&r.enabled&&h&&h.enabled&&u.target!==n&&h.onMouseUp(u)},this.onMouseOver=function(u){!u.defaultPrevented&&r.enabled&&h&&h.enabled&&h.setCanvasOver(u)},this.onMouseOut=function(u){!u.defaultPrevented&&r.enabled&&h&&h.enabled&&h.setCanvasOut(u)},this.onMouseWheel=function(u){!u.defaultPrevented&&r.enabled&&h&&h.enabled&&h.onMouseWheel(u),r.preventDefaultWheel&&u.target===n&&u.preventDefault()};var f={passive:!0};if(e.addEventListener("mousemove",this.onMouseMove),e.addEventListener("mousedown",this.onMouseDown),e.addEventListener("mouseup",this.onMouseUp),e.addEventListener("mouseover",this.onMouseOver,f),e.addEventListener("mouseout",this.onMouseOut,f),this.preventDefaultWheel?e.addEventListener("wheel",this.onMouseWheel,{passive:!1}):e.addEventListener("wheel",this.onMouseWheel,f),window&&h.game.config.inputWindowEvents)try{window.top.addEventListener("mousedown",this.onMouseDownWindow,f),window.top.addEventListener("mouseup",this.onMouseUpWindow,f)}catch{window.addEventListener("mousedown",this.onMouseDownWindow,f),window.addEventListener("mouseup",this.onMouseUpWindow,f),this.isTop=!1}v.pointerLock&&(this.pointerLockChange=function(u){var d=r.target;r.locked=document.pointerLockElement===d||document.mozPointerLockElement===d||document.webkitPointerLockElement===d,h.onPointerLockChange(u)},document.addEventListener("pointerlockchange",this.pointerLockChange,!0),document.addEventListener("mozpointerlockchange",this.pointerLockChange,!0),document.addEventListener("webkitpointerlockchange",this.pointerLockChange,!0)),this.enabled=!0}},stopListeners:function(){var e=this.target;e.removeEventListener("mousemove",this.onMouseMove),e.removeEventListener("mousedown",this.onMouseDown),e.removeEventListener("mouseup",this.onMouseUp),e.removeEventListener("mouseover",this.onMouseOver),e.removeEventListener("mouseout",this.onMouseOut),window&&(e=this.isTop?window.top:window,e.removeEventListener("mousedown",this.onMouseDownWindow),e.removeEventListener("mouseup",this.onMouseUpWindow)),v.pointerLock&&(document.removeEventListener("pointerlockchange",this.pointerLockChange,!0),document.removeEventListener("mozpointerlockchange",this.pointerLockChange,!0),document.removeEventListener("webkitpointerlockchange",this.pointerLockChange,!0))},destroy:function(){this.stopListeners(),this.target=null,this.enabled=!1,this.manager=null}});c.exports=s},87078:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={MouseManager:t(85098)}},36210:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(8214),a=t(29747),i=new o({initialize:function(e){this.manager=e,this.capture=!0,this.enabled=!1,this.target,this.onTouchStart=a,this.onTouchStartWindow=a,this.onTouchMove=a,this.onTouchEnd=a,this.onTouchEndWindow=a,this.onTouchCancel=a,this.onTouchCancelWindow=a,this.isTop=!0,e.events.once(v.MANAGER_BOOT,this.boot,this)},boot:function(){var s=this.manager.config;this.enabled=s.inputTouch,this.target=s.inputTouchEventTarget,this.capture=s.inputTouchCapture,this.target?typeof this.target=="string"&&(this.target=document.getElementById(this.target)):this.target=this.manager.game.canvas,s.disableContextMenu&&this.disableContextMenu(),this.enabled&&this.target&&this.startListeners()},disableContextMenu:function(){return this.target.addEventListener("contextmenu",function(s){return s.preventDefault(),!1}),this},startListeners:function(){var s=this.target;if(s){var e=this,r=this.manager,h=r.canvas,n=window&&window.focus&&r.game.config.autoFocus;this.onTouchMove=function(d){!d.defaultPrevented&&e.enabled&&r&&r.enabled&&(r.onTouchMove(d),e.capture&&d.cancelable&&d.preventDefault())},this.onTouchStart=function(d){n&&window.focus(),!d.defaultPrevented&&e.enabled&&r&&r.enabled&&(r.onTouchStart(d),e.capture&&d.cancelable&&d.target===h&&d.preventDefault())},this.onTouchStartWindow=function(d){!d.defaultPrevented&&e.enabled&&r&&r.enabled&&d.target!==h&&r.onTouchStart(d)},this.onTouchEnd=function(d){!d.defaultPrevented&&e.enabled&&r&&r.enabled&&(r.onTouchEnd(d),e.capture&&d.cancelable&&d.target===h&&d.preventDefault())},this.onTouchEndWindow=function(d){!d.defaultPrevented&&e.enabled&&r&&r.enabled&&d.target!==h&&r.onTouchEnd(d)},this.onTouchCancel=function(d){!d.defaultPrevented&&e.enabled&&r&&r.enabled&&(r.onTouchCancel(d),e.capture&&d.preventDefault())},this.onTouchCancelWindow=function(d){!d.defaultPrevented&&e.enabled&&r&&r.enabled&&r.onTouchCancel(d)};var l=this.capture,f={passive:!0},u={passive:!1};if(s.addEventListener("touchstart",this.onTouchStart,l?u:f),s.addEventListener("touchmove",this.onTouchMove,l?u:f),s.addEventListener("touchend",this.onTouchEnd,l?u:f),s.addEventListener("touchcancel",this.onTouchCancel,l?u:f),window&&r.game.config.inputWindowEvents)try{window.top.addEventListener("touchstart",this.onTouchStartWindow,u),window.top.addEventListener("touchend",this.onTouchEndWindow,u),window.top.addEventListener("touchcancel",this.onTouchCancelWindow,u)}catch{window.addEventListener("touchstart",this.onTouchStartWindow,u),window.addEventListener("touchend",this.onTouchEndWindow,u),window.addEventListener("touchcancel",this.onTouchCancelWindow,u),this.isTop=!1}this.enabled=!0}},stopListeners:function(){var s=this.target;s.removeEventListener("touchstart",this.onTouchStart),s.removeEventListener("touchmove",this.onTouchMove),s.removeEventListener("touchend",this.onTouchEnd),s.removeEventListener("touchcancel",this.onTouchCancel),window&&(s=this.isTop?window.top:window,s.removeEventListener("touchstart",this.onTouchStartWindow),s.removeEventListener("touchend",this.onTouchEndWindow),s.removeEventListener("touchcancel",this.onTouchCancelWindow))},destroy:function(){this.stopListeners(),this.target=null,this.enabled=!1,this.manager=null}});c.exports=i},95618:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={TouchManager:t(36210)}},41299:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(23906),a=t(54899),i=t(95540),s=t(98356),e=t(3374),r=t(84376),h=t(92638),n=new o({initialize:function(f,u){if(this.loader=f,this.cache=i(u,"cache",!1),this.type=i(u,"type",!1),!this.type)throw new Error("Invalid File type: "+this.type);this.key=i(u,"key",!1);var d=this.key;if(f.prefix&&f.prefix!==""&&(this.key=f.prefix+d),!this.key)throw new Error("Invalid File key: "+this.key);var p=i(u,"url");p===void 0?p=f.path+d+"."+i(u,"extension",""):typeof p=="string"&&!p.match(/^(?:blob:|data:|capacitor:\/\/|http:\/\/|https:\/\/|\/\/)/)&&(p=f.path+p),this.url=p,this.src="",this.xhrSettings=h(i(u,"responseType",void 0)),i(u,"xhrSettings",!1)&&(this.xhrSettings=e(this.xhrSettings,i(u,"xhrSettings",{}))),this.xhrLoader=null,this.state=typeof this.url=="function"?v.FILE_POPULATED:v.FILE_PENDING,this.bytesTotal=0,this.bytesLoaded=-1,this.percentComplete=-1,this.crossOrigin=void 0,this.data=void 0,this.config=i(u,"config",{}),this.multiFile,this.linkFile,this.base64=typeof p=="string"&&p.indexOf("data:")===0},setLink:function(l){this.linkFile=l,l.linkFile=this},resetXHR:function(){this.xhrLoader&&(this.xhrLoader.onload=void 0,this.xhrLoader.onerror=void 0,this.xhrLoader.onprogress=void 0)},load:function(){this.state===v.FILE_POPULATED?this.loader.nextFile(this,!0):(this.state=v.FILE_LOADING,this.src=s(this,this.loader.baseURL),this.src.indexOf("data:")===0&&(this.base64=!0),this.xhrLoader=r(this,this.loader.xhr))},onLoad:function(l,f){var u=l.responseURL&&this.loader.localSchemes.some(function(x){return l.responseURL.indexOf(x)===0}),d=u&&f.target.status===0,p=!(f.target&&f.target.status!==200)||d;l.readyState===4&&l.status>=400&&l.status<=599&&(p=!1),this.state=v.FILE_LOADED,this.resetXHR(),this.loader.nextFile(this,p)},onBase64Load:function(l){this.xhrLoader=l,this.state=v.FILE_LOADED,this.percentComplete=1,this.loader.emit(a.FILE_PROGRESS,this,this.percentComplete),this.loader.nextFile(this,!0)},onError:function(){this.resetXHR(),this.loader.nextFile(this,!1)},onProgress:function(l){l.lengthComputable&&(this.bytesLoaded=l.loaded,this.bytesTotal=l.total,this.percentComplete=Math.min(this.bytesLoaded/this.bytesTotal,1),this.loader.emit(a.FILE_PROGRESS,this,this.percentComplete))},onProcess:function(){this.state=v.FILE_PROCESSING,this.onProcessComplete()},onProcessComplete:function(){this.state=v.FILE_COMPLETE,this.multiFile&&this.multiFile.onFileComplete(this),this.loader.fileProcessComplete(this)},onProcessError:function(){console.error('Failed to process file: %s "%s"',this.type,this.key),this.state=v.FILE_ERRORED,this.multiFile&&this.multiFile.onFileFailed(this),this.loader.fileProcessComplete(this)},hasCacheConflict:function(){return this.cache&&this.cache.exists(this.key)},addToCache:function(){this.cache&&this.data&&this.cache.add(this.key,this.data)},pendingDestroy:function(l){if(this.state!==v.FILE_PENDING_DESTROY){l===void 0&&(l=this.data);var f=this.key,u=this.type;this.loader.emit(a.FILE_COMPLETE,f,u,l),this.loader.emit(a.FILE_KEY_COMPLETE+u+"-"+f,f,u,l),this.loader.flagForRemoval(this),this.state=v.FILE_PENDING_DESTROY}},destroy:function(){this.loader=null,this.cache=null,this.xhrSettings=null,this.multiFile=null,this.linkFile=null,this.data=null}});n.createObjectURL=function(l,f,u){if(typeof URL=="function")l.src=URL.createObjectURL(f);else{var d=new FileReader;d.onload=function(){l.removeAttribute("crossOrigin"),l.src="data:"+(f.type||u)+";base64,"+d.result.split(",")[1]},d.onerror=l.onerror,d.readAsDataURL(f)}},n.revokeObjectURL=function(l){typeof URL=="function"&&URL.revokeObjectURL(l.src)},c.exports=n},74099:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g={},t={install:function(o){for(var v in g)o[v]=g[v]},register:function(o,v){g[o]=v},destroy:function(){g={}}};c.exports=t},98356:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o){return t.url?t.url.match(/^(?:blob:|data:|capacitor:\/\/|http:\/\/|https:\/\/|\/\/)/)?t.url:o+t.url:!1};c.exports=g},74261:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(23906),a=t(35072),i=t(50792),s=t(54899),e=t(74099),r=t(95540),h=t(35154),n=t(37277),l=t(44594),f=t(92638),u=new o({Extends:i,initialize:function(p){i.call(this);var x=p.sys.game.config,E=p.sys.settings.loader;this.scene=p,this.systems=p.sys,this.cacheManager=p.sys.cache,this.textureManager=p.sys.textures,this.sceneManager=p.sys.game.scene,e.install(this),this.prefix="",this.path="",this.baseURL="",this.setBaseURL(r(E,"baseURL",x.loaderBaseURL)),this.setPath(r(E,"path",x.loaderPath)),this.setPrefix(r(E,"prefix",x.loaderPrefix)),this.maxParallelDownloads=r(E,"maxParallelDownloads",x.loaderMaxParallelDownloads),this.xhr=f(r(E,"responseType",x.loaderResponseType),r(E,"async",x.loaderAsync),r(E,"user",x.loaderUser),r(E,"password",x.loaderPassword),r(E,"timeout",x.loaderTimeout),r(E,"withCredentials",x.loaderWithCredentials)),this.crossOrigin=r(E,"crossOrigin",x.loaderCrossOrigin),this.imageLoadType=r(E,"imageLoadType",x.loaderImageLoadType),this.localSchemes=r(E,"localScheme",x.loaderLocalScheme),this.totalToLoad=0,this.progress=0,this.list=new a,this.inflight=new a,this.queue=new a,this._deleteQueue=new a,this.totalFailed=0,this.totalComplete=0,this.state=v.LOADER_IDLE,this.multiKeyIndex=0,p.sys.events.once(l.BOOT,this.boot,this),p.sys.events.on(l.START,this.pluginStart,this)},boot:function(){this.systems.events.once(l.DESTROY,this.destroy,this)},pluginStart:function(){this.systems.events.once(l.SHUTDOWN,this.shutdown,this)},setBaseURL:function(d){return d===void 0&&(d=""),d!==""&&d.substr(-1)!=="/"&&(d=d.concat("/")),this.baseURL=d,this},setPath:function(d){return d===void 0&&(d=""),d!==""&&d.substr(-1)!=="/"&&(d=d.concat("/")),this.path=d,this},setPrefix:function(d){return d===void 0&&(d=""),this.prefix=d,this},setCORS:function(d){return this.crossOrigin=d,this},addFile:function(d){Array.isArray(d)||(d=[d]);for(var p=0;p<d.length;p++){var x=d[p];this.keyExists(x)||(this.list.set(x),this.emit(s.ADD,x.key,x.type,this,x),this.isLoading()&&(this.totalToLoad++,this.updateProgress()))}},keyExists:function(d){var p=d.hasCacheConflict();return p||this.list.iterate(function(x){if(x.type===d.type&&x.key===d.key)return p=!0,!1}),!p&&this.isLoading()&&(this.inflight.iterate(function(x){if(x.type===d.type&&x.key===d.key)return p=!0,!1}),this.queue.iterate(function(x){if(x.type===d.type&&x.key===d.key)return p=!0,!1})),p},addPack:function(d,p){if(typeof p=="string"){var x=h(d,p);x&&(d={packKey:x})}var E=0,T=this.baseURL,C=this.path,A=this.prefix;for(var M in d)if(Object.prototype.hasOwnProperty.call(d,M)){var R=d[M],O=r(R,"baseURL",T),L=r(R,"path",C),b=r(R,"prefix",A),N=r(R,"files",null),I=r(R,"defaultType","void");if(Array.isArray(N)){this.setBaseURL(O),this.setPath(L),this.setPrefix(b);for(var G=0;G<N.length;G++){var X=N[G],$=X.hasOwnProperty("type")?X.type:I;this[$]&&(this[$](X),E++)}}}return this.setBaseURL(T),this.setPath(C),this.setPrefix(A),E>0},isLoading:function(){return this.state===v.LOADER_LOADING||this.state===v.LOADER_PROCESSING},isReady:function(){return this.state===v.LOADER_IDLE||this.state===v.LOADER_COMPLETE},start:function(){this.isReady()&&(this.progress=0,this.totalFailed=0,this.totalComplete=0,this.totalToLoad=this.list.size,this.emit(s.START,this),this.list.size===0?this.loadComplete():(this.state=v.LOADER_LOADING,this.inflight.clear(),this.queue.clear(),this.updateProgress(),this.checkLoadQueue(),this.systems.events.on(l.UPDATE,this.update,this)))},updateProgress:function(){this.progress=1-(this.list.size+this.inflight.size)/this.totalToLoad,this.emit(s.PROGRESS,this.progress)},update:function(){this.state===v.LOADER_LOADING&&this.list.size>0&&this.inflight.size<this.maxParallelDownloads&&this.checkLoadQueue()},checkLoadQueue:function(){this.list.each(function(d){if((d.state===v.FILE_POPULATED||d.state===v.FILE_PENDING&&this.inflight.size<this.maxParallelDownloads)&&(this.inflight.set(d),this.list.delete(d),d.crossOrigin||(d.crossOrigin=this.crossOrigin),d.load()),this.inflight.size===this.maxParallelDownloads)return!1},this)},nextFile:function(d,p){this.inflight&&(this.inflight.delete(d),this.updateProgress(),p?(this.totalComplete++,this.queue.set(d),this.emit(s.FILE_LOAD,d),d.onProcess()):(this.totalFailed++,this._deleteQueue.set(d),this.emit(s.FILE_LOAD_ERROR,d),this.fileProcessComplete(d)))},fileProcessComplete:function(d){!this.scene||!this.systems||!this.systems.game||this.systems.game.pendingDestroy||(d.state===v.FILE_ERRORED?d.multiFile&&d.multiFile.onFileFailed(d):d.state===v.FILE_COMPLETE&&(d.multiFile?d.multiFile.isReadyToProcess()&&(d.multiFile.addToCache(),d.multiFile.pendingDestroy()):(d.addToCache(),d.pendingDestroy())),this.queue.delete(d),this.list.size===0&&this.inflight.size===0&&this.queue.size===0&&this.loadComplete())},loadComplete:function(){this.emit(s.POST_PROCESS,this),this.list.clear(),this.inflight.clear(),this.queue.clear(),this.progress=1,this.state=v.LOADER_COMPLETE,this.systems.events.off(l.UPDATE,this.update,this),this._deleteQueue.iterateLocal("destroy"),this._deleteQueue.clear(),this.emit(s.COMPLETE,this,this.totalComplete,this.totalFailed)},flagForRemoval:function(d){this._deleteQueue.set(d)},saveJSON:function(d,p){return this.save(JSON.stringify(d),p)},save:function(d,p,x){p===void 0&&(p="file.json"),x===void 0&&(x="application/json");var E=new Blob([d],{type:x}),T=URL.createObjectURL(E),C=document.createElement("a");return C.download=p,C.textContent="Download "+p,C.href=T,C.click(),this},reset:function(){this.list.clear(),this.inflight.clear(),this.queue.clear();var d=this.systems.game.config,p=this.systems.settings.loader;this.setBaseURL(r(p,"baseURL",d.loaderBaseURL)),this.setPath(r(p,"path",d.loaderPath)),this.setPrefix(r(p,"prefix",d.loaderPrefix)),this.state=v.LOADER_IDLE},shutdown:function(){this.reset(),this.state=v.LOADER_SHUTDOWN,this.removeAllListeners(),this.systems.events.off(l.UPDATE,this.update,this),this.systems.events.off(l.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.state=v.LOADER_DESTROYED,this.systems.events.off(l.UPDATE,this.update,this),this.systems.events.off(l.START,this.pluginStart,this),this.list=null,this.inflight=null,this.queue=null,this.scene=null,this.systems=null,this.textureManager=null,this.cacheManager=null,this.sceneManager=null}});n.register("Loader",u,"load"),c.exports=u},3374:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(79291),v=t(92638),a=function(i,s){var e=i===void 0?v():o({},i);if(s)for(var r in s)s[r]!==void 0&&(e[r]=s[r]);return e};c.exports=a},26430:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(23906),a=t(54899),i=new o({initialize:function(e,r,h,n){var l=[];n.forEach(function(d){d&&l.push(d)}),this.loader=e,this.type=r,this.key=h;var f=this.key;e.prefix&&e.prefix!==""&&(this.key=e.prefix+f),this.multiKeyIndex=e.multiKeyIndex++,this.files=l,this.state=v.FILE_PENDING,this.complete=!1,this.pending=l.length,this.failed=0,this.config={},this.baseURL=e.baseURL,this.path=e.path,this.prefix=e.prefix;for(var u=0;u<l.length;u++)l[u].multiFile=this},isReadyToProcess:function(){return this.pending===0&&this.failed===0&&!this.complete},addToMultiFile:function(s){return this.files.push(s),s.multiFile=this,this.pending++,this.complete=!1,this},onFileComplete:function(s){var e=this.files.indexOf(s);e!==-1&&this.pending--},onFileFailed:function(s){var e=this.files.indexOf(s);e!==-1&&(this.failed++,console.error('File failed: %s "%s" (via %s "%s")',this.type,this.key,s.type,s.key))},pendingDestroy:function(){if(this.state!==v.FILE_PENDING_DESTROY){var s=this.key,e=this.type;this.loader.emit(a.FILE_COMPLETE,s,e),this.loader.emit(a.FILE_KEY_COMPLETE+e+"-"+s,s,e),this.loader.flagForRemoval(this);for(var r=0;r<this.files.length;r++)this.files[r].pendingDestroy();this.state=v.FILE_PENDING_DESTROY}},destroy:function(){this.loader=null,this.files=null,this.config=null}});c.exports=i},84376:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(3374),v=function(a,i){var s=o(i,a.xhrSettings);if(a.base64){var e=a.url.split(";base64,").pop()||a.url.split(",").pop(),r={responseText:atob(e)};a.onBase64Load(r);return}var h=new XMLHttpRequest;if(h.open("GET",a.src,s.async,s.user,s.password),h.responseType=a.xhrSettings.responseType,h.timeout=s.timeout,s.headers)for(var n in s.headers)h.setRequestHeader(n,s.headers[n]);return s.header&&s.headerValue&&h.setRequestHeader(s.header,s.headerValue),s.requestedWith&&h.setRequestHeader("X-Requested-With",s.requestedWith),s.overrideMimeType&&h.overrideMimeType(s.overrideMimeType),s.withCredentials&&(h.withCredentials=!0),h.onload=a.onLoad.bind(a,h),h.onerror=a.onError.bind(a,h),h.onprogress=a.onProgress.bind(a),h.ontimeout=a.onError.bind(a,h),h.send(),h};c.exports=v},92638:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o,v,a,i,s){return t===void 0&&(t=""),o===void 0&&(o=!0),v===void 0&&(v=""),a===void 0&&(a=""),i===void 0&&(i=0),s===void 0&&(s=!1),{responseType:t,async:o,user:v,password:a,timeout:i,headers:void 0,header:void 0,headerValue:void 0,requestedWith:!1,overrideMimeType:void 0,withCredentials:s}};c.exports=g},23906:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g={LOADER_IDLE:0,LOADER_LOADING:1,LOADER_PROCESSING:2,LOADER_COMPLETE:3,LOADER_SHUTDOWN:4,LOADER_DESTROYED:5,FILE_PENDING:10,FILE_LOADING:11,FILE_LOADED:12,FILE_FAILED:13,FILE_PROCESSING:14,FILE_ERRORED:16,FILE_COMPLETE:17,FILE_DESTROYED:18,FILE_POPULATED:19,FILE_PENDING_DESTROY:20};c.exports=g},42155:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="addfile"},38991:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="complete"},27540:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="filecomplete"},87464:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="filecomplete-"},94486:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="loaderror"},13035:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="load"},38144:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="fileprogress"},97520:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="postprocess"},85595:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="progress"},55680:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="start"},54899:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={ADD:t(42155),COMPLETE:t(38991),FILE_COMPLETE:t(27540),FILE_KEY_COMPLETE:t(87464),FILE_LOAD_ERROR:t(94486),FILE_LOAD:t(13035),FILE_PROGRESS:t(38144),POST_PROCESS:t(97520),PROGRESS:t(85595),START:t(55680)}},14135:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(74099),a=t(518),i=t(54899),s=new o({Extends:a,initialize:function(r,h,n,l,f){a.call(this,r,h,n,l,f),this.type="animationJSON"},onProcess:function(){this.loader.once(i.POST_PROCESS,this.onLoadComplete,this),a.prototype.onProcess.call(this)},onLoadComplete:function(){this.loader.systems.anims.fromJSON(this.data)}});v.register("animation",function(e,r,h,n){if(Array.isArray(e))for(var l=0;l<e.length;l++)this.addFile(new s(this,e[l]));else this.addFile(new s(this,e,r,n,h));return this}),c.exports=s},76272:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(74099),a=t(95540),i=t(19550),s=t(41212),e=t(518),r=t(26430),h=new o({Extends:r,initialize:function(l,f,u,d,p,x){var E,T;if(s(f)){var C=f;f=a(C,"key"),E=new i(l,{key:f,url:a(C,"textureURL"),extension:a(C,"textureExtension","png"),normalMap:a(C,"normalMap"),xhrSettings:a(C,"textureXhrSettings")}),T=new e(l,{key:f,url:a(C,"atlasURL"),extension:a(C,"atlasExtension","json"),xhrSettings:a(C,"atlasXhrSettings")})}else E=new i(l,f,u,p),T=new e(l,f,d,x);E.linkFile?r.call(this,l,"atlasjson",f,[E,T,E.linkFile]):r.call(this,l,"atlasjson",f,[E,T])},addToCache:function(){if(this.isReadyToProcess()){var n=this.files[0],l=this.files[1],f=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlas(n.key,n.data,l.data,f),l.addToCache(),this.complete=!0}}});v.register("aseprite",function(n,l,f,u,d){var p;if(Array.isArray(n))for(var x=0;x<n.length;x++)p=new h(this,n[x]),this.addFile(p.files);else p=new h(this,n,l,f,u,d),this.addFile(p.files);return this}),c.exports=h},38734:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(74099),a=t(95540),i=t(19550),s=t(41212),e=t(518),r=t(26430),h=new o({Extends:r,initialize:function(l,f,u,d,p,x){var E,T;if(s(f)){var C=f;f=a(C,"key"),E=new i(l,{key:f,url:a(C,"textureURL"),extension:a(C,"textureExtension","png"),normalMap:a(C,"normalMap"),xhrSettings:a(C,"textureXhrSettings")}),T=new e(l,{key:f,url:a(C,"atlasURL"),extension:a(C,"atlasExtension","json"),xhrSettings:a(C,"atlasXhrSettings")})}else E=new i(l,f,u,p),T=new e(l,f,d,x);E.linkFile?r.call(this,l,"atlasjson",f,[E,T,E.linkFile]):r.call(this,l,"atlasjson",f,[E,T])},addToCache:function(){if(this.isReadyToProcess()){var n=this.files[0],l=this.files[1],f=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlas(n.key,n.data,l.data,f),this.complete=!0}}});v.register("atlas",function(n,l,f,u,d){var p;if(Array.isArray(n))for(var x=0;x<n.length;x++)p=new h(this,n[x]),this.addFile(p.files);else p=new h(this,n,l,f,u,d),this.addFile(p.files);return this}),c.exports=h},74599:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(74099),a=t(95540),i=t(19550),s=t(41212),e=t(26430),r=t(57318),h=new o({Extends:e,initialize:function(l,f,u,d,p,x){var E,T;if(s(f)){var C=f;f=a(C,"key"),E=new i(l,{key:f,url:a(C,"textureURL"),extension:a(C,"textureExtension","png"),normalMap:a(C,"normalMap"),xhrSettings:a(C,"textureXhrSettings")}),T=new r(l,{key:f,url:a(C,"atlasURL"),extension:a(C,"atlasExtension","xml"),xhrSettings:a(C,"atlasXhrSettings")})}else E=new i(l,f,u,p),T=new r(l,f,d,x);E.linkFile?e.call(this,l,"atlasxml",f,[E,T,E.linkFile]):e.call(this,l,"atlasxml",f,[E,T])},addToCache:function(){if(this.isReadyToProcess()){var n=this.files[0],l=this.files[1],f=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlasXML(n.key,n.data,l.data,f),this.complete=!0}}});v.register("atlasXML",function(n,l,f,u,d){var p;if(Array.isArray(n))for(var x=0;x<n.length;x++)p=new h(this,n[x]),this.addFile(p.files);else p=new h(this,n,l,f,u,d),this.addFile(p.files);return this}),c.exports=h},21097:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(23906),a=t(41299),i=t(74099),s=t(95540),e=t(89749),r=t(41212),h=new o({Extends:a,initialize:function(l,f,u,d,p){if(r(f)){var x=f;f=s(x,"key"),d=s(x,"xhrSettings"),p=s(x,"context",p)}var E={type:"audio",cache:l.cacheManager.audio,extension:u.type,responseType:"arraybuffer",key:f,url:u.url,xhrSettings:d,config:{context:p}};a.call(this,l,E)},onProcess:function(){this.state=v.FILE_PROCESSING;var n=this;this.config.context.decodeAudioData(this.xhrLoader.response,function(l){n.data=l,n.onProcessComplete()},function(l){console.error("Error decoding audio: "+n.key+" - ",l?l.message:null),n.onProcessError()}),this.config.context=null}});h.create=function(n,l,f,u,d){var p=n.systems.game,x=p.config.audio,E=p.device.audio;r(l)&&(f=s(l,"url",[]),u=s(l,"config",{}));var T=h.getAudioURL(p,f);return T?E.webAudio&&!x.disableWebAudio?new h(n,l,T,d,p.sound.context):new e(n,l,T,u):(console.warn('No audio URLs for "%s" matched this device',l),null)},h.getAudioURL=function(n,l){Array.isArray(l)||(l=[l]);for(var f=0;f<l.length;f++){var u=s(l[f],"url",l[f]);if(u.indexOf("blob:")===0||u.indexOf("data:")===0)return{url:u,type:""};var d=u.match(/\.([a-zA-Z0-9]+)($|\?)/);if(d=s(l[f],"type",d?d[1]:"").toLowerCase(),n.device.audio[d])return{url:u,type:d}}return null},i.register("audio",function(n,l,f,u){var d=this.systems.game,p=d.config.audio,x=d.device.audio;if(p.noAudio||!x.webAudio&&!x.audioData)return this;var E;if(Array.isArray(n))for(var T=0;T<n.length;T++)E=h.create(this,n[T]),E&&this.addFile(E);else E=h.create(this,n,l,f,u),E&&this.addFile(E);return this}),c.exports=h},89524:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(21097),v=t(83419),a=t(74099),i=t(95540),s=t(41212),e=t(518),r=t(26430),h=new v({Extends:r,initialize:function(l,f,u,d,p,x,E){if(s(f)){var T=f;f=i(T,"key"),u=i(T,"jsonURL"),d=i(T,"audioURL"),p=i(T,"audioConfig"),x=i(T,"audioXhrSettings"),E=i(T,"jsonXhrSettings")}var C;if(!d)C=new e(l,f,u,E),r.call(this,l,"audiosprite",f,[C]),this.config.resourceLoad=!0,this.config.audioConfig=p,this.config.audioXhrSettings=x;else{var A=o.create(l,f,d,p,x);A&&(C=new e(l,f,u,E),r.call(this,l,"audiosprite",f,[A,C]),this.config.resourceLoad=!1)}},onFileComplete:function(n){var l=this.files.indexOf(n);if(l!==-1&&(this.pending--,this.config.resourceLoad&&n.type==="json"&&n.data.hasOwnProperty("resources"))){var f=n.data.resources,u=i(this.config,"audioConfig"),d=i(this.config,"audioXhrSettings"),p=o.create(this.loader,n.key,f,u,d);p&&(this.addToMultiFile(p),this.loader.addFile(p))}},addToCache:function(){if(this.isReadyToProcess()){var n=this.files[0],l=this.files[1];n.addToCache(),l.addToCache(),this.complete=!0}}});a.register("audioSprite",function(n,l,f,u,d,p){var x=this.systems.game,E=x.config.audio,T=x.device.audio;if(E&&E.noAudio||!T.webAudio&&!T.audioData)return this;var C;if(Array.isArray(n))for(var A=0;A<n.length;A++)C=new h(this,n[A]),C.files&&this.addFile(C.files);else C=new h(this,n,l,f,u,d,p),C.files&&this.addFile(C.files);return this})},85722:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(23906),a=t(41299),i=t(74099),s=t(95540),e=t(41212),r=new o({Extends:a,initialize:function(n,l,f,u,d){var p="bin";if(e(l)){var x=l;l=s(x,"key"),f=s(x,"url"),u=s(x,"xhrSettings"),p=s(x,"extension",p),d=s(x,"dataType",d)}var E={type:"binary",cache:n.cacheManager.binary,extension:p,responseType:"arraybuffer",key:l,url:f,xhrSettings:u,config:{dataType:d}};a.call(this,n,E)},onProcess:function(){this.state=v.FILE_PROCESSING;var h=this.config.dataType;this.data=h?new h(this.xhrLoader.response):this.xhrLoader.response,this.onProcessComplete()}});i.register("binary",function(h,n,l,f){if(Array.isArray(h))for(var u=0;u<h.length;u++)this.addFile(new r(this,h[u]));else this.addFile(new r(this,h,n,f,l));return this}),c.exports=r},97025:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(74099),a=t(95540),i=t(19550),s=t(41212),e=t(26430),r=t(21859),h=t(57318),n=new o({Extends:e,initialize:function(f,u,d,p,x,E){var T,C;if(s(u)){var A=u;u=a(A,"key"),T=new i(f,{key:u,url:a(A,"textureURL"),extension:a(A,"textureExtension","png"),normalMap:a(A,"normalMap"),xhrSettings:a(A,"textureXhrSettings")}),C=new h(f,{key:u,url:a(A,"fontDataURL"),extension:a(A,"fontDataExtension","xml"),xhrSettings:a(A,"fontDataXhrSettings")})}else T=new i(f,u,d,x),C=new h(f,u,p,E);T.linkFile?e.call(this,f,"bitmapfont",u,[T,C,T.linkFile]):e.call(this,f,"bitmapfont",u,[T,C])},addToCache:function(){if(this.isReadyToProcess()){var l=this.files[0],f=this.files[1];l.addToCache();var u=l.cache.get(l.key),d=r(f.data,l.cache.getFrame(l.key),0,0,u);this.loader.cacheManager.bitmapFont.add(l.key,{data:d,texture:l.key,frame:null}),this.complete=!0}}});v.register("bitmapFont",function(l,f,u,d,p){var x;if(Array.isArray(l))for(var E=0;E<l.length;E++)x=new n(this,l[E]),this.addFile(x.files);else x=new n(this,l,f,u,d,p),this.addFile(x.files);return this}),c.exports=n},16024:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(23906),a=t(41299),i=t(74099),s=t(95540),e=t(41212),r=new o({Extends:a,initialize:function(n,l,f,u){var d="css";if(e(l)){var p=l;l=s(p,"key"),f=s(p,"url"),u=s(p,"xhrSettings"),d=s(p,"extension",d)}var x={type:"script",cache:!1,extension:d,responseType:"text",key:l,url:f,xhrSettings:u};a.call(this,n,x)},onProcess:function(){this.state=v.FILE_PROCESSING,this.data=document.createElement("style"),this.data.defer=!1,this.data.innerHTML=this.xhrLoader.responseText,document.head.appendChild(this.data),this.onProcessComplete()}});i.register("css",function(h,n,l){if(Array.isArray(h))for(var f=0;f<h.length;f++)this.addFile(new r(this,h[f]));else this.addFile(new r(this,h,n,l));return this}),c.exports=r},69559:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(38734),v=t(85722),a=t(83419),i=t(74099),s=t(95540),e=t(19550),r=t(41212),h=t(518),n=t(31403),l=t(46975),f=t(59327),u=t(26430),d=t(82038),p=t(55222),x=new a({Extends:u,initialize:function(T,C,A,M){if(A.multiAtlasURL){var R=new h(T,{key:C,url:A.multiAtlasURL,xhrSettings:M,config:A});u.call(this,T,"texture",C,[R])}else{var O=A.textureURL.substr(A.textureURL.length-3);A.type||(A.type=O.toLowerCase()==="ktx"?"KTX":"PVR");var L=new v(T,{key:C,url:A.textureURL,extension:O,xhrSettings:M,config:A});if(A.atlasURL){var b=new h(T,{key:C,url:A.atlasURL,xhrSettings:M,config:A});u.call(this,T,"texture",C,[L,b])}else u.call(this,T,"texture",C,[L])}this.config=A},onFileComplete:function(E){var T=this.files.indexOf(E);if(T!==-1){if(this.pending--,!this.config.multiAtlasURL)return;if(E.type==="json"&&E.data.hasOwnProperty("textures")){var C=E.data.textures,A=this.config,M=this.loader,R=M.baseURL,O=M.path,L=M.prefix,b=s(A,"multiBaseURL",this.baseURL),N=s(A,"multiPath",this.path),I=s(A,"prefix",this.prefix),G=s(A,"textureXhrSettings");b&&M.setBaseURL(b),N&&M.setPath(N),I&&M.setPrefix(I);for(var X=0;X<C.length;X++){var $=C[X].image,J="CMA"+this.multiKeyIndex+"_"+$,z=new v(M,J,$,G);if(this.addToMultiFile(z),M.addFile(z),C[X].normalMap){var Y=new v(M,J,C[X].normalMap,G);Y.type="normalMap",z.setLink(Y),this.addToMultiFile(Y),M.addFile(Y)}}M.setBaseURL(R),M.setPath(O),M.setPrefix(L)}}},addToCache:function(){function E(b){console.warn('Compressed Texture Invalid: "'+R.key+'". '+b)}if(this.isReadyToProcess()){var T=this.config;if(T.multiAtlasURL)this.addMultiToCache();else{var C=this.loader.systems.renderer,A=this.loader.textureManager,M,R=this.files[0],O=this.files[1];if(T.type==="PVR"?M=d(R.data):T.type==="KTX"&&(M=n(R.data),M||E("KTX file contains unsupported format.")),M&&!p(M)&&(E("Texture dimensions failed verification. Check the texture format specifications for "+T.format+" 0x"+M.internalFormat.toString(16)+"."),M=null),M&&!C.supportsCompressedTexture(T.format,M.internalFormat)&&(E("Texture format "+T.format+" with internal format "+M.internalFormat+" not supported by the GPU. Texture invalid. This is often due to the texture using sRGB instead of linear RGB."),M=null),M){M.format=C.getCompressedTextureName(T.format,M.internalFormat);var L=O&&O.data?O.data:null;A.addCompressedTexture(R.key,M,L)}}this.complete=!0}},addMultiToCache:function(){for(var E=this.config,T=this.files[0],C=[],A=[],M=[],R=this.loader.systems.renderer,O=this.loader.textureManager,L,b=1;b<this.files.length;b++){var N=this.files[b];if(N.type!=="normalMap")for(var I=N.key.indexOf("_"),G=N.key.substr(I+1),X=N.data,$=0;$<T.data.textures.length;$++){var J=T.data.textures[$];if(J.image===G){E.type==="PVR"?L=d(X):E.type==="KTX"&&(L=n(X)),L&&R.supportsCompressedTexture(E.format,L.internalFormat)&&(L.format=R.getCompressedTextureName(E.format,L.internalFormat),A.push(L),C.push(J),N.linkFile&&M.push(N.linkFile.data));break}}}M.length===0&&(M=void 0),O.addAtlasJSONArray(this.key,A,C,M),this.complete=!0}});i.register("texture",function(E,T,C){var A=this.systems.renderer,M=function(O,L,b,N){var I={format:null,type:null,textureURL:void 0,atlasURL:void 0,multiAtlasURL:void 0,multiPath:void 0,multiBaseURL:void 0};if(r(L)){var G=L;L=s(G,"key"),b=s(G,"url"),N=s(G,"xhrSettings")}var X=!1;for(var $ in b)if(A.supportsCompressedTexture($)){var J=b[$];typeof J=="string"?I.textureURL=J:I=l(J,I),I.format=$.toUpperCase(),X=!0;break}if(!X)console.warn("No supported compressed texture format or IMG fallback",L);else if(I.format==="IMG"){var z,Y;I.multiAtlasURL?(Y=new f(O,L,I.multiAtlasURL,I.multiPath,I.multiBaseURL,N),z=Y.files):I.atlasURL?(Y=new o(O,L,I.textureURL,I.atlasURL,N),z=Y.files):z=new e(O,L,I.textureURL,N),O.addFile(z)}else{var D=new x(O,L,I,N);O.addFile(D.files)}};if(Array.isArray(E))for(var R=0;R<E.length;R++)M(this,E[R]);else M(this,E,T,C);return this}),c.exports=x},47931:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(23906),a=t(41299),i=t(74099),s=t(95540),e=t(41212),r=t(73894),h=new o({Extends:a,initialize:function(l,f,u,d,p){var x="glsl";if(e(f)){var E=f;f=s(E,"key"),u=s(E,"url"),d=s(E,"shaderType","fragment"),p=s(E,"xhrSettings"),x=s(E,"extension",x)}else d===void 0&&(d="fragment");var T={type:"glsl",cache:l.cacheManager.shader,extension:x,responseType:"text",key:f,url:u,config:{shaderType:d},xhrSettings:p};a.call(this,l,T)},onProcess:function(){this.state=v.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var n=this.data.split(`
`),l=this.extractBlock(n,0);if(l)for(;l;){var f=this.getShaderName(l.header),u=this.getShaderType(l.header),d=this.getShaderUniforms(l.header),p=l.shader;if(this.cache.has(f)){var x=this.cache.get(f);u==="fragment"?x.fragmentSrc=p:x.vertexSrc=p,x.uniforms||(x.uniforms=d)}else u==="fragment"?this.cache.add(f,new r(f,p,"",d)):this.cache.add(f,new r(f,"",p,d));l=this.extractBlock(n,l.offset)}else this.config.shaderType==="fragment"?this.cache.add(this.key,new r(this.key,this.data)):this.cache.add(this.key,new r(this.key,"",this.data))},getShaderName:function(n){for(var l=0;l<n.length;l++){var f=n[l].trim();if(f.substring(0,5)==="name:")return f.substring(5).trim()}return this.key},getShaderType:function(n){for(var l=0;l<n.length;l++){var f=n[l].trim();if(f.substring(0,5)==="type:")return f.substring(5).trim()}return this.config.shaderType},getShaderUniforms:function(n){for(var l={},f=0;f<n.length;f++){var u=n[f].trim();if(u.substring(0,8)==="uniform."){var d=u.indexOf(":");if(d){var p=u.substring(8,d);try{l[p]=JSON.parse(u.substring(d+1))}catch{console.warn("Invalid uniform JSON: "+p)}}}}return l},extractBlock:function(n,l){for(var f=-1,u=-1,d=-1,p=!1,x=!1,E=[],T=[],C=l;C<n.length;C++){var A=n[C].trim();if(A==="---")if(f===-1)f=C,p=!0;else if(p)u=C,p=!1,x=!0;else{x=!1;break}else p?E.push(A):x&&(T.push(A),d=C)}return!p&&u!==-1?{header:E,shader:T.join(`
`),offset:d}:null}});i.register("glsl",function(n,l,f,u){if(Array.isArray(n))for(var d=0;d<n.length;d++)this.addFile(new h(this,n[d]));else this.addFile(new h(this,n,l,f,u));return this}),c.exports=h},89749:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(54899),a=t(41299),i=t(95540),s=t(98356),e=t(41212),r=new o({Extends:a,initialize:function(n,l,f,u){if(e(l)){var d=l;l=i(d,"key"),u=i(d,"config",u)}var p={type:"audio",cache:n.cacheManager.audio,extension:f.type,key:l,url:f.url,config:u};a.call(this,n,p),this.locked="ontouchstart"in window,this.loaded=!1,this.filesLoaded=0,this.filesTotal=0},onLoad:function(){this.loaded||(this.loaded=!0,this.loader.nextFile(this,!0))},onError:function(){for(var h=0;h<this.data.length;h++){var n=this.data[h];n.oncanplaythrough=null,n.onerror=null}this.loader.nextFile(this,!1)},onProgress:function(h){var n=h.target;n.oncanplaythrough=null,n.onerror=null,this.filesLoaded++,this.percentComplete=Math.min(this.filesLoaded/this.filesTotal,1),this.loader.emit(v.FILE_PROGRESS,this,this.percentComplete),this.filesLoaded===this.filesTotal&&this.onLoad()},load:function(){this.data=[];var h=this.config&&this.config.instances||1;this.filesTotal=h,this.filesLoaded=0,this.percentComplete=0;for(var n=0;n<h;n++){var l=new Audio;l.dataset||(l.dataset={}),l.dataset.name=this.key+("0"+n).slice(-2),l.dataset.used="false",this.locked?l.dataset.locked="true":(l.dataset.locked="false",l.preload="auto",l.oncanplaythrough=this.onProgress.bind(this),l.onerror=this.onError.bind(this)),this.data.push(l)}for(n=0;n<this.data.length;n++)l=this.data[n],l.src=s(this,this.loader.baseURL),this.locked||l.load();this.locked&&setTimeout(this.onLoad.bind(this))}});c.exports=r},88470:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(23906),a=t(41299),i=t(74099),s=t(95540),e=t(41212),r=new o({Extends:a,initialize:function(n,l,f,u){var d="html";if(e(l)){var p=l;l=s(p,"key"),f=s(p,"url"),u=s(p,"xhrSettings"),d=s(p,"extension",d)}var x={type:"text",cache:n.cacheManager.html,extension:d,responseType:"text",key:l,url:f,xhrSettings:u};a.call(this,n,x)},onProcess:function(){this.state=v.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()}});i.register("html",function(h,n,l){if(Array.isArray(h))for(var f=0;f<h.length;f++)this.addFile(new r(this,h[f]));else this.addFile(new r(this,h,n,l));return this}),c.exports=r},14643:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(23906),a=t(41299),i=t(74099),s=t(95540),e=t(41212),r=new o({Extends:a,initialize:function(n,l,f,u,d,p){u===void 0&&(u=512),d===void 0&&(d=512);var x="html";if(e(l)){var E=l;l=s(E,"key"),f=s(E,"url"),p=s(E,"xhrSettings"),x=s(E,"extension",x),u=s(E,"width",u),d=s(E,"height",d)}var T={type:"html",cache:n.textureManager,extension:x,responseType:"text",key:l,url:f,xhrSettings:p,config:{width:u,height:d}};a.call(this,n,T)},onProcess:function(){this.state=v.FILE_PROCESSING;var h=this.config.width,n=this.config.height,l=[];l.push('<svg width="'+h+'px" height="'+n+'px" viewBox="0 0 '+h+" "+n+'" xmlns="http://www.w3.org/2000/svg">'),l.push('<foreignObject width="100%" height="100%">'),l.push('<body xmlns="http://www.w3.org/1999/xhtml">'),l.push(this.xhrLoader.responseText),l.push("</body>"),l.push("</foreignObject>"),l.push("</svg>");var f=[l.join(`
`)],u=this;try{var d=new window.Blob(f,{type:"image/svg+xml;charset=utf-8"})}catch{u.state=v.FILE_ERRORED,u.onProcessComplete();return}this.data=new Image,this.data.crossOrigin=this.crossOrigin,this.data.onload=function(){a.revokeObjectURL(u.data),u.onProcessComplete()},this.data.onerror=function(){a.revokeObjectURL(u.data),u.onProcessError()},a.createObjectURL(this.data,d,"image/svg+xml")},addToCache:function(){this.cache.addImage(this.key,this.data)}});i.register("htmlTexture",function(h,n,l,f,u){if(Array.isArray(h))for(var d=0;d<h.length;d++)this.addFile(new r(this,h[d]));else this.addFile(new r(this,h,n,l,f,u));return this}),c.exports=r},19550:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(23906),a=t(41299),i=t(74099),s=t(95540),e=t(41212),r=t(98356),h=new o({Extends:a,initialize:function n(l,f,u,d,p){var x="png",E;if(e(f)){var T=f;f=s(T,"key"),u=s(T,"url"),E=s(T,"normalMap"),d=s(T,"xhrSettings"),x=s(T,"extension",x),p=s(T,"frameConfig")}Array.isArray(u)&&(E=u[1],u=u[0]);var C={type:"image",cache:l.textureManager,extension:x,responseType:"blob",key:f,url:u,xhrSettings:d,config:p};if(a.call(this,l,C),E){var A=new n(l,this.key,E,d,p);A.type="normalMap",this.setLink(A),l.addFile(A)}this.useImageElementLoad=l.imageLoadType==="HTMLImageElement"||this.base64,this.useImageElementLoad&&(this.load=this.loadImage,this.onProcess=this.onProcessImage)},onProcess:function(){this.state=v.FILE_PROCESSING,this.data=new Image,this.data.crossOrigin=this.crossOrigin;var n=this;this.data.onload=function(){a.revokeObjectURL(n.data),n.onProcessComplete()},this.data.onerror=function(){a.revokeObjectURL(n.data),n.onProcessError()},a.createObjectURL(this.data,this.xhrLoader.response,"image/png")},onProcessImage:function(){var n=this.state;this.state=v.FILE_PROCESSING,n===v.FILE_LOADED?this.onProcessComplete():this.onProcessError()},loadImage:function(){this.state=v.FILE_LOADING,this.src=r(this,this.loader.baseURL),this.data=new Image,this.data.crossOrigin=this.crossOrigin;var n=this;this.data.onload=function(){n.state=v.FILE_LOADED,n.loader.nextFile(n,!0)},this.data.onerror=function(){n.loader.nextFile(n,!1)},this.data.src=this.src},addToCache:function(){var n=this.linkFile;n?n.state>=v.FILE_COMPLETE&&(n.type==="spritesheet"?n.addToCache():this.type==="normalMap"?this.cache.addImage(this.key,n.data,this.data):this.cache.addImage(this.key,this.data,n.data)):this.cache.addImage(this.key,this.data)}});i.register("image",function(n,l,f){if(Array.isArray(n))for(var u=0;u<n.length;u++)this.addFile(new h(this,n[u]));else this.addFile(new h(this,n,l,f));return this}),c.exports=h},518:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(23906),a=t(41299),i=t(74099),s=t(95540),e=t(35154),r=t(41212),h=new o({Extends:a,initialize:function(l,f,u,d,p){var x="json";if(r(f)){var E=f;f=s(E,"key"),u=s(E,"url"),d=s(E,"xhrSettings"),x=s(E,"extension",x),p=s(E,"dataKey",p)}var T={type:"json",cache:l.cacheManager.json,extension:x,responseType:"text",key:f,url:u,xhrSettings:d,config:p};a.call(this,l,T),r(u)&&(p?this.data=e(u,p):this.data=u,this.state=v.FILE_POPULATED)},onProcess:function(){if(this.state!==v.FILE_POPULATED){this.state=v.FILE_PROCESSING;try{var n=JSON.parse(this.xhrLoader.responseText)}catch(f){throw this.onProcessError(),f}var l=this.config;typeof l=="string"?this.data=e(n,l,n):this.data=n}this.onProcessComplete()}});i.register("json",function(n,l,f,u){if(Array.isArray(n))for(var d=0;d<n.length;d++)this.addFile(new h(this,n[d]));else this.addFile(new h(this,n,l,u,f));return this}),c.exports=h},59327:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(74099),a=t(95540),i=t(19550),s=t(41212),e=t(518),r=t(26430),h=new o({Extends:r,initialize:function(l,f,u,d,p,x,E){if(s(f)){var T=f;f=a(T,"key"),a(T,"url",!1)?u=a(T,"url"):u=a(T,"atlasURL"),x=a(T,"xhrSettings"),d=a(T,"path"),p=a(T,"baseURL"),E=a(T,"textureXhrSettings")}var C=new e(l,f,u,x);r.call(this,l,"multiatlas",f,[C]),this.config.path=d,this.config.baseURL=p,this.config.textureXhrSettings=E},onFileComplete:function(n){var l=this.files.indexOf(n);if(l!==-1&&(this.pending--,n.type==="json"&&n.data.hasOwnProperty("textures"))){var f=n.data.textures,u=this.config,d=this.loader,p=d.baseURL,x=d.path,E=d.prefix,T=a(u,"baseURL",this.baseURL),C=a(u,"path",this.path),A=a(u,"prefix",this.prefix),M=a(u,"textureXhrSettings");d.setBaseURL(T),d.setPath(C),d.setPrefix(A);for(var R=0;R<f.length;R++){var O=f[R].image,L="MA"+this.multiKeyIndex+"_"+O,b=new i(d,L,O,M);if(this.addToMultiFile(b),d.addFile(b),f[R].normalMap){var N=new i(d,L,f[R].normalMap,M);N.type="normalMap",b.setLink(N),this.addToMultiFile(N),d.addFile(N)}}d.setBaseURL(p),d.setPath(x),d.setPrefix(E)}},addToCache:function(){if(this.isReadyToProcess()){for(var n=this.files[0],l=[],f=[],u=[],d=1;d<this.files.length;d++){var p=this.files[d];if(p.type!=="normalMap")for(var x=p.key.indexOf("_"),E=p.key.substr(x+1),T=p.data,C=0;C<n.data.textures.length;C++){var A=n.data.textures[C];if(A.image===E){f.push(T),l.push(A),p.linkFile&&u.push(p.linkFile.data);break}}}u.length===0&&(u=void 0),this.loader.textureManager.addAtlasJSONArray(this.key,f,l,u),this.complete=!0}}});v.register("multiatlas",function(n,l,f,u,d){var p;if(Array.isArray(n))for(var x=0;x<n.length;x++)p=new h(this,n[x]),this.addFile(p.files);else p=new h(this,n,l,f,u,d),this.addFile(p.files);return this}),c.exports=h},99297:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(74099),a=t(95540),i=t(41212),s=t(26430),e=t(34328),r=new o({Extends:s,initialize:function(n,l,f,u){var d="js",p=[];if(i(l)){var x=l;l=a(x,"key"),f=a(x,"url"),u=a(x,"xhrSettings"),d=a(x,"extension",d)}Array.isArray(f)||(f=[f]);for(var E=0;E<f.length;E++){var T=new e(n,{key:l+"_"+E.toString(),url:f[E],extension:d,xhrSettings:u});T.onProcess=function(){this.onProcessComplete()},p.push(T)}s.call(this,n,"scripts",l,p)},addToCache:function(){if(this.isReadyToProcess()){for(var h=0;h<this.files.length;h++){var n=this.files[h];n.data=document.createElement("script"),n.data.language="javascript",n.data.type="text/javascript",n.data.defer=!1,n.data.text=n.xhrLoader.responseText,document.head.appendChild(n.data)}this.complete=!0}}});v.register("scripts",function(h,n,l){var f;if(Array.isArray(h))for(var u=0;u<h.length;u++)f=new r(this,h[u]),this.addFile(f.files);else f=new r(this,h,n,l),this.addFile(f.files);return this}),c.exports=r},41846:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(74099),a=t(95540),i=t(41212),s=t(26430),e=t(85048),r=t(61485),h=t(78776),n=new o({Extends:s,initialize:function(f,u,d,p,x,E){var T,C,A=f.cacheManager.obj;if(i(u)){var M=u;u=a(M,"key"),T=new h(f,{key:u,type:"obj",cache:A,url:a(M,"url"),extension:a(M,"extension","obj"),xhrSettings:a(M,"xhrSettings"),config:{flipUV:a(M,"flipUV",x)}}),p=a(M,"matURL"),p&&(C=new h(f,{key:u,type:"mat",cache:A,url:p,extension:a(M,"matExtension","mat"),xhrSettings:a(M,"xhrSettings")}))}else T=new h(f,{key:u,url:d,type:"obj",cache:A,extension:"obj",xhrSettings:E,config:{flipUV:x}}),p&&(C=new h(f,{key:u,url:p,type:"mat",cache:A,extension:"mat",xhrSettings:E}));s.call(this,f,"obj",u,[T,C])},addToCache:function(){if(this.isReadyToProcess()){var l=this.files[0],f=this.files[1],u=e(l.data,l.config.flipUV);f&&(u.materials=r(f.data)),l.cache.add(l.key,u),this.complete=!0}}});v.register("obj",function(l,f,u,d,p){var x;if(Array.isArray(l))for(var E=0;E<l.length;E++)x=new n(this,l[E]),this.addFile(x.files);else x=new n(this,l,f,u,d,p),this.addFile(x.files);return this}),c.exports=n},58610:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(23906),a=t(74099),i=t(518),s=new o({Extends:i,initialize:function(r,h,n,l,f){i.call(this,r,h,n,l,f),this.type="packfile"},onProcess:function(){if(this.state!==v.FILE_POPULATED&&(this.state=v.FILE_PROCESSING,this.data=JSON.parse(this.xhrLoader.responseText)),this.data.hasOwnProperty("files")&&this.config){var e={};e[this.config]=this.data,this.data=e}this.loader.addPack(this.data,this.config),this.onProcessComplete()}});a.register("pack",function(e,r,h,n){if(Array.isArray(e))for(var l=0;l<e.length;l++)this.addFile(new s(this,e[l]));else this.addFile(new s(this,e,r,n,h));return this}),c.exports=s},48988:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(23906),a=t(41299),i=t(74099),s=t(95540),e=t(41212),r=new o({Extends:a,initialize:function(n,l,f,u,d,p){var x="js";if(e(l)){var E=l;l=s(E,"key"),f=s(E,"url"),p=s(E,"xhrSettings"),x=s(E,"extension",x),u=s(E,"start"),d=s(E,"mapping")}var T={type:"plugin",cache:!1,extension:x,responseType:"text",key:l,url:f,xhrSettings:p,config:{start:u,mapping:d}};a.call(this,n,T),typeof f=="function"&&(this.data=f,this.state=v.FILE_POPULATED)},onProcess:function(){var h=this.loader.systems.plugins,n=this.config,l=s(n,"start",!1),f=s(n,"mapping",null);if(this.state===v.FILE_POPULATED)h.install(this.key,this.data,l,f);else{this.state=v.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data);var u=h.install(this.key,window[this.key],l,f);(l||f)&&(this.loader.systems[f]=u,this.loader.scene[f]=u)}this.onProcessComplete()}});i.register("plugin",function(h,n,l,f,u){if(Array.isArray(h))for(var d=0;d<h.length;d++)this.addFile(new r(this,h[d]));else this.addFile(new r(this,h,n,l,f,u));return this}),c.exports=r},67397:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(23906),a=t(41299),i=t(74099),s=t(95540),e=t(41212),r=new o({Extends:a,initialize:function(n,l,f,u,d){var p="svg";if(e(l)){var x=l;l=s(x,"key"),f=s(x,"url"),u=s(x,"svgConfig",{}),d=s(x,"xhrSettings"),p=s(x,"extension",p)}var E={type:"svg",cache:n.textureManager,extension:p,responseType:"text",key:l,url:f,xhrSettings:d,config:{width:s(u,"width"),height:s(u,"height"),scale:s(u,"scale")}};a.call(this,n,E)},onProcess:function(){this.state=v.FILE_PROCESSING;var h=this.xhrLoader.responseText,n=[h],l=this.config.width,f=this.config.height,u=this.config.scale;t:if(l&&f||u){var d=null,p=new DOMParser;d=p.parseFromString(h,"text/xml");var x=d.getElementsByTagName("svg")[0],E=x.hasAttribute("viewBox"),T=parseFloat(x.getAttribute("width")),C=parseFloat(x.getAttribute("height"));if(!E&&T&&C)x.setAttribute("viewBox","0  0 "+T+" "+C);else if(E&&!T&&!C){var A=x.getAttribute("viewBox").split(/\s+|,/);T=A[2],C=A[3]}if(u)if(T&&C)l=T*u,f=C*u;else break t;x.setAttribute("width",l.toString()+"px"),x.setAttribute("height",f.toString()+"px"),n=[new XMLSerializer().serializeToString(x)]}try{var M=new window.Blob(n,{type:"image/svg+xml;charset=utf-8"})}catch{this.onProcessError();return}this.data=new Image,this.data.crossOrigin=this.crossOrigin;var R=this,O=!1;this.data.onload=function(){O||a.revokeObjectURL(R.data),R.onProcessComplete()},this.data.onerror=function(){O?R.onProcessError():(O=!0,a.revokeObjectURL(R.data),R.data.src="data:image/svg+xml,"+encodeURIComponent(n.join("")))},a.createObjectURL(this.data,M,"image/svg+xml")},addToCache:function(){this.cache.addImage(this.key,this.data)}});i.register("svg",function(h,n,l,f){if(Array.isArray(h))for(var u=0;u<h.length;u++)this.addFile(new r(this,h[u]));else this.addFile(new r(this,h,n,l,f));return this}),c.exports=r},88423:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(23906),a=t(41299),i=t(74099),s=t(95540),e=t(41212),r=new o({Extends:a,initialize:function(n,l,f,u){var d="js";if(e(l)){var p=l;l=s(p,"key"),f=s(p,"url"),u=s(p,"xhrSettings"),d=s(p,"extension",d)}var x={type:"text",extension:d,responseType:"text",key:l,url:f,xhrSettings:u};a.call(this,n,x)},onProcess:function(){this.state=v.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var h=this.data.concat(`(function(){
return new `+this.key+`();
}).call(this);`),n=eval;this.loader.sceneManager.add(this.key,n(h)),this.complete=!0}});i.register("sceneFile",function(h,n,l){if(Array.isArray(h))for(var f=0;f<h.length;f++)this.addFile(new r(this,h[f]));else this.addFile(new r(this,h,n,l));return this}),c.exports=r},56812:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(23906),a=t(41299),i=t(74099),s=t(95540),e=t(41212),r=new o({Extends:a,initialize:function(n,l,f,u,d,p){var x="js";if(e(l)){var E=l;l=s(E,"key"),f=s(E,"url"),p=s(E,"xhrSettings"),x=s(E,"extension",x),u=s(E,"systemKey"),d=s(E,"sceneKey")}var T={type:"scenePlugin",cache:!1,extension:x,responseType:"text",key:l,url:f,xhrSettings:p,config:{systemKey:u,sceneKey:d}};a.call(this,n,T),typeof f=="function"&&(this.data=f,this.state=v.FILE_POPULATED)},onProcess:function(){var h=this.loader.systems.plugins,n=this.config,l=this.key,f=s(n,"systemKey",l),u=s(n,"sceneKey",l);this.state===v.FILE_POPULATED?h.installScenePlugin(f,this.data,u,this.loader.scene,!0):(this.state=v.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),h.installScenePlugin(f,window[this.key],u,this.loader.scene,!0)),this.onProcessComplete()}});i.register("scenePlugin",function(h,n,l,f,u){if(Array.isArray(h))for(var d=0;d<h.length;d++)this.addFile(new r(this,h[d]));else this.addFile(new r(this,h,n,l,f,u));return this}),c.exports=r},34328:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(23906),a=t(41299),i=t(74099),s=t(95540),e=t(41212),r=new o({Extends:a,initialize:function(n,l,f,u,d){var p="js";if(e(l)){var x=l;l=s(x,"key"),f=s(x,"url"),u=s(x,"type","script"),d=s(x,"xhrSettings"),p=s(x,"extension",p)}else u===void 0&&(u="script");var E={type:u,cache:!1,extension:p,responseType:"text",key:l,url:f,xhrSettings:d};a.call(this,n,E)},onProcess:function(){this.state=v.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),this.onProcessComplete()}});i.register("script",function(h,n,l,f){if(Array.isArray(h))for(var u=0;u<h.length;u++)this.addFile(new r(this,h[u]));else this.addFile(new r(this,h,n,l,f));return this}),c.exports=r},85035:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(23906),a=t(74099),i=t(19550),s=new o({Extends:i,initialize:function(r,h,n,l,f){i.call(this,r,h,n,f,l),this.type="spritesheet"},addToCache:function(){var e=this.linkFile;e?e.state>=v.FILE_COMPLETE&&(this.type==="normalMap"?this.cache.addSpriteSheet(this.key,e.data,this.config,this.data):this.cache.addSpriteSheet(this.key,this.data,this.config,e.data)):this.cache.addSpriteSheet(this.key,this.data,this.config)}});a.register("spritesheet",function(e,r,h,n){if(Array.isArray(e))for(var l=0;l<e.length;l++)this.addFile(new s(this,e[l]));else this.addFile(new s(this,e,r,h,n));return this}),c.exports=s},78776:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(23906),a=t(41299),i=t(74099),s=t(95540),e=t(41212),r=new o({Extends:a,initialize:function(n,l,f,u){var d="text",p="txt",x=n.cacheManager.text;if(e(l)){var E=l;l=s(E,"key"),f=s(E,"url"),u=s(E,"xhrSettings"),p=s(E,"extension",p),d=s(E,"type",d),x=s(E,"cache",x)}var T={type:d,cache:x,extension:p,responseType:"text",key:l,url:f,xhrSettings:u};a.call(this,n,T)},onProcess:function(){this.state=v.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()}});i.register("text",function(h,n,l){if(Array.isArray(h))for(var f=0;f<h.length;f++)this.addFile(new r(this,h[f]));else this.addFile(new r(this,h,n,l));return this}),c.exports=r},49477:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(23906),a=t(41299),i=t(74099),s=t(95540),e=t(41212),r=t(80341),h=new o({Extends:a,initialize:function(l,f,u,d){var p="csv";if(e(f)){var x=f;f=s(x,"key"),u=s(x,"url"),d=s(x,"xhrSettings"),p=s(x,"extension",p)}var E={type:"tilemapCSV",cache:l.cacheManager.tilemap,extension:p,responseType:"text",key:f,url:u,xhrSettings:d};a.call(this,l,E),this.tilemapFormat=r.CSV},onProcess:function(){this.state=v.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var n={format:this.tilemapFormat,data:this.data};this.cache.add(this.key,n)}});i.register("tilemapCSV",function(n,l,f){if(Array.isArray(n))for(var u=0;u<n.length;u++)this.addFile(new h(this,n[u]));else this.addFile(new h(this,n,l,f));return this}),c.exports=h},40807:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(74099),a=t(518),i=t(80341),s=new o({Extends:a,initialize:function(r,h,n,l){a.call(this,r,h,n,l),this.type="tilemapJSON",this.cache=r.cacheManager.tilemap},addToCache:function(){var e={format:i.WELTMEISTER,data:this.data};this.cache.add(this.key,e)}});v.register("tilemapImpact",function(e,r,h){if(Array.isArray(e))for(var n=0;n<e.length;n++)this.addFile(new s(this,e[n]));else this.addFile(new s(this,e,r,h));return this}),c.exports=s},56775:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(74099),a=t(518),i=t(80341),s=new o({Extends:a,initialize:function(r,h,n,l){a.call(this,r,h,n,l),this.type="tilemapJSON",this.cache=r.cacheManager.tilemap},addToCache:function(){var e={format:i.TILED_JSON,data:this.data};this.cache.add(this.key,e)}});v.register("tilemapTiledJSON",function(e,r,h){if(Array.isArray(e))for(var n=0;n<e.length;n++)this.addFile(new s(this,e[n]));else this.addFile(new s(this,e,r,h));return this}),c.exports=s},25771:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(74099),a=t(95540),i=t(19550),s=t(41212),e=t(26430),r=t(78776),h=new o({Extends:e,initialize:function(l,f,u,d,p,x){var E,T;if(s(f)){var C=f;f=a(C,"key"),E=new i(l,{key:f,url:a(C,"textureURL"),extension:a(C,"textureExtension","png"),normalMap:a(C,"normalMap"),xhrSettings:a(C,"textureXhrSettings")}),T=new r(l,{key:f,url:a(C,"atlasURL"),extension:a(C,"atlasExtension","txt"),xhrSettings:a(C,"atlasXhrSettings")})}else E=new i(l,f,u,p),T=new r(l,f,d,x);E.linkFile?e.call(this,l,"unityatlas",f,[E,T,E.linkFile]):e.call(this,l,"unityatlas",f,[E,T])},addToCache:function(){if(this.isReadyToProcess()){var n=this.files[0],l=this.files[1],f=this.files[2]?this.files[2].data:null;this.loader.textureManager.addUnityAtlas(n.key,n.data,l.data,f),this.complete=!0}}});v.register("unityAtlas",function(n,l,f,u,d){var p;if(Array.isArray(n))for(var x=0;x<n.length;x++)p=new h(this,n[x]),this.addFile(p.files);else p=new h(this,n,l,f,u,d),this.addFile(p.files);return this}),c.exports=h},33720:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(23906),a=t(41299),i=t(74099),s=t(98356),e=t(95540),r=t(41212),h=new o({Extends:a,initialize:function(l,f,u,d){if(d===void 0&&(d=!1),r(f)){var p=f;f=e(p,"key"),u=e(p,"url",[]),d=e(p,"noAudio",!1)}var x=l.systems.game.device.video.getVideoURL(u);x||console.warn("VideoFile: No supported format for "+f);var E={type:"video",cache:l.cacheManager.video,extension:x.type,key:f,url:x.url,config:{noAudio:d}};a.call(this,l,E)},onProcess:function(){this.data={url:this.src,noAudio:this.config.noAudio,crossOrigin:this.crossOrigin},this.onProcessComplete()},load:function(){this.src=s(this,this.loader.baseURL),this.state=v.FILE_LOADED,this.loader.nextFile(this,!0)}});i.register("video",function(n,l,f){if(Array.isArray(n))for(var u=0;u<n.length;u++)this.addFile(new h(this,n[u]));else this.addFile(new h(this,n,l,f));return this}),c.exports=h},57318:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(23906),a=t(41299),i=t(74099),s=t(95540),e=t(41212),r=t(56836),h=new o({Extends:a,initialize:function(l,f,u,d){var p="xml";if(e(f)){var x=f;f=s(x,"key"),u=s(x,"url"),d=s(x,"xhrSettings"),p=s(x,"extension",p)}var E={type:"xml",cache:l.cacheManager.xml,extension:p,responseType:"text",key:f,url:u,xhrSettings:d};a.call(this,l,E)},onProcess:function(){this.state=v.FILE_PROCESSING,this.data=r(this.xhrLoader.responseText),this.data?this.onProcessComplete():this.onProcessError()}});i.register("xml",function(n,l,f){if(Array.isArray(n))for(var u=0;u<n.length;u++)this.addFile(new h(this,n[u]));else this.addFile(new h(this,n,l,f));return this}),c.exports=h},64589:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={AnimationJSONFile:t(14135),AsepriteFile:t(76272),AtlasJSONFile:t(38734),AtlasXMLFile:t(74599),AudioFile:t(21097),AudioSpriteFile:t(89524),BinaryFile:t(85722),BitmapFontFile:t(97025),CompressedTextureFile:t(69559),CSSFile:t(16024),GLSLFile:t(47931),HTML5AudioFile:t(89749),HTMLFile:t(88470),HTMLTextureFile:t(14643),ImageFile:t(19550),JSONFile:t(518),MultiAtlasFile:t(59327),MultiScriptFile:t(99297),OBJFile:t(41846),PackFile:t(58610),PluginFile:t(48988),SceneFile:t(88423),ScenePluginFile:t(56812),ScriptFile:t(34328),SpriteSheetFile:t(85035),SVGFile:t(67397),TextFile:t(78776),TilemapCSVFile:t(49477),TilemapImpactFile:t(40807),TilemapJSONFile:t(56775),UnityAtlasFile:t(25771),VideoFile:t(33720),XMLFile:t(57318)}},57777:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(23906),v=t(79291),a={Events:t(54899),FileTypes:t(64589),File:t(41299),FileTypesManager:t(74099),GetURL:t(98356),LoaderPlugin:t(74261),MergeXHRSettings:t(3374),MultiFile:t(26430),XHRLoader:t(84376),XHRSettings:t(92638)};a=v(!1,a,o),c.exports=a},53307:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t){for(var o=0,v=0;v<t.length;v++)o+=+t[v];return o/t.length};c.exports=g},85710:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(6411),v=function(a,i){return o(a)/o(i)/o(a-i)};c.exports=v},30976:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o){return Math.floor(Math.random()*(o-t+1)+t)};c.exports=g},87842:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o,v,a,i){var s=(a-o)*.5,e=(i-v)*.5,r=t*t,h=t*r;return(2*v-2*a+s+e)*h+(-3*v+3*a-2*s-e)*r+s*t+v};c.exports=g},26302:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o,v){o===void 0&&(o=0),v===void 0&&(v=10);var a=Math.pow(v,-o);return Math.ceil(t*a)/a};c.exports=g},45319:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o,v){return Math.max(o,Math.min(v,t))};c.exports=g},39506:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(36383),v=function(a){return a*o.DEG_TO_RAD};c.exports=v},61241:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o){return Math.abs(t-o)};c.exports=g},38857:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(45319),v=t(83419),a=t(37867),i=t(29747),s=new a,e=new v({initialize:function r(h,n,l,f){h===void 0&&(h=0),n===void 0&&(n=0),l===void 0&&(l=0),f===void 0&&(f=r.DefaultOrder),this._x=h,this._y=n,this._z=l,this._order=f,this.onChangeCallback=i},x:{get:function(){return this._x},set:function(r){this._x=r,this.onChangeCallback(this)}},y:{get:function(){return this._y},set:function(r){this._y=r,this.onChangeCallback(this)}},z:{get:function(){return this._z},set:function(r){this._z=r,this.onChangeCallback(this)}},order:{get:function(){return this._order},set:function(r){this._order=r,this.onChangeCallback(this)}},set:function(r,h,n,l){return l===void 0&&(l=this._order),this._x=r,this._y=h,this._z=n,this._order=l,this.onChangeCallback(this),this},copy:function(r){return this.set(r.x,r.y,r.z,r.order)},setFromQuaternion:function(r,h,n){return h===void 0&&(h=this._order),n===void 0&&(n=!1),s.fromQuat(r),this.setFromRotationMatrix(s,h,n)},setFromRotationMatrix:function(r,h,n){h===void 0&&(h=this._order),n===void 0&&(n=!1);var l=r.val,f=l[0],u=l[4],d=l[8],p=l[1],x=l[5],E=l[9],T=l[2],C=l[6],A=l[10],M=0,R=0,O=0,L=.99999;switch(h){case"XYZ":{R=Math.asin(o(d,-1,1)),Math.abs(d)<L?(M=Math.atan2(-E,A),O=Math.atan2(-u,f)):M=Math.atan2(C,x);break}case"YXZ":{M=Math.asin(-o(E,-1,1)),Math.abs(E)<L?(R=Math.atan2(d,A),O=Math.atan2(p,x)):R=Math.atan2(-T,f);break}case"ZXY":{M=Math.asin(o(C,-1,1)),Math.abs(C)<L?(R=Math.atan2(-T,A),O=Math.atan2(-u,x)):O=Math.atan2(p,f);break}case"ZYX":{R=Math.asin(-o(T,-1,1)),Math.abs(T)<L?(M=Math.atan2(C,A),O=Math.atan2(p,f)):O=Math.atan2(-u,x);break}case"YZX":{O=Math.asin(o(p,-1,1)),Math.abs(p)<L?(M=Math.atan2(-E,x),R=Math.atan2(-T,f)):R=Math.atan2(d,A);break}case"XZY":{O=Math.asin(-o(u,-1,1)),Math.abs(u)<L?(M=Math.atan2(C,x),R=Math.atan2(d,f)):M=Math.atan2(-E,A);break}}return this._x=M,this._y=R,this._z=O,this._order=h,n&&this.onChangeCallback(this),this}});e.RotationOrders=["XYZ","YXZ","ZXY","ZYX","YZX","XZY"],e.DefaultOrder="XYZ",c.exports=e},6411:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t){if(t===0)return 1;for(var o=t;--t;)o*=t;return o};c.exports=g},99472:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o){return Math.random()*(o-t)+t};c.exports=g},77623:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o,v){o===void 0&&(o=0),v===void 0&&(v=10);var a=Math.pow(v,-o);return Math.floor(t*a)/a};c.exports=g},62945:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(45319),v=function(a,i,s){return a=o(a,0,1),(s-i)*a+i};c.exports=v},38265:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o){return t/o/1e3};c.exports=g},78702:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t){return t==parseFloat(t)?!(t%2):void 0};c.exports=g},94883:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t){return t===parseFloat(t)?!(t%2):void 0};c.exports=g},28915:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o,v){return(o-t)*v+t};c.exports=g},94908:c=>{/**
 * @author       Greg McLean <GregDevProjects>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o,v){return v===void 0&&(v=0),t.clone().lerp(o,v)};c.exports=g},94434:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=new o({initialize:function(i){this.val=new Float32Array(9),i?this.copy(i):this.identity()},clone:function(){return new v(this)},set:function(a){return this.copy(a)},copy:function(a){var i=this.val,s=a.val;return i[0]=s[0],i[1]=s[1],i[2]=s[2],i[3]=s[3],i[4]=s[4],i[5]=s[5],i[6]=s[6],i[7]=s[7],i[8]=s[8],this},fromMat4:function(a){var i=a.val,s=this.val;return s[0]=i[0],s[1]=i[1],s[2]=i[2],s[3]=i[4],s[4]=i[5],s[5]=i[6],s[6]=i[8],s[7]=i[9],s[8]=i[10],this},fromArray:function(a){var i=this.val;return i[0]=a[0],i[1]=a[1],i[2]=a[2],i[3]=a[3],i[4]=a[4],i[5]=a[5],i[6]=a[6],i[7]=a[7],i[8]=a[8],this},identity:function(){var a=this.val;return a[0]=1,a[1]=0,a[2]=0,a[3]=0,a[4]=1,a[5]=0,a[6]=0,a[7]=0,a[8]=1,this},transpose:function(){var a=this.val,i=a[1],s=a[2],e=a[5];return a[1]=a[3],a[2]=a[6],a[3]=i,a[5]=a[7],a[6]=s,a[7]=e,this},invert:function(){var a=this.val,i=a[0],s=a[1],e=a[2],r=a[3],h=a[4],n=a[5],l=a[6],f=a[7],u=a[8],d=u*h-n*f,p=-u*r+n*l,x=f*r-h*l,E=i*d+s*p+e*x;return E?(E=1/E,a[0]=d*E,a[1]=(-u*s+e*f)*E,a[2]=(n*s-e*h)*E,a[3]=p*E,a[4]=(u*i-e*l)*E,a[5]=(-n*i+e*r)*E,a[6]=x*E,a[7]=(-f*i+s*l)*E,a[8]=(h*i-s*r)*E,this):null},adjoint:function(){var a=this.val,i=a[0],s=a[1],e=a[2],r=a[3],h=a[4],n=a[5],l=a[6],f=a[7],u=a[8];return a[0]=h*u-n*f,a[1]=e*f-s*u,a[2]=s*n-e*h,a[3]=n*l-r*u,a[4]=i*u-e*l,a[5]=e*r-i*n,a[6]=r*f-h*l,a[7]=s*l-i*f,a[8]=i*h-s*r,this},determinant:function(){var a=this.val,i=a[0],s=a[1],e=a[2],r=a[3],h=a[4],n=a[5],l=a[6],f=a[7],u=a[8];return i*(u*h-n*f)+s*(-u*r+n*l)+e*(f*r-h*l)},multiply:function(a){var i=this.val,s=i[0],e=i[1],r=i[2],h=i[3],n=i[4],l=i[5],f=i[6],u=i[7],d=i[8],p=a.val,x=p[0],E=p[1],T=p[2],C=p[3],A=p[4],M=p[5],R=p[6],O=p[7],L=p[8];return i[0]=x*s+E*h+T*f,i[1]=x*e+E*n+T*u,i[2]=x*r+E*l+T*d,i[3]=C*s+A*h+M*f,i[4]=C*e+A*n+M*u,i[5]=C*r+A*l+M*d,i[6]=R*s+O*h+L*f,i[7]=R*e+O*n+L*u,i[8]=R*r+O*l+L*d,this},translate:function(a){var i=this.val,s=a.x,e=a.y;return i[6]=s*i[0]+e*i[3]+i[6],i[7]=s*i[1]+e*i[4]+i[7],i[8]=s*i[2]+e*i[5]+i[8],this},rotate:function(a){var i=this.val,s=i[0],e=i[1],r=i[2],h=i[3],n=i[4],l=i[5],f=Math.sin(a),u=Math.cos(a);return i[0]=u*s+f*h,i[1]=u*e+f*n,i[2]=u*r+f*l,i[3]=u*h-f*s,i[4]=u*n-f*e,i[5]=u*l-f*r,this},scale:function(a){var i=this.val,s=a.x,e=a.y;return i[0]=s*i[0],i[1]=s*i[1],i[2]=s*i[2],i[3]=e*i[3],i[4]=e*i[4],i[5]=e*i[5],this},fromQuat:function(a){var i=a.x,s=a.y,e=a.z,r=a.w,h=i+i,n=s+s,l=e+e,f=i*h,u=i*n,d=i*l,p=s*n,x=s*l,E=e*l,T=r*h,C=r*n,A=r*l,M=this.val;return M[0]=1-(p+E),M[3]=u+A,M[6]=d-C,M[1]=u-A,M[4]=1-(f+E),M[7]=x+T,M[2]=d+C,M[5]=x-T,M[8]=1-(f+p),this},normalFromMat4:function(a){var i=a.val,s=this.val,e=i[0],r=i[1],h=i[2],n=i[3],l=i[4],f=i[5],u=i[6],d=i[7],p=i[8],x=i[9],E=i[10],T=i[11],C=i[12],A=i[13],M=i[14],R=i[15],O=e*f-r*l,L=e*u-h*l,b=e*d-n*l,N=r*u-h*f,I=r*d-n*f,G=h*d-n*u,X=p*A-x*C,$=p*M-E*C,J=p*R-T*C,z=x*M-E*A,Y=x*R-T*A,D=E*R-T*M,B=O*D-L*Y+b*z+N*J-I*$+G*X;return B?(B=1/B,s[0]=(f*D-u*Y+d*z)*B,s[1]=(u*J-l*D-d*$)*B,s[2]=(l*Y-f*J+d*X)*B,s[3]=(h*Y-r*D-n*z)*B,s[4]=(e*D-h*J+n*$)*B,s[5]=(r*J-e*Y-n*X)*B,s[6]=(A*G-M*I+R*N)*B,s[7]=(M*b-C*G-R*L)*B,s[8]=(C*I-A*b+R*O)*B,this):null}});c.exports=v},37867:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(25836),a=1e-6,i=new o({initialize:function(f){this.val=new Float32Array(16),f?this.copy(f):this.identity()},clone:function(){return new i(this)},set:function(l){return this.copy(l)},setValues:function(l,f,u,d,p,x,E,T,C,A,M,R,O,L,b,N){var I=this.val;return I[0]=l,I[1]=f,I[2]=u,I[3]=d,I[4]=p,I[5]=x,I[6]=E,I[7]=T,I[8]=C,I[9]=A,I[10]=M,I[11]=R,I[12]=O,I[13]=L,I[14]=b,I[15]=N,this},copy:function(l){var f=l.val;return this.setValues(f[0],f[1],f[2],f[3],f[4],f[5],f[6],f[7],f[8],f[9],f[10],f[11],f[12],f[13],f[14],f[15])},fromArray:function(l){return this.setValues(l[0],l[1],l[2],l[3],l[4],l[5],l[6],l[7],l[8],l[9],l[10],l[11],l[12],l[13],l[14],l[15])},zero:function(){return this.setValues(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)},transform:function(l,f,u){var d=s.fromQuat(u),p=d.val,x=f.x,E=f.y,T=f.z;return this.setValues(p[0]*x,p[1]*x,p[2]*x,0,p[4]*E,p[5]*E,p[6]*E,0,p[8]*T,p[9]*T,p[10]*T,0,l.x,l.y,l.z,1)},xyz:function(l,f,u){this.identity();var d=this.val;return d[12]=l,d[13]=f,d[14]=u,this},scaling:function(l,f,u){this.zero();var d=this.val;return d[0]=l,d[5]=f,d[10]=u,d[15]=1,this},identity:function(){return this.setValues(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)},transpose:function(){var l=this.val,f=l[1],u=l[2],d=l[3],p=l[6],x=l[7],E=l[11];return l[1]=l[4],l[2]=l[8],l[3]=l[12],l[4]=f,l[6]=l[9],l[7]=l[13],l[8]=u,l[9]=p,l[11]=l[14],l[12]=d,l[13]=x,l[14]=E,this},getInverse:function(l){return this.copy(l),this.invert()},invert:function(){var l=this.val,f=l[0],u=l[1],d=l[2],p=l[3],x=l[4],E=l[5],T=l[6],C=l[7],A=l[8],M=l[9],R=l[10],O=l[11],L=l[12],b=l[13],N=l[14],I=l[15],G=f*E-u*x,X=f*T-d*x,$=f*C-p*x,J=u*T-d*E,z=u*C-p*E,Y=d*C-p*T,D=A*b-M*L,B=A*N-R*L,U=A*I-O*L,H=M*N-R*b,j=M*I-O*b,q=R*I-O*N,_=G*q-X*j+$*H+J*U-z*B+Y*D;return _?(_=1/_,this.setValues((E*q-T*j+C*H)*_,(d*j-u*q-p*H)*_,(b*Y-N*z+I*J)*_,(R*z-M*Y-O*J)*_,(T*U-x*q-C*B)*_,(f*q-d*U+p*B)*_,(N*$-L*Y-I*X)*_,(A*Y-R*$+O*X)*_,(x*j-E*U+C*D)*_,(u*U-f*j-p*D)*_,(L*z-b*$+I*G)*_,(M*$-A*z-O*G)*_,(E*B-x*H-T*D)*_,(f*H-u*B+d*D)*_,(b*X-L*J-N*G)*_,(A*J-M*X+R*G)*_)):this},adjoint:function(){var l=this.val,f=l[0],u=l[1],d=l[2],p=l[3],x=l[4],E=l[5],T=l[6],C=l[7],A=l[8],M=l[9],R=l[10],O=l[11],L=l[12],b=l[13],N=l[14],I=l[15];return this.setValues(E*(R*I-O*N)-M*(T*I-C*N)+b*(T*O-C*R),-(u*(R*I-O*N)-M*(d*I-p*N)+b*(d*O-p*R)),u*(T*I-C*N)-E*(d*I-p*N)+b*(d*C-p*T),-(u*(T*O-C*R)-E*(d*O-p*R)+M*(d*C-p*T)),-(x*(R*I-O*N)-A*(T*I-C*N)+L*(T*O-C*R)),f*(R*I-O*N)-A*(d*I-p*N)+L*(d*O-p*R),-(f*(T*I-C*N)-x*(d*I-p*N)+L*(d*C-p*T)),f*(T*O-C*R)-x*(d*O-p*R)+A*(d*C-p*T),x*(M*I-O*b)-A*(E*I-C*b)+L*(E*O-C*M),-(f*(M*I-O*b)-A*(u*I-p*b)+L*(u*O-p*M)),f*(E*I-C*b)-x*(u*I-p*b)+L*(u*C-p*E),-(f*(E*O-C*M)-x*(u*O-p*M)+A*(u*C-p*E)),-(x*(M*N-R*b)-A*(E*N-T*b)+L*(E*R-T*M)),f*(M*N-R*b)-A*(u*N-d*b)+L*(u*R-d*M),-(f*(E*N-T*b)-x*(u*N-d*b)+L*(u*T-d*E)),f*(E*R-T*M)-x*(u*R-d*M)+A*(u*T-d*E))},determinant:function(){var l=this.val,f=l[0],u=l[1],d=l[2],p=l[3],x=l[4],E=l[5],T=l[6],C=l[7],A=l[8],M=l[9],R=l[10],O=l[11],L=l[12],b=l[13],N=l[14],I=l[15],G=f*E-u*x,X=f*T-d*x,$=f*C-p*x,J=u*T-d*E,z=u*C-p*E,Y=d*C-p*T,D=A*b-M*L,B=A*N-R*L,U=A*I-O*L,H=M*N-R*b,j=M*I-O*b,q=R*I-O*N;return G*q-X*j+$*H+J*U-z*B+Y*D},multiply:function(l){var f=this.val,u=f[0],d=f[1],p=f[2],x=f[3],E=f[4],T=f[5],C=f[6],A=f[7],M=f[8],R=f[9],O=f[10],L=f[11],b=f[12],N=f[13],I=f[14],G=f[15],X=l.val,$=X[0],J=X[1],z=X[2],Y=X[3];return f[0]=$*u+J*E+z*M+Y*b,f[1]=$*d+J*T+z*R+Y*N,f[2]=$*p+J*C+z*O+Y*I,f[3]=$*x+J*A+z*L+Y*G,$=X[4],J=X[5],z=X[6],Y=X[7],f[4]=$*u+J*E+z*M+Y*b,f[5]=$*d+J*T+z*R+Y*N,f[6]=$*p+J*C+z*O+Y*I,f[7]=$*x+J*A+z*L+Y*G,$=X[8],J=X[9],z=X[10],Y=X[11],f[8]=$*u+J*E+z*M+Y*b,f[9]=$*d+J*T+z*R+Y*N,f[10]=$*p+J*C+z*O+Y*I,f[11]=$*x+J*A+z*L+Y*G,$=X[12],J=X[13],z=X[14],Y=X[15],f[12]=$*u+J*E+z*M+Y*b,f[13]=$*d+J*T+z*R+Y*N,f[14]=$*p+J*C+z*O+Y*I,f[15]=$*x+J*A+z*L+Y*G,this},multiplyLocal:function(l){var f=this.val,u=l.val;return this.setValues(f[0]*u[0]+f[1]*u[4]+f[2]*u[8]+f[3]*u[12],f[0]*u[1]+f[1]*u[5]+f[2]*u[9]+f[3]*u[13],f[0]*u[2]+f[1]*u[6]+f[2]*u[10]+f[3]*u[14],f[0]*u[3]+f[1]*u[7]+f[2]*u[11]+f[3]*u[15],f[4]*u[0]+f[5]*u[4]+f[6]*u[8]+f[7]*u[12],f[4]*u[1]+f[5]*u[5]+f[6]*u[9]+f[7]*u[13],f[4]*u[2]+f[5]*u[6]+f[6]*u[10]+f[7]*u[14],f[4]*u[3]+f[5]*u[7]+f[6]*u[11]+f[7]*u[15],f[8]*u[0]+f[9]*u[4]+f[10]*u[8]+f[11]*u[12],f[8]*u[1]+f[9]*u[5]+f[10]*u[9]+f[11]*u[13],f[8]*u[2]+f[9]*u[6]+f[10]*u[10]+f[11]*u[14],f[8]*u[3]+f[9]*u[7]+f[10]*u[11]+f[11]*u[15],f[12]*u[0]+f[13]*u[4]+f[14]*u[8]+f[15]*u[12],f[12]*u[1]+f[13]*u[5]+f[14]*u[9]+f[15]*u[13],f[12]*u[2]+f[13]*u[6]+f[14]*u[10]+f[15]*u[14],f[12]*u[3]+f[13]*u[7]+f[14]*u[11]+f[15]*u[15])},premultiply:function(l){return this.multiplyMatrices(l,this)},multiplyMatrices:function(l,f){var u=l.val,d=f.val,p=u[0],x=u[4],E=u[8],T=u[12],C=u[1],A=u[5],M=u[9],R=u[13],O=u[2],L=u[6],b=u[10],N=u[14],I=u[3],G=u[7],X=u[11],$=u[15],J=d[0],z=d[4],Y=d[8],D=d[12],B=d[1],U=d[5],H=d[9],j=d[13],q=d[2],_=d[6],st=d[10],ut=d[14],ct=d[3],pt=d[7],Tt=d[11],mt=d[15];return this.setValues(p*J+x*B+E*q+T*ct,C*J+A*B+M*q+R*ct,O*J+L*B+b*q+N*ct,I*J+G*B+X*q+$*ct,p*z+x*U+E*_+T*pt,C*z+A*U+M*_+R*pt,O*z+L*U+b*_+N*pt,I*z+G*U+X*_+$*pt,p*Y+x*H+E*st+T*Tt,C*Y+A*H+M*st+R*Tt,O*Y+L*H+b*st+N*Tt,I*Y+G*H+X*st+$*Tt,p*D+x*j+E*ut+T*mt,C*D+A*j+M*ut+R*mt,O*D+L*j+b*ut+N*mt,I*D+G*j+X*ut+$*mt)},translate:function(l){return this.translateXYZ(l.x,l.y,l.z)},translateXYZ:function(l,f,u){var d=this.val;return d[12]=d[0]*l+d[4]*f+d[8]*u+d[12],d[13]=d[1]*l+d[5]*f+d[9]*u+d[13],d[14]=d[2]*l+d[6]*f+d[10]*u+d[14],d[15]=d[3]*l+d[7]*f+d[11]*u+d[15],this},scale:function(l){return this.scaleXYZ(l.x,l.y,l.z)},scaleXYZ:function(l,f,u){var d=this.val;return d[0]=d[0]*l,d[1]=d[1]*l,d[2]=d[2]*l,d[3]=d[3]*l,d[4]=d[4]*f,d[5]=d[5]*f,d[6]=d[6]*f,d[7]=d[7]*f,d[8]=d[8]*u,d[9]=d[9]*u,d[10]=d[10]*u,d[11]=d[11]*u,this},makeRotationAxis:function(l,f){var u=Math.cos(f),d=Math.sin(f),p=1-u,x=l.x,E=l.y,T=l.z,C=p*x,A=p*E;return this.setValues(C*x+u,C*E-d*T,C*T+d*E,0,C*E+d*T,A*E+u,A*T-d*x,0,C*T-d*E,A*T+d*x,p*T*T+u,0,0,0,0,1)},rotate:function(l,f){var u=this.val,d=f.x,p=f.y,x=f.z,E=Math.sqrt(d*d+p*p+x*x);if(Math.abs(E)<a)return this;E=1/E,d*=E,p*=E,x*=E;var T=Math.sin(l),C=Math.cos(l),A=1-C,M=u[0],R=u[1],O=u[2],L=u[3],b=u[4],N=u[5],I=u[6],G=u[7],X=u[8],$=u[9],J=u[10],z=u[11],Y=u[12],D=u[13],B=u[14],U=u[15],H=d*d*A+C,j=p*d*A+x*T,q=x*d*A-p*T,_=d*p*A-x*T,st=p*p*A+C,ut=x*p*A+d*T,ct=d*x*A+p*T,pt=p*x*A-d*T,Tt=x*x*A+C;return this.setValues(M*H+b*j+X*q,R*H+N*j+$*q,O*H+I*j+J*q,L*H+G*j+z*q,M*_+b*st+X*ut,R*_+N*st+$*ut,O*_+I*st+J*ut,L*_+G*st+z*ut,M*ct+b*pt+X*Tt,R*ct+N*pt+$*Tt,O*ct+I*pt+J*Tt,L*ct+G*pt+z*Tt,Y,D,B,U)},rotateX:function(l){var f=this.val,u=Math.sin(l),d=Math.cos(l),p=f[4],x=f[5],E=f[6],T=f[7],C=f[8],A=f[9],M=f[10],R=f[11];return f[4]=p*d+C*u,f[5]=x*d+A*u,f[6]=E*d+M*u,f[7]=T*d+R*u,f[8]=C*d-p*u,f[9]=A*d-x*u,f[10]=M*d-E*u,f[11]=R*d-T*u,this},rotateY:function(l){var f=this.val,u=Math.sin(l),d=Math.cos(l),p=f[0],x=f[1],E=f[2],T=f[3],C=f[8],A=f[9],M=f[10],R=f[11];return f[0]=p*d-C*u,f[1]=x*d-A*u,f[2]=E*d-M*u,f[3]=T*d-R*u,f[8]=p*u+C*d,f[9]=x*u+A*d,f[10]=E*u+M*d,f[11]=T*u+R*d,this},rotateZ:function(l){var f=this.val,u=Math.sin(l),d=Math.cos(l),p=f[0],x=f[1],E=f[2],T=f[3],C=f[4],A=f[5],M=f[6],R=f[7];return f[0]=p*d+C*u,f[1]=x*d+A*u,f[2]=E*d+M*u,f[3]=T*d+R*u,f[4]=C*d-p*u,f[5]=A*d-x*u,f[6]=M*d-E*u,f[7]=R*d-T*u,this},fromRotationTranslation:function(l,f){var u=l.x,d=l.y,p=l.z,x=l.w,E=u+u,T=d+d,C=p+p,A=u*E,M=u*T,R=u*C,O=d*T,L=d*C,b=p*C,N=x*E,I=x*T,G=x*C;return this.setValues(1-(O+b),M+G,R-I,0,M-G,1-(A+b),L+N,0,R+I,L-N,1-(A+O),0,f.x,f.y,f.z,1)},fromQuat:function(l){var f=l.x,u=l.y,d=l.z,p=l.w,x=f+f,E=u+u,T=d+d,C=f*x,A=f*E,M=f*T,R=u*E,O=u*T,L=d*T,b=p*x,N=p*E,I=p*T;return this.setValues(1-(R+L),A+I,M-N,0,A-I,1-(C+L),O+b,0,M+N,O-b,1-(C+R),0,0,0,0,1)},frustum:function(l,f,u,d,p,x){var E=1/(f-l),T=1/(d-u),C=1/(p-x);return this.setValues(p*2*E,0,0,0,0,p*2*T,0,0,(f+l)*E,(d+u)*T,(x+p)*C,-1,0,0,x*p*2*C,0)},perspective:function(l,f,u,d){var p=1/Math.tan(l/2),x=1/(u-d);return this.setValues(p/f,0,0,0,0,p,0,0,0,0,(d+u)*x,-1,0,0,2*d*u*x,0)},perspectiveLH:function(l,f,u,d){return this.setValues(2*u/l,0,0,0,0,2*u/f,0,0,0,0,-d/(u-d),1,0,0,u*d/(u-d),0)},ortho:function(l,f,u,d,p,x){var E=l-f,T=u-d,C=p-x;return E=E===0?E:1/E,T=T===0?T:1/T,C=C===0?C:1/C,this.setValues(-2*E,0,0,0,0,-2*T,0,0,0,0,2*C,0,(l+f)*E,(d+u)*T,(x+p)*C,1)},lookAtRH:function(l,f,u){var d=this.val;return n.subVectors(l,f),n.getLengthSquared()===0&&(n.z=1),n.normalize(),r.crossVectors(u,n),r.getLengthSquared()===0&&(Math.abs(u.z)===1?n.x+=1e-4:n.z+=1e-4,n.normalize(),r.crossVectors(u,n)),r.normalize(),h.crossVectors(n,r),d[0]=r.x,d[1]=r.y,d[2]=r.z,d[4]=h.x,d[5]=h.y,d[6]=h.z,d[8]=n.x,d[9]=n.y,d[10]=n.z,this},lookAt:function(l,f,u){var d=l.x,p=l.y,x=l.z,E=u.x,T=u.y,C=u.z,A=f.x,M=f.y,R=f.z;if(Math.abs(d-A)<a&&Math.abs(p-M)<a&&Math.abs(x-R)<a)return this.identity();var O=d-A,L=p-M,b=x-R,N=1/Math.sqrt(O*O+L*L+b*b);O*=N,L*=N,b*=N;var I=T*b-C*L,G=C*O-E*b,X=E*L-T*O;N=Math.sqrt(I*I+G*G+X*X),N?(N=1/N,I*=N,G*=N,X*=N):(I=0,G=0,X=0);var $=L*X-b*G,J=b*I-O*X,z=O*G-L*I;return N=Math.sqrt($*$+J*J+z*z),N?(N=1/N,$*=N,J*=N,z*=N):($=0,J=0,z=0),this.setValues(I,$,O,0,G,J,L,0,X,z,b,0,-(I*d+G*p+X*x),-($*d+J*p+z*x),-(O*d+L*p+b*x),1)},yawPitchRoll:function(l,f,u){this.zero(),s.zero(),e.zero();var d=this.val,p=s.val,x=e.val,E=Math.sin(u),T=Math.cos(u);return d[10]=1,d[15]=1,d[0]=T,d[1]=E,d[4]=-E,d[5]=T,E=Math.sin(f),T=Math.cos(f),p[0]=1,p[15]=1,p[5]=T,p[10]=T,p[9]=-E,p[6]=E,E=Math.sin(l),T=Math.cos(l),x[5]=1,x[15]=1,x[0]=T,x[2]=-E,x[8]=E,x[10]=T,this.multiplyLocal(s),this.multiplyLocal(e),this},setWorldMatrix:function(l,f,u,d,p){return this.yawPitchRoll(l.y,l.x,l.z),s.scaling(u.x,u.y,u.z),e.xyz(f.x,f.y,f.z),this.multiplyLocal(s),this.multiplyLocal(e),d&&this.multiplyLocal(d),p&&this.multiplyLocal(p),this},multiplyToMat4:function(l,f){var u=this.val,d=l.val,p=u[0],x=u[1],E=u[2],T=u[3],C=u[4],A=u[5],M=u[6],R=u[7],O=u[8],L=u[9],b=u[10],N=u[11],I=u[12],G=u[13],X=u[14],$=u[15],J=d[0],z=d[1],Y=d[2],D=d[3],B=d[4],U=d[5],H=d[6],j=d[7],q=d[8],_=d[9],st=d[10],ut=d[11],ct=d[12],pt=d[13],Tt=d[14],mt=d[15];return f.setValues(J*p+z*C+Y*O+D*I,z*x+z*A+Y*L+D*G,Y*E+z*M+Y*b+D*X,D*T+z*R+Y*N+D*$,B*p+U*C+H*O+j*I,B*x+U*A+H*L+j*G,B*E+U*M+H*b+j*X,B*T+U*R+H*N+j*$,q*p+_*C+st*O+ut*I,q*x+_*A+st*L+ut*G,q*E+_*M+st*b+ut*X,q*T+_*R+st*N+ut*$,ct*p+pt*C+Tt*O+mt*I,ct*x+pt*A+Tt*L+mt*G,ct*E+pt*M+Tt*b+mt*X,ct*T+pt*R+Tt*N+mt*$)},fromRotationXYTranslation:function(l,f,u){var d=f.x,p=f.y,x=f.z,E=Math.sin(l.x),T=Math.cos(l.x),C=Math.sin(l.y),A=Math.cos(l.y),M=d,R=p,O=x,L=-E,b=0-L*C,N=0-T*C,I=L*A,G=T*A;return u||(M=A*d+C*x,R=b*d+T*p+I*x,O=N*d+E*p+G*x),this.setValues(A,b,N,0,0,T,E,0,C,I,G,0,M,R,O,1)},getMaxScaleOnAxis:function(){var l=this.val,f=l[0]*l[0]+l[1]*l[1]+l[2]*l[2],u=l[4]*l[4]+l[5]*l[5]+l[6]*l[6],d=l[8]*l[8]+l[9]*l[9]+l[10]*l[10];return Math.sqrt(Math.max(f,u,d))}}),s=new i,e=new i,r=new v,h=new v,n=new v;c.exports=i},86883:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o,v){return Math.min(t+o,v)};c.exports=g},50040:c=>{/**
 * @author       Vladislav Forsh <vlad@robowhale.com>
 * @copyright    2021 RoboWhale
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t){var o=t.length;if(o===0)return 0;t.sort(function(a,i){return a-i});var v=Math.floor(o/2);return o%2===0?(t[v]+t[v-1])/2:t[v]};c.exports=g},37204:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o,v){return Math.max(t-o,v)};c.exports=g},65201:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o,v,a){v===void 0&&(v=o+1);var i=(t-o)/(v-o);return i>1?a!==void 0?(i=(a-t)/(a-v),i<0&&(i=0)):i=1:i<0&&(i=0),i};c.exports=g},15746:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(94434),a=t(29747),i=t(25836),s=1e-6,e=new Int8Array([1,2,0]),r=new Float32Array([0,0,0]),h=new i(1,0,0),n=new i(0,1,0),l=new i,f=new v,u=new o({initialize:function(p,x,E,T){this.onChangeCallback=a,this.set(p,x,E,T)},x:{get:function(){return this._x},set:function(d){this._x=d,this.onChangeCallback(this)}},y:{get:function(){return this._y},set:function(d){this._y=d,this.onChangeCallback(this)}},z:{get:function(){return this._z},set:function(d){this._z=d,this.onChangeCallback(this)}},w:{get:function(){return this._w},set:function(d){this._w=d,this.onChangeCallback(this)}},copy:function(d){return this.set(d)},set:function(d,p,x,E,T){return T===void 0&&(T=!0),typeof d=="object"?(this._x=d.x||0,this._y=d.y||0,this._z=d.z||0,this._w=d.w||0):(this._x=d||0,this._y=p||0,this._z=x||0,this._w=E||0),T&&this.onChangeCallback(this),this},add:function(d){return this._x+=d.x,this._y+=d.y,this._z+=d.z,this._w+=d.w,this.onChangeCallback(this),this},subtract:function(d){return this._x-=d.x,this._y-=d.y,this._z-=d.z,this._w-=d.w,this.onChangeCallback(this),this},scale:function(d){return this._x*=d,this._y*=d,this._z*=d,this._w*=d,this.onChangeCallback(this),this},length:function(){var d=this.x,p=this.y,x=this.z,E=this.w;return Math.sqrt(d*d+p*p+x*x+E*E)},lengthSq:function(){var d=this.x,p=this.y,x=this.z,E=this.w;return d*d+p*p+x*x+E*E},normalize:function(){var d=this.x,p=this.y,x=this.z,E=this.w,T=d*d+p*p+x*x+E*E;return T>0&&(T=1/Math.sqrt(T),this._x=d*T,this._y=p*T,this._z=x*T,this._w=E*T),this.onChangeCallback(this),this},dot:function(d){return this.x*d.x+this.y*d.y+this.z*d.z+this.w*d.w},lerp:function(d,p){p===void 0&&(p=0);var x=this.x,E=this.y,T=this.z,C=this.w;return this.set(x+p*(d.x-x),E+p*(d.y-E),T+p*(d.z-T),C+p*(d.w-C))},rotationTo:function(d,p){var x=d.x*p.x+d.y*p.y+d.z*p.z;return x<-.999999?(l.copy(h).cross(d).length()<s&&l.copy(n).cross(d),l.normalize(),this.setAxisAngle(l,Math.PI)):x>.999999?this.set(0,0,0,1):(l.copy(d).cross(p),this._x=l.x,this._y=l.y,this._z=l.z,this._w=1+x,this.normalize())},setAxes:function(d,p,x){var E=f.val;return E[0]=p.x,E[3]=p.y,E[6]=p.z,E[1]=x.x,E[4]=x.y,E[7]=x.z,E[2]=-d.x,E[5]=-d.y,E[8]=-d.z,this.fromMat3(f).normalize()},identity:function(){return this.set(0,0,0,1)},setAxisAngle:function(d,p){p=p*.5;var x=Math.sin(p);return this.set(x*d.x,x*d.y,x*d.z,Math.cos(p))},multiply:function(d){var p=this.x,x=this.y,E=this.z,T=this.w,C=d.x,A=d.y,M=d.z,R=d.w;return this.set(p*R+T*C+x*M-E*A,x*R+T*A+E*C-p*M,E*R+T*M+p*A-x*C,T*R-p*C-x*A-E*M)},slerp:function(d,p){var x=this.x,E=this.y,T=this.z,C=this.w,A=d.x,M=d.y,R=d.z,O=d.w,L=x*A+E*M+T*R+C*O;L<0&&(L=-L,A=-A,M=-M,R=-R,O=-O);var b=1-p,N=p;if(1-L>s){var I=Math.acos(L),G=Math.sin(I);b=Math.sin((1-p)*I)/G,N=Math.sin(p*I)/G}return this.set(b*x+N*A,b*E+N*M,b*T+N*R,b*C+N*O)},invert:function(){var d=this.x,p=this.y,x=this.z,E=this.w,T=d*d+p*p+x*x+E*E,C=T?1/T:0;return this.set(-d*C,-p*C,-x*C,E*C)},conjugate:function(){return this._x=-this.x,this._y=-this.y,this._z=-this.z,this.onChangeCallback(this),this},rotateX:function(d){d*=.5;var p=this.x,x=this.y,E=this.z,T=this.w,C=Math.sin(d),A=Math.cos(d);return this.set(p*A+T*C,x*A+E*C,E*A-x*C,T*A-p*C)},rotateY:function(d){d*=.5;var p=this.x,x=this.y,E=this.z,T=this.w,C=Math.sin(d),A=Math.cos(d);return this.set(p*A-E*C,x*A+T*C,E*A+p*C,T*A-x*C)},rotateZ:function(d){d*=.5;var p=this.x,x=this.y,E=this.z,T=this.w,C=Math.sin(d),A=Math.cos(d);return this.set(p*A+x*C,x*A-p*C,E*A+T*C,T*A-E*C)},calculateW:function(){var d=this.x,p=this.y,x=this.z;return this.w=-Math.sqrt(1-d*d-p*p-x*x),this},setFromEuler:function(d,p){var x=d.x/2,E=d.y/2,T=d.z/2,C=Math.cos(x),A=Math.cos(E),M=Math.cos(T),R=Math.sin(x),O=Math.sin(E),L=Math.sin(T);switch(d.order){case"XYZ":{this.set(R*A*M+C*O*L,C*O*M-R*A*L,C*A*L+R*O*M,C*A*M-R*O*L,p);break}case"YXZ":{this.set(R*A*M+C*O*L,C*O*M-R*A*L,C*A*L-R*O*M,C*A*M+R*O*L,p);break}case"ZXY":{this.set(R*A*M-C*O*L,C*O*M+R*A*L,C*A*L+R*O*M,C*A*M-R*O*L,p);break}case"ZYX":{this.set(R*A*M-C*O*L,C*O*M+R*A*L,C*A*L-R*O*M,C*A*M+R*O*L,p);break}case"YZX":{this.set(R*A*M+C*O*L,C*O*M+R*A*L,C*A*L-R*O*M,C*A*M-R*O*L,p);break}case"XZY":{this.set(R*A*M-C*O*L,C*O*M-R*A*L,C*A*L+R*O*M,C*A*M+R*O*L,p);break}}return this},setFromRotationMatrix:function(d){var p=d.val,x=p[0],E=p[4],T=p[8],C=p[1],A=p[5],M=p[9],R=p[2],O=p[6],L=p[10],b=x+A+L,N;return b>0?(N=.5/Math.sqrt(b+1),this.set((O-M)*N,(T-R)*N,(C-E)*N,.25/N)):x>A&&x>L?(N=2*Math.sqrt(1+x-A-L),this.set(.25*N,(E+C)/N,(T+R)/N,(O-M)/N)):A>L?(N=2*Math.sqrt(1+A-x-L),this.set((E+C)/N,.25*N,(M+O)/N,(T-R)/N)):(N=2*Math.sqrt(1+L-x-A),this.set((T+R)/N,(M+O)/N,.25*N,(C-E)/N)),this},fromMat3:function(d){var p=d.val,x=p[0]+p[4]+p[8],E;if(x>0)E=Math.sqrt(x+1),this.w=.5*E,E=.5/E,this._x=(p[7]-p[5])*E,this._y=(p[2]-p[6])*E,this._z=(p[3]-p[1])*E;else{var T=0;p[4]>p[0]&&(T=1),p[8]>p[T*3+T]&&(T=2);var C=e[T],A=e[C];E=Math.sqrt(p[T*3+T]-p[C*3+C]-p[A*3+A]+1),r[T]=.5*E,E=.5/E,r[C]=(p[C*3+T]+p[T*3+C])*E,r[A]=(p[A*3+T]+p[T*3+A])*E,this._x=r[0],this._y=r[1],this._z=r[2],this._w=(p[A*3+C]-p[C*3+A])*E}return this.onChangeCallback(this),this}});c.exports=u},43396:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(36383),v=function(a){return a*o.RAD_TO_DEG};c.exports=v},74362:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o){o===void 0&&(o=1);var v=Math.random()*2*Math.PI;return t.x=Math.cos(v)*o,t.y=Math.sin(v)*o,t};c.exports=g},60706:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o){o===void 0&&(o=1);var v=Math.random()*2*Math.PI,a=Math.random()*2-1,i=Math.sqrt(1-a*a)*o;return t.x=Math.cos(v)*i,t.y=Math.sin(v)*i,t.z=a*o,t};c.exports=g},67421:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o){return o===void 0&&(o=1),t.x=(Math.random()*2-1)*o,t.y=(Math.random()*2-1)*o,t.z=(Math.random()*2-1)*o,t.w=(Math.random()*2-1)*o,t};c.exports=g},36305:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o){var v=t.x,a=t.y;return t.x=v*Math.cos(o)-a*Math.sin(o),t.y=v*Math.sin(o)+a*Math.cos(o),t};c.exports=g},11520:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o,v,a){var i=Math.cos(a),s=Math.sin(a),e=t.x-o,r=t.y-v;return t.x=e*i-r*s+o,t.y=e*s+r*i+v,t};c.exports=g},1163:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o,v,a,i){var s=a+Math.atan2(t.y-v,t.x-o);return t.x=o+i*Math.cos(s),t.y=v+i*Math.sin(s),t};c.exports=g},70336:c=>{/**
 * @author       samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o,v,a,i){return t.x=o+i*Math.cos(a),t.y=v+i*Math.sin(a),t};c.exports=g},72678:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(25836),v=t(37867),a=t(15746),i=new v,s=new a,e=new o,r=function(h,n,l){return s.setAxisAngle(n,l),i.fromRotationTranslation(s,e.set(0,0,0)),h.transformMat4(i)};c.exports=r},2284:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t){return t>0?Math.ceil(t):Math.floor(t)};c.exports=g},41013:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o,v){o===void 0&&(o=0),v===void 0&&(v=10);var a=Math.pow(v,-o);return Math.round(t*a)/a};c.exports=g},16922:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o,v,a){o===void 0&&(o=1),v===void 0&&(v=1),a===void 0&&(a=1),a*=Math.PI/t;for(var i=[],s=[],e=0;e<t;e++)v-=o*a,o+=v*a,i[e]=v,s[e]=o;return{sin:s,cos:i,length:t}};c.exports=g},7602:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o,v){return t<=o?0:t>=v?1:(t=(t-o)/(v-o),t*t*(3-2*t))};c.exports=g},54261:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o,v){return t=Math.max(0,Math.min(1,(t-o)/(v-o))),t*t*t*(t*(t*6-15)+10)};c.exports=g},44408:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(26099),v=function(a,i,s,e){e===void 0&&(e=new o);var r=0,h=0,n=i*s;return a>0&&a<=n&&(a>i-1?(h=Math.floor(a/i),r=a-h*i):r=a),e.set(r,h)};c.exports=v},85955:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(26099),v=function(a,i,s,e,r,h,n,l){l===void 0&&(l=new o);var f=Math.sin(r),u=Math.cos(r),d=u*h,p=f*h,x=-f*n,E=u*n,T=1/(d*E+x*-p);return l.x=E*T*a+-x*T*i+(e*x-s*E)*T,l.y=d*T*i+-p*T*a+(-e*d+s*p)*T,l};c.exports=v},26099:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(43855),a=new o({initialize:function(s,e){this.x=0,this.y=0,typeof s=="object"?(this.x=s.x||0,this.y=s.y||0):(e===void 0&&(e=s),this.x=s||0,this.y=e||0)},clone:function(){return new a(this.x,this.y)},copy:function(i){return this.x=i.x||0,this.y=i.y||0,this},setFromObject:function(i){return this.x=i.x||0,this.y=i.y||0,this},set:function(i,s){return s===void 0&&(s=i),this.x=i,this.y=s,this},setTo:function(i,s){return this.set(i,s)},setToPolar:function(i,s){return s==null&&(s=1),this.x=Math.cos(i)*s,this.y=Math.sin(i)*s,this},equals:function(i){return this.x===i.x&&this.y===i.y},fuzzyEquals:function(i,s){return v(this.x,i.x,s)&&v(this.y,i.y,s)},angle:function(){var i=Math.atan2(this.y,this.x);return i<0&&(i+=2*Math.PI),i},setAngle:function(i){return this.setToPolar(i,this.length())},add:function(i){return this.x+=i.x,this.y+=i.y,this},subtract:function(i){return this.x-=i.x,this.y-=i.y,this},multiply:function(i){return this.x*=i.x,this.y*=i.y,this},scale:function(i){return isFinite(i)?(this.x*=i,this.y*=i):(this.x=0,this.y=0),this},divide:function(i){return this.x/=i.x,this.y/=i.y,this},negate:function(){return this.x=-this.x,this.y=-this.y,this},distance:function(i){var s=i.x-this.x,e=i.y-this.y;return Math.sqrt(s*s+e*e)},distanceSq:function(i){var s=i.x-this.x,e=i.y-this.y;return s*s+e*e},length:function(){var i=this.x,s=this.y;return Math.sqrt(i*i+s*s)},setLength:function(i){return this.normalize().scale(i)},lengthSq:function(){var i=this.x,s=this.y;return i*i+s*s},normalize:function(){var i=this.x,s=this.y,e=i*i+s*s;return e>0&&(e=1/Math.sqrt(e),this.x=i*e,this.y=s*e),this},normalizeRightHand:function(){var i=this.x;return this.x=this.y*-1,this.y=i,this},normalizeLeftHand:function(){var i=this.x;return this.x=this.y,this.y=i*-1,this},dot:function(i){return this.x*i.x+this.y*i.y},cross:function(i){return this.x*i.y-this.y*i.x},lerp:function(i,s){s===void 0&&(s=0);var e=this.x,r=this.y;return this.x=e+s*(i.x-e),this.y=r+s*(i.y-r),this},transformMat3:function(i){var s=this.x,e=this.y,r=i.val;return this.x=r[0]*s+r[3]*e+r[6],this.y=r[1]*s+r[4]*e+r[7],this},transformMat4:function(i){var s=this.x,e=this.y,r=i.val;return this.x=r[0]*s+r[4]*e+r[12],this.y=r[1]*s+r[5]*e+r[13],this},reset:function(){return this.x=0,this.y=0,this},limit:function(i){var s=this.length();return s&&s>i&&this.scale(i/s),this},reflect:function(i){return i=i.clone().normalize(),this.subtract(i.scale(2*this.dot(i)))},mirror:function(i){return this.reflect(i).negate()},rotate:function(i){var s=Math.cos(i),e=Math.sin(i);return this.set(s*this.x-e*this.y,e*this.x+s*this.y)},project:function(i){var s=this.dot(i)/i.dot(i);return this.copy(i).scale(s)}});a.ZERO=new a,a.RIGHT=new a(1,0),a.LEFT=new a(-1,0),a.UP=new a(0,-1),a.DOWN=new a(0,1),a.ONE=new a(1,1),c.exports=a},25836:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=new o({initialize:function(i,s,e){this.x=0,this.y=0,this.z=0,typeof i=="object"?(this.x=i.x||0,this.y=i.y||0,this.z=i.z||0):(this.x=i||0,this.y=s||0,this.z=e||0)},up:function(){return this.x=0,this.y=1,this.z=0,this},min:function(a){return this.x=Math.min(this.x,a.x),this.y=Math.min(this.y,a.y),this.z=Math.min(this.z,a.z),this},max:function(a){return this.x=Math.max(this.x,a.x),this.y=Math.max(this.y,a.y),this.z=Math.max(this.z,a.z),this},clone:function(){return new v(this.x,this.y,this.z)},addVectors:function(a,i){return this.x=a.x+i.x,this.y=a.y+i.y,this.z=a.z+i.z,this},crossVectors:function(a,i){var s=a.x,e=a.y,r=a.z,h=i.x,n=i.y,l=i.z;return this.x=e*l-r*n,this.y=r*h-s*l,this.z=s*n-e*h,this},equals:function(a){return this.x===a.x&&this.y===a.y&&this.z===a.z},copy:function(a){return this.x=a.x,this.y=a.y,this.z=a.z||0,this},set:function(a,i,s){return typeof a=="object"?(this.x=a.x||0,this.y=a.y||0,this.z=a.z||0):(this.x=a||0,this.y=i||0,this.z=s||0),this},setFromMatrixPosition:function(a){return this.fromArray(a.val,12)},setFromMatrixColumn:function(a,i){return this.fromArray(a.val,i*4)},fromArray:function(a,i){return i===void 0&&(i=0),this.x=a[i],this.y=a[i+1],this.z=a[i+2],this},add:function(a){return this.x+=a.x,this.y+=a.y,this.z+=a.z||0,this},addScalar:function(a){return this.x+=a,this.y+=a,this.z+=a,this},addScale:function(a,i){return this.x+=a.x*i,this.y+=a.y*i,this.z+=a.z*i||0,this},subtract:function(a){return this.x-=a.x,this.y-=a.y,this.z-=a.z||0,this},multiply:function(a){return this.x*=a.x,this.y*=a.y,this.z*=a.z||1,this},scale:function(a){return isFinite(a)?(this.x*=a,this.y*=a,this.z*=a):(this.x=0,this.y=0,this.z=0),this},divide:function(a){return this.x/=a.x,this.y/=a.y,this.z/=a.z||1,this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},distance:function(a){var i=a.x-this.x,s=a.y-this.y,e=a.z-this.z||0;return Math.sqrt(i*i+s*s+e*e)},distanceSq:function(a){var i=a.x-this.x,s=a.y-this.y,e=a.z-this.z||0;return i*i+s*s+e*e},length:function(){var a=this.x,i=this.y,s=this.z;return Math.sqrt(a*a+i*i+s*s)},lengthSq:function(){var a=this.x,i=this.y,s=this.z;return a*a+i*i+s*s},normalize:function(){var a=this.x,i=this.y,s=this.z,e=a*a+i*i+s*s;return e>0&&(e=1/Math.sqrt(e),this.x=a*e,this.y=i*e,this.z=s*e),this},dot:function(a){return this.x*a.x+this.y*a.y+this.z*a.z},cross:function(a){var i=this.x,s=this.y,e=this.z,r=a.x,h=a.y,n=a.z;return this.x=s*n-e*h,this.y=e*r-i*n,this.z=i*h-s*r,this},lerp:function(a,i){i===void 0&&(i=0);var s=this.x,e=this.y,r=this.z;return this.x=s+i*(a.x-s),this.y=e+i*(a.y-e),this.z=r+i*(a.z-r),this},applyMatrix3:function(a){var i=this.x,s=this.y,e=this.z,r=a.val;return this.x=r[0]*i+r[3]*s+r[6]*e,this.y=r[1]*i+r[4]*s+r[7]*e,this.z=r[2]*i+r[5]*s+r[8]*e,this},applyMatrix4:function(a){var i=this.x,s=this.y,e=this.z,r=a.val,h=1/(r[3]*i+r[7]*s+r[11]*e+r[15]);return this.x=(r[0]*i+r[4]*s+r[8]*e+r[12])*h,this.y=(r[1]*i+r[5]*s+r[9]*e+r[13])*h,this.z=(r[2]*i+r[6]*s+r[10]*e+r[14])*h,this},transformMat3:function(a){var i=this.x,s=this.y,e=this.z,r=a.val;return this.x=i*r[0]+s*r[3]+e*r[6],this.y=i*r[1]+s*r[4]+e*r[7],this.z=i*r[2]+s*r[5]+e*r[8],this},transformMat4:function(a){var i=this.x,s=this.y,e=this.z,r=a.val;return this.x=r[0]*i+r[4]*s+r[8]*e+r[12],this.y=r[1]*i+r[5]*s+r[9]*e+r[13],this.z=r[2]*i+r[6]*s+r[10]*e+r[14],this},transformCoordinates:function(a){var i=this.x,s=this.y,e=this.z,r=a.val,h=i*r[0]+s*r[4]+e*r[8]+r[12],n=i*r[1]+s*r[5]+e*r[9]+r[13],l=i*r[2]+s*r[6]+e*r[10]+r[14],f=i*r[3]+s*r[7]+e*r[11]+r[15];return this.x=h/f,this.y=n/f,this.z=l/f,this},transformQuat:function(a){var i=this.x,s=this.y,e=this.z,r=a.x,h=a.y,n=a.z,l=a.w,f=l*i+h*e-n*s,u=l*s+n*i-r*e,d=l*e+r*s-h*i,p=-r*i-h*s-n*e;return this.x=f*l+p*-r+u*-n-d*-h,this.y=u*l+p*-h+d*-r-f*-n,this.z=d*l+p*-n+f*-h-u*-r,this},project:function(a){var i=this.x,s=this.y,e=this.z,r=a.val,h=r[0],n=r[1],l=r[2],f=r[3],u=r[4],d=r[5],p=r[6],x=r[7],E=r[8],T=r[9],C=r[10],A=r[11],M=r[12],R=r[13],O=r[14],L=r[15],b=1/(i*f+s*x+e*A+L);return this.x=(i*h+s*u+e*E+M)*b,this.y=(i*n+s*d+e*T+R)*b,this.z=(i*l+s*p+e*C+O)*b,this},projectViewMatrix:function(a,i){return this.applyMatrix4(a).applyMatrix4(i)},unprojectViewMatrix:function(a,i){return this.applyMatrix4(a).applyMatrix4(i)},unproject:function(a,i){var s=a.x,e=a.y,r=a.z,h=a.w,n=this.x-s,l=h-this.y-1-e,f=this.z;return this.x=2*n/r-1,this.y=2*l/h-1,this.z=2*f-1,this.project(i)},reset:function(){return this.x=0,this.y=0,this.z=0,this}});v.ZERO=new v,v.RIGHT=new v(1,0,0),v.LEFT=new v(-1,0,0),v.UP=new v(0,-1,0),v.DOWN=new v(0,1,0),v.FORWARD=new v(0,0,1),v.BACK=new v(0,0,-1),v.ONE=new v(1,1,1),c.exports=v},61369:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=new o({initialize:function(i,s,e,r){this.x=0,this.y=0,this.z=0,this.w=0,typeof i=="object"?(this.x=i.x||0,this.y=i.y||0,this.z=i.z||0,this.w=i.w||0):(this.x=i||0,this.y=s||0,this.z=e||0,this.w=r||0)},clone:function(){return new v(this.x,this.y,this.z,this.w)},copy:function(a){return this.x=a.x,this.y=a.y,this.z=a.z||0,this.w=a.w||0,this},equals:function(a){return this.x===a.x&&this.y===a.y&&this.z===a.z&&this.w===a.w},set:function(a,i,s,e){return typeof a=="object"?(this.x=a.x||0,this.y=a.y||0,this.z=a.z||0,this.w=a.w||0):(this.x=a||0,this.y=i||0,this.z=s||0,this.w=e||0),this},add:function(a){return this.x+=a.x,this.y+=a.y,this.z+=a.z||0,this.w+=a.w||0,this},subtract:function(a){return this.x-=a.x,this.y-=a.y,this.z-=a.z||0,this.w-=a.w||0,this},scale:function(a){return this.x*=a,this.y*=a,this.z*=a,this.w*=a,this},length:function(){var a=this.x,i=this.y,s=this.z,e=this.w;return Math.sqrt(a*a+i*i+s*s+e*e)},lengthSq:function(){var a=this.x,i=this.y,s=this.z,e=this.w;return a*a+i*i+s*s+e*e},normalize:function(){var a=this.x,i=this.y,s=this.z,e=this.w,r=a*a+i*i+s*s+e*e;return r>0&&(r=1/Math.sqrt(r),this.x=a*r,this.y=i*r,this.z=s*r,this.w=e*r),this},dot:function(a){return this.x*a.x+this.y*a.y+this.z*a.z+this.w*a.w},lerp:function(a,i){i===void 0&&(i=0);var s=this.x,e=this.y,r=this.z,h=this.w;return this.x=s+i*(a.x-s),this.y=e+i*(a.y-e),this.z=r+i*(a.z-r),this.w=h+i*(a.w-h),this},multiply:function(a){return this.x*=a.x,this.y*=a.y,this.z*=a.z||1,this.w*=a.w||1,this},divide:function(a){return this.x/=a.x,this.y/=a.y,this.z/=a.z||1,this.w/=a.w||1,this},distance:function(a){var i=a.x-this.x,s=a.y-this.y,e=a.z-this.z||0,r=a.w-this.w||0;return Math.sqrt(i*i+s*s+e*e+r*r)},distanceSq:function(a){var i=a.x-this.x,s=a.y-this.y,e=a.z-this.z||0,r=a.w-this.w||0;return i*i+s*s+e*e+r*r},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},transformMat4:function(a){var i=this.x,s=this.y,e=this.z,r=this.w,h=a.val;return this.x=h[0]*i+h[4]*s+h[8]*e+h[12]*r,this.y=h[1]*i+h[5]*s+h[9]*e+h[13]*r,this.z=h[2]*i+h[6]*s+h[10]*e+h[14]*r,this.w=h[3]*i+h[7]*s+h[11]*e+h[15]*r,this},transformQuat:function(a){var i=this.x,s=this.y,e=this.z,r=a.x,h=a.y,n=a.z,l=a.w,f=l*i+h*e-n*s,u=l*s+n*i-r*e,d=l*e+r*s-h*i,p=-r*i-h*s-n*e;return this.x=f*l+p*-r+u*-n-d*-h,this.y=u*l+p*-h+d*-r-f*-n,this.z=d*l+p*-n+f*-h-u*-r,this},reset:function(){return this.x=0,this.y=0,this.z=0,this.w=0,this}});v.prototype.sub=v.prototype.subtract,v.prototype.mul=v.prototype.multiply,v.prototype.div=v.prototype.divide,v.prototype.dist=v.prototype.distance,v.prototype.distSq=v.prototype.distanceSq,v.prototype.len=v.prototype.length,v.prototype.lenSq=v.prototype.lengthSq,c.exports=v},60417:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o,v){return Math.abs(t-o)<=v};c.exports=g},15994:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o,v){var a=v-o;return o+((t-o)%a+a)%a};c.exports=g},31040:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o,v,a){return Math.atan2(a-o,v-t)};c.exports=g},55495:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o){return Math.atan2(o.y-t.y,o.x-t.x)};c.exports=g},128:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o){return Math.atan2(o.x-t.x,o.y-t.y)};c.exports=g},41273:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o,v,a){return Math.atan2(v-t,a-o)};c.exports=g},1432:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(36383),v=function(a){return a>Math.PI&&(a-=o.PI2),Math.abs(((a+o.TAU)%o.PI2-o.PI2)%o.PI2)};c.exports=v},12407:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t){return t=t%(2*Math.PI),t>=0?t:t+2*Math.PI};c.exports=g},53993:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       @samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(99472),v=function(){return o(-Math.PI,Math.PI)};c.exports=v},86564:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       @samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(99472),v=function(){return o(-180,180)};c.exports=v},90154:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(12407),v=function(a){return o(a+Math.PI)};c.exports=v},48736:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(36383),v=function(a,i,s){return s===void 0&&(s=.05),a===i||(Math.abs(i-a)<=s||Math.abs(i-a)>=o.PI2-s?a=i:(Math.abs(i-a)>Math.PI&&(i<a?i+=o.PI2:i-=o.PI2),i>a?a+=s:i<a&&(a-=s))),a};c.exports=v},61430:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o){var v=o-t;if(v===0)return 0;var a=Math.floor((v- -180)/360);return v-a*360};c.exports=g},86554:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(15994),v=function(a){return o(a,-Math.PI,Math.PI)};c.exports=v},30954:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(15994),v=function(a){return o(a,-180,180)};c.exports=v},25588:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Between:t(31040),BetweenPoints:t(55495),BetweenPointsY:t(128),BetweenY:t(41273),CounterClockwise:t(1432),Normalize:t(12407),Random:t(53993),RandomDegrees:t(86564),Reverse:t(90154),RotateTo:t(48736),ShortestBetween:t(61430),Wrap:t(86554),WrapDegrees:t(30954)}},36383:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g={PI2:Math.PI*2,TAU:Math.PI*.5,EPSILON:1e-6,DEG_TO_RAD:Math.PI/180,RAD_TO_DEG:180/Math.PI,RND:null,MIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER||-9007199254740991,MAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER||9007199254740991};c.exports=g},20339:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o,v,a){var i=t-v,s=o-a;return Math.sqrt(i*i+s*s)};c.exports=g},52816:c=>{/**
 * @author       samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o){var v=t.x-o.x,a=t.y-o.y;return Math.sqrt(v*v+a*a)};c.exports=g},64559:c=>{/**
 * @author       samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o){var v=t.x-o.x,a=t.y-o.y;return v*v+a*a};c.exports=g},82340:c=>{/**
 * @author       samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o,v,a){return Math.max(Math.abs(t-v),Math.abs(o-a))};c.exports=g},14390:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o,v,a,i){return i===void 0&&(i=2),Math.sqrt(Math.pow(v-t,i)+Math.pow(a-o,i))};c.exports=g},2243:c=>{/**
 * @author       samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o,v,a){return Math.abs(t-v)+Math.abs(o-a)};c.exports=g},89774:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o,v,a){var i=t-v,s=o-a;return i*i+s*s};c.exports=g},50994:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Between:t(20339),BetweenPoints:t(52816),BetweenPointsSquared:t(64559),Chebyshev:t(82340),Power:t(14390),Snake:t(2243),Squared:t(89774)}},62640:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(54178),v=t(41521),a=t(79980),i=t(85433),s=t(99140),e=t(48857),r=t(81596),h=t(59133),n=t(98516),l=t(35248),f=t(82500),u=t(49752);c.exports={Power0:r,Power1:h.Out,Power2:i.Out,Power3:n.Out,Power4:l.Out,Linear:r,Quad:h.Out,Cubic:i.Out,Quart:n.Out,Quint:l.Out,Sine:f.Out,Expo:e.Out,Circ:a.Out,Elastic:s.Out,Back:o.Out,Bounce:v.Out,Stepped:u,"Quad.easeIn":h.In,"Cubic.easeIn":i.In,"Quart.easeIn":n.In,"Quint.easeIn":l.In,"Sine.easeIn":f.In,"Expo.easeIn":e.In,"Circ.easeIn":a.In,"Elastic.easeIn":s.In,"Back.easeIn":o.In,"Bounce.easeIn":v.In,"Quad.easeOut":h.Out,"Cubic.easeOut":i.Out,"Quart.easeOut":n.Out,"Quint.easeOut":l.Out,"Sine.easeOut":f.Out,"Expo.easeOut":e.Out,"Circ.easeOut":a.Out,"Elastic.easeOut":s.Out,"Back.easeOut":o.Out,"Bounce.easeOut":v.Out,"Quad.easeInOut":h.InOut,"Cubic.easeInOut":i.InOut,"Quart.easeInOut":n.InOut,"Quint.easeInOut":l.InOut,"Sine.easeInOut":f.InOut,"Expo.easeInOut":e.InOut,"Circ.easeInOut":a.InOut,"Elastic.easeInOut":s.InOut,"Back.easeInOut":o.InOut,"Bounce.easeInOut":v.InOut}},1639:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o){return o===void 0&&(o=1.70158),t*t*((o+1)*t-o)};c.exports=g},50099:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o){o===void 0&&(o=1.70158);var v=o*1.525;return(t*=2)<1?.5*(t*t*((v+1)*t-v)):.5*((t-=2)*t*((v+1)*t+v)+2)};c.exports=g},41286:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o){return o===void 0&&(o=1.70158),--t*t*((o+1)*t+o)+1};c.exports=g},54178:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={In:t(1639),Out:t(41286),InOut:t(50099)}},59590:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t){return t=1-t,t<.36363636363636365?1-7.5625*t*t:t<.7272727272727273?1-(7.5625*(t-=.5454545454545454)*t+.75):t<.9090909090909091?1-(7.5625*(t-=.8181818181818182)*t+.9375):1-(7.5625*(t-=.9545454545454546)*t+.984375)};c.exports=g},41788:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t){var o=!1;return t<.5?(t=1-t*2,o=!0):t=t*2-1,t<.36363636363636365?t=7.5625*t*t:t<.7272727272727273?t=7.5625*(t-=.5454545454545454)*t+.75:t<.9090909090909091?t=7.5625*(t-=.8181818181818182)*t+.9375:t=7.5625*(t-=.9545454545454546)*t+.984375,o?(1-t)*.5:t*.5+.5};c.exports=g},69905:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t){return t<.36363636363636365?7.5625*t*t:t<.7272727272727273?7.5625*(t-=.5454545454545454)*t+.75:t<.9090909090909091?7.5625*(t-=.8181818181818182)*t+.9375:7.5625*(t-=.9545454545454546)*t+.984375};c.exports=g},41521:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={In:t(59590),Out:t(69905),InOut:t(41788)}},91861:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t){return 1-Math.sqrt(1-t*t)};c.exports=g},4177:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)};c.exports=g},57512:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t){return Math.sqrt(1- --t*t)};c.exports=g},79980:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={In:t(91861),Out:t(57512),InOut:t(4177)}},51150:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t){return t*t*t};c.exports=g},82820:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)};c.exports=g},35033:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t){return--t*t*t+1};c.exports=g},85433:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={In:t(51150),Out:t(35033),InOut:t(82820)}},69965:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o,v){if(o===void 0&&(o=.1),v===void 0&&(v=.1),t===0)return 0;if(t===1)return 1;var a=v/4;return o<1?o=1:a=v*Math.asin(1/o)/(2*Math.PI),-(o*Math.pow(2,10*(t-=1))*Math.sin((t-a)*(2*Math.PI)/v))};c.exports=g},50665:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o,v){if(o===void 0&&(o=.1),v===void 0&&(v=.1),t===0)return 0;if(t===1)return 1;var a=v/4;return o<1?o=1:a=v*Math.asin(1/o)/(2*Math.PI),(t*=2)<1?-.5*(o*Math.pow(2,10*(t-=1))*Math.sin((t-a)*(2*Math.PI)/v)):o*Math.pow(2,-10*(t-=1))*Math.sin((t-a)*(2*Math.PI)/v)*.5+1};c.exports=g},7744:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o,v){if(o===void 0&&(o=.1),v===void 0&&(v=.1),t===0)return 0;if(t===1)return 1;var a=v/4;return o<1?o=1:a=v*Math.asin(1/o)/(2*Math.PI),o*Math.pow(2,-10*t)*Math.sin((t-a)*(2*Math.PI)/v)+1};c.exports=g},99140:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={In:t(69965),Out:t(7744),InOut:t(50665)}},24590:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t){return Math.pow(2,10*(t-1))-.001};c.exports=g},87844:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t){return(t*=2)<1?.5*Math.pow(2,10*(t-1)):.5*(2-Math.pow(2,-10*(t-1)))};c.exports=g},89433:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t){return 1-Math.pow(2,-10*t)};c.exports=g},48857:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={In:t(24590),Out:t(89433),InOut:t(87844)}},48820:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Back:t(54178),Bounce:t(41521),Circular:t(79980),Cubic:t(85433),Elastic:t(99140),Expo:t(48857),Linear:t(81596),Quadratic:t(59133),Quartic:t(98516),Quintic:t(35248),Sine:t(82500),Stepped:t(49752)}},7147:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t){return t};c.exports=g},81596:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports=t(7147)},34826:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t){return t*t};c.exports=g},20544:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)};c.exports=g},92029:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t){return t*(2-t)};c.exports=g},59133:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={In:t(34826),Out:t(92029),InOut:t(20544)}},64413:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t){return t*t*t*t};c.exports=g},78137:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)};c.exports=g},45840:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t){return 1- --t*t*t*t};c.exports=g},98516:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={In:t(64413),Out:t(45840),InOut:t(78137)}},87745:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t){return t*t*t*t*t};c.exports=g},16509:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)};c.exports=g},17868:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t){return--t*t*t*t*t+1};c.exports=g},35248:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={In:t(87745),Out:t(17868),InOut:t(16509)}},80461:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t){return t===0?0:t===1?1:1-Math.cos(t*Math.PI/2)};c.exports=g},34025:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t){return t===0?0:t===1?1:.5*(1-Math.cos(Math.PI*t))};c.exports=g},52768:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t){return t===0?0:t===1?1:Math.sin(t*Math.PI/2)};c.exports=g},82500:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={In:t(80461),Out:t(52768),InOut:t(34025)}},72251:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o){return o===void 0&&(o=1),t<=0?0:t>=1?1:((o*t|0)+1)*(1/o)};c.exports=g},49752:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports=t(72251)},75698:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o){return o===void 0&&(o=1e-4),Math.ceil(t-o)};c.exports=g},43855:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o,v){return v===void 0&&(v=1e-4),Math.abs(t-o)<v};c.exports=g},25777:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o){return o===void 0&&(o=1e-4),Math.floor(t+o)};c.exports=g},5470:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o,v){return v===void 0&&(v=1e-4),t>o-v};c.exports=g},94977:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o,v){return v===void 0&&(v=1e-4),t<o+v};c.exports=g},48379:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Ceil:t(75698),Equal:t(43855),Floor:t(25777),GreaterThan:t(5470),LessThan:t(94977)}},75508:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(36383),v=t(79291),a={Angle:t(25588),Distance:t(50994),Easing:t(48820),Fuzzy:t(48379),Interpolation:t(38289),Pow2:t(49001),Snap:t(73697),RandomDataGenerator:t(28453),Average:t(53307),Bernstein:t(85710),Between:t(30976),CatmullRom:t(87842),CeilTo:t(26302),Clamp:t(45319),DegToRad:t(39506),Difference:t(61241),Euler:t(38857),Factorial:t(6411),FloatBetween:t(99472),FloorTo:t(77623),FromPercent:t(62945),GetSpeed:t(38265),IsEven:t(78702),IsEvenStrict:t(94883),Linear:t(28915),LinearXY:t(94908),MaxAdd:t(86883),Median:t(50040),MinSub:t(37204),Percent:t(65201),RadToDeg:t(43396),RandomXY:t(74362),RandomXYZ:t(60706),RandomXYZW:t(67421),Rotate:t(36305),RotateAround:t(11520),RotateAroundDistance:t(1163),RotateTo:t(70336),RoundAwayFromZero:t(2284),RoundTo:t(41013),SinCosTableGenerator:t(16922),SmootherStep:t(54261),SmoothStep:t(7602),ToXY:t(44408),TransformXY:t(85955),Within:t(60417),Wrap:t(15994),Vector2:t(26099),Vector3:t(25836),Vector4:t(61369),Matrix3:t(94434),Matrix4:t(37867),Quaternion:t(15746),RotateVec3:t(72678)};a=v(!1,a,o),c.exports=a},89318:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(85710),v=function(a,i){for(var s=0,e=a.length-1,r=0;r<=e;r++)s+=Math.pow(1-i,e-r)*Math.pow(i,r)*a[r]*o(e,r);return s};c.exports=v},77259:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(87842),v=function(a,i){var s=a.length-1,e=s*i,r=Math.floor(e);return a[0]===a[s]?(i<0&&(r=Math.floor(e=s*(1+i))),o(e-r,a[(r-1+s)%s],a[r],a[(r+1)%s],a[(r+2)%s])):i<0?a[0]-(o(-e,a[0],a[0],a[1],a[1])-a[0]):i>1?a[s]-(o(e-s,a[s],a[s],a[s-1],a[s-1])-a[s]):o(e-r,a[r?r-1:0],a[r],a[s<r+1?s:r+1],a[s<r+2?s:r+2])};c.exports=v},36316:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function g(i,s){var e=1-i;return e*e*e*s}function t(i,s){var e=1-i;return 3*e*e*i*s}function o(i,s){return 3*(1-i)*i*i*s}function v(i,s){return i*i*i*s}var a=function(i,s,e,r,h){return g(i,s)+t(i,e)+o(i,r)+v(i,h)};c.exports=a},28392:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(28915),v=function(a,i){var s=a.length-1,e=s*i,r=Math.floor(e);return i<0?o(a[0],a[1],e):i>1?o(a[s],a[s-1],s-e):o(a[r],a[r+1>s?s:r+1],e-r)};c.exports=v},32112:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function g(a,i){var s=1-a;return s*s*i}function t(a,i){return 2*(1-a)*a*i}function o(a,i){return a*a*i}var v=function(a,i,s,e){return g(a,i)+t(a,s)+o(a,e)};c.exports=v},47235:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(7602),v=function(a,i,s){return i+(s-i)*o(a,0,1)};c.exports=v},50178:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(54261),v=function(a,i,s){return i+(s-i)*o(a,0,1)};c.exports=v},38289:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Bezier:t(89318),CatmullRom:t(77259),CubicBezier:t(36316),Linear:t(28392),QuadraticBezier:t(32112),SmoothStep:t(47235),SmootherStep:t(50178)}},98439:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t){var o=Math.log(t)/.6931471805599453;return 1<<Math.ceil(o)};c.exports=g},50030:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o){return t>0&&(t&t-1)===0&&o>0&&(o&o-1)===0};c.exports=g},81230:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t){return t>0&&(t&t-1)===0};c.exports=g},49001:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={GetNext:t(98439),IsSize:t(50030),IsValue:t(81230)}},28453:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=new o({initialize:function(i){i===void 0&&(i=[(Date.now()*Math.random()).toString()]),this.c=1,this.s0=0,this.s1=0,this.s2=0,this.n=0,this.signs=[-1,1],i&&this.init(i)},rnd:function(){var a=2091639*this.s0+this.c*23283064365386963e-26;return this.c=a|0,this.s0=this.s1,this.s1=this.s2,this.s2=a-this.c,this.s2},hash:function(a){var i,s=this.n;a=a.toString();for(var e=0;e<a.length;e++)s+=a.charCodeAt(e),i=.02519603282416938*s,s=i>>>0,i-=s,i*=s,s=i>>>0,i-=s,s+=i*4294967296;return this.n=s,(s>>>0)*23283064365386963e-26},init:function(a){typeof a=="string"?this.state(a):this.sow(a)},sow:function(a){if(this.n=4022871197,this.s0=this.hash(" "),this.s1=this.hash(" "),this.s2=this.hash(" "),this.c=1,!!a)for(var i=0;i<a.length&&a[i]!=null;i++){var s=a[i];this.s0-=this.hash(s),this.s0+=~~(this.s0<0),this.s1-=this.hash(s),this.s1+=~~(this.s1<0),this.s2-=this.hash(s),this.s2+=~~(this.s2<0)}},integer:function(){return this.rnd()*4294967296},frac:function(){return this.rnd()+(this.rnd()*2097152|0)*11102230246251565e-32},real:function(){return this.integer()+this.frac()},integerInRange:function(a,i){return Math.floor(this.realInRange(0,i-a+1)+a)},between:function(a,i){return Math.floor(this.realInRange(0,i-a+1)+a)},realInRange:function(a,i){return this.frac()*(i-a)+a},normal:function(){return 1-2*this.frac()},uuid:function(){var a="",i="";for(i=a="";a++<36;i+=~a%5|a*3&4?(a^15?8^this.frac()*(a^20?16:4):4).toString(16):"-");return i},pick:function(a){return a[this.integerInRange(0,a.length-1)]},sign:function(){return this.pick(this.signs)},weightedPick:function(a){return a[~~(Math.pow(this.frac(),2)*(a.length-.5)+.5)]},timestamp:function(a,i){return this.realInRange(a||9466848e5,i||1577862e6)},angle:function(){return this.integerInRange(-180,180)},rotation:function(){return this.realInRange(-3.1415926,3.1415926)},state:function(a){return typeof a=="string"&&a.match(/^!rnd/)&&(a=a.split(","),this.c=parseFloat(a[1]),this.s0=parseFloat(a[2]),this.s1=parseFloat(a[3]),this.s2=parseFloat(a[4])),["!rnd",this.c,this.s0,this.s1,this.s2].join(",")},shuffle:function(a){for(var i=a.length-1,s=i;s>0;s--){var e=Math.floor(this.frac()*(s+1)),r=a[e];a[e]=a[s],a[s]=r}return a}});c.exports=v},63448:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o,v,a){return v===void 0&&(v=0),o===0?t:(t-=v,t=o*Math.ceil(t/o),a?(v+t)/o:v+t)};c.exports=g},56583:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o,v,a){return v===void 0&&(v=0),o===0?t:(t-=v,t=o*Math.floor(t/o),a?(v+t)/o:v+t)};c.exports=g},77720:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o,v,a){return v===void 0&&(v=0),o===0?t:(t-=v,t=o*Math.round(t/o),a?(v+t)/o:v+t)};c.exports=g},73697:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Ceil:t(63448),Floor:t(56583),To:t(77720)}},85454:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */t(63595);var o=t(8054),v=t(79291),a={Actions:t(61061),Animations:t(60421),BlendModes:t(10312),Cache:t(83388),Cameras:t(26638),Core:t(42857),Class:t(83419),Create:t(15822),Curves:t(25410),Data:t(44965),Display:t(27460),DOM:t(84902),Events:t(93055),FX:t(66064),Game:t(50127),GameObjects:t(77856),Geom:t(55738),Input:t(14350),Loader:t(57777),Math:t(75508),Physics:t(44563),Plugins:t(18922),Renderer:t(36909),Scale:t(93364),ScaleModes:t(29795),Scene:t(97482),Scenes:t(62194),Structs:t(41392),Textures:t(27458),Tilemaps:t(62501),Time:t(90291),Tweens:t(43066),Utils:t(91799)};a.Sound=t(23717),a=v(!1,a,o),c.exports=a,t.g.Phaser=a},71289:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(92209),a=t(88571),i=new o({Extends:a,Mixins:[v.Acceleration,v.Angular,v.Bounce,v.Collision,v.Debug,v.Drag,v.Enable,v.Friction,v.Gravity,v.Immovable,v.Mass,v.Pushable,v.Size,v.Velocity],initialize:function(e,r,h,n,l){a.call(this,e,r,h,n,l),this.body=null}});c.exports=i},86689:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(39506),a=t(20339),i=t(89774),s=t(66022),e=t(95540),r=t(46975),h=t(72441),n=t(47956),l=t(37277),f=t(44594),u=t(26099),d=t(82248),p=new o({initialize:function(E){this.scene=E,this.systems=E.sys,this.config=this.getConfig(),this.world,this.add,this._category=1,E.sys.events.once(f.BOOT,this.boot,this),E.sys.events.on(f.START,this.start,this)},boot:function(){this.world=new d(this.scene,this.config),this.add=new s(this.world),this.systems.events.once(f.DESTROY,this.destroy,this)},start:function(){this.world||(this.world=new d(this.scene,this.config),this.add=new s(this.world));var x=this.systems.events;e(this.config,"customUpdate",!1)||x.on(f.UPDATE,this.world.update,this.world),x.on(f.POST_UPDATE,this.world.postUpdate,this.world),x.once(f.SHUTDOWN,this.shutdown,this)},enableUpdate:function(){this.systems.events.on(f.UPDATE,this.world.update,this.world)},disableUpdate:function(){this.systems.events.off(f.UPDATE,this.world.update,this.world)},getConfig:function(){var x=this.systems.game.config.physics,E=this.systems.settings.physics,T=r(e(E,"arcade",{}),e(x,"arcade",{}));return T},nextCategory:function(){return this._category=this._category<<1,this._category},overlap:function(x,E,T,C,A){return T===void 0&&(T=null),C===void 0&&(C=null),A===void 0&&(A=T),this.world.collideObjects(x,E,T,C,A,!0)},collide:function(x,E,T,C,A){return T===void 0&&(T=null),C===void 0&&(C=null),A===void 0&&(A=T),this.world.collideObjects(x,E,T,C,A,!1)},collideTiles:function(x,E,T,C,A){return this.world.collideTiles(x,E,T,C,A)},overlapTiles:function(x,E,T,C,A){return this.world.overlapTiles(x,E,T,C,A)},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},accelerateTo:function(x,E,T,C,A,M){C===void 0&&(C=60);var R=Math.atan2(T-x.y,E-x.x);return x.body.acceleration.setToPolar(R,C),A!==void 0&&M!==void 0&&x.body.maxVelocity.set(A,M),R},accelerateToObject:function(x,E,T,C,A){return this.accelerateTo(x,E.x,E.y,T,C,A)},closest:function(x,E){E||(E=this.world.bodies.entries);for(var T=Number.MAX_VALUE,C=null,A=x.x,M=x.y,R=E.length,O=0;O<R;O++){var L=E[O],b=L.body||L;if(!(x===L||x===b||x===b.gameObject||x===b.center)){var N=i(A,M,b.center.x,b.center.y);N<T&&(C=L,T=N)}}return C},furthest:function(x,E){E||(E=this.world.bodies.entries);for(var T=-1,C=null,A=x.x,M=x.y,R=E.length,O=0;O<R;O++){var L=E[O],b=L.body||L;if(!(x===L||x===b||x===b.gameObject||x===b.center)){var N=i(A,M,b.center.x,b.center.y);N>T&&(C=L,T=N)}}return C},moveTo:function(x,E,T,C,A){C===void 0&&(C=60),A===void 0&&(A=0);var M=Math.atan2(T-x.y,E-x.x);return A>0&&(C=a(x.x,x.y,E,T)/(A/1e3)),x.body.velocity.setToPolar(M,C),M},moveToObject:function(x,E,T,C){return this.moveTo(x,E.x,E.y,T,C)},velocityFromAngle:function(x,E,T){return E===void 0&&(E=60),T===void 0&&(T=new u),T.setToPolar(v(x),E)},velocityFromRotation:function(x,E,T){return E===void 0&&(E=60),T===void 0&&(T=new u),T.setToPolar(x,E)},overlapRect:function(x,E,T,C,A,M){return n(this.world,x,E,T,C,A,M)},overlapCirc:function(x,E,T,C,A){return h(this.world,x,E,T,C,A)},shutdown:function(){if(this.world){var x=this.systems.events;x.off(f.UPDATE,this.world.update,this.world),x.off(f.POST_UPDATE,this.world.postUpdate,this.world),x.off(f.SHUTDOWN,this.shutdown,this),this.add.destroy(),this.world.destroy(),this.add=null,this.world=null,this._category=1}},destroy:function(){this.shutdown(),this.scene.sys.events.off(f.START,this.start,this),this.scene=null,this.systems=null}});l.register("ArcadePhysics",p,"arcadePhysics"),c.exports=p},13759:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(92209),a=t(68287),i=new o({Extends:a,Mixins:[v.Acceleration,v.Angular,v.Bounce,v.Collision,v.Debug,v.Drag,v.Enable,v.Friction,v.Gravity,v.Immovable,v.Mass,v.Pushable,v.Size,v.Velocity],initialize:function(e,r,h,n,l){a.call(this,e,r,h,n,l),this.body=null}});c.exports=i},37742:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(78389),a=t(37747),i=t(63012),s=t(43396),e=t(87841),r=t(37303),h=t(95829),n=t(26099),l=new o({Mixins:[v],initialize:function(u,d){var p=64,x=64,E={x:0,y:0,angle:0,rotation:0,scaleX:1,scaleY:1,displayOriginX:0,displayOriginY:0},T=d!==void 0;T&&d.displayWidth&&(p=d.displayWidth,x=d.displayHeight),T||(d=E),this.world=u,this.gameObject=T?d:void 0,this.isBody=!0,this.transform={x:d.x,y:d.y,rotation:d.angle,scaleX:d.scaleX,scaleY:d.scaleY,displayOriginX:d.displayOriginX,displayOriginY:d.displayOriginY},this.debugShowBody=u.defaults.debugShowBody,this.debugShowVelocity=u.defaults.debugShowVelocity,this.debugBodyColor=u.defaults.bodyDebugColor,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new n,this.position=new n(d.x-d.scaleX*d.displayOriginX,d.y-d.scaleY*d.displayOriginY),this.prev=this.position.clone(),this.prevFrame=this.position.clone(),this.allowRotation=!0,this.rotation=d.angle,this.preRotation=d.angle,this.width=p,this.height=x,this.sourceWidth=p,this.sourceHeight=x,d.frame&&(this.sourceWidth=d.frame.realWidth,this.sourceHeight=d.frame.realHeight),this.halfWidth=Math.abs(p/2),this.halfHeight=Math.abs(x/2),this.center=new n(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.velocity=new n,this.newVelocity=new n,this.deltaMax=new n,this.acceleration=new n,this.allowDrag=!0,this.drag=new n,this.allowGravity=!0,this.gravity=new n,this.bounce=new n,this.worldBounce=null,this.customBoundsRectangle=u.bounds,this.onWorldBounds=!1,this.onCollide=!1,this.onOverlap=!1,this.maxVelocity=new n(1e4,1e4),this.maxSpeed=-1,this.friction=new n(1,0),this.useDamping=!1,this.angularVelocity=0,this.angularAcceleration=0,this.angularDrag=0,this.maxAngular=1e3,this.mass=1,this.angle=0,this.speed=0,this.facing=a.FACING_NONE,this.immovable=!1,this.pushable=!0,this.slideFactor=new n(1,1),this.moves=!0,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision=h(!1),this.touching=h(!0),this.wasTouching=h(!0),this.blocked=h(!0),this.syncBounds=!1,this.physicsType=a.DYNAMIC_BODY,this.collisionCategory=1,this.collisionMask=1,this._sx=d.scaleX,this._sy=d.scaleY,this._dx=0,this._dy=0,this._tx=0,this._ty=0,this._bounds=new e,this.directControl=!1,this.autoFrame=this.position.clone()},updateBounds:function(){var f=this.gameObject,u=this.transform;if(f.parentContainer){var d=f.getWorldTransformMatrix(this.world._tempMatrix,this.world._tempMatrix2);u.x=d.tx,u.y=d.ty,u.rotation=s(d.rotation),u.scaleX=d.scaleX,u.scaleY=d.scaleY,u.displayOriginX=f.displayOriginX,u.displayOriginY=f.displayOriginY}else u.x=f.x,u.y=f.y,u.rotation=f.angle,u.scaleX=f.scaleX,u.scaleY=f.scaleY,u.displayOriginX=f.displayOriginX,u.displayOriginY=f.displayOriginY;var p=!1;if(this.syncBounds){var x=f.getBounds(this._bounds);this.width=x.width,this.height=x.height,p=!0}else{var E=Math.abs(u.scaleX),T=Math.abs(u.scaleY);(this._sx!==E||this._sy!==T)&&(this.width=this.sourceWidth*E,this.height=this.sourceHeight*T,this._sx=E,this._sy=T,p=!0)}p&&(this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter())},updateCenter:function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},updateFromGameObject:function(){this.updateBounds();var f=this.transform;this.position.x=f.x+f.scaleX*(this.offset.x-f.displayOriginX),this.position.y=f.y+f.scaleY*(this.offset.y-f.displayOriginY),this.updateCenter()},resetFlags:function(f){f===void 0&&(f=!1);var u=this.wasTouching,d=this.touching,p=this.blocked;f?h(!0,u):(u.none=d.none,u.up=d.up,u.down=d.down,u.left=d.left,u.right=d.right),h(!0,d),h(!0,p),this.overlapR=0,this.overlapX=0,this.overlapY=0,this.embedded=!1},preUpdate:function(f,u){if(f&&this.resetFlags(),this.gameObject&&this.updateFromGameObject(),this.rotation=this.transform.rotation,this.preRotation=this.rotation,this.moves){var d=this.position;this.prev.x=d.x,this.prev.y=d.y,this.prevFrame.x=d.x,this.prevFrame.y=d.y}f&&this.update(u)},update:function(f){var u=this.prev,d=this.position,p=this.velocity;if(u.set(d.x,d.y),!this.moves){this._dx=d.x-u.x,this._dy=d.y-u.y;return}if(this.directControl){var x=this.autoFrame;p.set((d.x-x.x)/f,(d.y-x.y)/f),this.world.updateMotion(this,f),this._dx=d.x-x.x,this._dy=d.y-x.y}else this.world.updateMotion(this,f),this.newVelocity.set(p.x*f,p.y*f),d.add(this.newVelocity),this._dx=d.x-u.x,this._dy=d.y-u.y;var E=p.x,T=p.y;if(this.updateCenter(),this.angle=Math.atan2(T,E),this.speed=Math.sqrt(E*E+T*T),this.collideWorldBounds&&this.checkWorldBounds()&&this.onWorldBounds){var C=this.blocked;this.world.emit(i.WORLD_BOUNDS,this,C.up,C.down,C.left,C.right)}},postUpdate:function(){var f=this.position,u=f.x-this.prevFrame.x,d=f.y-this.prevFrame.y,p=this.gameObject;if(this.moves){var x=this.deltaMax.x,E=this.deltaMax.y;x!==0&&u!==0&&(u<0&&u<-x?u=-x:u>0&&u>x&&(u=x)),E!==0&&d!==0&&(d<0&&d<-E?d=-E:d>0&&d>E&&(d=E)),p&&(p.x+=u,p.y+=d)}u<0?this.facing=a.FACING_LEFT:u>0&&(this.facing=a.FACING_RIGHT),d<0?this.facing=a.FACING_UP:d>0&&(this.facing=a.FACING_DOWN),this.allowRotation&&p&&(p.angle+=this.deltaZ()),this._tx=u,this._ty=d,this.autoFrame.set(f.x,f.y)},setBoundsRectangle:function(f){return this.customBoundsRectangle=f||this.world.bounds,this},checkWorldBounds:function(){var f=this.position,u=this.velocity,d=this.blocked,p=this.customBoundsRectangle,x=this.world.checkCollision,E=this.worldBounce?-this.worldBounce.x:-this.bounce.x,T=this.worldBounce?-this.worldBounce.y:-this.bounce.y,C=!1;return f.x<p.x&&x.left?(f.x=p.x,u.x*=E,d.left=!0,C=!0):this.right>p.right&&x.right&&(f.x=p.right-this.width,u.x*=E,d.right=!0,C=!0),f.y<p.y&&x.up?(f.y=p.y,u.y*=T,d.up=!0,C=!0):this.bottom>p.bottom&&x.down&&(f.y=p.bottom-this.height,u.y*=T,d.down=!0,C=!0),C&&(this.blocked.none=!1,this.updateCenter()),C},setOffset:function(f,u){return u===void 0&&(u=f),this.offset.set(f,u),this},setGameObject:function(f,u){return u===void 0&&(u=!0),this.world.remove(this),this.gameObject&&this.gameObject.body&&(this.gameObject.body=null),this.gameObject=f,f.body&&(f.body=this),this.setSize(),this.world.add(this),this.enable=u,this},setSize:function(f,u,d){d===void 0&&(d=!0);var p=this.gameObject;if(p&&(!f&&p.frame&&(f=p.frame.realWidth),!u&&p.frame&&(u=p.frame.realHeight)),this.sourceWidth=f,this.sourceHeight=u,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter(),d&&p&&p.getCenter){var x=(p.width-f)/2,E=(p.height-u)/2;this.offset.set(x,E)}return this.isCircle=!1,this.radius=0,this},setCircle:function(f,u,d){return u===void 0&&(u=this.offset.x),d===void 0&&(d=this.offset.y),f>0?(this.isCircle=!0,this.radius=f,this.sourceWidth=f*2,this.sourceHeight=f*2,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(u,d),this.updateCenter()):this.isCircle=!1,this},reset:function(f,u){this.stop();var d=this.gameObject;d&&(d.setPosition(f,u),this.rotation=d.angle,this.preRotation=d.angle);var p=this.position;d&&d.getTopLeft?d.getTopLeft(p):p.set(f,u),this.prev.copy(p),this.prevFrame.copy(p),this.autoFrame.copy(p),d&&this.updateBounds(),this.updateCenter(),this.collideWorldBounds&&this.checkWorldBounds(),this.resetFlags(!0)},stop:function(){return this.velocity.set(0),this.acceleration.set(0),this.speed=0,this.angularVelocity=0,this.angularAcceleration=0,this},getBounds:function(f){return f.x=this.x,f.y=this.y,f.right=this.right,f.bottom=this.bottom,f},hitTest:function(f,u){if(!this.isCircle)return r(this,f,u);if(this.radius>0&&f>=this.left&&f<=this.right&&u>=this.top&&u<=this.bottom){var d=(this.center.x-f)*(this.center.x-f),p=(this.center.y-u)*(this.center.y-u);return d+p<=this.radius*this.radius}return!1},onFloor:function(){return this.blocked.down},onCeiling:function(){return this.blocked.up},onWall:function(){return this.blocked.left||this.blocked.right},deltaAbsX:function(){return this._dx>0?this._dx:-this._dx},deltaAbsY:function(){return this._dy>0?this._dy:-this._dy},deltaX:function(){return this._dx},deltaY:function(){return this._dy},deltaXFinal:function(){return this._tx},deltaYFinal:function(){return this._ty},deltaZ:function(){return this.rotation-this.preRotation},destroy:function(){this.enable=!1,this.world&&this.world.pendingDestroy.set(this)},drawDebug:function(f){var u=this.position,d=u.x+this.halfWidth,p=u.y+this.halfHeight;this.debugShowBody&&(f.lineStyle(f.defaultStrokeWidth,this.debugBodyColor),this.isCircle?f.strokeCircle(d,p,this.width/2):(this.checkCollision.up&&f.lineBetween(u.x,u.y,u.x+this.width,u.y),this.checkCollision.right&&f.lineBetween(u.x+this.width,u.y,u.x+this.width,u.y+this.height),this.checkCollision.down&&f.lineBetween(u.x,u.y+this.height,u.x+this.width,u.y+this.height),this.checkCollision.left&&f.lineBetween(u.x,u.y,u.x,u.y+this.height))),this.debugShowVelocity&&(f.lineStyle(f.defaultStrokeWidth,this.world.defaults.velocityDebugColor,1),f.lineBetween(d,p,d+this.velocity.x/2,p+this.velocity.y/2))},willDrawDebug:function(){return this.debugShowBody||this.debugShowVelocity},setDirectControl:function(f){return f===void 0&&(f=!0),this.directControl=f,this},setCollideWorldBounds:function(f,u,d,p){f===void 0&&(f=!0),this.collideWorldBounds=f;var x=u!==void 0,E=d!==void 0;return(x||E)&&(this.worldBounce||(this.worldBounce=new n),x&&(this.worldBounce.x=u),E&&(this.worldBounce.y=d)),p!==void 0&&(this.onWorldBounds=p),this},setVelocity:function(f,u){return this.velocity.set(f,u),f=this.velocity.x,u=this.velocity.y,this.speed=Math.sqrt(f*f+u*u),this},setVelocityX:function(f){return this.setVelocity(f,this.velocity.y)},setVelocityY:function(f){return this.setVelocity(this.velocity.x,f)},setMaxVelocity:function(f,u){return this.maxVelocity.set(f,u),this},setMaxVelocityX:function(f){return this.maxVelocity.x=f,this},setMaxVelocityY:function(f){return this.maxVelocity.y=f,this},setMaxSpeed:function(f){return this.maxSpeed=f,this},setSlideFactor:function(f,u){return this.slideFactor.set(f,u),this},setBounce:function(f,u){return this.bounce.set(f,u),this},setBounceX:function(f){return this.bounce.x=f,this},setBounceY:function(f){return this.bounce.y=f,this},setAcceleration:function(f,u){return this.acceleration.set(f,u),this},setAccelerationX:function(f){return this.acceleration.x=f,this},setAccelerationY:function(f){return this.acceleration.y=f,this},setAllowDrag:function(f){return f===void 0&&(f=!0),this.allowDrag=f,this},setAllowGravity:function(f){return f===void 0&&(f=!0),this.allowGravity=f,this},setAllowRotation:function(f){return f===void 0&&(f=!0),this.allowRotation=f,this},setDrag:function(f,u){return this.drag.set(f,u),this},setDamping:function(f){return this.useDamping=f,this},setDragX:function(f){return this.drag.x=f,this},setDragY:function(f){return this.drag.y=f,this},setGravity:function(f,u){return this.gravity.set(f,u),this},setGravityX:function(f){return this.gravity.x=f,this},setGravityY:function(f){return this.gravity.y=f,this},setFriction:function(f,u){return this.friction.set(f,u),this},setFrictionX:function(f){return this.friction.x=f,this},setFrictionY:function(f){return this.friction.y=f,this},setAngularVelocity:function(f){return this.angularVelocity=f,this},setAngularAcceleration:function(f){return this.angularAcceleration=f,this},setAngularDrag:function(f){return this.angularDrag=f,this},setMass:function(f){return this.mass=f,this},setImmovable:function(f){return f===void 0&&(f=!0),this.immovable=f,this},setEnable:function(f){return f===void 0&&(f=!0),this.enable=f,this},processX:function(f,u,d,p){this.x+=f,this.updateCenter(),u!==null&&(this.velocity.x=u*this.slideFactor.x);var x=this.blocked;d&&(x.left=!0,x.none=!1),p&&(x.right=!0,x.none=!1)},processY:function(f,u,d,p){this.y+=f,this.updateCenter(),u!==null&&(this.velocity.y=u*this.slideFactor.y);var x=this.blocked;d&&(x.up=!0,x.none=!1),p&&(x.down=!0,x.none=!1)},x:{get:function(){return this.position.x},set:function(f){this.position.x=f}},y:{get:function(){return this.position.y},set:function(f){this.position.y=f}},left:{get:function(){return this.position.x}},right:{get:function(){return this.position.x+this.width}},top:{get:function(){return this.position.y}},bottom:{get:function(){return this.position.y+this.height}}});c.exports=l},79342:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=new o({initialize:function(i,s,e,r,h,n,l){this.world=i,this.name="",this.active=!0,this.overlapOnly=s,this.object1=e,this.object2=r,this.collideCallback=h,this.processCallback=n,this.callbackContext=l},setName:function(a){return this.name=a,this},update:function(){this.world.collideObjects(this.object1,this.object2,this.collideCallback,this.processCallback,this.callbackContext,this.overlapOnly)},destroy:function(){this.world.removeCollider(this),this.active=!1,this.world=null,this.object1=null,this.object2=null,this.collideCallback=null,this.processCallback=null,this.callbackContext=null}});c.exports=v},66022:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(71289),v=t(13759),a=t(37742),i=t(83419),s=t(37747),e=t(60758),r=t(72624),h=t(71464),n=new i({initialize:function(f){this.world=f,this.scene=f.scene,this.sys=f.scene.sys},collider:function(l,f,u,d,p){return this.world.addCollider(l,f,u,d,p)},overlap:function(l,f,u,d,p){return this.world.addOverlap(l,f,u,d,p)},existing:function(l,f){var u=f?s.STATIC_BODY:s.DYNAMIC_BODY;return this.world.enableBody(l,u),l},staticImage:function(l,f,u,d){var p=new o(this.scene,l,f,u,d);return this.sys.displayList.add(p),this.world.enableBody(p,s.STATIC_BODY),p},image:function(l,f,u,d){var p=new o(this.scene,l,f,u,d);return this.sys.displayList.add(p),this.world.enableBody(p,s.DYNAMIC_BODY),p},staticSprite:function(l,f,u,d){var p=new v(this.scene,l,f,u,d);return this.sys.displayList.add(p),this.sys.updateList.add(p),this.world.enableBody(p,s.STATIC_BODY),p},sprite:function(l,f,u,d){var p=new v(this.scene,l,f,u,d);return this.sys.displayList.add(p),this.sys.updateList.add(p),this.world.enableBody(p,s.DYNAMIC_BODY),p},staticGroup:function(l,f){return this.sys.updateList.add(new h(this.world,this.world.scene,l,f))},group:function(l,f){return this.sys.updateList.add(new e(this.world,this.world.scene,l,f))},body:function(l,f,u,d){var p=new a(this.world);return p.position.set(l,f),u&&d&&p.setSize(u,d),this.world.add(p,s.DYNAMIC_BODY),p},staticBody:function(l,f,u,d){var p=new r(this.world);return p.position.set(l,f),u&&d&&p.setSize(u,d),this.world.add(p,s.STATIC_BODY),p},destroy:function(){this.world=null,this.scene=null,this.sys=null}});c.exports=n},79599:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t){var o=0;if(!Array.isArray(t))o=t;else for(var v=0;v<t.length;v++)o|=t[v];return o};c.exports=g},64897:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(37747),v=function(a,i,s,e){var r=0,h=a.deltaAbsX()+i.deltaAbsX()+e;return a._dx===0&&i._dx===0?(a.embedded=!0,i.embedded=!0):a._dx>i._dx?(r=a.right-i.x,r>h&&!s||a.checkCollision.right===!1||i.checkCollision.left===!1?r=0:(a.touching.none=!1,a.touching.right=!0,i.touching.none=!1,i.touching.left=!0,i.physicsType===o.STATIC_BODY&&!s&&(a.blocked.none=!1,a.blocked.right=!0),a.physicsType===o.STATIC_BODY&&!s&&(i.blocked.none=!1,i.blocked.left=!0))):a._dx<i._dx&&(r=a.x-i.width-i.x,-r>h&&!s||a.checkCollision.left===!1||i.checkCollision.right===!1?r=0:(a.touching.none=!1,a.touching.left=!0,i.touching.none=!1,i.touching.right=!0,i.physicsType===o.STATIC_BODY&&!s&&(a.blocked.none=!1,a.blocked.left=!0),a.physicsType===o.STATIC_BODY&&!s&&(i.blocked.none=!1,i.blocked.right=!0))),a.overlapX=r,i.overlapX=r,r};c.exports=v},45170:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(37747),v=function(a,i,s,e){var r=0,h=a.deltaAbsY()+i.deltaAbsY()+e;return a._dy===0&&i._dy===0?(a.embedded=!0,i.embedded=!0):a._dy>i._dy?(r=a.bottom-i.y,r>h&&!s||a.checkCollision.down===!1||i.checkCollision.up===!1?r=0:(a.touching.none=!1,a.touching.down=!0,i.touching.none=!1,i.touching.up=!0,i.physicsType===o.STATIC_BODY&&!s&&(a.blocked.none=!1,a.blocked.down=!0),a.physicsType===o.STATIC_BODY&&!s&&(i.blocked.none=!1,i.blocked.up=!0))):a._dy<i._dy&&(r=a.y-i.bottom,-r>h&&!s||a.checkCollision.up===!1||i.checkCollision.down===!1?r=0:(a.touching.none=!1,a.touching.up=!0,i.touching.none=!1,i.touching.down=!0,i.physicsType===o.STATIC_BODY&&!s&&(a.blocked.none=!1,a.blocked.up=!0),a.physicsType===o.STATIC_BODY&&!s&&(i.blocked.none=!1,i.blocked.down=!0))),a.overlapY=r,i.overlapY=r,r};c.exports=v},60758:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(13759),v=t(83419),a=t(78389),i=t(37747),s=t(95540),e=t(26479),r=t(41212),h=new v({Extends:e,Mixins:[a],initialize:function(l,f,u,d){if(!u&&!d)d={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler};else if(r(u))d=u,u=null,d.internalCreateCallback=this.createCallbackHandler,d.internalRemoveCallback=this.removeCallbackHandler;else if(Array.isArray(u)&&r(u[0])){var p=this;u.forEach(function(x){x.internalCreateCallback=p.createCallbackHandler,x.internalRemoveCallback=p.removeCallbackHandler,x.classType=s(x,"classType",o)}),d=null}else d={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler};this.world=l,d&&(d.classType=s(d,"classType",o)),this.physicsType=i.DYNAMIC_BODY,this.collisionCategory=1,this.collisionMask=1,this.defaults={setCollideWorldBounds:s(d,"collideWorldBounds",!1),setBoundsRectangle:s(d,"customBoundsRectangle",null),setAccelerationX:s(d,"accelerationX",0),setAccelerationY:s(d,"accelerationY",0),setAllowDrag:s(d,"allowDrag",!0),setAllowGravity:s(d,"allowGravity",!0),setAllowRotation:s(d,"allowRotation",!0),setDamping:s(d,"useDamping",!1),setBounceX:s(d,"bounceX",0),setBounceY:s(d,"bounceY",0),setDragX:s(d,"dragX",0),setDragY:s(d,"dragY",0),setEnable:s(d,"enable",!0),setGravityX:s(d,"gravityX",0),setGravityY:s(d,"gravityY",0),setFrictionX:s(d,"frictionX",0),setFrictionY:s(d,"frictionY",0),setMaxSpeed:s(d,"maxSpeed",-1),setMaxVelocityX:s(d,"maxVelocityX",1e4),setMaxVelocityY:s(d,"maxVelocityY",1e4),setVelocityX:s(d,"velocityX",0),setVelocityY:s(d,"velocityY",0),setAngularVelocity:s(d,"angularVelocity",0),setAngularAcceleration:s(d,"angularAcceleration",0),setAngularDrag:s(d,"angularDrag",0),setMass:s(d,"mass",1),setImmovable:s(d,"immovable",!1)},e.call(this,f,u,d),this.type="PhysicsGroup"},createCallbackHandler:function(n){n.body||this.world.enableBody(n,i.DYNAMIC_BODY);var l=n.body;for(var f in this.defaults)l[f](this.defaults[f])},removeCallbackHandler:function(n){n.body&&this.world.disableBody(n)},setVelocity:function(n,l,f){f===void 0&&(f=0);for(var u=this.getChildren(),d=0;d<u.length;d++)u[d].body.velocity.set(n+d*f,l+d*f);return this},setVelocityX:function(n,l){l===void 0&&(l=0);for(var f=this.getChildren(),u=0;u<f.length;u++)f[u].body.velocity.x=n+u*l;return this},setVelocityY:function(n,l){l===void 0&&(l=0);for(var f=this.getChildren(),u=0;u<f.length;u++)f[u].body.velocity.y=n+u*l;return this}});c.exports=h},3017:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g,t,o,v,a,i,s,e,r,h,n,l,f,u,d,p,x,E=function(O,L,b){g=O,t=L;var N=g.velocity.x,I=t.velocity.x;return o=g.pushable,r=g._dx<0,h=g._dx>0,n=g._dx===0,d=Math.abs(g.right-t.x)<=Math.abs(t.right-g.x),s=I-N*g.bounce.x,v=t.pushable,l=t._dx<0,f=t._dx>0,u=t._dx===0,p=!d,e=N-I*t.bounce.x,x=Math.abs(b),T()},T=function(){return h&&d&&t.blocked.right?(g.processX(-x,s,!1,!0),1):r&&p&&t.blocked.left?(g.processX(x,s,!0),1):f&&p&&g.blocked.right?(t.processX(-x,e,!1,!0),2):l&&d&&g.blocked.left?(t.processX(x,e,!0),2):0},C=function(){var O=g.velocity.x,L=t.velocity.x,b=Math.sqrt(L*L*t.mass/g.mass)*(L>0?1:-1),N=Math.sqrt(O*O*g.mass/t.mass)*(O>0?1:-1),I=(b+N)*.5;return b-=I,N-=I,a=I+b*g.bounce.x,i=I+N*t.bounce.x,r&&p?A(0):l&&d?A(1):h&&d?A(2):f&&p?A(3):!1},A=function(O){if(o&&v)x*=.5,O===0||O===3?(g.processX(x,a),t.processX(-x,i)):(g.processX(-x,a),t.processX(x,i));else if(o&&!v)O===0||O===3?g.processX(x,s,!0):g.processX(-x,s,!1,!0);else if(!o&&v)O===0||O===3?t.processX(-x,e,!1,!0):t.processX(x,e,!0);else{var L=x*.5;O===0?u?(g.processX(x,0,!0),t.processX(0,null,!1,!0)):f?(g.processX(L,0,!0),t.processX(-L,0,!1,!0)):(g.processX(L,t.velocity.x,!0),t.processX(-L,null,!1,!0)):O===1?n?(g.processX(0,null,!1,!0),t.processX(x,0,!0)):h?(g.processX(-L,0,!1,!0),t.processX(L,0,!0)):(g.processX(-L,null,!1,!0),t.processX(L,g.velocity.x,!0)):O===2?u?(g.processX(-x,0,!1,!0),t.processX(0,null,!0)):l?(g.processX(-L,0,!1,!0),t.processX(L,0,!0)):(g.processX(-L,t.velocity.x,!1,!0),t.processX(L,null,!0)):O===3&&(n?(g.processX(0,null,!0),t.processX(-x,0,!1,!0)):r?(g.processX(L,0,!0),t.processX(-L,0,!1,!0)):(g.processX(L,t.velocity.y,!0),t.processX(-L,null,!1,!0)))}return!0},M=function(O){O===1?t.velocity.x=0:d?t.processX(x,e,!0):t.processX(-x,e,!1,!0),g.moves&&(t.y+=(g.y-g.prev.y)*g.friction.y,t._dy=t.y-t.prev.y)},R=function(O){O===2?g.velocity.x=0:p?g.processX(x,s,!0):g.processX(-x,s,!1,!0),t.moves&&(g.y+=(t.y-t.prev.y)*t.friction.y,g._dy=g.y-g.prev.y)};c.exports={BlockCheck:T,Check:C,Set:E,Run:A,RunImmovableBody1:M,RunImmovableBody2:R}},47962:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g,t,o,v,a,i,s,e,r,h,n,l,f,u,d,p,x,E=function(O,L,b){g=O,t=L;var N=g.velocity.y,I=t.velocity.y;return o=g.pushable,r=g._dy<0,h=g._dy>0,n=g._dy===0,d=Math.abs(g.bottom-t.y)<=Math.abs(t.bottom-g.y),s=I-N*g.bounce.y,v=t.pushable,l=t._dy<0,f=t._dy>0,u=t._dy===0,p=!d,e=N-I*t.bounce.y,x=Math.abs(b),T()},T=function(){return h&&d&&t.blocked.down?(g.processY(-x,s,!1,!0),1):r&&p&&t.blocked.up?(g.processY(x,s,!0),1):f&&p&&g.blocked.down?(t.processY(-x,e,!1,!0),2):l&&d&&g.blocked.up?(t.processY(x,e,!0),2):0},C=function(){var O=g.velocity.y,L=t.velocity.y,b=Math.sqrt(L*L*t.mass/g.mass)*(L>0?1:-1),N=Math.sqrt(O*O*g.mass/t.mass)*(O>0?1:-1),I=(b+N)*.5;return b-=I,N-=I,a=I+b*g.bounce.y,i=I+N*t.bounce.y,r&&p?A(0):l&&d?A(1):h&&d?A(2):f&&p?A(3):!1},A=function(O){if(o&&v)x*=.5,O===0||O===3?(g.processY(x,a),t.processY(-x,i)):(g.processY(-x,a),t.processY(x,i));else if(o&&!v)O===0||O===3?g.processY(x,s,!0):g.processY(-x,s,!1,!0);else if(!o&&v)O===0||O===3?t.processY(-x,e,!1,!0):t.processY(x,e,!0);else{var L=x*.5;O===0?u?(g.processY(x,0,!0),t.processY(0,null,!1,!0)):f?(g.processY(L,0,!0),t.processY(-L,0,!1,!0)):(g.processY(L,t.velocity.y,!0),t.processY(-L,null,!1,!0)):O===1?n?(g.processY(0,null,!1,!0),t.processY(x,0,!0)):h?(g.processY(-L,0,!1,!0),t.processY(L,0,!0)):(g.processY(-L,null,!1,!0),t.processY(L,g.velocity.y,!0)):O===2?u?(g.processY(-x,0,!1,!0),t.processY(0,null,!0)):l?(g.processY(-L,0,!1,!0),t.processY(L,0,!0)):(g.processY(-L,t.velocity.y,!1,!0),t.processY(L,null,!0)):O===3&&(n?(g.processY(0,null,!0),t.processY(-x,0,!1,!0)):r?(g.processY(L,0,!0),t.processY(-L,0,!1,!0)):(g.processY(L,t.velocity.y,!0),t.processY(-L,null,!1,!0)))}return!0},M=function(O){O===1?t.velocity.y=0:d?t.processY(x,e,!0):t.processY(-x,e,!1,!0),g.moves&&(t.x+=(g.x-g.prev.x)*g.friction.x,t._dx=t.x-t.prev.x)},R=function(O){O===2?g.velocity.y=0:p?g.processY(x,s,!0):g.processY(-x,s,!1,!0),t.moves&&(g.x+=(t.x-t.prev.x)*t.friction.x,g._dx=g.x-g.prev.x)};c.exports={BlockCheck:T,Check:C,Set:E,Run:A,RunImmovableBody1:M,RunImmovableBody2:R}},14087:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(64897),v=t(3017),a=function(i,s,e,r,h){h===void 0&&(h=o(i,s,e,r));var n=i.immovable,l=s.immovable;if(e||h===0||n&&l||i.customSeparateX||s.customSeparateX)return h!==0||i.embedded&&s.embedded;var f=v.Set(i,s,h);return!n&&!l?f>0?!0:v.Check():(n?v.RunImmovableBody1(f):l&&v.RunImmovableBody2(f),!0)};c.exports=a},89936:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(45170),v=t(47962),a=function(i,s,e,r,h){h===void 0&&(h=o(i,s,e,r));var n=i.immovable,l=s.immovable;if(e||h===0||n&&l||i.customSeparateY||s.customSeparateY)return h!==0||i.embedded&&s.embedded;var f=v.Set(i,s,h);return!n&&!l?f>0?!0:v.Check():(n?v.RunImmovableBody1(f):l&&v.RunImmovableBody2(f),!0)};c.exports=a},95829:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o){return o===void 0&&(o={}),o.none=t,o.up=!1,o.down=!1,o.left=!1,o.right=!1,t||(o.up=!0,o.down=!0,o.left=!0,o.right=!0),o};c.exports=g},72624:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(87902),v=t(83419),a=t(78389),i=t(37747),s=t(37303),e=t(95829),r=t(26099),h=new v({Mixins:[a],initialize:function(l,f){var u=64,d=64,p={x:0,y:0,angle:0,rotation:0,scaleX:1,scaleY:1,displayOriginX:0,displayOriginY:0},x=f!==void 0;x&&f.displayWidth&&(u=f.displayWidth,d=f.displayHeight),x||(f=p),this.world=l,this.gameObject=x?f:void 0,this.isBody=!0,this.debugShowBody=l.defaults.debugShowStaticBody,this.debugBodyColor=l.defaults.staticBodyDebugColor,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new r,this.position=new r(f.x-u*f.originX,f.y-d*f.originY),this.width=u,this.height=d,this.halfWidth=Math.abs(this.width/2),this.halfHeight=Math.abs(this.height/2),this.center=new r(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.velocity=r.ZERO,this.allowGravity=!1,this.gravity=r.ZERO,this.bounce=r.ZERO,this.onWorldBounds=!1,this.onCollide=!1,this.onOverlap=!1,this.mass=1,this.immovable=!0,this.pushable=!1,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision=e(!1),this.touching=e(!0),this.wasTouching=e(!0),this.blocked=e(!0),this.physicsType=i.STATIC_BODY,this.collisionCategory=1,this.collisionMask=1,this._dx=0,this._dy=0},setGameObject:function(n,l){return n&&n!==this.gameObject&&(this.gameObject.body=null,n.body=this,this.gameObject=n),l&&this.updateFromGameObject(),this},updateFromGameObject:function(){this.world.staticTree.remove(this);var n=this.gameObject;return n.getTopLeft(this.position),this.width=n.displayWidth,this.height=n.displayHeight,this.halfWidth=Math.abs(this.width/2),this.halfHeight=Math.abs(this.height/2),this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.world.staticTree.insert(this),this},setOffset:function(n,l){return l===void 0&&(l=n),this.world.staticTree.remove(this),this.position.x-=this.offset.x,this.position.y-=this.offset.y,this.offset.set(n,l),this.position.x+=this.offset.x,this.position.y+=this.offset.y,this.updateCenter(),this.world.staticTree.insert(this),this},setSize:function(n,l,f){f===void 0&&(f=!0);var u=this.gameObject;if(u&&u.frame&&(n||(n=u.frame.realWidth),l||(l=u.frame.realHeight)),this.world.staticTree.remove(this),this.width=n,this.height=l,this.halfWidth=Math.floor(n/2),this.halfHeight=Math.floor(l/2),f&&u&&u.getCenter){var d=u.displayWidth/2,p=u.displayHeight/2;this.position.x-=this.offset.x,this.position.y-=this.offset.y,this.offset.set(d-this.halfWidth,p-this.halfHeight),this.position.x+=this.offset.x,this.position.y+=this.offset.y}return this.updateCenter(),this.isCircle=!1,this.radius=0,this.world.staticTree.insert(this),this},setCircle:function(n,l,f){return l===void 0&&(l=this.offset.x),f===void 0&&(f=this.offset.y),n>0?(this.world.staticTree.remove(this),this.isCircle=!0,this.radius=n,this.width=n*2,this.height=n*2,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(l,f),this.updateCenter(),this.world.staticTree.insert(this)):this.isCircle=!1,this},updateCenter:function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},reset:function(n,l){var f=this.gameObject;n===void 0&&(n=f.x),l===void 0&&(l=f.y),this.world.staticTree.remove(this),f.setPosition(n,l),f.getTopLeft(this.position),this.position.x+=this.offset.x,this.position.y+=this.offset.y,this.updateCenter(),this.world.staticTree.insert(this)},stop:function(){return this},getBounds:function(n){return n.x=this.x,n.y=this.y,n.right=this.right,n.bottom=this.bottom,n},hitTest:function(n,l){return this.isCircle?o(this,n,l):s(this,n,l)},postUpdate:function(){},deltaAbsX:function(){return 0},deltaAbsY:function(){return 0},deltaX:function(){return 0},deltaY:function(){return 0},deltaZ:function(){return 0},destroy:function(){this.enable=!1,this.world.pendingDestroy.set(this)},drawDebug:function(n){var l=this.position,f=l.x+this.halfWidth,u=l.y+this.halfHeight;this.debugShowBody&&(n.lineStyle(n.defaultStrokeWidth,this.debugBodyColor,1),this.isCircle?n.strokeCircle(f,u,this.width/2):n.strokeRect(l.x,l.y,this.width,this.height))},willDrawDebug:function(){return this.debugShowBody},setMass:function(n){return n<=0&&(n=.1),this.mass=n,this},x:{get:function(){return this.position.x},set:function(n){this.world.staticTree.remove(this),this.position.x=n,this.world.staticTree.insert(this)}},y:{get:function(){return this.position.y},set:function(n){this.world.staticTree.remove(this),this.position.y=n,this.world.staticTree.insert(this)}},left:{get:function(){return this.position.x}},right:{get:function(){return this.position.x+this.width}},top:{get:function(){return this.position.y}},bottom:{get:function(){return this.position.y+this.height}}});c.exports=h},71464:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(13759),v=t(83419),a=t(78389),i=t(37747),s=t(95540),e=t(26479),r=t(41212),h=new v({Extends:e,Mixins:[a],initialize:function(l,f,u,d){!u&&!d?d={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler,createMultipleCallback:this.createMultipleCallbackHandler,classType:o}:r(u)?(d=u,u=null,d.internalCreateCallback=this.createCallbackHandler,d.internalRemoveCallback=this.removeCallbackHandler,d.createMultipleCallback=this.createMultipleCallbackHandler,d.classType=s(d,"classType",o)):Array.isArray(u)&&r(u[0])?(d=u,u=null,d.forEach(function(p){p.internalCreateCallback=this.createCallbackHandler,p.internalRemoveCallback=this.removeCallbackHandler,p.createMultipleCallback=this.createMultipleCallbackHandler,p.classType=s(p,"classType",o)})):d={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler},this.world=l,this.physicsType=i.STATIC_BODY,this.collisionCategory=1,this.collisionMask=1,e.call(this,f,u,d),this.type="StaticPhysicsGroup"},createCallbackHandler:function(n){n.body||this.world.enableBody(n,i.STATIC_BODY)},removeCallbackHandler:function(n){n.body&&this.world.disableBody(n)},createMultipleCallbackHandler:function(){this.refresh()},refresh:function(){for(var n=this.children.entries,l=0;l<n.length;l++)n[l].body.reset();return this}});c.exports=h},82248:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(55495),v=t(37742),a=t(45319),i=t(83419),s=t(79342),e=t(37747),r=t(20339),h=t(52816),n=t(50792),l=t(63012),f=t(43855),u=t(5470),d=t(94977),p=t(64897),x=t(45170),E=t(96523),T=t(35154),C=t(36383),A=t(25774),M=t(96602),R=t(87841),O=t(59542),L=t(40012),b=t(14087),N=t(89936),I=t(35072),G=t(72624),X=t(2483),$=t(61340),J=t(26099),z=t(15994),Y=new i({Extends:n,initialize:function(B,U){n.call(this),this.scene=B,this.bodies=new I,this.staticBodies=new I,this.pendingDestroy=new I,this.colliders=new A,this.gravity=new J(T(U,"gravity.x",0),T(U,"gravity.y",0)),this.bounds=new R(T(U,"x",0),T(U,"y",0),T(U,"width",B.sys.scale.width),T(U,"height",B.sys.scale.height)),this.checkCollision={up:T(U,"checkCollision.up",!0),down:T(U,"checkCollision.down",!0),left:T(U,"checkCollision.left",!0),right:T(U,"checkCollision.right",!0)},this.fps=T(U,"fps",60),this.fixedStep=T(U,"fixedStep",!0),this._elapsed=0,this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this.stepsLastFrame=0,this.timeScale=T(U,"timeScale",1),this.OVERLAP_BIAS=T(U,"overlapBias",4),this.TILE_BIAS=T(U,"tileBias",16),this.forceX=T(U,"forceX",!1),this.isPaused=T(U,"isPaused",!1),this._total=0,this.drawDebug=T(U,"debug",!1),this.debugGraphic,this.defaults={debugShowBody:T(U,"debugShowBody",!0),debugShowStaticBody:T(U,"debugShowStaticBody",!0),debugShowVelocity:T(U,"debugShowVelocity",!0),bodyDebugColor:T(U,"debugBodyColor",16711935),staticBodyDebugColor:T(U,"debugStaticBodyColor",255),velocityDebugColor:T(U,"debugVelocityColor",65280)},this.maxEntries=T(U,"maxEntries",16),this.useTree=T(U,"useTree",!0),this.tree=new O(this.maxEntries),this.staticTree=new O(this.maxEntries),this.treeMinMax={minX:0,minY:0,maxX:0,maxY:0},this._tempMatrix=new $,this._tempMatrix2=new $,this.tileFilterOptions={isColliding:!0,isNotEmpty:!0,hasInterestingFace:!0},this.drawDebug&&this.createDebugGraphic()},enable:function(D,B){B===void 0&&(B=e.DYNAMIC_BODY),Array.isArray(D)||(D=[D]);for(var U=0;U<D.length;U++){var H=D[U];if(H.isParent)for(var j=H.getChildren(),q=0;q<j.length;q++){var _=j[q];_.isParent?this.enable(_,B):this.enableBody(_,B)}else this.enableBody(H,B)}},enableBody:function(D,B){return B===void 0&&(B=e.DYNAMIC_BODY),D.hasTransformComponent&&(D.body||(B===e.DYNAMIC_BODY?D.body=new v(this,D):B===e.STATIC_BODY&&(D.body=new G(this,D))),this.add(D.body)),D},add:function(D){return D.physicsType===e.DYNAMIC_BODY?this.bodies.set(D):D.physicsType===e.STATIC_BODY&&(this.staticBodies.set(D),this.staticTree.insert(D)),D.enable=!0,D},disable:function(D){Array.isArray(D)||(D=[D]);for(var B=0;B<D.length;B++){var U=D[B];if(U.isParent)for(var H=U.getChildren(),j=0;j<H.length;j++){var q=H[j];q.isParent?this.disable(q):this.disableBody(q.body)}else this.disableBody(U.body)}},disableBody:function(D){this.remove(D),D.enable=!1},remove:function(D){D.physicsType===e.DYNAMIC_BODY?(this.tree.remove(D),this.bodies.delete(D)):D.physicsType===e.STATIC_BODY&&(this.staticBodies.delete(D),this.staticTree.remove(D))},createDebugGraphic:function(){var D=this.scene.sys.add.graphics({x:0,y:0});return D.setDepth(Number.MAX_VALUE),this.debugGraphic=D,this.drawDebug=!0,D},setBounds:function(D,B,U,H,j,q,_,st){return this.bounds.setTo(D,B,U,H),j!==void 0&&this.setBoundsCollision(j,q,_,st),this},setBoundsCollision:function(D,B,U,H){return D===void 0&&(D=!0),B===void 0&&(B=!0),U===void 0&&(U=!0),H===void 0&&(H=!0),this.checkCollision.left=D,this.checkCollision.right=B,this.checkCollision.up=U,this.checkCollision.down=H,this},pause:function(){return this.isPaused=!0,this.emit(l.PAUSE),this},resume:function(){return this.isPaused=!1,this.emit(l.RESUME),this},addCollider:function(D,B,U,H,j){U===void 0&&(U=null),H===void 0&&(H=null),j===void 0&&(j=U);var q=new s(this,!1,D,B,U,H,j);return this.colliders.add(q),q},addOverlap:function(D,B,U,H,j){U===void 0&&(U=null),H===void 0&&(H=null),j===void 0&&(j=U);var q=new s(this,!0,D,B,U,H,j);return this.colliders.add(q),q},removeCollider:function(D){return this.colliders.remove(D),this},setFPS:function(D){return this.fps=D,this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this},update:function(D,B){if(!(this.isPaused||this.bodies.size===0)){var U,H=this._frameTime,j=this._frameTimeMS*this.timeScale;this._elapsed+=B;var q,_=this.bodies.entries,st=this._elapsed>=j;for(this.fixedStep||(H=B*.001,st=!0,this._elapsed=0),U=0;U<_.length;U++)q=_[U],q.enable&&q.preUpdate(st,H);if(st){this._elapsed-=j,this.stepsLastFrame=1,this.useTree&&(this.tree.clear(),this.tree.load(_));var ut=this.colliders.update();for(U=0;U<ut.length;U++){var ct=ut[U];ct.active&&ct.update()}this.emit(l.WORLD_STEP,H)}for(;this._elapsed>=j;)this._elapsed-=j,this.step(H)}},step:function(D){var B,U,H=this.bodies.entries,j=H.length;for(B=0;B<j;B++)U=H[B],U.enable&&U.update(D);this.useTree&&(this.tree.clear(),this.tree.load(H));var q=this.colliders.update();for(B=0;B<q.length;B++){var _=q[B];_.active&&_.update()}this.emit(l.WORLD_STEP,D),this.stepsLastFrame++},singleStep:function(){this.update(0,this._frameTimeMS),this.postUpdate()},postUpdate:function(){var D,B,U=this.bodies.entries,H=U.length,j=this.bodies,q=this.staticBodies;if(this.stepsLastFrame)for(this.stepsLastFrame=0,D=0;D<H;D++)B=U[D],B.enable&&B.postUpdate();if(this.drawDebug){var _=this.debugGraphic;for(_.clear(),D=0;D<H;D++)B=U[D],B.willDrawDebug()&&B.drawDebug(_);for(U=q.entries,H=U.length,D=0;D<H;D++)B=U[D],B.willDrawDebug()&&B.drawDebug(_)}var st=this.pendingDestroy;if(st.size>0){var ut=this.tree,ct=this.staticTree;for(U=st.entries,H=U.length,D=0;D<H;D++)B=U[D],B.physicsType===e.DYNAMIC_BODY?(ut.remove(B),j.delete(B)):B.physicsType===e.STATIC_BODY&&(ct.remove(B),q.delete(B)),B.world=void 0,B.gameObject=void 0;st.clear()}},updateMotion:function(D,B){D.allowRotation&&this.computeAngularVelocity(D,B),this.computeVelocity(D,B)},computeAngularVelocity:function(D,B){var U=D.angularVelocity,H=D.angularAcceleration,j=D.angularDrag,q=D.maxAngular;H?U+=H*B:D.allowDrag&&j&&(j*=B,u(U-j,0,.1)?U-=j:d(U+j,0,.1)?U+=j:U=0),U=a(U,-q,q);var _=U-D.angularVelocity;D.angularVelocity+=_,D.rotation+=D.angularVelocity*B},computeVelocity:function(D,B){var U=D.velocity.x,H=D.acceleration.x,j=D.drag.x,q=D.maxVelocity.x,_=D.velocity.y,st=D.acceleration.y,ut=D.drag.y,ct=D.maxVelocity.y,pt=D.speed,Tt=D.maxSpeed,mt=D.allowDrag,wt=D.useDamping;D.allowGravity&&(U+=(this.gravity.x+D.gravity.x)*B,_+=(this.gravity.y+D.gravity.y)*B),H?U+=H*B:mt&&j&&(wt?(j=Math.pow(j,B),U*=j,pt=Math.sqrt(U*U+_*_),f(pt,0,.001)&&(U=0)):(j*=B,u(U-j,0,.01)?U-=j:d(U+j,0,.01)?U+=j:U=0)),st?_+=st*B:mt&&ut&&(wt?(ut=Math.pow(ut,B),_*=ut,pt=Math.sqrt(U*U+_*_),f(pt,0,.001)&&(_=0)):(ut*=B,u(_-ut,0,.01)?_-=ut:d(_+ut,0,.01)?_+=ut:_=0)),U=a(U,-q,q),_=a(_,-ct,ct),D.velocity.set(U,_),Tt>-1&&D.velocity.length()>Tt&&(D.velocity.normalize().scale(Tt),pt=Tt),D.speed=pt},separate:function(D,B,U,H,j){var q,_,st=!1,ut=!0;if(!D.enable||!B.enable||D.checkCollision.none||B.checkCollision.none||!this.intersects(D,B)||U&&U.call(H,D.gameObject,B.gameObject)===!1)return st;if(D.isCircle||B.isCircle){var ct=this.separateCircle(D,B,j);ct.result?(st=!0,ut=!1):(q=ct.x,_=ct.y,ut=!0)}if(ut){var pt=!1,Tt=!1,mt=this.OVERLAP_BIAS;j?(pt=b(D,B,j,mt,q),Tt=N(D,B,j,mt,_)):this.forceX||Math.abs(this.gravity.y+D.gravity.y)<Math.abs(this.gravity.x+D.gravity.x)?(pt=b(D,B,j,mt,q),this.intersects(D,B)&&(Tt=N(D,B,j,mt,_))):(Tt=N(D,B,j,mt,_),this.intersects(D,B)&&(pt=b(D,B,j,mt,q))),st=pt||Tt}return st&&(j?(D.onOverlap||B.onOverlap)&&this.emit(l.OVERLAP,D.gameObject,B.gameObject,D,B):(D.onCollide||B.onCollide)&&this.emit(l.COLLIDE,D.gameObject,B.gameObject,D,B)),st},separateCircle:function(D,B,U){p(D,B,!1,0),x(D,B,!1,0);var H=D.isCircle,j=B.isCircle,q=D.center,_=B.center,st=D.immovable,ut=B.immovable,ct=D.velocity,pt=B.velocity,Tt=0,mt=!0;if(H!==j){mt=!1;var wt=q.x,Nt=q.y,zt=D.halfWidth,Ot=B.position.x,St=B.position.y,It=B.right,bt=B.bottom;j&&(wt=_.x,Nt=_.y,zt=B.halfWidth,Ot=D.position.x,St=D.position.y,It=D.right,bt=D.bottom),Nt<St?wt<Ot?Tt=r(wt,Nt,Ot,St)-zt:wt>It&&(Tt=r(wt,Nt,It,St)-zt):Nt>bt&&(wt<Ot?Tt=r(wt,Nt,Ot,bt)-zt:wt>It&&(Tt=r(wt,Nt,It,bt)-zt)),Tt*=-1}else Tt=D.halfWidth+B.halfWidth-h(q,_);D.overlapR=Tt,B.overlapR=Tt;var Xt=o(q,_),Wt=(Tt+C.EPSILON)*Math.cos(Xt),he=(Tt+C.EPSILON)*Math.sin(Xt),kt={overlap:Tt,result:!1,x:Wt,y:he};if(U&&(!mt||mt&&Tt!==0))return kt.result=!0,kt;if(!mt&&Tt===0||st&&ut||D.customSeparateX||B.customSeparateX)return kt.x=void 0,kt.y=void 0,kt;var jt=!D.pushable&&!B.pushable;if(mt){var Ht=q.x-_.x,ve=q.y-_.y,le=Math.sqrt(Math.pow(Ht,2)+Math.pow(ve,2)),Te=(_.x-q.x)/le||0,se=(_.y-q.y)/le||0,ne=2*(ct.x*Te+ct.y*se-pt.x*Te-pt.y*se)/(D.mass+B.mass);(st||ut)&&(ne*=2),st||(ct.x=ct.x-ne/D.mass*Te,ct.y=ct.y-ne/D.mass*se,ct.multiply(D.bounce)),ut||(pt.x=pt.x+ne/B.mass*Te,pt.y=pt.y+ne/B.mass*se,pt.multiply(B.bounce)),!st&&!ut&&(Wt*=.5,he*=.5),st||(D.x-=Wt,D.y-=he,D.updateCenter()),ut||(B.x+=Wt,B.y+=he,B.updateCenter()),kt.result=!0}else!st||D.pushable||jt?(D.x-=Wt,D.y-=he,D.updateCenter()):(!ut||B.pushable||jt)&&(B.x+=Wt,B.y+=he,B.updateCenter()),kt.x=void 0,kt.y=void 0;return kt},intersects:function(D,B){return D===B?!1:!D.isCircle&&!B.isCircle?!(D.right<=B.left||D.bottom<=B.top||D.left>=B.right||D.top>=B.bottom):D.isCircle?B.isCircle?h(D.center,B.center)<=D.halfWidth+B.halfWidth:this.circleBodyIntersects(D,B):this.circleBodyIntersects(B,D)},circleBodyIntersects:function(D,B){var U=a(D.center.x,B.left,B.right),H=a(D.center.y,B.top,B.bottom),j=(D.center.x-U)*(D.center.x-U),q=(D.center.y-H)*(D.center.y-H);return j+q<=D.halfWidth*D.halfWidth},overlap:function(D,B,U,H,j){return U===void 0&&(U=null),H===void 0&&(H=null),j===void 0&&(j=U),this.collideObjects(D,B,U,H,j,!0)},collide:function(D,B,U,H,j){return U===void 0&&(U=null),H===void 0&&(H=null),j===void 0&&(j=U),this.collideObjects(D,B,U,H,j,!1)},collideObjects:function(D,B,U,H,j,q){var _,st;D.isParent&&(D.physicsType===void 0||B===void 0||D===B)&&(D=D.children.entries),B&&B.isParent&&B.physicsType===void 0&&(B=B.children.entries);var ut=Array.isArray(D),ct=Array.isArray(B);if(this._total=0,!ut&&!ct)this.collideHandler(D,B,U,H,j,q);else if(!ut&&ct)for(_=0;_<B.length;_++)this.collideHandler(D,B[_],U,H,j,q);else if(ut&&!ct)if(B)for(_=0;_<D.length;_++)this.collideHandler(D[_],B,U,H,j,q);else for(_=0;_<D.length;_++){var pt=D[_];for(st=_+1;st<D.length;st++)_!==st&&this.collideHandler(pt,D[st],U,H,j,q)}else for(_=0;_<D.length;_++)for(st=0;st<B.length;st++)this.collideHandler(D[_],B[st],U,H,j,q);return this._total>0},collideHandler:function(D,B,U,H,j,q){if(B===void 0&&D.isParent)return this.collideGroupVsGroup(D,D,U,H,j,q);if(!D||!B)return!1;if(D.body||D.isBody){if(B.body||B.isBody)return this.collideSpriteVsSprite(D,B,U,H,j,q);if(B.isParent)return this.collideSpriteVsGroup(D,B,U,H,j,q);if(B.isTilemap)return this.collideSpriteVsTilemapLayer(D,B,U,H,j,q)}else if(D.isParent){if(B.body||B.isBody)return this.collideSpriteVsGroup(B,D,U,H,j,q);if(B.isParent)return this.collideGroupVsGroup(D,B,U,H,j,q);if(B.isTilemap)return this.collideGroupVsTilemapLayer(D,B,U,H,j,q)}else if(D.isTilemap){if(B.body||B.isBody)return this.collideSpriteVsTilemapLayer(B,D,U,H,j,q);if(B.isParent)return this.collideGroupVsTilemapLayer(B,D,U,H,j,q)}},canCollide:function(D,B){return D&&B&&(D.collisionMask&B.collisionCategory)!==0&&(B.collisionMask&D.collisionCategory)!==0},collideSpriteVsSprite:function(D,B,U,H,j,q){var _=D.isBody?D:D.body,st=B.isBody?B:B.body;return this.canCollide(_,st)?(this.separate(_,st,H,j,q)&&(U&&U.call(j,D,B),this._total++),!0):!1},collideSpriteVsGroup:function(D,B,U,H,j,q){var _=D.isBody?D:D.body;if(!(B.length===0||!_||!_.enable||_.checkCollision.none||!this.canCollide(_,B))){var st,ut,ct;if(this.useTree||B.physicsType===e.STATIC_BODY){var pt=this.treeMinMax;pt.minX=_.left,pt.minY=_.top,pt.maxX=_.right,pt.maxY=_.bottom;var Tt=B.physicsType===e.DYNAMIC_BODY?this.tree.search(pt):this.staticTree.search(pt);for(ut=Tt.length,st=0;st<ut;st++)ct=Tt[st],!(_===ct||!ct.enable||ct.checkCollision.none||!B.contains(ct.gameObject))&&this.separate(_,ct,H,j,q)&&(U&&U.call(j,_.gameObject,ct.gameObject),this._total++)}else{var mt=B.getChildren(),wt=B.children.entries.indexOf(D);for(ut=mt.length,st=0;st<ut;st++)ct=mt[st].body,!(!ct||st===wt||!ct.enable)&&this.separate(_,ct,H,j,q)&&(U&&U.call(j,_.gameObject,ct.gameObject),this._total++)}}},collideGroupVsTilemapLayer:function(D,B,U,H,j,q){if(!this.canCollide(D,B))return!1;var _=D.getChildren();if(_.length===0)return!1;for(var st=!1,ut=0;ut<_.length;ut++)(_[ut].body||_[ut].isBody)&&this.collideSpriteVsTilemapLayer(_[ut],B,U,H,j,q)&&(st=!0);return st},collideTiles:function(D,B,U,H,j){return B.length===0||D.body&&!D.body.enable||D.isBody&&!D.enable?!1:this.collideSpriteVsTilesHandler(D,B,U,H,j,!1,!1)},overlapTiles:function(D,B,U,H,j){return B.length===0||D.body&&!D.body.enable||D.isBody&&!D.enable?!1:this.collideSpriteVsTilesHandler(D,B,U,H,j,!0,!1)},collideSpriteVsTilemapLayer:function(D,B,U,H,j,q){var _=D.isBody?D:D.body;if(!_.enable||_.checkCollision.none||!this.canCollide(_,B))return!1;var st=B.layer,ut=_.x-st.tileWidth*B.scaleX,ct=_.y-st.tileHeight*B.scaleY,pt=_.width+st.tileWidth*B.scaleX,Tt=_.height+st.tileHeight*B.scaleY,mt=q?null:this.tileFilterOptions,wt=E(ut,ct,pt,Tt,mt,B.scene.cameras.main,B.layer);return wt.length===0?!1:this.collideSpriteVsTilesHandler(D,wt,U,H,j,q,!0)},collideSpriteVsTilesHandler:function(D,B,U,H,j,q,_){for(var st=D.isBody?D:D.body,ut,ct={left:0,right:0,top:0,bottom:0},pt,Tt=!1,mt=0;mt<B.length;mt++){ut=B[mt],pt=ut.tilemapLayer;var wt=pt.tileToWorldXY(ut.x,ut.y);ct.left=wt.x,ct.top=wt.y,ct.right=ct.left+ut.width*pt.scaleX,ct.bottom=ct.top+ut.height*pt.scaleY,X(ct,st)&&(!H||H.call(j,D,ut))&&M(ut,D)&&(q||L(mt,st,ut,ct,pt,this.TILE_BIAS,_))&&(this._total++,Tt=!0,U&&U.call(j,D,ut),q&&st.onOverlap?this.emit(l.TILE_OVERLAP,D,ut,st):st.onCollide&&this.emit(l.TILE_COLLIDE,D,ut,st))}return Tt},collideGroupVsGroup:function(D,B,U,H,j,q){if(!(D.length===0||B.length===0||!this.canCollide(D,B)))for(var _=D.getChildren(),st=0;st<_.length;st++)this.collideSpriteVsGroup(_[st],B,U,H,j,q)},wrap:function(D,B){D.body?this.wrapObject(D,B):D.getChildren?this.wrapArray(D.getChildren(),B):Array.isArray(D)?this.wrapArray(D,B):this.wrapObject(D,B)},wrapArray:function(D,B){for(var U=0;U<D.length;U++)this.wrapObject(D[U],B)},wrapObject:function(D,B){B===void 0&&(B=0),D.x=z(D.x,this.bounds.left-B,this.bounds.right+B),D.y=z(D.y,this.bounds.top-B,this.bounds.bottom+B)},shutdown:function(){this.tree.clear(),this.staticTree.clear(),this.bodies.clear(),this.staticBodies.clear(),this.colliders.destroy(),this.removeAllListeners()},destroy:function(){this.shutdown(),this.scene=null,this.debugGraphic&&(this.debugGraphic.destroy(),this.debugGraphic=null)}});c.exports=Y},1093:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g={setAcceleration:function(t,o){return this.body.acceleration.set(t,o),this},setAccelerationX:function(t){return this.body.acceleration.x=t,this},setAccelerationY:function(t){return this.body.acceleration.y=t,this}};c.exports=g},59023:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g={setAngularVelocity:function(t){return this.body.angularVelocity=t,this},setAngularAcceleration:function(t){return this.body.angularAcceleration=t,this},setAngularDrag:function(t){return this.body.angularDrag=t,this}};c.exports=g},62069:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g={setBounce:function(t,o){return this.body.bounce.set(t,o),this},setBounceX:function(t){return this.body.bounce.x=t,this},setBounceY:function(t){return this.body.bounce.y=t,this},setCollideWorldBounds:function(t,o,v,a){return this.body.setCollideWorldBounds(t,o,v,a),this}};c.exports=g},78389:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(79599),v={setCollisionCategory:function(a){var i=this.body?this.body:this;return i.collisionCategory=a,this},willCollideWith:function(a){var i=this.body?this.body:this;return(i.collisionMask&a)!==0},addCollidesWith:function(a){var i=this.body?this.body:this;return i.collisionMask=i.collisionMask|a,this},removeCollidesWith:function(a){var i=this.body?this.body:this;return i.collisionMask=i.collisionMask&~a,this},setCollidesWith:function(a){var i=this.body?this.body:this;return i.collisionMask=o(a),this},resetCollisionCategory:function(){var a=this.body?this.body:this;return a.collisionCategory=1,a.collisionMask=1,this}};c.exports=v},87118:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g={setDebug:function(t,o,v){return this.debugShowBody=t,this.debugShowVelocity=o,this.debugBodyColor=v,this},setDebugBodyColor:function(t){return this.body.debugBodyColor=t,this},debugShowBody:{get:function(){return this.body.debugShowBody},set:function(t){this.body.debugShowBody=t}},debugShowVelocity:{get:function(){return this.body.debugShowVelocity},set:function(t){this.body.debugShowVelocity=t}},debugBodyColor:{get:function(){return this.body.debugBodyColor},set:function(t){this.body.debugBodyColor=t}}};c.exports=g},52819:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g={setDrag:function(t,o){return this.body.drag.set(t,o),this},setDragX:function(t){return this.body.drag.x=t,this},setDragY:function(t){return this.body.drag.y=t,this},setDamping:function(t){return this.body.useDamping=t,this}};c.exports=g},4074:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g={setDirectControl:function(t){return this.body.setDirectControl(t),this},enableBody:function(t,o,v,a,i){return t&&this.body.reset(o,v),a&&(this.body.gameObject.active=!0),i&&(this.body.gameObject.visible=!0),this.body.enable=!0,this},disableBody:function(t,o){return t===void 0&&(t=!1),o===void 0&&(o=!1),this.body.stop(),this.body.enable=!1,t&&(this.body.gameObject.active=!1),o&&(this.body.gameObject.visible=!1),this},refreshBody:function(){return this.body.updateFromGameObject(),this}};c.exports=g},40831:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g={setFriction:function(t,o){return this.body.friction.set(t,o),this},setFrictionX:function(t){return this.body.friction.x=t,this},setFrictionY:function(t){return this.body.friction.y=t,this}};c.exports=g},26775:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g={setGravity:function(t,o){return this.body.gravity.set(t,o),this},setGravityX:function(t){return this.body.gravity.x=t,this},setGravityY:function(t){return this.body.gravity.y=t,this}};c.exports=g},9437:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g={setImmovable:function(t){return t===void 0&&(t=!0),this.body.immovable=t,this}};c.exports=g},30621:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g={setMass:function(t){return this.body.mass=t,this}};c.exports=g},72441:(c,g,t)=>{var o=t(47956),v=t(96503),a=t(2044),i=t(81491),s=function(e,r,h,n,l,f){var u=o(e,r-n,h-n,2*n,2*n,l,f);if(u.length===0)return u;for(var d=new v(r,h,n),p=new v,x=[],E=0;E<u.length;E++){var T=u[E];T.isCircle?(p.setTo(T.center.x,T.center.y,T.halfWidth),a(d,p)&&x.push(T)):i(d,T)&&x.push(T)}return x};c.exports=s},47956:c=>{var g=function(t,o,v,a,i,s,e){s===void 0&&(s=!0),e===void 0&&(e=!1);var r=[],h=[],n=t.treeMinMax;if(n.minX=o,n.minY=v,n.maxX=o+a,n.maxY=v+i,e&&(h=t.staticTree.search(n)),s&&t.useTree)r=t.tree.search(n);else if(s){var l=t.bodies,f={position:{x:o,y:v},left:o,top:v,right:o+a,bottom:v+i,isCircle:!1},u=t.intersects;l.iterate(function(d){u(d,f)&&r.push(d)})}return h.concat(r)};c.exports=g},62121:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g={setPushable:function(t){return t===void 0&&(t=!0),this.body.pushable=t,this}};c.exports=g},29384:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g={setOffset:function(t,o){return this.body.setOffset(t,o),this},setSize:function(t,o,v){return this.body.setSize(t,o,v),this},setBodySize:function(t,o,v){return this.body.setSize(t,o,v),this},setCircle:function(t,o,v){return this.body.setCircle(t,o,v),this}};c.exports=g},15098:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g={setVelocity:function(t,o){return this.body.setVelocity(t,o),this},setVelocityX:function(t){return this.body.setVelocityX(t),this},setVelocityY:function(t){return this.body.setVelocityY(t),this},setMaxVelocity:function(t,o){return this.body.maxVelocity.set(t,o),this}};c.exports=g},92209:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Acceleration:t(1093),Angular:t(59023),Bounce:t(62069),Collision:t(78389),Debug:t(87118),Drag:t(52819),Enable:t(4074),Friction:t(40831),Gravity:t(26775),Immovable:t(9437),Mass:t(30621),OverlapCirc:t(72441),OverlapRect:t(47956),Pushable:t(62121),Size:t(29384),Velocity:t(15098)}},37747:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g={DYNAMIC_BODY:0,STATIC_BODY:1,GROUP:2,TILEMAPLAYER:3,FACING_NONE:10,FACING_UP:11,FACING_DOWN:12,FACING_LEFT:13,FACING_RIGHT:14};c.exports=g},20009:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="collide"},36768:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="overlap"},60473:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pause"},89954:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="resume"},61804:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="tilecollide"},7161:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="tileoverlap"},34689:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="worldbounds"},16006:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="worldstep"},63012:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={COLLIDE:t(20009),OVERLAP:t(36768),PAUSE:t(60473),RESUME:t(89954),TILE_COLLIDE:t(61804),TILE_OVERLAP:t(7161),WORLD_BOUNDS:t(34689),WORLD_STEP:t(16006)}},27064:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(37747),v=t(79291),a={ArcadePhysics:t(86689),Body:t(37742),Collider:t(79342),Components:t(92209),Events:t(63012),Factory:t(66022),GetCollidesWith:t(79599),GetOverlapX:t(64897),GetOverlapY:t(45170),SeparateX:t(14087),SeparateY:t(89936),Group:t(60758),Image:t(71289),Sprite:t(13759),StaticBody:t(72624),StaticGroup:t(71464),Tilemap:t(55173),World:t(82248)};a=v(!1,a,o),c.exports=a},96602:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o){return t.collisionCallback?!t.collisionCallback.call(t.collisionCallbackContext,o,t):t.layer.callbacks[t.index]?!t.layer.callbacks[t.index].callback.call(t.layer.callbacks[t.index].callbackContext,o,t):!0};c.exports=g},36294:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o){o<0?(t.blocked.none=!1,t.blocked.left=!0):o>0&&(t.blocked.none=!1,t.blocked.right=!0),t.position.x-=o,t.updateCenter(),t.bounce.x===0?t.velocity.x=0:t.velocity.x=-t.velocity.x*t.bounce.x};c.exports=g},67013:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o){o<0?(t.blocked.none=!1,t.blocked.up=!0):o>0&&(t.blocked.none=!1,t.blocked.down=!0),t.position.y-=o,t.updateCenter(),t.bounce.y===0?t.velocity.y=0:t.velocity.y=-t.velocity.y*t.bounce.y};c.exports=g},40012:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(21329),v=t(53442),a=t(2483),i=function(s,e,r,h,n,l,f){var u=h.left,d=h.top,p=h.right,x=h.bottom,E=r.faceLeft||r.faceRight,T=r.faceTop||r.faceBottom;if(f||(E=!0,T=!0),!E&&!T)return!1;var C=0,A=0,M=0,R=1;if(e.deltaAbsX()>e.deltaAbsY()?M=-1:e.deltaAbsX()<e.deltaAbsY()&&(R=-1),e.deltaX()!==0&&e.deltaY()!==0&&E&&T&&(M=Math.min(Math.abs(e.position.x-p),Math.abs(e.right-u)),R=Math.min(Math.abs(e.position.y-x),Math.abs(e.bottom-d))),M<R){if(E&&(C=o(e,r,u,p,l,f),C!==0&&!a(h,e)))return!0;T&&(A=v(e,r,d,x,l,f))}else{if(T&&(A=v(e,r,d,x,l,f),A!==0&&!a(h,e)))return!0;E&&(C=o(e,r,u,p,l,f))}return C!==0||A!==0};c.exports=i},21329:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(36294),v=function(a,i,s,e,r,h){var n=0,l=i.faceLeft,f=i.faceRight,u=i.collideLeft,d=i.collideRight;return h||(l=!0,f=!0,u=!0,d=!0),a.deltaX()<0&&d&&a.checkCollision.left?f&&a.x<e&&(n=a.x-e,n<-r&&(n=0)):a.deltaX()>0&&u&&a.checkCollision.right&&l&&a.right>s&&(n=a.right-s,n>r&&(n=0)),n!==0&&(a.customSeparateX?a.overlapX=n:o(a,n)),n};c.exports=v},53442:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(67013),v=function(a,i,s,e,r,h){var n=0,l=i.faceTop,f=i.faceBottom,u=i.collideUp,d=i.collideDown;return h||(l=!0,f=!0,u=!0,d=!0),a.deltaY()<0&&d&&a.checkCollision.up?f&&a.y<e&&(n=a.y-e,n<-r&&(n=0)):a.deltaY()>0&&u&&a.checkCollision.down&&l&&a.bottom>s&&(n=a.bottom-s,n>r&&(n=0)),n!==0&&(a.customSeparateY?a.overlapY=n:o(a,n)),n};c.exports=v},2483:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o){return!(o.right<=t.left||o.bottom<=t.top||o.position.x>=t.right||o.position.y>=t.bottom)};c.exports=g},55173:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o={ProcessTileCallbacks:t(96602),ProcessTileSeparationX:t(36294),ProcessTileSeparationY:t(67013),SeparateTile:t(40012),TileCheckX:t(21329),TileCheckY:t(53442),TileIntersectsBody:t(2483)};c.exports=o},44563:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Arcade:t(27064),Matter:t(3875)}},68174:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(26099),a=new o({initialize:function(){this.boundsCenter=new v,this.centerDiff=new v},parseBody:function(i){if(i=i.hasOwnProperty("body")?i.body:i,!i.hasOwnProperty("bounds")||!i.hasOwnProperty("centerOfMass"))return!1;var s=this.boundsCenter,e=this.centerDiff,r=i.bounds.max.x-i.bounds.min.x,h=i.bounds.max.y-i.bounds.min.y,n=r*i.centerOfMass.x,l=h*i.centerOfMass.y;return s.set(r/2,h/2),e.set(n-s.x,l-s.y),!0},getTopLeft:function(i,s,e){if(s===void 0&&(s=0),e===void 0&&(e=0),this.parseBody(i)){var r=this.boundsCenter,h=this.centerDiff;return new v(s+r.x+h.x,e+r.y+h.y)}return!1},getTopCenter:function(i,s,e){if(s===void 0&&(s=0),e===void 0&&(e=0),this.parseBody(i)){var r=this.boundsCenter,h=this.centerDiff;return new v(s+h.x,e+r.y+h.y)}return!1},getTopRight:function(i,s,e){if(s===void 0&&(s=0),e===void 0&&(e=0),this.parseBody(i)){var r=this.boundsCenter,h=this.centerDiff;return new v(s-(r.x-h.x),e+r.y+h.y)}return!1},getLeftCenter:function(i,s,e){if(s===void 0&&(s=0),e===void 0&&(e=0),this.parseBody(i)){var r=this.boundsCenter,h=this.centerDiff;return new v(s+r.x+h.x,e+h.y)}return!1},getCenter:function(i,s,e){if(s===void 0&&(s=0),e===void 0&&(e=0),this.parseBody(i)){var r=this.centerDiff;return new v(s+r.x,e+r.y)}return!1},getRightCenter:function(i,s,e){if(s===void 0&&(s=0),e===void 0&&(e=0),this.parseBody(i)){var r=this.boundsCenter,h=this.centerDiff;return new v(s-(r.x-h.x),e+h.y)}return!1},getBottomLeft:function(i,s,e){if(s===void 0&&(s=0),e===void 0&&(e=0),this.parseBody(i)){var r=this.boundsCenter,h=this.centerDiff;return new v(s+r.x+h.x,e-(r.y-h.y))}return!1},getBottomCenter:function(i,s,e){if(s===void 0&&(s=0),e===void 0&&(e=0),this.parseBody(i)){var r=this.boundsCenter,h=this.centerDiff;return new v(s+h.x,e-(r.y-h.y))}return!1},getBottomRight:function(i,s,e){if(s===void 0&&(s=0),e===void 0&&(e=0),this.parseBody(i)){var r=this.boundsCenter,h=this.centerDiff;return new v(s-(r.x-h.x),e-(r.y-h.y))}return!1}});c.exports=a},19933:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(6790);o.Body=t(22562),o.Composite=t(69351),o.World=t(4372),o.Collision=t(52284),o.Detector=t(81388),o.Pairs=t(99561),o.Pair=t(4506),o.Query=t(73296),o.Resolver=t(66272),o.Constraint=t(48140),o.Common=t(53402),o.Engine=t(48413),o.Events=t(35810),o.Sleeping=t(53614),o.Plugin=t(73832),o.Bodies=t(66280),o.Composites=t(74116),o.Axes=t(66615),o.Bounds=t(15647),o.Svg=t(74058),o.Vector=t(31725),o.Vertices=t(41598),o.World.add=o.Composite.add,o.World.remove=o.Composite.remove,o.World.addComposite=o.Composite.addComposite,o.World.addBody=o.Composite.addBody,o.World.addConstraint=o.Composite.addConstraint,o.World.clear=o.Composite.clear,c.exports=o},28137:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(66280),v=t(83419),a=t(74116),i=t(48140),s=t(74058),e=t(75803),r=t(23181),h=t(34803),n=t(73834),l=t(19496),f=t(85791),u=t(98713),d=t(41598),p=new v({initialize:function(E){this.world=E,this.scene=E.scene,this.sys=E.scene.sys},rectangle:function(x,E,T,C,A){var M=o.rectangle(x,E,T,C,A);return this.world.add(M),M},trapezoid:function(x,E,T,C,A,M){var R=o.trapezoid(x,E,T,C,A,M);return this.world.add(R),R},circle:function(x,E,T,C,A){var M=o.circle(x,E,T,C,A);return this.world.add(M),M},polygon:function(x,E,T,C,A){var M=o.polygon(x,E,T,C,A);return this.world.add(M),M},fromVertices:function(x,E,T,C,A,M,R){typeof T=="string"&&(T=d.fromPath(T));var O=o.fromVertices(x,E,T,C,A,M,R);return this.world.add(O),O},fromPhysicsEditor:function(x,E,T,C,A){A===void 0&&(A=!0);var M=l.parseBody(x,E,T,C);return A&&!this.world.has(M)&&this.world.add(M),M},fromSVG:function(x,E,T,C,A,M){C===void 0&&(C=1),A===void 0&&(A={}),M===void 0&&(M=!0);for(var R=T.getElementsByTagName("path"),O=[],L=0;L<R.length;L++){var b=s.pathToVertices(R[L],30);C!==1&&d.scale(b,C,C),O.push(b)}var N=o.fromVertices(x,E,O,A);return M&&this.world.add(N),N},fromJSON:function(x,E,T,C,A){C===void 0&&(C={}),A===void 0&&(A=!0);var M=f.parseBody(x,E,T,C);return M&&A&&this.world.add(M),M},imageStack:function(x,E,T,C,A,M,R,O,L){R===void 0&&(R=0),O===void 0&&(O=0),L===void 0&&(L={});var b=this.world,N=this.sys.displayList;L.addToWorld=!1;var I=a.stack(T,C,A,M,R,O,function(G,X){var $=new r(b,G,X,x,E,L);return N.add($),$.body});return b.add(I),I},stack:function(x,E,T,C,A,M,R){var O=a.stack(x,E,T,C,A,M,R);return this.world.add(O),O},pyramid:function(x,E,T,C,A,M,R){var O=a.pyramid(x,E,T,C,A,M,R);return this.world.add(O),O},chain:function(x,E,T,C,A,M){return a.chain(x,E,T,C,A,M)},mesh:function(x,E,T,C,A){return a.mesh(x,E,T,C,A)},newtonsCradle:function(x,E,T,C,A){var M=a.newtonsCradle(x,E,T,C,A);return this.world.add(M),M},car:function(x,E,T,C,A){var M=a.car(x,E,T,C,A);return this.world.add(M),M},softBody:function(x,E,T,C,A,M,R,O,L,b){var N=a.softBody(x,E,T,C,A,M,R,O,L,b);return this.world.add(N),N},joint:function(x,E,T,C,A){return this.constraint(x,E,T,C,A)},spring:function(x,E,T,C,A){return this.constraint(x,E,T,C,A)},constraint:function(x,E,T,C,A){C===void 0&&(C=1),A===void 0&&(A={}),A.bodyA=x.type==="body"?x:x.body,A.bodyB=E.type==="body"?E:E.body,isNaN(T)||(A.length=T),A.stiffness=C;var M=i.create(A);return this.world.add(M),M},worldConstraint:function(x,E,T,C){T===void 0&&(T=1),C===void 0&&(C={}),C.bodyB=x.type==="body"?x:x.body,isNaN(E)||(C.length=E),C.stiffness=T;var A=i.create(C);return this.world.add(A),A},mouseSpring:function(x){return this.pointerConstraint(x)},pointerConstraint:function(x){x===void 0&&(x={}),x.hasOwnProperty("render")||(x.render={visible:!1});var E=new u(this.scene,this.world,x);return this.world.add(E.constraint),E},image:function(x,E,T,C,A){var M=new r(this.world,x,E,T,C,A);return this.sys.displayList.add(M),M},tileBody:function(x,E){return new n(this.world,x,E)},sprite:function(x,E,T,C,A){var M=new h(this.world,x,E,T,C,A);return this.sys.displayList.add(M),this.sys.updateList.add(M),M},gameObject:function(x,E,T){return e(this.world,x,E,T)},destroy:function(){this.world=null,this.scene=null,this.sys=null}});c.exports=p},75803:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(31884),v=t(95540),a=t(26099);function i(e){return!!e.get&&typeof e.get=="function"||!!e.set&&typeof e.set=="function"}var s=function(e,r,h,n){h===void 0&&(h={}),n===void 0&&(n=!0);var l=r.x,f=r.y;r.body={temp:!0,position:{x:l,y:f}};var u=[o.Bounce,o.Collision,o.Force,o.Friction,o.Gravity,o.Mass,o.Sensor,o.SetBody,o.Sleep,o.Static,o.Transform,o.Velocity];if(u.forEach(function(p){for(var x in p)i(p[x])?Object.defineProperty(r,x,{get:p[x].get,set:p[x].set}):Object.defineProperty(r,x,{value:p[x]})}),r.world=e,r._tempVec2=new a(l,f),h.hasOwnProperty("type")&&h.type==="body")r.setExistingBody(h,n);else{var d=v(h,"shape",null);d||(d="rectangle"),h.addToWorld=n,r.setBody(d,h)}return r};c.exports=s},23181:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(31884),a=t(95643),i=t(95540),s=t(88571),e=t(72699),r=t(26099),h=new o({Extends:s,Mixins:[v.Bounce,v.Collision,v.Force,v.Friction,v.Gravity,v.Mass,v.Sensor,v.SetBody,v.Sleep,v.Static,v.Transform,v.Velocity,e],initialize:function(l,f,u,d,p,x){a.call(this,l.scene,"Image"),this._crop=this.resetCropObject(),this.setTexture(d,p),this.setSizeToFrame(),this.setOrigin(),this.world=l,this._tempVec2=new r(f,u);var E=i(x,"shape",null);E?this.setBody(E,x):this.setRectangle(this.width,this.height,x),this.setPosition(f,u),this.initPipeline(),this.initPostPipeline(!0)}});c.exports=h},42045:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(60461),v=t(66615),a=t(66280),i=t(22562),s=t(68174),e=t(15647),r=t(83419),h=t(52284),n=t(53402),l=t(69351),f=t(74116),u=t(48140),d=t(81388),p=t(20339),x=t(28137),E=t(95540),T=t(35154),C=t(18210),A=t(40178),M=t(6790),R=t(74507),O=t(46975),L=t(4506),b=t(99561),N=t(73832),I=t(37277),G=t(73296),X=t(66272),$=t(44594),J=t(74058),z=t(31725),Y=t(41598),D=t(68243);n.setDecomp(t(55973));var B=new r({initialize:function(H){this.scene=H,this.systems=H.sys,this.config=this.getConfig(),this.world,this.add,this.bodyBounds,this.body=i,this.composite=l,this.collision=h,this.detector=d,this.pair=L,this.pairs=b,this.query=G,this.resolver=X,this.constraint=u,this.bodies=a,this.composites=f,this.axes=v,this.bounds=e,this.svg=J,this.vector=z,this.vertices=Y,this.verts=Y,this._tempVec2=z.create(),T(this.config,"plugins.collisionevents",!0)&&this.enableCollisionEventsPlugin(),T(this.config,"plugins.attractors",!1)&&this.enableAttractorPlugin(),T(this.config,"plugins.wrap",!1)&&this.enableWrapPlugin(),X._restingThresh=T(this.config,"restingThresh",4),X._restingThreshTangent=T(this.config,"restingThreshTangent",6),X._positionDampen=T(this.config,"positionDampen",.9),X._positionWarming=T(this.config,"positionWarming",.8),X._frictionNormalMultiplier=T(this.config,"frictionNormalMultiplier",5),H.sys.events.once($.BOOT,this.boot,this),H.sys.events.on($.START,this.start,this)},boot:function(){this.world=new D(this.scene,this.config),this.add=new x(this.world),this.bodyBounds=new s,this.systems.events.once($.DESTROY,this.destroy,this)},start:function(){this.world||(this.world=new D(this.scene,this.config),this.add=new x(this.world));var U=this.systems.events;U.on($.UPDATE,this.world.update,this.world),U.on($.POST_UPDATE,this.world.postUpdate,this.world),U.once($.SHUTDOWN,this.shutdown,this)},getConfig:function(){var U=this.systems.game.config.physics,H=this.systems.settings.physics,j=O(E(H,"matter",{}),E(U,"matter",{}));return j},enableAttractorPlugin:function(){return N.register(C),N.use(M,C),this},enableWrapPlugin:function(){return N.register(R),N.use(M,R),this},enableCollisionEventsPlugin:function(){return N.register(A),N.use(M,A),this},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},set60Hz:function(){return this.world.getDelta=this.world.update60Hz,this.world.autoUpdate=!0,this},set30Hz:function(){return this.world.getDelta=this.world.update30Hz,this.world.autoUpdate=!0,this},step:function(U,H){this.world.step(U,H)},containsPoint:function(U,H,j){U=this.getMatterBodies(U);var q=z.create(H,j),_=G.point(U,q);return _.length>0},intersectPoint:function(U,H,j){j=this.getMatterBodies(j);var q=z.create(U,H),_=[],st=G.point(j,q);return st.forEach(function(ut){_.indexOf(ut)===-1&&_.push(ut)}),_},intersectRect:function(U,H,j,q,_,st){_===void 0&&(_=!1),st=this.getMatterBodies(st);var ut={min:{x:U,y:H},max:{x:U+j,y:H+q}},ct=[],pt=G.region(st,ut,_);return pt.forEach(function(Tt){ct.indexOf(Tt)===-1&&ct.push(Tt)}),ct},intersectRay:function(U,H,j,q,_,st){_===void 0&&(_=1),st=this.getMatterBodies(st);for(var ut=[],ct=G.ray(st,z.create(U,H),z.create(j,q),_),pt=0;pt<ct.length;pt++)ut.push(ct[pt].body);return ut},intersectBody:function(U,H){H=this.getMatterBodies(H);for(var j=[],q=G.collides(U,H),_=0;_<q.length;_++){var st=q[_];st.bodyA===U?j.push(st.bodyB):j.push(st.bodyA)}return j},overlap:function(U,H,j,q,_){j===void 0&&(j=null),q===void 0&&(q=null),_===void 0&&(_=j),Array.isArray(U)||(U=[U]),U=this.getMatterBodies(U),H=this.getMatterBodies(H);for(var st=!1,ut=0;ut<U.length;ut++)for(var ct=U[ut],pt=G.collides(ct,H),Tt=0;Tt<pt.length;Tt++){var mt=pt[Tt],wt=mt.bodyA.id===ct.id?mt.bodyB:mt.bodyA;if(!q||q.call(_,ct,wt,mt)){if(st=!0,j)j.call(_,ct,wt,mt);else if(!q)return!0}}return st},setCollisionCategory:function(U,H){return U=this.getMatterBodies(U),U.forEach(function(j){j.collisionFilter.category=H}),this},setCollisionGroup:function(U,H){return U=this.getMatterBodies(U),U.forEach(function(j){j.collisionFilter.group=H}),this},setCollidesWith:function(U,H){U=this.getMatterBodies(U);var j=0;if(!Array.isArray(H))j=H;else for(var q=0;q<H.length;q++)j|=H[q];return U.forEach(function(_){_.collisionFilter.mask=j}),this},getMatterBodies:function(U){if(!U)return this.world.getAllBodies();Array.isArray(U)||(U=[U]);for(var H=[],j=0;j<U.length;j++){var q=U[j].hasOwnProperty("body")?U[j].body:U[j];H.push(q)}return H},setVelocity:function(U,H,j){U=this.getMatterBodies(U);var q=this._tempVec2;return q.x=H,q.y=j,U.forEach(function(_){i.setVelocity(_,q)}),this},setVelocityX:function(U,H){U=this.getMatterBodies(U);var j=this._tempVec2;return j.x=H,U.forEach(function(q){j.y=q.velocity.y,i.setVelocity(q,j)}),this},setVelocityY:function(U,H){U=this.getMatterBodies(U);var j=this._tempVec2;return j.y=H,U.forEach(function(q){j.x=q.velocity.x,i.setVelocity(q,j)}),this},setAngularVelocity:function(U,H){return U=this.getMatterBodies(U),U.forEach(function(j){i.setAngularVelocity(j,H)}),this},applyForce:function(U,H){U=this.getMatterBodies(U);var j=this._tempVec2;return U.forEach(function(q){j.x=q.position.x,j.y=q.position.y,i.applyForce(q,j,H)}),this},applyForceFromPosition:function(U,H,j,q){U=this.getMatterBodies(U);var _=this._tempVec2;return U.forEach(function(st){q===void 0&&(q=st.angle),_.x=j*Math.cos(q),_.y=j*Math.sin(q),i.applyForce(st,H,_)}),this},applyForceFromAngle:function(U,H,j){U=this.getMatterBodies(U);var q=this._tempVec2;return U.forEach(function(_){j===void 0&&(j=_.angle),q.x=H*Math.cos(j),q.y=H*Math.sin(j),i.applyForce(_,{x:_.position.x,y:_.position.y},q)}),this},getConstraintLength:function(U){var H=U.pointA.x,j=U.pointA.y,q=U.pointB.x,_=U.pointB.y;return U.bodyA&&(H+=U.bodyA.position.x,j+=U.bodyA.position.y),U.bodyB&&(q+=U.bodyB.position.x,_+=U.bodyB.position.y),p(H,j,q,_)},alignBody:function(U,H,j,q){U=U.hasOwnProperty("body")?U.body:U;var _;switch(q){case o.TOP_LEFT:case o.LEFT_TOP:_=this.bodyBounds.getTopLeft(U,H,j);break;case o.TOP_CENTER:_=this.bodyBounds.getTopCenter(U,H,j);break;case o.TOP_RIGHT:case o.RIGHT_TOP:_=this.bodyBounds.getTopRight(U,H,j);break;case o.LEFT_CENTER:_=this.bodyBounds.getLeftCenter(U,H,j);break;case o.CENTER:_=this.bodyBounds.getCenter(U,H,j);break;case o.RIGHT_CENTER:_=this.bodyBounds.getRightCenter(U,H,j);break;case o.LEFT_BOTTOM:case o.BOTTOM_LEFT:_=this.bodyBounds.getBottomLeft(U,H,j);break;case o.BOTTOM_CENTER:_=this.bodyBounds.getBottomCenter(U,H,j);break;case o.BOTTOM_RIGHT:case o.RIGHT_BOTTOM:_=this.bodyBounds.getBottomRight(U,H,j);break}return _&&i.setPosition(U,_),this},shutdown:function(){var U=this.systems.events;this.world&&(U.off($.UPDATE,this.world.update,this.world),U.off($.POST_UPDATE,this.world.postUpdate,this.world)),U.off($.SHUTDOWN,this.shutdown,this),this.add&&this.add.destroy(),this.world&&this.world.destroy(),this.add=null,this.world=null},destroy:function(){this.shutdown(),this.scene.sys.events.off($.START,this.start,this),this.scene=null,this.systems=null}});I.register("MatterPhysics",B,"matterPhysics"),c.exports=B},34803:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(9674),v=t(83419),a=t(31884),i=t(95643),s=t(95540),e=t(72699),r=t(68287),h=t(26099),n=new v({Extends:r,Mixins:[a.Bounce,a.Collision,a.Force,a.Friction,a.Gravity,a.Mass,a.Sensor,a.SetBody,a.Sleep,a.Static,a.Transform,a.Velocity,e],initialize:function(f,u,d,p,x,E){i.call(this,f.scene,"Sprite"),this._crop=this.resetCropObject(),this.anims=new o(this),this.setTexture(p,x),this.setSizeToFrame(),this.setOrigin(),this.world=f,this._tempVec2=new h(u,d);var T=s(E,"shape",null);T?this.setBody(T,E):this.setRectangle(this.width,this.height,E),this.setPosition(u,d),this.initPipeline(),this.initPostPipeline(!0)}});c.exports=n},73834:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(66280),v=t(22562),a=t(83419),i=t(31884),s=t(62644),e=t(50792),r=t(95540),h=t(97022),n=t(41598),l=new a({Extends:e,Mixins:[i.Bounce,i.Collision,i.Friction,i.Gravity,i.Mass,i.Sensor,i.Sleep,i.Static],initialize:function(u,d,p){e.call(this),this.tile=d,this.world=u,d.physics.matterBody&&d.physics.matterBody.destroy(),d.physics.matterBody=this;var x=r(p,"body",null),E=r(p,"addToWorld",!0);if(x)this.setBody(x,E);else{var T=d.getCollisionGroup(),C=r(T,"objects",[]);C.length>0?this.setFromTileCollision(p):this.setFromTileRectangle(p)}if(d.flipX||d.flipY){var A={x:d.getCenterX(),y:d.getCenterY()},M=d.flipX?-1:1,R=d.flipY?-1:1;v.scale(x,M,R,A)}},setFromTileRectangle:function(f){f===void 0&&(f={}),h(f,"isStatic")||(f.isStatic=!0),h(f,"addToWorld")||(f.addToWorld=!0);var u=this.tile.getBounds(),d=u.x+u.width/2,p=u.y+u.height/2,x=o.rectangle(d,p,u.width,u.height,f);return this.setBody(x,f.addToWorld),this},setFromTileCollision:function(f){f===void 0&&(f={}),h(f,"isStatic")||(f.isStatic=!0),h(f,"addToWorld")||(f.addToWorld=!0);for(var u=this.tile.tilemapLayer.scaleX,d=this.tile.tilemapLayer.scaleY,p=this.tile.getLeft(),x=this.tile.getTop(),E=this.tile.getCollisionGroup(),T=r(E,"objects",[]),C=[],A=0;A<T.length;A++){var M=T[A],R=p+M.x*u,O=x+M.y*d,L=M.width*u,b=M.height*d,N=null;if(M.rectangle)N=o.rectangle(R+L/2,O+b/2,L,b,f);else if(M.ellipse)N=o.circle(R+L/2,O+b/2,L/2,f);else if(M.polygon||M.polyline){var I=M.polygon?M.polygon:M.polyline,G=I.map(function(z){return{x:z.x*u,y:z.y*d}}),X=n.create(G),$=n.centre(X);R+=$.x,O+=$.y,N=o.fromVertices(R,O,X,f)}N&&C.push(N)}if(C.length===1)this.setBody(C[0],f.addToWorld);else if(C.length>1){var J=s(f);J.parts=C,this.setBody(v.create(J),J.addToWorld)}return this},setBody:function(f,u){return u===void 0&&(u=!0),this.body&&this.removeBody(),this.body=f,this.body.gameObject=this,u&&this.world.add(this.body),this},removeBody:function(){return this.body&&(this.world.remove(this.body),this.body.gameObject=void 0,this.body=void 0),this},destroy:function(){this.removeBody(),this.tile.physics.matterBody=void 0,this.removeAllListeners()}});c.exports=l},19496:(c,g,t)=>{/**
 * @author       Joachim Grill <joachim@codeandweb.com>
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2018 CodeAndWeb GmbH
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(66280),v=t(22562),a=t(53402),i=t(95540),s=t(41598),e={parseBody:function(r,h,n,l){l===void 0&&(l={});for(var f=i(n,"fixtures",[]),u=[],d=0;d<f.length;d++)for(var p=this.parseFixture(f[d]),x=0;x<p.length;x++)u.push(p[x]);var E=a.clone(n,!0);a.extend(E,l,!0),delete E.fixtures,delete E.type;var T=v.create(E);return v.setParts(T,u),v.setPosition(T,{x:r,y:h}),T},parseFixture:function(r){var h=a.extend({},!1,r);delete h.circle,delete h.vertices;var n;if(r.circle){var l=i(r.circle,"x"),f=i(r.circle,"y"),u=i(r.circle,"radius");n=[o.circle(l,f,u,h)]}else r.vertices&&(n=this.parseVertices(r.vertices,h));return n},parseVertices:function(r,h){h===void 0&&(h={});for(var n=[],l=0;l<r.length;l++)s.clockwiseSort(r[l]),n.push(v.create(a.extend({position:s.centre(r[l]),vertices:r[l]},h)));return o.flagCoincidentParts(n)}};c.exports=e},85791:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(66280),v=t(22562),a={parseBody:function(i,s,e,r){r===void 0&&(r={});var h,n=e.vertices;if(n.length===1)r.vertices=n[0],h=v.create(r),o.flagCoincidentParts(h.parts);else{for(var l=[],f=0;f<n.length;f++){var u=v.create({vertices:n[f]});l.push(u)}o.flagCoincidentParts(l),r.parts=l,h=v.create(r)}return h.label=e.label,v.setPosition(h,{x:i,y:s}),h}};c.exports=a},98713:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(15647),v=t(83419),a=t(69351),i=t(48140),s=t(81388),e=t(1121),r=t(8214),h=t(46975),n=t(53614),l=t(26099),f=t(41598),u=new v({initialize:function(p,x,E){E===void 0&&(E={});var T={label:"Pointer Constraint",pointA:{x:0,y:0},pointB:{x:0,y:0},length:.01,stiffness:.1,angularStiffness:1,collisionFilter:{category:1,mask:4294967295,group:0}};this.scene=p,this.world=x,this.camera=null,this.pointer=null,this.active=!0,this.position=new l,this.body=null,this.part=null,this.constraint=i.create(h(E,T)),this.world.on(e.BEFORE_UPDATE,this.update,this),p.sys.input.on(r.POINTER_DOWN,this.onDown,this),p.sys.input.on(r.POINTER_UP,this.onUp,this)},onDown:function(d){this.pointer||(this.pointer=d,this.camera=d.camera)},onUp:function(d){d===this.pointer&&(this.pointer=null)},getBody:function(d){var p=this.position,x=this.constraint;this.camera.getWorldPoint(d.x,d.y,p);for(var E=a.allBodies(this.world.localWorld),T=0;T<E.length;T++){var C=E[T];if(!C.ignorePointer&&o.contains(C.bounds,p)&&s.canCollide(C.collisionFilter,x.collisionFilter)&&this.hitTestBody(C,p))return this.world.emit(e.DRAG_START,C,this.part,this),!0}return!1},hitTestBody:function(d,p){for(var x=this.constraint,E=d.parts.length,T=E>1?1:0,C=T;C<E;C++){var A=d.parts[C];if(f.contains(A.vertices,p))return x.pointA=p,x.pointB={x:p.x-d.position.x,y:p.y-d.position.y},x.bodyB=d,x.angleB=d.angle,n.set(d,!1),this.part=A,this.body=d,!0}return!1},update:function(){var d=this.pointer,p=this.body;if(!this.active||!d){p&&this.stopDrag();return}if(!d.isDown&&p){this.stopDrag();return}else if(d.isDown){if(!this.camera||!p&&!this.getBody(d))return;p=this.body;var x=this.position,E=this.constraint;this.camera.getWorldPoint(d.x,d.y,x),E.pointA.x=x.x,E.pointA.y=x.y,n.set(p,!1),this.world.emit(e.DRAG,p,this)}},stopDrag:function(){var d=this.body,p=this.constraint;p.bodyB=null,p.pointB=null,this.pointer=null,this.body=null,this.part=null,d&&this.world.emit(e.DRAG_END,d,this)},destroy:function(){this.world.removeConstraint(this.constraint),this.pointer=null,this.constraint=null,this.body=null,this.part=null,this.world.off(e.BEFORE_UPDATE,this.update),this.scene.sys.input.off(r.POINTER_DOWN,this.onDown,this),this.scene.sys.input.off(r.POINTER_UP,this.onUp,this)}});c.exports=u},68243:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(66280),v=t(22562),a=t(83419),i=t(53402),s=t(69351),e=t(48413),r=t(50792),h=t(1121),n=t(95540),l=t(35154),f=t(22562),u=t(35810),d=t(73834),p=t(4372),x=t(31725),E=new a({Extends:r,initialize:function(C,A){r.call(this),this.scene=C,this.engine=e.create(A),this.localWorld=this.engine.world;var M=l(A,"gravity",null);M?this.setGravity(M.x,M.y,M.scale):M===!1&&this.setGravity(0,0,0),this.walls={left:null,right:null,top:null,bottom:null},this.enabled=l(A,"enabled",!0),this.getDelta=l(A,"getDelta",this.update60Hz);var R=n(A,"runner",{}),O=n(R,"fps",!1),L=n(R,"fps",60),b=n(R,"delta",1e3/L),N=n(R,"deltaMin",1e3/L),I=n(R,"deltaMax",1e3/(L*.5));O||(L=1e3/b),this.runner={fps:L,deltaSampleSize:n(R,"deltaSampleSize",60),counterTimestamp:0,frameCounter:0,deltaHistory:[],timePrev:null,timeScalePrev:1,frameRequestId:null,isFixed:n(R,"isFixed",!1),delta:b,deltaMin:N,deltaMax:I},this.autoUpdate=l(A,"autoUpdate",!0);var G=l(A,"debug",!1);if(this.drawDebug=typeof G=="object"?!0:G,this.debugGraphic,this.debugConfig={showAxes:n(G,"showAxes",!1),showAngleIndicator:n(G,"showAngleIndicator",!1),angleColor:n(G,"angleColor",15208787),showBroadphase:n(G,"showBroadphase",!1),broadphaseColor:n(G,"broadphaseColor",16757760),showBounds:n(G,"showBounds",!1),boundsColor:n(G,"boundsColor",16777215),showVelocity:n(G,"showVelocity",!1),velocityColor:n(G,"velocityColor",44783),showCollisions:n(G,"showCollisions",!1),collisionColor:n(G,"collisionColor",16094476),showSeparations:n(G,"showSeparations",!1),separationColor:n(G,"separationColor",16753920),showBody:n(G,"showBody",!0),showStaticBody:n(G,"showStaticBody",!0),showInternalEdges:n(G,"showInternalEdges",!1),renderFill:n(G,"renderFill",!1),renderLine:n(G,"renderLine",!0),fillColor:n(G,"fillColor",1075465),fillOpacity:n(G,"fillOpacity",1),lineColor:n(G,"lineColor",2678297),lineOpacity:n(G,"lineOpacity",1),lineThickness:n(G,"lineThickness",1),staticFillColor:n(G,"staticFillColor",857979),staticLineColor:n(G,"staticLineColor",1255396),showSleeping:n(G,"showSleeping",!1),staticBodySleepOpacity:n(G,"staticBodySleepOpacity",.7),sleepFillColor:n(G,"sleepFillColor",4605510),sleepLineColor:n(G,"sleepLineColor",10066585),showSensors:n(G,"showSensors",!0),sensorFillColor:n(G,"sensorFillColor",857979),sensorLineColor:n(G,"sensorLineColor",1255396),showPositions:n(G,"showPositions",!0),positionSize:n(G,"positionSize",4),positionColor:n(G,"positionColor",14697178),showJoint:n(G,"showJoint",!0),jointColor:n(G,"jointColor",14737474),jointLineOpacity:n(G,"jointLineOpacity",1),jointLineThickness:n(G,"jointLineThickness",2),pinSize:n(G,"pinSize",4),pinColor:n(G,"pinColor",4382944),springColor:n(G,"springColor",14697184),anchorColor:n(G,"anchorColor",15724527),anchorSize:n(G,"anchorSize",4),showConvexHulls:n(G,"showConvexHulls",!1),hullColor:n(G,"hullColor",14091216)},this.drawDebug&&this.createDebugGraphic(),this.setEventsProxy(),n(A,"setBounds",!1)){var X=A.setBounds;if(typeof X=="boolean")this.setBounds();else{var $=n(X,"x",0),J=n(X,"y",0),z=n(X,"width",C.sys.scale.width),Y=n(X,"height",C.sys.scale.height),D=n(X,"thickness",64),B=n(X,"left",!0),U=n(X,"right",!0),H=n(X,"top",!0),j=n(X,"bottom",!0);this.setBounds($,J,z,Y,D,B,U,H,j)}}},setCompositeRenderStyle:function(T){var C=T.bodies,A=T.constraints,M=T.composites,R,O,L;for(R=0;R<C.length;R++)O=C[R],L=O.render,this.setBodyRenderStyle(O,L.lineColor,L.lineOpacity,L.lineThickness,L.fillColor,L.fillOpacity);for(R=0;R<A.length;R++)O=A[R],L=O.render,this.setConstraintRenderStyle(O,L.lineColor,L.lineOpacity,L.lineThickness,L.pinSize,L.anchorColor,L.anchorSize);for(R=0;R<M.length;R++)O=M[R],this.setCompositeRenderStyle(O);return this},setBodyRenderStyle:function(T,C,A,M,R,O){var L=T.render,b=this.debugConfig;return L?(C==null&&(C=T.isStatic?b.staticLineColor:b.lineColor),A==null&&(A=b.lineOpacity),M==null&&(M=b.lineThickness),R==null&&(R=T.isStatic?b.staticFillColor:b.fillColor),O==null&&(O=b.fillOpacity),C!==!1&&(L.lineColor=C),A!==!1&&(L.lineOpacity=A),M!==!1&&(L.lineThickness=M),R!==!1&&(L.fillColor=R),O!==!1&&(L.fillOpacity=O),this):this},setConstraintRenderStyle:function(T,C,A,M,R,O,L){var b=T.render,N=this.debugConfig;if(!b)return this;if(C==null){var I=b.type;I==="line"?C=N.jointColor:I==="pin"?C=N.pinColor:I==="spring"&&(C=N.springColor)}return A==null&&(A=N.jointLineOpacity),M==null&&(M=N.jointLineThickness),R==null&&(R=N.pinSize),O==null&&(O=N.anchorColor),L==null&&(L=N.anchorSize),C!==!1&&(b.lineColor=C),A!==!1&&(b.lineOpacity=A),M!==!1&&(b.lineThickness=M),R!==!1&&(b.pinSize=R),O!==!1&&(b.anchorColor=O),L!==!1&&(b.anchorSize=L),this},setEventsProxy:function(){var T=this,C=this.engine,A=this.localWorld;this.drawDebug&&(u.on(A,"compositeModified",function(M){T.setCompositeRenderStyle(M)}),u.on(A,"beforeAdd",function(M){for(var R=[].concat(M.object),O=0;O<R.length;O++){var L=R[O],b=L.render;L.type==="body"?T.setBodyRenderStyle(L,b.lineColor,b.lineOpacity,b.lineThickness,b.fillColor,b.fillOpacity):L.type==="composite"?T.setCompositeRenderStyle(L):L.type==="constraint"&&T.setConstraintRenderStyle(L,b.lineColor,b.lineOpacity,b.lineThickness,b.pinSize,b.anchorColor,b.anchorSize)}})),u.on(A,"beforeAdd",function(M){T.emit(h.BEFORE_ADD,M)}),u.on(A,"afterAdd",function(M){T.emit(h.AFTER_ADD,M)}),u.on(A,"beforeRemove",function(M){T.emit(h.BEFORE_REMOVE,M)}),u.on(A,"afterRemove",function(M){T.emit(h.AFTER_REMOVE,M)}),u.on(C,"beforeUpdate",function(M){T.emit(h.BEFORE_UPDATE,M)}),u.on(C,"afterUpdate",function(M){T.emit(h.AFTER_UPDATE,M)}),u.on(C,"collisionStart",function(M){var R=M.pairs,O,L;R.length>0&&(O=R[0].bodyA,L=R[0].bodyB),T.emit(h.COLLISION_START,M,O,L)}),u.on(C,"collisionActive",function(M){var R=M.pairs,O,L;R.length>0&&(O=R[0].bodyA,L=R[0].bodyB),T.emit(h.COLLISION_ACTIVE,M,O,L)}),u.on(C,"collisionEnd",function(M){var R=M.pairs,O,L;R.length>0&&(O=R[0].bodyA,L=R[0].bodyB),T.emit(h.COLLISION_END,M,O,L)})},setBounds:function(T,C,A,M,R,O,L,b,N){return T===void 0&&(T=0),C===void 0&&(C=0),A===void 0&&(A=this.scene.sys.scale.width),M===void 0&&(M=this.scene.sys.scale.height),R===void 0&&(R=64),O===void 0&&(O=!0),L===void 0&&(L=!0),b===void 0&&(b=!0),N===void 0&&(N=!0),this.updateWall(O,"left",T-R,C-R,R,M+R*2),this.updateWall(L,"right",T+A,C-R,R,M+R*2),this.updateWall(b,"top",T,C-R,A,R),this.updateWall(N,"bottom",T,C+M,A,R),this},updateWall:function(T,C,A,M,R,O){var L=this.walls[C];T?(L&&p.remove(this.localWorld,L),A+=R/2,M+=O/2,this.walls[C]=this.create(A,M,R,O,{isStatic:!0,friction:0,frictionStatic:0})):(L&&p.remove(this.localWorld,L),this.walls[C]=null)},createDebugGraphic:function(){var T=this.scene.sys.add.graphics({x:0,y:0});return T.setDepth(Number.MAX_VALUE),this.debugGraphic=T,this.drawDebug=!0,T},disableGravity:function(){return this.localWorld.gravity.x=0,this.localWorld.gravity.y=0,this.localWorld.gravity.scale=0,this},setGravity:function(T,C,A){return T===void 0&&(T=0),C===void 0&&(C=1),A===void 0&&(A=.001),this.localWorld.gravity.x=T,this.localWorld.gravity.y=C,this.localWorld.gravity.scale=A,this},create:function(T,C,A,M,R){var O=o.rectangle(T,C,A,M,R);return p.add(this.localWorld,O),O},add:function(T){return p.add(this.localWorld,T),this},remove:function(T,C){Array.isArray(T)||(T=[T]);for(var A=0;A<T.length;A++){var M=T[A],R=M.body?M.body:M;s.remove(this.localWorld,R,C)}return this},removeConstraint:function(T,C){return s.remove(this.localWorld,T,C),this},convertTilemapLayer:function(T,C){var A=T.layer,M=T.getTilesWithin(0,0,A.width,A.height,{isColliding:!0});return this.convertTiles(M,C),this},convertTiles:function(T,C){if(T.length===0)return this;for(var A=0;A<T.length;A++)new d(this,T[A],C);return this},nextGroup:function(T){return f.nextGroup(T)},nextCategory:function(){return f.nextCategory()},pause:function(){return this.enabled=!1,this.emit(h.PAUSE),this},resume:function(){return this.enabled=!0,this.emit(h.RESUME),this},update:function(T,C){if(!(!this.enabled||!this.autoUpdate)){var A=this.engine,M=this.runner,R=A.timing;M.isFixed?C=this.getDelta(T,C):(C=T-M.timePrev||M.delta,M.timePrev=T,M.deltaHistory.push(C),M.deltaHistory=M.deltaHistory.slice(-M.deltaSampleSize),C=Math.min.apply(null,M.deltaHistory),C=C<M.deltaMin?M.deltaMin:C,C=C>M.deltaMax?M.deltaMax:C,M.delta=C),M.timeScalePrev=R.timeScale,M.frameCounter+=1,T-M.counterTimestamp>=1e3&&(M.fps=M.frameCounter*((T-M.counterTimestamp)/1e3),M.counterTimestamp=T,M.frameCounter=0),e.update(A,C)}},step:function(T){e.update(this.engine,T)},update60Hz:function(){return 1e3/60},update30Hz:function(){return 1e3/30},has:function(T){var C=T.hasOwnProperty("body")?T.body:T;return s.get(this.localWorld,C.id,C.type)!==null},getAllBodies:function(){return s.allBodies(this.localWorld)},getAllConstraints:function(){return s.allConstraints(this.localWorld)},getAllComposites:function(){return s.allComposites(this.localWorld)},postUpdate:function(){if(this.drawDebug){var T=this.debugConfig,C=this.engine,A=this.debugGraphic,M=s.allBodies(this.localWorld);this.debugGraphic.clear(),T.showBroadphase&&C.broadphase.controller&&this.renderGrid(C.broadphase,A,T.broadphaseColor,.5),T.showBounds&&this.renderBodyBounds(M,A,T.boundsColor,.5),(T.showBody||T.showStaticBody)&&this.renderBodies(M),T.showJoint&&this.renderJoints(),(T.showAxes||T.showAngleIndicator)&&this.renderBodyAxes(M,A,T.showAxes,T.angleColor,.5),T.showVelocity&&this.renderBodyVelocity(M,A,T.velocityColor,1,2),T.showSeparations&&this.renderSeparations(C.pairs.list,A,T.separationColor),T.showCollisions&&this.renderCollisions(C.pairs.list,A,T.collisionColor)}},renderGrid:function(T,C,A,M){C.lineStyle(1,A,M);for(var R=i.keys(T.buckets),O=0;O<R.length;O++){var L=R[O];if(!(T.buckets[L].length<2)){var b=L.split(/C|R/);C.strokeRect(parseInt(b[1],10)*T.bucketWidth,parseInt(b[2],10)*T.bucketHeight,T.bucketWidth,T.bucketHeight)}}return this},renderSeparations:function(T,C,A){C.lineStyle(1,A,1);for(var M=0;M<T.length;M++){var R=T[M];if(R.isActive){var O=R.collision,L=O.bodyA,b=O.bodyB,N=L.position,I=b.position,G=O.penetration,X=!L.isStatic&&!b.isStatic?4:1;b.isStatic&&(X=0),C.lineBetween(I.x,I.y,I.x-G.x*X,I.y-G.y*X),X=!L.isStatic&&!b.isStatic?4:1,L.isStatic&&(X=0),C.lineBetween(N.x,N.y,N.x-G.x*X,N.y-G.y*X)}}return this},renderCollisions:function(T,C,A){C.lineStyle(1,A,.5),C.fillStyle(A,1);var M,R;for(M=0;M<T.length;M++)if(R=T[M],!!R.isActive)for(var O=0;O<R.activeContacts.length;O++){var L=R.activeContacts[O],b=L.vertex;C.fillRect(b.x-2,b.y-2,5,5)}for(M=0;M<T.length;M++)if(R=T[M],!!R.isActive){var N=R.collision,I=R.activeContacts;if(I.length>0){var G=I[0].vertex.x,X=I[0].vertex.y;I.length===2&&(G=(I[0].vertex.x+I[1].vertex.x)/2,X=(I[0].vertex.y+I[1].vertex.y)/2),N.bodyB===N.supports[0].body||N.bodyA.isStatic?C.lineBetween(G-N.normal.x*8,X-N.normal.y*8,G,X):C.lineBetween(G+N.normal.x*8,X+N.normal.y*8,G,X)}}return this},renderBodyBounds:function(T,C,A,M){C.lineStyle(1,A,M);for(var R=0;R<T.length;R++){var O=T[R];if(O.render.visible){var L=O.bounds;if(L)C.strokeRect(L.min.x,L.min.y,L.max.x-L.min.x,L.max.y-L.min.y);else for(var b=O.parts,N=b.length>1?1:0;N<b.length;N++){var I=b[N];C.strokeRect(I.bounds.min.x,I.bounds.min.y,I.bounds.max.x-I.bounds.min.x,I.bounds.max.y-I.bounds.min.y)}}}return this},renderBodyAxes:function(T,C,A,M,R){C.lineStyle(1,M,R);for(var O=0;O<T.length;O++){var L=T[O],b=L.parts;if(L.render.visible){var N,I,G;if(A)for(I=b.length>1?1:0;I<b.length;I++)for(N=b[I],G=0;G<N.axes.length;G++){var X=N.axes[G];C.lineBetween(N.position.x,N.position.y,N.position.x+X.x*20,N.position.y+X.y*20)}else for(I=b.length>1?1:0;I<b.length;I++)for(N=b[I],G=0;G<N.axes.length;G++)C.lineBetween(N.position.x,N.position.y,(N.vertices[0].x+N.vertices[N.vertices.length-1].x)/2,(N.vertices[0].y+N.vertices[N.vertices.length-1].y)/2)}}return this},renderBodyVelocity:function(T,C,A,M,R){C.lineStyle(R,A,M);for(var O=0;O<T.length;O++){var L=T[O];L.render.visible&&C.lineBetween(L.position.x,L.position.y,L.position.x+(L.position.x-L.positionPrev.x)*2,L.position.y+(L.position.y-L.positionPrev.y)*2)}return this},renderBodies:function(T){for(var C=this.debugGraphic,A=this.debugConfig,M=A.showBody,R=A.showStaticBody,O=A.showSleeping,L=A.showInternalEdges,b=A.showConvexHulls,N=A.renderFill,I=A.renderLine,G=A.staticBodySleepOpacity,X=A.sleepFillColor,$=A.sleepLineColor,J=A.hullColor,z=0;z<T.length;z++){var Y=T[z];if(Y.render.visible&&!(!R&&Y.isStatic||!M&&!Y.isStatic)){var D=Y.render.lineColor,B=Y.render.lineOpacity,U=Y.render.lineThickness,H=Y.render.fillColor,j=Y.render.fillOpacity;O&&Y.isSleeping&&(Y.isStatic?(B*=G,j*=G):(D=$,H=X)),N||(H=null),I||(D=null),this.renderBody(Y,C,L,D,B,U,H,j);var q=Y.parts.length;b&&q>1&&this.renderConvexHull(Y,C,J,U)}}},renderBody:function(T,C,A,M,R,O,L,b){M===void 0&&(M=null),R===void 0&&(R=null),O===void 0&&(O=1),L===void 0&&(L=null),b===void 0&&(b=null);for(var N=this.debugConfig,I=N.sensorFillColor,G=N.sensorLineColor,X=T.parts,$=X.length,J=$>1?1:0;J<$;J++){var z=X[J],Y=z.render,D=Y.opacity;if(!(!Y.visible||D===0||z.isSensor&&!N.showSensors)){var B=z.circleRadius;if(C.beginPath(),z.isSensor?(L!==null&&C.fillStyle(I,b*D),M!==null&&C.lineStyle(O,G,R*D)):(L!==null&&C.fillStyle(L,b*D),M!==null&&C.lineStyle(O,M,R*D)),B)C.arc(z.position.x,z.position.y,B,0,2*Math.PI);else{var U=z.vertices,H=U.length;C.moveTo(U[0].x,U[0].y);for(var j=1;j<H;j++){var q=U[j];if(!U[j-1].isInternal||A?C.lineTo(q.x,q.y):C.moveTo(q.x,q.y),j<H&&q.isInternal&&!A){var _=(j+1)%H;C.moveTo(U[_].x,U[_].y)}}C.closePath()}L!==null&&C.fillPath(),M!==null&&C.strokePath()}}if(N.showPositions&&!T.isStatic){var st=T.position.x,ut=T.position.y,ct=Math.ceil(N.positionSize/2);C.fillStyle(N.positionColor,1),C.fillRect(st-ct,ut-ct,N.positionSize,N.positionSize)}return this},renderConvexHull:function(T,C,A,M){M===void 0&&(M=1);var R=T.parts,O=R.length;if(O>1){var L=T.vertices;C.lineStyle(M,A),C.beginPath(),C.moveTo(L[0].x,L[0].y);for(var b=1;b<L.length;b++)C.lineTo(L[b].x,L[b].y);C.lineTo(L[0].x,L[0].y),C.strokePath()}return this},renderJoints:function(){for(var T=this.debugGraphic,C=s.allConstraints(this.localWorld),A=0;A<C.length;A++){var M=C[A].render,R=M.lineColor,O=M.lineOpacity,L=M.lineThickness,b=M.pinSize,N=M.anchorColor,I=M.anchorSize;this.renderConstraint(C[A],T,R,O,L,b,N,I)}},renderConstraint:function(T,C,A,M,R,O,L,b){var N=T.render;if(!N.visible||!T.pointA||!T.pointB)return this;C.lineStyle(R,A,M);var I=T.bodyA,G=T.bodyB,X,$;if(I?X=x.add(I.position,T.pointA):X=T.pointA,N.type==="pin")C.strokeCircle(X.x,X.y,O);else{if(G?$=x.add(G.position,T.pointB):$=T.pointB,C.beginPath(),C.moveTo(X.x,X.y),N.type==="spring")for(var J=x.sub($,X),z=x.perp(x.normalise(J)),Y=Math.ceil(i.clamp(T.length/5,12,20)),D,B=1;B<Y;B+=1)D=B%2===0?1:-1,C.lineTo(X.x+J.x*(B/Y)+z.x*D*4,X.y+J.y*(B/Y)+z.y*D*4);C.lineTo($.x,$.y)}return C.strokePath(),N.anchors&&b>0&&(C.fillStyle(L),C.fillCircle(X.x,X.y,b),C.fillCircle($.x,$.y,b)),this},resetCollisionIDs:function(){return v._nextCollidingGroupId=1,v._nextNonCollidingGroupId=-1,v._nextCategory=1,this},shutdown:function(){u.off(this.engine),this.removeAllListeners(),p.clear(this.localWorld,!1),e.clear(this.engine),this.drawDebug&&this.debugGraphic.destroy()},destroy:function(){this.shutdown()}});c.exports=E},70410:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g={setBounce:function(t){return this.body.restitution=t,this}};c.exports=g},66968:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g={setCollisionCategory:function(t){return this.body.collisionFilter.category=t,this},setCollisionGroup:function(t){return this.body.collisionFilter.group=t,this},setCollidesWith:function(t){var o=0;if(!Array.isArray(t))o=t;else for(var v=0;v<t.length;v++)o|=t[v];return this.body.collisionFilter.mask=o,this},setOnCollide:function(t){return this.body.onCollideCallback=t,this},setOnCollideEnd:function(t){return this.body.onCollideEndCallback=t,this},setOnCollideActive:function(t){return this.body.onCollideActiveCallback=t,this},setOnCollideWith:function(t,o){Array.isArray(t)||(t=[t]);for(var v=0;v<t.length;v++){var a=t[v].hasOwnProperty("body")?t[v].body:t[v];this.body.setOnCollideWith(a,o)}return this}};c.exports=g},51607:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(22562),v={applyForce:function(a){return this._tempVec2.set(this.body.position.x,this.body.position.y),o.applyForce(this.body,this._tempVec2,a),this},applyForceFrom:function(a,i){return o.applyForce(this.body,a,i),this},thrust:function(a){var i=this.body.angle;return this._tempVec2.set(a*Math.cos(i),a*Math.sin(i)),o.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustLeft:function(a){var i=this.body.angle-Math.PI/2;return this._tempVec2.set(a*Math.cos(i),a*Math.sin(i)),o.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustRight:function(a){var i=this.body.angle+Math.PI/2;return this._tempVec2.set(a*Math.cos(i),a*Math.sin(i)),o.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustBack:function(a){var i=this.body.angle-Math.PI;return this._tempVec2.set(a*Math.cos(i),a*Math.sin(i)),o.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this}};c.exports=v},5436:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g={setFriction:function(t,o,v){return this.body.friction=t,o!==void 0&&(this.body.frictionAir=o),v!==void 0&&(this.body.frictionStatic=v),this},setFrictionAir:function(t){return this.body.frictionAir=t,this},setFrictionStatic:function(t){return this.body.frictionStatic=t,this}};c.exports=g},39858:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g={setIgnoreGravity:function(t){return this.body.ignoreGravity=t,this}};c.exports=g},37302:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(22562),v=t(26099),a={setMass:function(i){return o.setMass(this.body,i),this},setDensity:function(i){return o.setDensity(this.body,i),this},centerOfMass:{get:function(){return new v(this.body.centerOfMass.x,this.body.centerOfMass.y)}}};c.exports=a},39132:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g={setSensor:function(t){return this.body.isSensor=t,this},isSensor:function(){return this.body.isSensor}};c.exports=g},57772:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(66280),v=t(22562),a=t(43855),i=t(95540),s=t(19496),e=t(85791),r=t(41598),h={setRectangle:function(n,l,f){return this.setBody({type:"rectangle",width:n,height:l},f)},setCircle:function(n,l){return this.setBody({type:"circle",radius:n},l)},setPolygon:function(n,l,f){return this.setBody({type:"polygon",sides:l,radius:n},f)},setTrapezoid:function(n,l,f,u){return this.setBody({type:"trapezoid",width:n,height:l,slope:f},u)},setExistingBody:function(n,l){l===void 0&&(l=!0),this.body&&this.world.remove(this.body,!0),this.body=n;for(var f=0;f<n.parts.length;f++)n.parts[f].gameObject=this;var u=this;if(n.destroy=function(){u.world.remove(u.body,!0),u.body.gameObject=null},l&&(this.world.has(n)&&this.world.remove(n,!0),this.world.add(n)),this._originComponent){var d=n.render.sprite.xOffset,p=n.render.sprite.yOffset,x=n.centerOfMass.x,E=n.centerOfMass.y;if(a(x,.5)&&a(E,.5))this.setOrigin(d+.5,p+.5);else{var T=n.centerOffset.x,C=n.centerOffset.y;this.setOrigin(d+T/this.displayWidth,p+C/this.displayHeight)}}return this},setBody:function(n,l){if(!n)return this;var f;typeof n=="string"&&(n={type:n});var u=i(n,"type","rectangle"),d=i(n,"x",this._tempVec2.x),p=i(n,"y",this._tempVec2.y),x=i(n,"width",this.width),E=i(n,"height",this.height);switch(u){case"rectangle":f=o.rectangle(d,p,x,E,l);break;case"circle":var T=i(n,"radius",Math.max(x,E)/2),C=i(n,"maxSides",25);f=o.circle(d,p,T,l,C);break;case"trapezoid":var A=i(n,"slope",.5);f=o.trapezoid(d,p,x,E,A,l);break;case"polygon":var M=i(n,"sides",5),R=i(n,"radius",Math.max(x,E)/2);f=o.polygon(d,p,M,R,l);break;case"fromVertices":case"fromVerts":var O=i(n,"verts",null);if(O)if(typeof O=="string"&&(O=r.fromPath(O)),this.body&&!this.body.hasOwnProperty("temp"))v.setVertices(this.body,O),f=this.body;else{var L=i(n,"flagInternal",!1),b=i(n,"removeCollinear",.01),N=i(n,"minimumArea",10);f=o.fromVertices(d,p,O,l,L,b,N)}break;case"fromPhysicsEditor":f=s.parseBody(d,p,n,l);break;case"fromPhysicsTracer":f=e.parseBody(d,p,n,l);break}return f&&this.setExistingBody(f,n.addToWorld),this}};c.exports=h},38083:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(1121),v=t(53614),a=t(35810),i={setToSleep:function(){return v.set(this.body,!0),this},setAwake:function(){return v.set(this.body,!1),this},setSleepThreshold:function(s){return s===void 0&&(s=60),this.body.sleepThreshold=s,this},setSleepEvents:function(s,e){return this.setSleepStartEvent(s),this.setSleepEndEvent(e),this},setSleepStartEvent:function(s){if(s){var e=this.world;a.on(this.body,"sleepStart",function(r){e.emit(o.SLEEP_START,r,this)})}else a.off(this.body,"sleepStart");return this},setSleepEndEvent:function(s){if(s){var e=this.world;a.on(this.body,"sleepEnd",function(r){e.emit(o.SLEEP_END,r,this)})}else a.off(this.body,"sleepEnd");return this}};c.exports=i},90556:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(22562),v={setStatic:function(a){return o.setStatic(this.body,a),this},isStatic:function(){return this.body.isStatic}};c.exports=v},85436:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(22562),v=t(36383),a=t(86554),i=t(30954),s=4,e={x:{get:function(){return this.body.position.x},set:function(r){this._tempVec2.set(r,this.y),o.setPosition(this.body,this._tempVec2)}},y:{get:function(){return this.body.position.y},set:function(r){this._tempVec2.set(this.x,r),o.setPosition(this.body,this._tempVec2)}},scaleX:{get:function(){return this._scaleX},set:function(r){var h=1/this._scaleX,n=1/this._scaleY;this._scaleX=r,this._scaleX===0?this.renderFlags&=-5:this.renderFlags|=s,o.scale(this.body,h,n),o.scale(this.body,r,this._scaleY)}},scaleY:{get:function(){return this._scaleY},set:function(r){var h=1/this._scaleX,n=1/this._scaleY;this._scaleY=r,this._scaleY===0?this.renderFlags&=-5:this.renderFlags|=s,o.scale(this.body,h,n),o.scale(this.body,this._scaleX,r)}},angle:{get:function(){return i(this.body.angle*v.RAD_TO_DEG)},set:function(r){this.rotation=i(r)*v.DEG_TO_RAD}},rotation:{get:function(){return this.body.angle},set:function(r){this._rotation=a(r),o.setAngle(this.body,this._rotation)}},setPosition:function(r,h){return r===void 0&&(r=0),h===void 0&&(h=r),this._tempVec2.set(r,h),o.setPosition(this.body,this._tempVec2),this},setRotation:function(r){return r===void 0&&(r=0),this._rotation=a(r),o.setAngle(this.body,r),this},setFixedRotation:function(){return o.setInertia(this.body,1/0),this},setAngle:function(r){return r===void 0&&(r=0),this.angle=r,o.setAngle(this.body,this.rotation),this},setScale:function(r,h,n){r===void 0&&(r=1),h===void 0&&(h=r);var l=1/this._scaleX,f=1/this._scaleY;return this._scaleX=r,this._scaleY=h,o.scale(this.body,l,f,n),o.scale(this.body,r,h,n),this}};c.exports=e},42081:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(22562),v={setVelocityX:function(a){return this._tempVec2.set(a,this.body.velocity.y),o.setVelocity(this.body,this._tempVec2),this},setVelocityY:function(a){return this._tempVec2.set(this.body.velocity.x,a),o.setVelocity(this.body,this._tempVec2),this},setVelocity:function(a,i){return this._tempVec2.set(a,i),o.setVelocity(this.body,this._tempVec2),this},getVelocity:function(){return o.getVelocity(this.body)},setAngularVelocity:function(a){return o.setAngularVelocity(this.body,a),this},getAngularVelocity:function(){return o.getAngularVelocity(this.body)},setAngularSpeed:function(a){return o.setAngularSpeed(this.body,a),this},getAngularSpeed:function(){return o.getAngularSpeed(this.body)}};c.exports=v},31884:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Bounce:t(70410),Collision:t(66968),Force:t(51607),Friction:t(5436),Gravity:t(39858),Mass:t(37302),Sensor:t(39132),SetBody:t(57772),Sleep:t(38083),Static:t(90556),Transform:t(85436),Velocity:t(42081)}},85608:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="afteradd"},1213:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="afterremove"},25968:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="afterupdate"},67205:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="beforeadd"},39438:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="beforeremove"},44823:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="beforeupdate"},92593:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="collisionactive"},60128:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="collisionend"},76861:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="collisionstart"},92362:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="dragend"},76408:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="drag"},93971:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="dragstart"},5656:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pause"},47861:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="resume"},79099:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="sleepend"},35906:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="sleepstart"},1121:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={AFTER_ADD:t(85608),AFTER_REMOVE:t(1213),AFTER_UPDATE:t(25968),BEFORE_ADD:t(67205),BEFORE_REMOVE:t(39438),BEFORE_UPDATE:t(44823),COLLISION_ACTIVE:t(92593),COLLISION_END:t(60128),COLLISION_START:t(76861),DRAG_END:t(92362),DRAG:t(76408),DRAG_START:t(93971),PAUSE:t(5656),RESUME:t(47861),SLEEP_END:t(79099),SLEEP_START:t(35906)}},3875:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={BodyBounds:t(68174),Components:t(31884),Events:t(1121),Factory:t(28137),MatterGameObject:t(75803),Image:t(23181),Matter:t(19933),MatterPhysics:t(42045),PolyDecomp:t(55973),Sprite:t(34803),TileBody:t(73834),PhysicsEditorParser:t(19496),PhysicsJSONParser:t(85791),PointerConstraint:t(98713),World:t(68243)}},22562:(c,g,t)=>{var o={};c.exports=o;var v=t(41598),a=t(31725),i=t(53614),s=t(53402),e=t(15647),r=t(66615);(function(){o._timeCorrection=!0,o._inertiaScale=4,o._nextCollidingGroupId=1,o._nextNonCollidingGroupId=-1,o._nextCategory=1,o._baseDelta=16.666666666666668,o.create=function(n){var l={id:s.nextId(),type:"body",label:"Body",parts:[],plugin:{},angle:0,vertices:null,position:{x:0,y:0},force:{x:0,y:0},torque:0,positionImpulse:{x:0,y:0},constraintImpulse:{x:0,y:0,angle:0},totalContacts:0,speed:0,angularSpeed:0,velocity:{x:0,y:0},angularVelocity:0,isSensor:!1,isStatic:!1,isSleeping:!1,motion:0,sleepThreshold:60,density:.001,restitution:0,friction:.1,frictionStatic:.5,frictionAir:.01,collisionFilter:{category:1,mask:4294967295,group:0},slop:.05,timeScale:1,events:null,bounds:null,chamfer:null,circleRadius:0,positionPrev:null,anglePrev:0,parent:null,axes:null,area:0,mass:0,inverseMass:0,inertia:0,deltaTime:16.666666666666668,inverseInertia:0,_original:null,render:{visible:!0,opacity:1,sprite:{xOffset:0,yOffset:0},fillColor:null,fillOpacity:null,lineColor:null,lineOpacity:null,lineThickness:null},gameObject:null,scale:{x:1,y:1},centerOfMass:{x:0,y:0},centerOffset:{x:0,y:0},gravityScale:{x:1,y:1},ignoreGravity:!1,ignorePointer:!1,onCollideCallback:null,onCollideEndCallback:null,onCollideActiveCallback:null,onCollideWith:{}};!n.hasOwnProperty("position")&&n.hasOwnProperty("vertices")?n.position=v.centre(n.vertices):n.hasOwnProperty("vertices")||(l.vertices=v.fromPath("L 0 0 L 40 0 L 40 40 L 0 40"));var f=s.extend(l,n);return h(f,n),f.setOnCollideWith=function(u,d){return d?this.onCollideWith[u.id]=d:delete this.onCollideWith[u.id],this},f},o.nextGroup=function(n){return n?o._nextNonCollidingGroupId--:o._nextCollidingGroupId++},o.nextCategory=function(){return o._nextCategory=o._nextCategory<<1,o._nextCategory};var h=function(n,l){if(l=l||{},o.set(n,{bounds:n.bounds||e.create(n.vertices),positionPrev:n.positionPrev||a.clone(n.position),anglePrev:n.anglePrev||n.angle,vertices:n.vertices,parts:n.parts||[n],isStatic:n.isStatic,isSleeping:n.isSleeping,parent:n.parent||n}),v.rotate(n.vertices,n.angle,n.position),r.rotate(n.axes,n.angle),e.update(n.bounds,n.vertices,n.velocity),o.set(n,{axes:l.axes||n.axes,area:l.area||n.area,mass:l.mass||n.mass,inertia:l.inertia||n.inertia}),n.parts.length===1){var f=n.bounds,u=n.centerOfMass,d=n.centerOffset,p=f.max.x-f.min.x,x=f.max.y-f.min.y;u.x=-(f.min.x-n.position.x)/p,u.y=-(f.min.y-n.position.y)/x,d.x=p*u.x,d.y=x*u.y}};o.set=function(n,l,f){var u;typeof l=="string"&&(u=l,l={},l[u]=f);for(u in l)if(Object.prototype.hasOwnProperty.call(l,u))switch(f=l[u],u){case"isStatic":o.setStatic(n,f);break;case"isSleeping":i.set(n,f);break;case"mass":o.setMass(n,f);break;case"density":o.setDensity(n,f);break;case"inertia":o.setInertia(n,f);break;case"vertices":o.setVertices(n,f);break;case"position":o.setPosition(n,f);break;case"angle":o.setAngle(n,f);break;case"velocity":o.setVelocity(n,f);break;case"angularVelocity":o.setAngularVelocity(n,f);break;case"speed":o.setSpeed(n,f);break;case"angularSpeed":o.setAngularSpeed(n,f);break;case"parts":o.setParts(n,f);break;case"centre":o.setCentre(n,f);break;default:n[u]=f}},o.setStatic=function(n,l){for(var f=0;f<n.parts.length;f++){var u=n.parts[f];l?(u.isStatic||(u._original={restitution:u.restitution,friction:u.friction,mass:u.mass,inertia:u.inertia,density:u.density,inverseMass:u.inverseMass,inverseInertia:u.inverseInertia}),u.restitution=0,u.friction=1,u.mass=u.inertia=u.density=1/0,u.inverseMass=u.inverseInertia=0,u.positionPrev.x=u.position.x,u.positionPrev.y=u.position.y,u.anglePrev=u.angle,u.angularVelocity=0,u.speed=0,u.angularSpeed=0,u.motion=0):u._original&&(u.restitution=u._original.restitution,u.friction=u._original.friction,u.mass=u._original.mass,u.inertia=u._original.inertia,u.density=u._original.density,u.inverseMass=u._original.inverseMass,u.inverseInertia=u._original.inverseInertia,u._original=null),u.isStatic=l}},o.setMass=function(n,l){var f=n.inertia/(n.mass/6);n.inertia=f*(l/6),n.inverseInertia=1/n.inertia,n.mass=l,n.inverseMass=1/n.mass,n.density=n.mass/n.area},o.setDensity=function(n,l){o.setMass(n,l*n.area),n.density=l},o.setInertia=function(n,l){n.inertia=l,n.inverseInertia=1/n.inertia},o.setVertices=function(n,l){l[0].body===n?n.vertices=l:n.vertices=v.create(l,n),n.axes=r.fromVertices(n.vertices),n.area=v.area(n.vertices),o.setMass(n,n.density*n.area);var f=v.centre(n.vertices);v.translate(n.vertices,f,-1),o.setInertia(n,o._inertiaScale*v.inertia(n.vertices,n.mass)),v.translate(n.vertices,n.position),e.update(n.bounds,n.vertices,n.velocity)},o.setParts=function(n,l,f){var u;for(l=l.slice(0),n.parts.length=0,n.parts.push(n),n.parent=n,u=0;u<l.length;u++){var d=l[u];d!==n&&(d.parent=n,n.parts.push(d))}if(n.parts.length!==1){if(f=typeof f<"u"?f:!0,f){var p=[];for(u=0;u<l.length;u++)p=p.concat(l[u].vertices);v.clockwiseSort(p);var x=v.hull(p),E=v.centre(x);o.setVertices(n,x),v.translate(n.vertices,E)}var T=o._totalProperties(n),C=T.centre.x,A=T.centre.y,M=n.bounds,R=n.centerOfMass,O=n.centerOffset;e.update(M,n.vertices,n.velocity),R.x=-(M.min.x-C)/(M.max.x-M.min.x),R.y=-(M.min.y-A)/(M.max.y-M.min.y),O.x=C,O.y=A,n.area=T.area,n.parent=n,n.position.x=C,n.position.y=A,n.positionPrev.x=C,n.positionPrev.y=A,o.setMass(n,T.mass),o.setInertia(n,T.inertia),o.setPosition(n,T.centre)}},o.setCentre=function(n,l,f){f?(n.positionPrev.x+=l.x,n.positionPrev.y+=l.y,n.position.x+=l.x,n.position.y+=l.y):(n.positionPrev.x=l.x-(n.position.x-n.positionPrev.x),n.positionPrev.y=l.y-(n.position.y-n.positionPrev.y),n.position.x=l.x,n.position.y=l.y)},o.setPosition=function(n,l,f){var u=a.sub(l,n.position);f?(n.positionPrev.x=n.position.x,n.positionPrev.y=n.position.y,n.velocity.x=u.x,n.velocity.y=u.y,n.speed=a.magnitude(u)):(n.positionPrev.x+=u.x,n.positionPrev.y+=u.y);for(var d=0;d<n.parts.length;d++){var p=n.parts[d];p.position.x+=u.x,p.position.y+=u.y,v.translate(p.vertices,u),e.update(p.bounds,p.vertices,n.velocity)}},o.setAngle=function(n,l,f){var u=l-n.angle;f?(n.anglePrev=n.angle,n.angularVelocity=u,n.angularSpeed=Math.abs(u)):n.anglePrev+=u;for(var d=0;d<n.parts.length;d++){var p=n.parts[d];p.angle+=u,v.rotate(p.vertices,u,n.position),r.rotate(p.axes,u),e.update(p.bounds,p.vertices,n.velocity),d>0&&a.rotateAbout(p.position,u,n.position,p.position)}},o.setVelocity=function(n,l){var f=n.deltaTime/o._baseDelta;n.positionPrev.x=n.position.x-l.x*f,n.positionPrev.y=n.position.y-l.y*f,n.velocity.x=(n.position.x-n.positionPrev.x)/f,n.velocity.y=(n.position.y-n.positionPrev.y)/f,n.speed=a.magnitude(n.velocity)},o.getVelocity=function(n){var l=o._baseDelta/n.deltaTime;return{x:(n.position.x-n.positionPrev.x)*l,y:(n.position.y-n.positionPrev.y)*l}},o.getSpeed=function(n){return a.magnitude(o.getVelocity(n))},o.setSpeed=function(n,l){o.setVelocity(n,a.mult(a.normalise(o.getVelocity(n)),l))},o.setAngularVelocity=function(n,l){var f=n.deltaTime/o._baseDelta;n.anglePrev=n.angle-l*f,n.angularVelocity=(n.angle-n.anglePrev)/f,n.angularSpeed=Math.abs(n.angularVelocity)},o.getAngularVelocity=function(n){return(n.angle-n.anglePrev)*o._baseDelta/n.deltaTime},o.getAngularSpeed=function(n){return Math.abs(o.getAngularVelocity(n))},o.setAngularSpeed=function(n,l){o.setAngularVelocity(n,s.sign(o.getAngularVelocity(n))*l)},o.translate=function(n,l,f){o.setPosition(n,a.add(n.position,l),f)},o.rotate=function(n,l,f,u){if(!f)o.setAngle(n,n.angle+l,u);else{var d=Math.cos(l),p=Math.sin(l),x=n.position.x-f.x,E=n.position.y-f.y;o.setPosition(n,{x:f.x+(x*d-E*p),y:f.y+(x*p+E*d)},u),o.setAngle(n,n.angle+l,u)}},o.scale=function(n,l,f,u){var d=0,p=0;u=u||n.position;for(var x=n.inertia===1/0,E=0;E<n.parts.length;E++){var T=n.parts[E];T.scale.x=l,T.scale.y=f,v.scale(T.vertices,l,f,u),T.axes=r.fromVertices(T.vertices),T.area=v.area(T.vertices),o.setMass(T,n.density*T.area),v.translate(T.vertices,{x:-T.position.x,y:-T.position.y}),o.setInertia(T,o._inertiaScale*v.inertia(T.vertices,T.mass)),v.translate(T.vertices,{x:T.position.x,y:T.position.y}),E>0&&(d+=T.area,p+=T.inertia),T.position.x=u.x+(T.position.x-u.x)*l,T.position.y=u.y+(T.position.y-u.y)*f,e.update(T.bounds,T.vertices,n.velocity)}n.parts.length>1&&(n.area=d,n.isStatic||(o.setMass(n,n.density*d),o.setInertia(n,p))),n.circleRadius&&(l===f?n.circleRadius*=l:n.circleRadius=null),x&&o.setInertia(n,1/0)},o.update=function(n,l){l=(typeof l<"u"?l:16.666666666666668)*n.timeScale;var f=l*l,u=o._timeCorrection?l/(n.deltaTime||l):1,d=1-n.frictionAir*(l/s._baseDelta),p=(n.position.x-n.positionPrev.x)*u,x=(n.position.y-n.positionPrev.y)*u;n.velocity.x=p*d+n.force.x/n.mass*f,n.velocity.y=x*d+n.force.y/n.mass*f,n.positionPrev.x=n.position.x,n.positionPrev.y=n.position.y,n.position.x+=n.velocity.x,n.position.y+=n.velocity.y,n.deltaTime=l,n.angularVelocity=(n.angle-n.anglePrev)*d*u+n.torque/n.inertia*f,n.anglePrev=n.angle,n.angle+=n.angularVelocity,n.speed=a.magnitude(n.velocity),n.angularSpeed=Math.abs(n.angularVelocity);for(var E=0;E<n.parts.length;E++){var T=n.parts[E];v.translate(T.vertices,n.velocity),E>0&&(T.position.x+=n.velocity.x,T.position.y+=n.velocity.y),n.angularVelocity!==0&&(v.rotate(T.vertices,n.angularVelocity,n.position),r.rotate(T.axes,n.angularVelocity),E>0&&a.rotateAbout(T.position,n.angularVelocity,n.position,T.position)),e.update(T.bounds,T.vertices,n.velocity)}},o.updateVelocities=function(n){var l=o._baseDelta/n.deltaTime,f=n.velocity;f.x=(n.position.x-n.positionPrev.x)*l,f.y=(n.position.y-n.positionPrev.y)*l,n.speed=Math.sqrt(f.x*f.x+f.y*f.y),n.angularVelocity=(n.angle-n.anglePrev)*l,n.angularSpeed=Math.abs(n.angularVelocity)},o.applyForce=function(n,l,f){var u={x:l.x-n.position.x,y:l.y-n.position.y};n.force.x+=f.x,n.force.y+=f.y,n.torque+=u.x*f.y-u.y*f.x},o._totalProperties=function(n){for(var l={mass:0,area:0,inertia:0,centre:{x:0,y:0}},f=n.parts.length===1?0:1;f<n.parts.length;f++){var u=n.parts[f],d=u.mass!==1/0?u.mass:1;l.mass+=d,l.area+=u.area,l.inertia+=u.inertia,l.centre=a.add(l.centre,a.mult(u.position,d))}return l.centre=a.div(l.centre,l.mass),l}})()},69351:(c,g,t)=>{var o={};c.exports=o;var v=t(35810),a=t(53402),i=t(15647),s=t(22562);(function(){o.create=function(e){return a.extend({id:a.nextId(),type:"composite",parent:null,isModified:!1,bodies:[],constraints:[],composites:[],label:"Composite",plugin:{},cache:{allBodies:null,allConstraints:null,allComposites:null}},e)},o.setModified=function(e,r,h,n){if(v.trigger(e,"compositeModified",e),e.isModified=r,r&&e.cache&&(e.cache.allBodies=null,e.cache.allConstraints=null,e.cache.allComposites=null),h&&e.parent&&o.setModified(e.parent,r,h,n),n)for(var l=0;l<e.composites.length;l++){var f=e.composites[l];o.setModified(f,r,h,n)}},o.add=function(e,r){var h=[].concat(r);v.trigger(e,"beforeAdd",{object:r});for(var n=0;n<h.length;n++){var l=h[n];switch(l.type){case"body":if(l.parent!==l){a.warn("Composite.add: skipped adding a compound body part (you must add its parent instead)");break}o.addBody(e,l);break;case"constraint":o.addConstraint(e,l);break;case"composite":o.addComposite(e,l);break;case"mouseConstraint":o.addConstraint(e,l.constraint);break}}return v.trigger(e,"afterAdd",{object:r}),e},o.remove=function(e,r,h){var n=[].concat(r);v.trigger(e,"beforeRemove",{object:r});for(var l=0;l<n.length;l++){var f=n[l];switch(f.type){case"body":o.removeBody(e,f,h);break;case"constraint":o.removeConstraint(e,f,h);break;case"composite":o.removeComposite(e,f,h);break;case"mouseConstraint":o.removeConstraint(e,f.constraint);break}}return v.trigger(e,"afterRemove",{object:r}),e},o.addComposite=function(e,r){return e.composites.push(r),r.parent=e,o.setModified(e,!0,!0,!1),e},o.removeComposite=function(e,r,h){var n=a.indexOf(e.composites,r);if(n!==-1&&o.removeCompositeAt(e,n),h)for(var l=0;l<e.composites.length;l++)o.removeComposite(e.composites[l],r,!0);return e},o.removeCompositeAt=function(e,r){return e.composites.splice(r,1),o.setModified(e,!0,!0,!1),e},o.addBody=function(e,r){return e.bodies.push(r),o.setModified(e,!0,!0,!1),e},o.removeBody=function(e,r,h){var n=a.indexOf(e.bodies,r);if(n!==-1&&o.removeBodyAt(e,n),h)for(var l=0;l<e.composites.length;l++)o.removeBody(e.composites[l],r,!0);return e},o.removeBodyAt=function(e,r){return e.bodies.splice(r,1),o.setModified(e,!0,!0,!1),e},o.addConstraint=function(e,r){return e.constraints.push(r),o.setModified(e,!0,!0,!1),e},o.removeConstraint=function(e,r,h){var n=a.indexOf(e.constraints,r);if(n!==-1&&o.removeConstraintAt(e,n),h)for(var l=0;l<e.composites.length;l++)o.removeConstraint(e.composites[l],r,!0);return e},o.removeConstraintAt=function(e,r){return e.constraints.splice(r,1),o.setModified(e,!0,!0,!1),e},o.clear=function(e,r,h){if(h)for(var n=0;n<e.composites.length;n++)o.clear(e.composites[n],r,!0);return r?e.bodies=e.bodies.filter(function(l){return l.isStatic}):e.bodies.length=0,e.constraints.length=0,e.composites.length=0,o.setModified(e,!0,!0,!1),e},o.allBodies=function(e){if(e.cache&&e.cache.allBodies)return e.cache.allBodies;for(var r=[].concat(e.bodies),h=0;h<e.composites.length;h++)r=r.concat(o.allBodies(e.composites[h]));return e.cache&&(e.cache.allBodies=r),r},o.allConstraints=function(e){if(e.cache&&e.cache.allConstraints)return e.cache.allConstraints;for(var r=[].concat(e.constraints),h=0;h<e.composites.length;h++)r=r.concat(o.allConstraints(e.composites[h]));return e.cache&&(e.cache.allConstraints=r),r},o.allComposites=function(e){if(e.cache&&e.cache.allComposites)return e.cache.allComposites;for(var r=[].concat(e.composites),h=0;h<e.composites.length;h++)r=r.concat(o.allComposites(e.composites[h]));return e.cache&&(e.cache.allComposites=r),r},o.get=function(e,r,h){var n,l;switch(h){case"body":n=o.allBodies(e);break;case"constraint":n=o.allConstraints(e);break;case"composite":n=o.allComposites(e).concat(e);break}return n?(l=n.filter(function(f){return f.id.toString()===r.toString()}),l.length===0?null:l[0]):null},o.move=function(e,r,h){return o.remove(e,r),o.add(h,r),e},o.rebase=function(e){for(var r=o.allBodies(e).concat(o.allConstraints(e)).concat(o.allComposites(e)),h=0;h<r.length;h++)r[h].id=a.nextId();return e},o.translate=function(e,r,h){for(var n=h?o.allBodies(e):e.bodies,l=0;l<n.length;l++)s.translate(n[l],r);return e},o.rotate=function(e,r,h,n){for(var l=Math.cos(r),f=Math.sin(r),u=n?o.allBodies(e):e.bodies,d=0;d<u.length;d++){var p=u[d],x=p.position.x-h.x,E=p.position.y-h.y;s.setPosition(p,{x:h.x+(x*l-E*f),y:h.y+(x*f+E*l)}),s.rotate(p,r)}return e},o.scale=function(e,r,h,n,l){for(var f=l?o.allBodies(e):e.bodies,u=0;u<f.length;u++){var d=f[u],p=d.position.x-n.x,x=d.position.y-n.y;s.setPosition(d,{x:n.x+p*r,y:n.y+x*h}),s.scale(d,r,h)}return e},o.bounds=function(e){for(var r=o.allBodies(e),h=[],n=0;n<r.length;n+=1){var l=r[n];h.push(l.bounds.min,l.bounds.max)}return i.create(h)}})()},4372:(c,g,t)=>{var o={};c.exports=o;var v=t(69351);(function(){o.create=v.create,o.add=v.add,o.remove=v.remove,o.clear=v.clear,o.addComposite=v.addComposite,o.addBody=v.addBody,o.addConstraint=v.addConstraint})()},52284:(c,g,t)=>{var o={};c.exports=o;var v=t(41598),a=t(4506);(function(){var i=[],s={overlap:0,axis:null},e={overlap:0,axis:null};o.create=function(r,h){return{pair:null,collided:!1,bodyA:r,bodyB:h,parentA:r.parent,parentB:h.parent,depth:0,normal:{x:0,y:0},tangent:{x:0,y:0},penetration:{x:0,y:0},supports:[]}},o.collides=function(r,h,n){if(o._overlapAxes(s,r.vertices,h.vertices,r.axes),s.overlap<=0||(o._overlapAxes(e,h.vertices,r.vertices,h.axes),e.overlap<=0))return null;var l=n&&n.table[a.id(r,h)],f;l?f=l.collision:(f=o.create(r,h),f.collided=!0,f.bodyA=r.id<h.id?r:h,f.bodyB=r.id<h.id?h:r,f.parentA=f.bodyA.parent,f.parentB=f.bodyB.parent),r=f.bodyA,h=f.bodyB;var u;s.overlap<e.overlap?u=s:u=e;var d=f.normal,p=f.supports,x=u.axis,E=x.x,T=x.y;E*(h.position.x-r.position.x)+T*(h.position.y-r.position.y)<0?(d.x=E,d.y=T):(d.x=-E,d.y=-T),f.tangent.x=-d.y,f.tangent.y=d.x,f.depth=u.overlap,f.penetration.x=d.x*f.depth,f.penetration.y=d.y*f.depth;var C=o._findSupports(r,h,d,1),A=0;if(v.contains(r.vertices,C[0])&&(p[A++]=C[0]),v.contains(r.vertices,C[1])&&(p[A++]=C[1]),A<2){var M=o._findSupports(h,r,d,-1);v.contains(h.vertices,M[0])&&(p[A++]=M[0]),A<2&&v.contains(h.vertices,M[1])&&(p[A++]=M[1])}return A===0&&(p[A++]=C[0]),p.length=A,f},o._overlapAxes=function(r,h,n,l){var f=h.length,u=n.length,d=h[0].x,p=h[0].y,x=n[0].x,E=n[0].y,T=l.length,C=Number.MAX_VALUE,A=0,M,R,O,L,b,N;for(b=0;b<T;b++){var I=l[b],G=I.x,X=I.y,$=d*G+p*X,J=x*G+E*X,z=$,Y=J;for(N=1;N<f;N+=1)L=h[N].x*G+h[N].y*X,L>z?z=L:L<$&&($=L);for(N=1;N<u;N+=1)L=n[N].x*G+n[N].y*X,L>Y?Y=L:L<J&&(J=L);if(R=z-J,O=Y-$,M=R<O?R:O,M<C&&(C=M,A=b,M<=0))break}r.axis=l[A],r.overlap=C},o._projectToAxis=function(r,h,n){for(var l=h[0].x*n.x+h[0].y*n.y,f=l,u=1;u<h.length;u+=1){var d=h[u].x*n.x+h[u].y*n.y;d>f?f=d:d<l&&(l=d)}r.min=l,r.max=f},o._findSupports=function(r,h,n,l){var f=h.vertices,u=f.length,d=r.position.x,p=r.position.y,x=n.x*l,E=n.y*l,T=Number.MAX_VALUE,C,A,M,R,O;for(O=0;O<u;O+=1)A=f[O],R=x*(d-A.x)+E*(p-A.y),R<T&&(T=R,C=A);return M=f[(u+C.index-1)%u],T=x*(d-M.x)+E*(p-M.y),A=f[(C.index+1)%u],x*(d-A.x)+E*(p-A.y)<T?(i[0]=C,i[1]=A,i):(i[0]=C,i[1]=M,i)}})()},43424:c=>{var g={};c.exports=g,function(){g.create=function(t){return{vertex:t,normalImpulse:0,tangentImpulse:0}}}()},81388:(c,g,t)=>{var o={};c.exports=o;var v=t(53402),a=t(52284);(function(){o.create=function(i){var s={bodies:[],pairs:null};return v.extend(s,i)},o.setBodies=function(i,s){i.bodies=s.slice(0)},o.clear=function(i){i.bodies=[]},o.collisions=function(i){var s=[],e=i.pairs,r=i.bodies,h=r.length,n=o.canCollide,l=a.collides,f,u;for(r.sort(o._compareBoundsX),f=0;f<h;f++){var d=r[f],p=d.bounds,x=d.bounds.max.x,E=d.bounds.max.y,T=d.bounds.min.y,C=d.isStatic||d.isSleeping,A=d.parts.length,M=A===1;for(u=f+1;u<h;u++){var R=r[u],O=R.bounds;if(O.min.x>x)break;if(!(E<O.min.y||T>O.max.y)&&!(C&&(R.isStatic||R.isSleeping))&&n(d.collisionFilter,R.collisionFilter)){var L=R.parts.length;if(M&&L===1){var b=l(d,R,e);b&&s.push(b)}else for(var N=A>1?1:0,I=L>1?1:0,G=N;G<A;G++)for(var X=d.parts[G],p=X.bounds,$=I;$<L;$++){var J=R.parts[$],O=J.bounds;if(!(p.min.x>O.max.x||p.max.x<O.min.x||p.max.y<O.min.y||p.min.y>O.max.y)){var b=l(X,J,e);b&&s.push(b)}}}}}return s},o.canCollide=function(i,s){return i.group===s.group&&i.group!==0?i.group>0:(i.mask&s.category)!==0&&(s.mask&i.category)!==0},o._compareBoundsX=function(i,s){return i.bounds.min.x-s.bounds.min.x}})()},4506:(c,g,t)=>{var o={};c.exports=o;var v=t(43424);(function(){o.create=function(a,i){var s=a.bodyA,e=a.bodyB,r={id:o.id(s,e),bodyA:s,bodyB:e,collision:a,contacts:[],activeContacts:[],separation:0,isActive:!0,confirmedActive:!0,isSensor:s.isSensor||e.isSensor,timeCreated:i,timeUpdated:i,inverseMass:0,friction:0,frictionStatic:0,restitution:0,slop:0};return o.update(r,a,i),r},o.update=function(a,i,s){var e=a.contacts,r=i.supports,h=a.activeContacts,n=i.parentA,l=i.parentB,f=n.vertices.length;a.isActive=!0,a.timeUpdated=s,a.collision=i,a.separation=i.depth,a.inverseMass=n.inverseMass+l.inverseMass,a.friction=n.friction<l.friction?n.friction:l.friction,a.frictionStatic=n.frictionStatic>l.frictionStatic?n.frictionStatic:l.frictionStatic,a.restitution=n.restitution>l.restitution?n.restitution:l.restitution,a.slop=n.slop>l.slop?n.slop:l.slop,i.pair=a,h.length=0;for(var u=0;u<r.length;u++){var d=r[u],p=d.body===n?d.index:f+d.index,x=e[p];x?h.push(x):h.push(e[p]=v.create(d))}},o.setActive=function(a,i,s){i?(a.isActive=!0,a.timeUpdated=s):(a.isActive=!1,a.activeContacts.length=0)},o.id=function(a,i){return a.id<i.id?"A"+a.id+"B"+i.id:"A"+i.id+"B"+a.id}})()},99561:(c,g,t)=>{var o={};c.exports=o;var v=t(4506),a=t(53402);(function(){o.create=function(i){return a.extend({table:{},list:[],collisionStart:[],collisionActive:[],collisionEnd:[]},i)},o.update=function(i,s,e){var r=i.list,h=r.length,n=i.table,l=s.length,f=i.collisionStart,u=i.collisionEnd,d=i.collisionActive,p,x,E,T;for(f.length=0,u.length=0,d.length=0,T=0;T<h;T++)r[T].confirmedActive=!1;for(T=0;T<l;T++)p=s[T],E=p.pair,E?(E.isActive?d.push(E):f.push(E),v.update(E,p,e),E.confirmedActive=!0):(E=v.create(p,e),n[E.id]=E,f.push(E),r.push(E));var C=[];for(h=r.length,T=0;T<h;T++)E=r[T],E.confirmedActive||(v.setActive(E,!1,e),u.push(E),!E.collision.bodyA.isSleeping&&!E.collision.bodyB.isSleeping&&C.push(T));for(T=0;T<C.length;T++)x=C[T]-T,E=r[x],r.splice(x,1),delete n[E.id]},o.clear=function(i){return i.table={},i.list.length=0,i.collisionStart.length=0,i.collisionActive.length=0,i.collisionEnd.length=0,i}})()},73296:(c,g,t)=>{var o={};c.exports=o;var v=t(31725),a=t(52284),i=t(15647),s=t(66280),e=t(41598);(function(){o.collides=function(r,h){for(var n=[],l=h.length,f=r.bounds,u=a.collides,d=i.overlaps,p=0;p<l;p++){var x=h[p],E=x.parts.length,T=E===1?0:1;if(r!==x&&d(x.bounds,f))for(var C=T;C<E;C++){var A=x.parts[C];if(d(A.bounds,f)){var M=u(A,r);if(M){n.push(M);break}}}}return n},o.ray=function(r,h,n,l){l=l||1e-100;for(var f=v.angle(h,n),u=v.magnitude(v.sub(h,n)),d=(n.x+h.x)*.5,p=(n.y+h.y)*.5,x=s.rectangle(d,p,u,l,{angle:f}),E=o.collides(x,r),T=0;T<E.length;T+=1){var C=E[T];C.body=C.bodyB=C.bodyA}return E},o.region=function(r,h,n){for(var l=[],f=0;f<r.length;f++){var u=r[f],d=i.overlaps(u.bounds,h);(d&&!n||!d&&n)&&l.push(u)}return l},o.point=function(r,h){for(var n=[],l=0;l<r.length;l++){var f=r[l];if(i.contains(f.bounds,h))for(var u=f.parts.length===1?0:1;u<f.parts.length;u++){var d=f.parts[u];if(i.contains(d.bounds,h)&&e.contains(d.vertices,h)){n.push(f);break}}}return n}})()},66272:(c,g,t)=>{var o={};c.exports=o;var v=t(41598),a=t(53402),i=t(15647);(function(){o._restingThresh=2,o._restingThreshTangent=Math.sqrt(6),o._positionDampen=.9,o._positionWarming=.8,o._frictionNormalMultiplier=5,o._frictionMaxStatic=Number.MAX_VALUE,o.preSolvePosition=function(s){var e,r,h,n=s.length;for(e=0;e<n;e++)r=s[e],r.isActive&&(h=r.activeContacts.length,r.collision.parentA.totalContacts+=h,r.collision.parentB.totalContacts+=h)},o.solvePosition=function(s,e,r){var h,n,l,f,u,d,p,x,E=o._positionDampen*(r||1),T=a.clamp(e/a._baseDelta,0,1),C=s.length;for(h=0;h<C;h++)n=s[h],!(!n.isActive||n.isSensor)&&(l=n.collision,f=l.parentA,u=l.parentB,d=l.normal,n.separation=d.x*(u.positionImpulse.x+l.penetration.x-f.positionImpulse.x)+d.y*(u.positionImpulse.y+l.penetration.y-f.positionImpulse.y));for(h=0;h<C;h++)n=s[h],!(!n.isActive||n.isSensor)&&(l=n.collision,f=l.parentA,u=l.parentB,d=l.normal,x=n.separation-n.slop*T,(f.isStatic||u.isStatic)&&(x*=2),f.isStatic||f.isSleeping||(p=E/f.totalContacts,f.positionImpulse.x+=d.x*x*p,f.positionImpulse.y+=d.y*x*p),u.isStatic||u.isSleeping||(p=E/u.totalContacts,u.positionImpulse.x-=d.x*x*p,u.positionImpulse.y-=d.y*x*p))},o.postSolvePosition=function(s){for(var e=o._positionWarming,r=s.length,h=v.translate,n=i.update,l=0;l<r;l++){var f=s[l],u=f.positionImpulse,d=u.x,p=u.y,x=f.velocity;if(f.totalContacts=0,d!==0||p!==0){for(var E=0;E<f.parts.length;E++){var T=f.parts[E];h(T.vertices,u),n(T.bounds,T.vertices,x),T.position.x+=d,T.position.y+=p}f.positionPrev.x+=d,f.positionPrev.y+=p,d*x.x+p*x.y<0?(u.x=0,u.y=0):(u.x*=e,u.y*=e)}}},o.preSolveVelocity=function(s){var e=s.length,r,h;for(r=0;r<e;r++){var n=s[r];if(!(!n.isActive||n.isSensor)){var l=n.activeContacts,f=l.length,u=n.collision,d=u.parentA,p=u.parentB,x=u.normal,E=u.tangent;for(h=0;h<f;h++){var T=l[h],C=T.vertex,A=T.normalImpulse,M=T.tangentImpulse;if(A!==0||M!==0){var R=x.x*A+E.x*M,O=x.y*A+E.y*M;d.isStatic||d.isSleeping||(d.positionPrev.x+=R*d.inverseMass,d.positionPrev.y+=O*d.inverseMass,d.anglePrev+=d.inverseInertia*((C.x-d.position.x)*O-(C.y-d.position.y)*R)),p.isStatic||p.isSleeping||(p.positionPrev.x-=R*p.inverseMass,p.positionPrev.y-=O*p.inverseMass,p.anglePrev-=p.inverseInertia*((C.x-p.position.x)*O-(C.y-p.position.y)*R))}}}}},o.solveVelocity=function(s,e){var r=e/a._baseDelta,h=r*r,n=h*r,l=-o._restingThresh*r,f=o._restingThreshTangent,u=o._frictionNormalMultiplier*r,d=o._frictionMaxStatic,p=s.length,x,E,T,C;for(T=0;T<p;T++){var A=s[T];if(!(!A.isActive||A.isSensor)){var M=A.collision,R=M.parentA,O=M.parentB,L=R.velocity,b=O.velocity,N=M.normal.x,I=M.normal.y,G=M.tangent.x,X=M.tangent.y,$=A.activeContacts,J=$.length,z=1/J,Y=R.inverseMass+O.inverseMass,D=A.friction*A.frictionStatic*u;for(L.x=R.position.x-R.positionPrev.x,L.y=R.position.y-R.positionPrev.y,b.x=O.position.x-O.positionPrev.x,b.y=O.position.y-O.positionPrev.y,R.angularVelocity=R.angle-R.anglePrev,O.angularVelocity=O.angle-O.anglePrev,C=0;C<J;C++){var B=$[C],U=B.vertex,H=U.x-R.position.x,j=U.y-R.position.y,q=U.x-O.position.x,_=U.y-O.position.y,st=L.x-j*R.angularVelocity,ut=L.y+H*R.angularVelocity,ct=b.x-_*O.angularVelocity,pt=b.y+q*O.angularVelocity,Tt=st-ct,mt=ut-pt,wt=N*Tt+I*mt,Nt=G*Tt+X*mt,zt=A.separation+wt,Ot=Math.min(zt,1);Ot=zt<0?0:Ot;var St=Ot*D;Nt<-St||Nt>St?(E=Nt>0?Nt:-Nt,x=A.friction*(Nt>0?1:-1)*n,x<-E?x=-E:x>E&&(x=E)):(x=Nt,E=d);var It=H*I-j*N,bt=q*I-_*N,Xt=z/(Y+R.inverseInertia*It*It+O.inverseInertia*bt*bt),Wt=(1+A.restitution)*wt*Xt;if(x*=Xt,wt<l)B.normalImpulse=0;else{var he=B.normalImpulse;B.normalImpulse+=Wt,B.normalImpulse>0&&(B.normalImpulse=0),Wt=B.normalImpulse-he}if(Nt<-f||Nt>f)B.tangentImpulse=0;else{var kt=B.tangentImpulse;B.tangentImpulse+=x,B.tangentImpulse<-E&&(B.tangentImpulse=-E),B.tangentImpulse>E&&(B.tangentImpulse=E),x=B.tangentImpulse-kt}var jt=N*Wt+G*x,Ht=I*Wt+X*x;R.isStatic||R.isSleeping||(R.positionPrev.x+=jt*R.inverseMass,R.positionPrev.y+=Ht*R.inverseMass,R.anglePrev+=(H*Ht-j*jt)*R.inverseInertia),O.isStatic||O.isSleeping||(O.positionPrev.x-=jt*O.inverseMass,O.positionPrev.y-=Ht*O.inverseMass,O.anglePrev-=(q*Ht-_*jt)*O.inverseInertia)}}}}})()},48140:(c,g,t)=>{var o={};c.exports=o;var v=t(41598),a=t(31725),i=t(53614),s=t(15647),e=t(66615),r=t(53402);(function(){o._warming=.4,o._torqueDampen=1,o._minLength=1e-6,o.create=function(h){var n=h;n.bodyA&&!n.pointA&&(n.pointA={x:0,y:0}),n.bodyB&&!n.pointB&&(n.pointB={x:0,y:0});var l=n.bodyA?a.add(n.bodyA.position,n.pointA):n.pointA,f=n.bodyB?a.add(n.bodyB.position,n.pointB):n.pointB,u=a.magnitude(a.sub(l,f));n.length=typeof n.length<"u"?n.length:u,n.id=n.id||r.nextId(),n.label=n.label||"Constraint",n.type="constraint",n.stiffness=n.stiffness||(n.length>0?1:.7),n.damping=n.damping||0,n.angularStiffness=n.angularStiffness||0,n.angleA=n.bodyA?n.bodyA.angle:n.angleA,n.angleB=n.bodyB?n.bodyB.angle:n.angleB,n.plugin={};var d={visible:!0,type:"line",anchors:!0,lineColor:null,lineOpacity:null,lineThickness:null,pinSize:null,anchorColor:null,anchorSize:null};return n.length===0&&n.stiffness>.1?(d.type="pin",d.anchors=!1):n.stiffness<.9&&(d.type="spring"),n.render=r.extend(d,n.render),n},o.preSolveAll=function(h){for(var n=0;n<h.length;n+=1){var l=h[n],f=l.constraintImpulse;l.isStatic||f.x===0&&f.y===0&&f.angle===0||(l.position.x+=f.x,l.position.y+=f.y,l.angle+=f.angle)}},o.solveAll=function(h,n){for(var l=r.clamp(n/r._baseDelta,0,1),f=0;f<h.length;f+=1){var u=h[f],d=!u.bodyA||u.bodyA&&u.bodyA.isStatic,p=!u.bodyB||u.bodyB&&u.bodyB.isStatic;(d||p)&&o.solve(h[f],l)}for(f=0;f<h.length;f+=1)u=h[f],d=!u.bodyA||u.bodyA&&u.bodyA.isStatic,p=!u.bodyB||u.bodyB&&u.bodyB.isStatic,!d&&!p&&o.solve(h[f],l)},o.solve=function(h,n){var l=h.bodyA,f=h.bodyB,u=h.pointA,d=h.pointB;if(!(!l&&!f)){l&&!l.isStatic&&(a.rotate(u,l.angle-h.angleA,u),h.angleA=l.angle),f&&!f.isStatic&&(a.rotate(d,f.angle-h.angleB,d),h.angleB=f.angle);var p=u,x=d;if(l&&(p=a.add(l.position,u)),f&&(x=a.add(f.position,d)),!(!p||!x)){var E=a.sub(p,x),T=a.magnitude(E);T<o._minLength&&(T=o._minLength);var C=(T-h.length)/T,A=h.stiffness>=1||h.length===0,M=A?h.stiffness*n:h.stiffness*n*n,R=h.damping*n,O=a.mult(E,C*M),L=(l?l.inverseMass:0)+(f?f.inverseMass:0),b=(l?l.inverseInertia:0)+(f?f.inverseInertia:0),N=L+b,I,G,X,$,J;if(R>0){var z=a.create();X=a.div(E,T),J=a.sub(f&&a.sub(f.position,f.positionPrev)||z,l&&a.sub(l.position,l.positionPrev)||z),$=a.dot(X,J)}l&&!l.isStatic&&(G=l.inverseMass/L,l.constraintImpulse.x-=O.x*G,l.constraintImpulse.y-=O.y*G,l.position.x-=O.x*G,l.position.y-=O.y*G,R>0&&(l.positionPrev.x-=R*X.x*$*G,l.positionPrev.y-=R*X.y*$*G),I=a.cross(u,O)/N*o._torqueDampen*l.inverseInertia*(1-h.angularStiffness),l.constraintImpulse.angle-=I,l.angle-=I),f&&!f.isStatic&&(G=f.inverseMass/L,f.constraintImpulse.x+=O.x*G,f.constraintImpulse.y+=O.y*G,f.position.x+=O.x*G,f.position.y+=O.y*G,R>0&&(f.positionPrev.x+=R*X.x*$*G,f.positionPrev.y+=R*X.y*$*G),I=a.cross(d,O)/N*o._torqueDampen*f.inverseInertia*(1-h.angularStiffness),f.constraintImpulse.angle+=I,f.angle+=I)}}},o.postSolveAll=function(h){for(var n=0;n<h.length;n++){var l=h[n],f=l.constraintImpulse;if(!(l.isStatic||f.x===0&&f.y===0&&f.angle===0)){i.set(l,!1);for(var u=0;u<l.parts.length;u++){var d=l.parts[u];v.translate(d.vertices,f),u>0&&(d.position.x+=f.x,d.position.y+=f.y),f.angle!==0&&(v.rotate(d.vertices,f.angle,l.position),e.rotate(d.axes,f.angle),u>0&&a.rotateAbout(d.position,f.angle,l.position,d.position)),s.update(d.bounds,d.vertices,l.velocity)}f.angle*=o._warming,f.x*=o._warming,f.y*=o._warming}}},o.pointAWorld=function(h){return{x:(h.bodyA?h.bodyA.position.x:0)+(h.pointA?h.pointA.x:0),y:(h.bodyA?h.bodyA.position.y:0)+(h.pointA?h.pointA.y:0)}},o.pointBWorld=function(h){return{x:(h.bodyB?h.bodyB.position.x:0)+(h.pointB?h.pointB.x:0),y:(h.bodyB?h.bodyB.position.y:0)+(h.pointB?h.pointB.y:0)}},o.currentLength=function(h){var n=(h.bodyA?h.bodyA.position.x:0)+(h.pointA?h.pointA.x:0),l=(h.bodyA?h.bodyA.position.y:0)+(h.pointA?h.pointA.y:0),f=(h.bodyB?h.bodyB.position.x:0)+(h.pointB?h.pointB.x:0),u=(h.bodyB?h.bodyB.position.y:0)+(h.pointB?h.pointB.y:0),d=n-f,p=l-u;return Math.sqrt(d*d+p*p)}})()},53402:(c,g,t)=>{var o={};c.exports=o,function(){o._baseDelta=16.666666666666668,o._nextId=0,o._seed=0,o._nowStartTime=+new Date,o._warnedOnce={},o._decomp=null,o.extend=function(a,i){var s,e;typeof i=="boolean"?(s=2,e=i):(s=1,e=!0);for(var r=s;r<arguments.length;r++){var h=arguments[r];if(h)for(var n in h)e&&h[n]&&h[n].constructor===Object&&(!a[n]||a[n].constructor===Object)?(a[n]=a[n]||{},o.extend(a[n],e,h[n])):a[n]=h[n]}return a},o.clone=function(a,i){return o.extend({},i,a)},o.keys=function(a){if(Object.keys)return Object.keys(a);var i=[];for(var s in a)i.push(s);return i},o.values=function(a){var i=[];if(Object.keys){for(var s=Object.keys(a),e=0;e<s.length;e++)i.push(a[s[e]]);return i}for(var r in a)i.push(a[r]);return i},o.get=function(a,i,s,e){i=i.split(".").slice(s,e);for(var r=0;r<i.length;r+=1)a=a[i[r]];return a},o.set=function(a,i,s,e,r){var h=i.split(".").slice(e,r);return o.get(a,i,0,-1)[h[h.length-1]]=s,s},o.shuffle=function(a){for(var i=a.length-1;i>0;i--){var s=Math.floor(o.random()*(i+1)),e=a[i];a[i]=a[s],a[s]=e}return a},o.choose=function(a){return a[Math.floor(o.random()*a.length)]},o.isElement=function(a){return typeof HTMLElement<"u"?a instanceof HTMLElement:!!(a&&a.nodeType&&a.nodeName)},o.isArray=function(a){return Object.prototype.toString.call(a)==="[object Array]"},o.isFunction=function(a){return typeof a=="function"},o.isPlainObject=function(a){return typeof a=="object"&&a.constructor===Object},o.isString=function(a){return toString.call(a)==="[object String]"},o.clamp=function(a,i,s){return a<i?i:a>s?s:a},o.sign=function(a){return a<0?-1:1},o.now=function(){if(typeof window<"u"&&window.performance){if(window.performance.now)return window.performance.now();if(window.performance.webkitNow)return window.performance.webkitNow()}return Date.now?Date.now():new Date-o._nowStartTime},o.random=function(a,i){return a=typeof a<"u"?a:0,i=typeof i<"u"?i:1,a+v()*(i-a)};var v=function(){return o._seed=(o._seed*9301+49297)%233280,o._seed/233280};o.colorToNumber=function(a){return a=a.replace("#",""),a.length==3&&(a=a.charAt(0)+a.charAt(0)+a.charAt(1)+a.charAt(1)+a.charAt(2)+a.charAt(2)),parseInt(a,16)},o.logLevel=1,o.log=function(){console&&o.logLevel>0&&o.logLevel<=3&&console.log.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},o.info=function(){console&&o.logLevel>0&&o.logLevel<=2&&console.info.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},o.warn=function(){console&&o.logLevel>0&&o.logLevel<=3&&console.warn.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},o.warnOnce=function(){var a=Array.prototype.slice.call(arguments).join(" ");o._warnedOnce[a]||(o.warn(a),o._warnedOnce[a]=!0)},o.deprecated=function(a,i,s){a[i]=o.chain(function(){o.warnOnce(" deprecated ",s)},a[i])},o.nextId=function(){return o._nextId++},o.indexOf=function(a,i){if(a.indexOf)return a.indexOf(i);for(var s=0;s<a.length;s++)if(a[s]===i)return s;return-1},o.map=function(a,i){if(a.map)return a.map(i);for(var s=[],e=0;e<a.length;e+=1)s.push(i(a[e]));return s},o.topologicalSort=function(a){var i=[],s=[],e=[];for(var r in a)!s[r]&&!e[r]&&o._topologicalSort(r,s,e,a,i);return i},o._topologicalSort=function(a,i,s,e,r){var h=e[a]||[];s[a]=!0;for(var n=0;n<h.length;n+=1){var l=h[n];s[l]||i[l]||o._topologicalSort(l,i,s,e,r)}s[a]=!1,i[a]=!0,r.push(a)},o.chain=function(){for(var a=[],i=0;i<arguments.length;i+=1){var s=arguments[i];s._chained?a.push.apply(a,s._chained):a.push(s)}var e=function(){for(var r,h=new Array(arguments.length),n=0,l=arguments.length;n<l;n++)h[n]=arguments[n];for(n=0;n<a.length;n+=1){var f=a[n].apply(r,h);typeof f<"u"&&(r=f)}return r};return e._chained=a,e},o.chainPathBefore=function(a,i,s){return o.set(a,i,o.chain(s,o.get(a,i)))},o.chainPathAfter=function(a,i,s){return o.set(a,i,o.chain(o.get(a,i),s))},o.setDecomp=function(a){o._decomp=a},o.getDecomp=function(){var a=o._decomp;try{!a&&typeof window<"u"&&(a=window.decomp),!a&&typeof t.g<"u"&&(a=t.g.decomp)}catch{a=null}return a}}()},48413:(c,g,t)=>{var o={};c.exports=o;var v=t(53614),a=t(66272),i=t(81388),s=t(99561),e=t(35810),r=t(69351),h=t(48140),n=t(53402),l=t(22562);(function(){o.create=function(f){f=f||{};var u={positionIterations:6,velocityIterations:4,constraintIterations:2,enableSleeping:!1,events:[],plugin:{},gravity:{x:0,y:1,scale:.001},timing:{timestamp:0,timeScale:1,lastDelta:0,lastElapsed:0}},d=n.extend(u,f);return d.world=f.world||r.create({label:"World"}),d.pairs=f.pairs||s.create(),d.detector=f.detector||i.create(),d.grid={buckets:[]},d.world.gravity=d.gravity,d.broadphase=d.grid,d.metrics={},d},o.update=function(f,u){var d=n.now(),p=f.world,x=f.detector,E=f.pairs,T=f.timing,C=T.timestamp,A;u=typeof u<"u"?u:n._baseDelta,u*=T.timeScale,T.timestamp+=u,T.lastDelta=u;var M={timestamp:T.timestamp,delta:u};e.trigger(f,"beforeUpdate",M);var R=r.allBodies(p),O=r.allConstraints(p);for(p.isModified&&(i.setBodies(x,R),r.setModified(p,!1,!1,!0)),f.enableSleeping&&v.update(R,u),o._bodiesApplyGravity(R,f.gravity),u>0&&o._bodiesUpdate(R,u),e.trigger(f,"beforeSolve",M),h.preSolveAll(R),A=0;A<f.constraintIterations;A++)h.solveAll(O,u);h.postSolveAll(R),x.pairs=f.pairs;var L=i.collisions(x);s.update(E,L,C),f.enableSleeping&&v.afterCollisions(E.list),E.collisionStart.length>0&&e.trigger(f,"collisionStart",{pairs:E.collisionStart,timestamp:T.timestamp,delta:u});var b=n.clamp(20/f.positionIterations,0,1);for(a.preSolvePosition(E.list),A=0;A<f.positionIterations;A++)a.solvePosition(E.list,u,b);for(a.postSolvePosition(R),h.preSolveAll(R),A=0;A<f.constraintIterations;A++)h.solveAll(O,u);for(h.postSolveAll(R),a.preSolveVelocity(E.list),A=0;A<f.velocityIterations;A++)a.solveVelocity(E.list,u);return o._bodiesUpdateVelocities(R),E.collisionActive.length>0&&e.trigger(f,"collisionActive",{pairs:E.collisionActive,timestamp:T.timestamp,delta:u}),E.collisionEnd.length>0&&e.trigger(f,"collisionEnd",{pairs:E.collisionEnd,timestamp:T.timestamp,delta:u}),o._bodiesClearForces(R),e.trigger(f,"afterUpdate",M),f.timing.lastElapsed=n.now()-d,f},o.merge=function(f,u){if(n.extend(f,u),u.world){f.world=u.world,o.clear(f);for(var d=r.allBodies(f.world),p=0;p<d.length;p++){var x=d[p];v.set(x,!1),x.id=n.nextId()}}},o.clear=function(f){s.clear(f.pairs),i.clear(f.detector)},o._bodiesClearForces=function(f){for(var u=f.length,d=0;d<u;d++){var p=f[d];p.force.x=0,p.force.y=0,p.torque=0}},o._bodiesApplyGravity=function(f,u){var d=typeof u.scale<"u"?u.scale:.001,p=f.length;if(!(u.x===0&&u.y===0||d===0))for(var x=0;x<p;x++){var E=f[x];E.ignoreGravity||E.isStatic||E.isSleeping||(E.force.y+=E.mass*u.y*d,E.force.x+=E.mass*u.x*d)}},o._bodiesUpdate=function(f,u){for(var d=f.length,p=0;p<d;p++){var x=f[p];x.isStatic||x.isSleeping||l.update(x,u)}},o._bodiesUpdateVelocities=function(f){for(var u=f.length,d=0;d<u;d++)l.updateVelocities(f[d])}})()},35810:(c,g,t)=>{var o={};c.exports=o;var v=t(53402);(function(){o.on=function(a,i,s){for(var e=i.split(" "),r,h=0;h<e.length;h++)r=e[h],a.events=a.events||{},a.events[r]=a.events[r]||[],a.events[r].push(s);return s},o.off=function(a,i,s){if(!i){a.events={};return}typeof i=="function"&&(s=i,i=v.keys(a.events).join(" "));for(var e=i.split(" "),r=0;r<e.length;r++){var h=a.events[e[r]],n=[];if(s&&h)for(var l=0;l<h.length;l++)h[l]!==s&&n.push(h[l]);a.events[e[r]]=n}},o.trigger=function(a,i,s){var e,r,h,n,l=a.events;if(l&&v.keys(l).length>0){s||(s={}),e=i.split(" ");for(var f=0;f<e.length;f++)if(r=e[f],h=l[r],h){n=v.clone(s,!1),n.name=r,n.source=a;for(var u=0;u<h.length;u++)h[u].apply(a,[n])}}}})()},6790:(c,g,t)=>{var o={};c.exports=o;var v=t(73832),a=t(53402);(function(){o.name="matter-js",o.version="0.19.0",o.uses=[],o.used=[],o.use=function(){v.use(o,Array.prototype.slice.call(arguments))},o.before=function(i,s){return i=i.replace(/^Matter./,""),a.chainPathBefore(o,i,s)},o.after=function(i,s){return i=i.replace(/^Matter./,""),a.chainPathAfter(o,i,s)}})()},73832:(c,g,t)=>{var o={};c.exports=o;var v=t(53402);(function(){o._registry={},o.register=function(a){if(o.isPlugin(a)||v.warn("Plugin.register:",o.toString(a),"does not implement all required fields."),a.name in o._registry){var i=o._registry[a.name],s=o.versionParse(a.version).number,e=o.versionParse(i.version).number;s>e?(v.warn("Plugin.register:",o.toString(i),"was upgraded to",o.toString(a)),o._registry[a.name]=a):s<e?v.warn("Plugin.register:",o.toString(i),"can not be downgraded to",o.toString(a)):a!==i&&v.warn("Plugin.register:",o.toString(a),"is already registered to different plugin object")}else o._registry[a.name]=a;return a},o.resolve=function(a){return o._registry[o.dependencyParse(a).name]},o.toString=function(a){return typeof a=="string"?a:(a.name||"anonymous")+"@"+(a.version||a.range||"0.0.0")},o.isPlugin=function(a){return a&&a.name&&a.version&&a.install},o.isUsed=function(a,i){return a.used.indexOf(i)>-1},o.isFor=function(a,i){var s=a.for&&o.dependencyParse(a.for);return!a.for||i.name===s.name&&o.versionSatisfies(i.version,s.range)},o.use=function(a,i){if(a.uses=(a.uses||[]).concat(i||[]),a.uses.length===0){v.warn("Plugin.use:",o.toString(a),"does not specify any dependencies to install.");return}for(var s=o.dependencies(a),e=v.topologicalSort(s),r=[],h=0;h<e.length;h+=1)if(e[h]!==a.name){var n=o.resolve(e[h]);if(!n){r.push(" "+e[h]);continue}o.isUsed(a,n.name)||(o.isFor(n,a)||(v.warn("Plugin.use:",o.toString(n),"is for",n.for,"but installed on",o.toString(a)+"."),n._warned=!0),n.install?n.install(a):(v.warn("Plugin.use:",o.toString(n),"does not specify an install function."),n._warned=!0),n._warned?(r.push(" "+o.toString(n)),delete n._warned):r.push(" "+o.toString(n)),a.used.push(n.name))}r.length>0&&!n.silent&&v.info(r.join("  "))},o.dependencies=function(a,i){var s=o.dependencyParse(a),e=s.name;if(i=i||{},!(e in i)){a=o.resolve(a)||a,i[e]=v.map(a.uses||[],function(h){o.isPlugin(h)&&o.register(h);var n=o.dependencyParse(h),l=o.resolve(h);return l&&!o.versionSatisfies(l.version,n.range)?(v.warn("Plugin.dependencies:",o.toString(l),"does not satisfy",o.toString(n),"used by",o.toString(s)+"."),l._warned=!0,a._warned=!0):l||(v.warn("Plugin.dependencies:",o.toString(h),"used by",o.toString(s),"could not be resolved."),a._warned=!0),n.name});for(var r=0;r<i[e].length;r+=1)o.dependencies(i[e][r],i);return i}},o.dependencyParse=function(a){if(v.isString(a)){var i=/^[\w-]+(@(\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-+]+)?))?$/;return i.test(a)||v.warn("Plugin.dependencyParse:",a,"is not a valid dependency string."),{name:a.split("@")[0],range:a.split("@")[1]||"*"}}return{name:a.name,range:a.range||a.version}},o.versionParse=function(a){var i=/^(\*)|(\^|~|>=|>)?\s*((\d+)\.(\d+)\.(\d+))(-[0-9A-Za-z-+]+)?$/;i.test(a)||v.warn("Plugin.versionParse:",a,"is not a valid version or range.");var s=i.exec(a),e=Number(s[4]),r=Number(s[5]),h=Number(s[6]);return{isRange:!!(s[1]||s[2]),version:s[3],range:a,operator:s[1]||s[2]||"",major:e,minor:r,patch:h,parts:[e,r,h],prerelease:s[7],number:e*1e8+r*1e4+h}},o.versionSatisfies=function(a,i){i=i||"*";var s=o.versionParse(i),e=o.versionParse(a);if(s.isRange){if(s.operator==="*"||a==="*")return!0;if(s.operator===">")return e.number>s.number;if(s.operator===">=")return e.number>=s.number;if(s.operator==="~")return e.major===s.major&&e.minor===s.minor&&e.patch>=s.patch;if(s.operator==="^")return s.major>0?e.major===s.major&&e.number>=s.number:s.minor>0?e.minor===s.minor&&e.patch>=s.patch:e.patch===s.patch}return a===i||a==="*"}})()},53614:(c,g,t)=>{var o={};c.exports=o;var v=t(22562),a=t(35810),i=t(53402);(function(){o._motionWakeThreshold=.18,o._motionSleepThreshold=.08,o._minBias=.9,o.update=function(s,e){for(var r=e/i._baseDelta,h=o._motionSleepThreshold,n=0;n<s.length;n++){var l=s[n],f=v.getSpeed(l),u=v.getAngularSpeed(l),d=f*f+u*u;if(l.force.x!==0||l.force.y!==0){o.set(l,!1);continue}var p=Math.min(l.motion,d),x=Math.max(l.motion,d);l.motion=o._minBias*p+(1-o._minBias)*x,l.sleepThreshold>0&&l.motion<h?(l.sleepCounter+=1,l.sleepCounter>=l.sleepThreshold/r&&o.set(l,!0)):l.sleepCounter>0&&(l.sleepCounter-=1)}},o.afterCollisions=function(s){for(var e=o._motionSleepThreshold,r=0;r<s.length;r++){var h=s[r];if(h.isActive){var n=h.collision,l=n.bodyA.parent,f=n.bodyB.parent;if(!(l.isSleeping&&f.isSleeping||l.isStatic||f.isStatic)&&(l.isSleeping||f.isSleeping)){var u=l.isSleeping&&!l.isStatic?l:f,d=u===l?f:l;!u.isStatic&&d.motion>e&&o.set(u,!1)}}}},o.set=function(s,e){var r=s.isSleeping;e?(s.isSleeping=!0,s.sleepCounter=s.sleepThreshold,s.positionImpulse.x=0,s.positionImpulse.y=0,s.positionPrev.x=s.position.x,s.positionPrev.y=s.position.y,s.anglePrev=s.angle,s.speed=0,s.angularSpeed=0,s.motion=0,r||a.trigger(s,"sleepStart")):(s.isSleeping=!1,s.sleepCounter=0,r&&a.trigger(s,"sleepEnd"))}})()},66280:(c,g,t)=>{var o={};c.exports=o;var v=t(41598),a=t(53402),i=t(22562),s=t(15647),e=t(31725);(function(){o.rectangle=function(r,h,n,l,f){f=f||{};var u={label:"Rectangle Body",position:{x:r,y:h},vertices:v.fromPath("L 0 0 L "+n+" 0 L "+n+" "+l+" L 0 "+l)};if(f.chamfer){var d=f.chamfer;u.vertices=v.chamfer(u.vertices,d.radius,d.quality,d.qualityMin,d.qualityMax),delete f.chamfer}return i.create(a.extend({},u,f))},o.trapezoid=function(r,h,n,l,f,u){u=u||{},f*=.5;var d=(1-f*2)*n,p=n*f,x=p+d,E=x+p,T;f<.5?T="L 0 0 L "+p+" "+-l+" L "+x+" "+-l+" L "+E+" 0":T="L 0 0 L "+x+" "+-l+" L "+E+" 0";var C={label:"Trapezoid Body",position:{x:r,y:h},vertices:v.fromPath(T)};if(u.chamfer){var A=u.chamfer;C.vertices=v.chamfer(C.vertices,A.radius,A.quality,A.qualityMin,A.qualityMax),delete u.chamfer}return i.create(a.extend({},C,u))},o.circle=function(r,h,n,l,f){l=l||{};var u={label:"Circle Body",circleRadius:n};f=f||25;var d=Math.ceil(Math.max(10,Math.min(f,n)));return d%2===1&&(d+=1),o.polygon(r,h,d,n,a.extend({},u,l))},o.polygon=function(r,h,n,l,f){if(f=f||{},n<3)return o.circle(r,h,l,f);for(var u=2*Math.PI/n,d="",p=u*.5,x=0;x<n;x+=1){var E=p+x*u,T=Math.cos(E)*l,C=Math.sin(E)*l;d+="L "+T.toFixed(3)+" "+C.toFixed(3)+" "}var A={label:"Polygon Body",position:{x:r,y:h},vertices:v.fromPath(d)};if(f.chamfer){var M=f.chamfer;A.vertices=v.chamfer(A.vertices,M.radius,M.quality,M.qualityMin,M.qualityMax),delete f.chamfer}return i.create(a.extend({},A,f))},o.fromVertices=function(r,h,n,l,f,u,d,p){var x=a.getDecomp(),E,T,C,A,M,R,O,L,b,N,I;for(E=!!(x&&x.quickDecomp),l=l||{},C=[],f=typeof f<"u"?f:!1,u=typeof u<"u"?u:.01,d=typeof d<"u"?d:10,p=typeof p<"u"?p:.01,a.isArray(n[0])||(n=[n]),N=0;N<n.length;N+=1)if(R=n[N],A=v.isConvex(R),M=!A,M&&!E&&a.warnOnce("Bodies.fromVertices: Install the 'poly-decomp' library and use Common.setDecomp or provide 'decomp' as a global to decompose concave vertices."),A||!E)A?R=v.clockwiseSort(R):R=v.hull(R),C.push({position:{x:r,y:h},vertices:R});else{var G=R.map(function(q){return[q.x,q.y]});x.makeCCW(G),u!==!1&&x.removeCollinearPoints(G,u),p!==!1&&x.removeDuplicatePoints&&x.removeDuplicatePoints(G,p);var X=x.quickDecomp(G);for(O=0;O<X.length;O++){var $=X[O],J=$.map(function(q){return{x:q[0],y:q[1]}});d>0&&v.area(J)<d||C.push({position:v.centre(J),vertices:J})}}for(O=0;O<C.length;O++)C[O]=i.create(a.extend(C[O],l));if(f){var z=5;for(O=0;O<C.length;O++){var Y=C[O];for(L=O+1;L<C.length;L++){var D=C[L];if(s.overlaps(Y.bounds,D.bounds)){var B=Y.vertices,U=D.vertices;for(b=0;b<Y.vertices.length;b++)for(I=0;I<D.vertices.length;I++){var H=e.magnitudeSquared(e.sub(B[(b+1)%B.length],U[I])),j=e.magnitudeSquared(e.sub(B[b],U[(I+1)%U.length]));H<z&&j<z&&(B[b].isInternal=!0,U[I].isInternal=!0)}}}}}return C.length>1?(T=i.create(a.extend({parts:C.slice(0)},l)),i.setPosition(T,{x:r,y:h}),T):C[0]},o.flagCoincidentParts=function(r,h){h===void 0&&(h=5);for(var n=0;n<r.length;n++)for(var l=r[n],f=n+1;f<r.length;f++){var u=r[f];if(s.overlaps(l.bounds,u.bounds))for(var d=l.vertices,p=u.vertices,x=0;x<l.vertices.length;x++)for(var E=0;E<u.vertices.length;E++){var T=e.magnitudeSquared(e.sub(d[(x+1)%d.length],p[E])),C=e.magnitudeSquared(e.sub(d[x],p[(E+1)%p.length]));T<h&&C<h&&(d[x].isInternal=!0,p[E].isInternal=!0)}}return r}})()},74116:(c,g,t)=>{var o={};c.exports=o;var v=t(69351),a=t(48140),i=t(53402),s=t(22562),e=t(66280);(function(){o.stack=function(r,h,n,l,f,u,d){for(var p=v.create({label:"Stack"}),x=r,E=h,T,C=0,A=0;A<l;A++){for(var M=0,R=0;R<n;R++){var O=d(x,E,R,A,T,C);if(O){var L=O.bounds.max.y-O.bounds.min.y,b=O.bounds.max.x-O.bounds.min.x;L>M&&(M=L),s.translate(O,{x:b*.5,y:L*.5}),x=O.bounds.max.x+f,v.addBody(p,O),T=O,C+=1}else x+=f}E+=M+u,x=r}return p},o.chain=function(r,h,n,l,f,u){for(var d=r.bodies,p=1;p<d.length;p++){var x=d[p-1],E=d[p],T=x.bounds.max.y-x.bounds.min.y,C=x.bounds.max.x-x.bounds.min.x,A=E.bounds.max.y-E.bounds.min.y,M=E.bounds.max.x-E.bounds.min.x,R={bodyA:x,pointA:{x:C*h,y:T*n},bodyB:E,pointB:{x:M*l,y:A*f}},O=i.extend(R,u);v.addConstraint(r,a.create(O))}return r.label+=" Chain",r},o.mesh=function(r,h,n,l,f){var u=r.bodies,d,p,x,E,T;for(d=0;d<n;d++){for(p=1;p<h;p++)x=u[p-1+d*h],E=u[p+d*h],v.addConstraint(r,a.create(i.extend({bodyA:x,bodyB:E},f)));if(d>0)for(p=0;p<h;p++)x=u[p+(d-1)*h],E=u[p+d*h],v.addConstraint(r,a.create(i.extend({bodyA:x,bodyB:E},f))),l&&p>0&&(T=u[p-1+(d-1)*h],v.addConstraint(r,a.create(i.extend({bodyA:T,bodyB:E},f)))),l&&p<h-1&&(T=u[p+1+(d-1)*h],v.addConstraint(r,a.create(i.extend({bodyA:T,bodyB:E},f))))}return r.label+=" Mesh",r},o.pyramid=function(r,h,n,l,f,u,d){return o.stack(r,h,n,l,f,u,function(p,x,E,T,C,A){var M=Math.min(l,Math.ceil(n/2)),R=C?C.bounds.max.x-C.bounds.min.x:0;if(!(T>M)){T=M-T;var O=T,L=n-1-T;if(!(E<O||E>L)){A===1&&s.translate(C,{x:(E+(n%2===1?1:-1))*R,y:0});var b=C?E*R:0;return d(r+b+E*f,x,E,T,C,A)}}})},o.newtonsCradle=function(r,h,n,l,f){for(var u=v.create({label:"Newtons Cradle"}),d=0;d<n;d++){var p=1.9,x=e.circle(r+d*(l*p),h+f,l,{inertia:1/0,restitution:1,friction:0,frictionAir:1e-4,slop:1}),E=a.create({pointA:{x:r+d*(l*p),y:h},bodyB:x});v.addBody(u,x),v.addConstraint(u,E)}return u},o.car=function(r,h,n,l,f){var u=s.nextGroup(!0),d=20,p=-n*.5+d,x=n*.5-d,E=0,T=v.create({label:"Car"}),C=e.rectangle(r,h,n,l,{collisionFilter:{group:u},chamfer:{radius:l*.5},density:2e-4}),A=e.circle(r+p,h+E,f,{collisionFilter:{group:u},friction:.8}),M=e.circle(r+x,h+E,f,{collisionFilter:{group:u},friction:.8}),R=a.create({bodyB:C,pointB:{x:p,y:E},bodyA:A,stiffness:1,length:0}),O=a.create({bodyB:C,pointB:{x,y:E},bodyA:M,stiffness:1,length:0});return v.addBody(T,C),v.addBody(T,A),v.addBody(T,M),v.addConstraint(T,R),v.addConstraint(T,O),T},o.softBody=function(r,h,n,l,f,u,d,p,x,E){x=i.extend({inertia:1/0},x),E=i.extend({stiffness:.2,render:{type:"line",anchors:!1}},E);var T=o.stack(r,h,n,l,f,u,function(C,A){return e.circle(C,A,p,x)});return o.mesh(T,n,l,d,E),T.label="Soft Body",T}})()},66615:(c,g,t)=>{var o={};c.exports=o;var v=t(31725),a=t(53402);(function(){o.fromVertices=function(i){for(var s={},e=0;e<i.length;e++){var r=(e+1)%i.length,h=v.normalise({x:i[r].y-i[e].y,y:i[e].x-i[r].x}),n=h.y===0?1/0:h.x/h.y;n=n.toFixed(3).toString(),s[n]=h}return a.values(s)},o.rotate=function(i,s){if(s!==0)for(var e=Math.cos(s),r=Math.sin(s),h=0;h<i.length;h++){var n=i[h],l;l=n.x*e-n.y*r,n.y=n.x*r+n.y*e,n.x=l}}})()},15647:c=>{var g={};c.exports=g,function(){g.create=function(t){var o={min:{x:0,y:0},max:{x:0,y:0}};return t&&g.update(o,t),o},g.update=function(t,o,v){t.min.x=1/0,t.max.x=-1/0,t.min.y=1/0,t.max.y=-1/0;for(var a=0;a<o.length;a++){var i=o[a];i.x>t.max.x&&(t.max.x=i.x),i.x<t.min.x&&(t.min.x=i.x),i.y>t.max.y&&(t.max.y=i.y),i.y<t.min.y&&(t.min.y=i.y)}v&&(v.x>0?t.max.x+=v.x:t.min.x+=v.x,v.y>0?t.max.y+=v.y:t.min.y+=v.y)},g.contains=function(t,o){return o.x>=t.min.x&&o.x<=t.max.x&&o.y>=t.min.y&&o.y<=t.max.y},g.overlaps=function(t,o){return t.min.x<=o.max.x&&t.max.x>=o.min.x&&t.max.y>=o.min.y&&t.min.y<=o.max.y},g.translate=function(t,o){t.min.x+=o.x,t.max.x+=o.x,t.min.y+=o.y,t.max.y+=o.y},g.shift=function(t,o){var v=t.max.x-t.min.x,a=t.max.y-t.min.y;t.min.x=o.x,t.max.x=o.x+v,t.min.y=o.y,t.max.y=o.y+a}}()},74058:(c,g,t)=>{var o={};c.exports=o,t(15647);var v=t(53402);(function(){o.pathToVertices=function(a,i){typeof window<"u"&&!("SVGPathSeg"in window)&&v.warn("Svg.pathToVertices: SVGPathSeg not defined, a polyfill is required.");var s,e,r,h,n,l,f,u,d,p,x=[],E,T,C=0,A=0,M=0;i=i||15;var R=function(L,b,N){var I=N%2===1&&N>1;if(!d||L!=d.x||b!=d.y){d&&I?(E=d.x,T=d.y):(E=0,T=0);var G={x:E+L,y:T+b};(I||!d)&&(d=G),x.push(G),A=E+L,M=T+b}},O=function(L){var b=L.pathSegTypeAsLetter.toUpperCase();if(b!=="Z"){switch(b){case"M":case"L":case"T":case"C":case"S":case"Q":A=L.x,M=L.y;break;case"H":A=L.x;break;case"V":M=L.y;break}R(A,M,L.pathSegType)}};for(o._svgPathToAbsolute(a),r=a.getTotalLength(),l=[],s=0;s<a.pathSegList.numberOfItems;s+=1)l.push(a.pathSegList.getItem(s));for(f=l.concat();C<r;){if(p=a.getPathSegAtLength(C),n=l[p],n!=u){for(;f.length&&f[0]!=n;)O(f.shift());u=n}switch(n.pathSegTypeAsLetter.toUpperCase()){case"C":case"T":case"S":case"Q":case"A":h=a.getPointAtLength(C),R(h.x,h.y,0);break}C+=i}for(s=0,e=f.length;s<e;++s)O(f[s]);return x},o._svgPathToAbsolute=function(a){for(var i,s,e,r,h,n,l=a.pathSegList,f=0,u=0,d=l.numberOfItems,p=0;p<d;++p){var x=l.getItem(p),E=x.pathSegTypeAsLetter;if(/[MLHVCSQTA]/.test(E))"x"in x&&(f=x.x),"y"in x&&(u=x.y);else switch("x1"in x&&(e=f+x.x1),"x2"in x&&(h=f+x.x2),"y1"in x&&(r=u+x.y1),"y2"in x&&(n=u+x.y2),"x"in x&&(f+=x.x),"y"in x&&(u+=x.y),E){case"m":l.replaceItem(a.createSVGPathSegMovetoAbs(f,u),p);break;case"l":l.replaceItem(a.createSVGPathSegLinetoAbs(f,u),p);break;case"h":l.replaceItem(a.createSVGPathSegLinetoHorizontalAbs(f),p);break;case"v":l.replaceItem(a.createSVGPathSegLinetoVerticalAbs(u),p);break;case"c":l.replaceItem(a.createSVGPathSegCurvetoCubicAbs(f,u,e,r,h,n),p);break;case"s":l.replaceItem(a.createSVGPathSegCurvetoCubicSmoothAbs(f,u,h,n),p);break;case"q":l.replaceItem(a.createSVGPathSegCurvetoQuadraticAbs(f,u,e,r),p);break;case"t":l.replaceItem(a.createSVGPathSegCurvetoQuadraticSmoothAbs(f,u),p);break;case"a":l.replaceItem(a.createSVGPathSegArcAbs(f,u,x.r1,x.r2,x.angle,x.largeArcFlag,x.sweepFlag),p);break;case"z":case"Z":f=i,u=s;break}(E=="M"||E=="m")&&(i=f,s=u)}}})()},31725:c=>{var g={};c.exports=g,function(){g.create=function(t,o){return{x:t||0,y:o||0}},g.clone=function(t){return{x:t.x,y:t.y}},g.magnitude=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)},g.magnitudeSquared=function(t){return t.x*t.x+t.y*t.y},g.rotate=function(t,o,v){var a=Math.cos(o),i=Math.sin(o);v||(v={});var s=t.x*a-t.y*i;return v.y=t.x*i+t.y*a,v.x=s,v},g.rotateAbout=function(t,o,v,a){var i=Math.cos(o),s=Math.sin(o);a||(a={});var e=v.x+((t.x-v.x)*i-(t.y-v.y)*s);return a.y=v.y+((t.x-v.x)*s+(t.y-v.y)*i),a.x=e,a},g.normalise=function(t){var o=g.magnitude(t);return o===0?{x:0,y:0}:{x:t.x/o,y:t.y/o}},g.dot=function(t,o){return t.x*o.x+t.y*o.y},g.cross=function(t,o){return t.x*o.y-t.y*o.x},g.cross3=function(t,o,v){return(o.x-t.x)*(v.y-t.y)-(o.y-t.y)*(v.x-t.x)},g.add=function(t,o,v){return v||(v={}),v.x=t.x+o.x,v.y=t.y+o.y,v},g.sub=function(t,o,v){return v||(v={}),v.x=t.x-o.x,v.y=t.y-o.y,v},g.mult=function(t,o){return{x:t.x*o,y:t.y*o}},g.div=function(t,o){return{x:t.x/o,y:t.y/o}},g.perp=function(t,o){return o=o===!0?-1:1,{x:o*-t.y,y:o*t.x}},g.neg=function(t){return{x:-t.x,y:-t.y}},g.angle=function(t,o){return Math.atan2(o.y-t.y,o.x-t.x)},g._temp=[g.create(),g.create(),g.create(),g.create(),g.create(),g.create()]}()},41598:(c,g,t)=>{var o={};c.exports=o;var v=t(31725),a=t(53402);(function(){o.create=function(i,s){for(var e=[],r=0;r<i.length;r++){var h=i[r],n={x:h.x,y:h.y,index:r,body:s,isInternal:!1};e.push(n)}return e},o.fromPath=function(i,s){var e=/L?\s*([-\d.e]+)[\s,]*([-\d.e]+)*/ig,r=[];return i.replace(e,function(h,n,l){r.push({x:parseFloat(n),y:parseFloat(l)})}),o.create(r,s)},o.centre=function(i){for(var s=o.area(i,!0),e={x:0,y:0},r,h,n,l=0;l<i.length;l++)n=(l+1)%i.length,r=v.cross(i[l],i[n]),h=v.mult(v.add(i[l],i[n]),r),e=v.add(e,h);return v.div(e,6*s)},o.mean=function(i){for(var s={x:0,y:0},e=0;e<i.length;e++)s.x+=i[e].x,s.y+=i[e].y;return v.div(s,i.length)},o.area=function(i,s){for(var e=0,r=i.length-1,h=0;h<i.length;h++)e+=(i[r].x-i[h].x)*(i[r].y+i[h].y),r=h;return s?e/2:Math.abs(e)/2},o.inertia=function(i,s){for(var e=0,r=0,h=i,n,l,f=0;f<h.length;f++)l=(f+1)%h.length,n=Math.abs(v.cross(h[l],h[f])),e+=n*(v.dot(h[l],h[l])+v.dot(h[l],h[f])+v.dot(h[f],h[f])),r+=n;return s/6*(e/r)},o.translate=function(i,s,e){e=typeof e<"u"?e:1;var r=i.length,h=s.x*e,n=s.y*e,l;for(l=0;l<r;l++)i[l].x+=h,i[l].y+=n;return i},o.rotate=function(i,s,e){if(s!==0){var r=Math.cos(s),h=Math.sin(s),n=e.x,l=e.y,f=i.length,u,d,p,x;for(x=0;x<f;x++)u=i[x],d=u.x-n,p=u.y-l,u.x=n+(d*r-p*h),u.y=l+(d*h+p*r);return i}},o.contains=function(i,s){for(var e=s.x,r=s.y,h=i.length,n=i[h-1],l,f=0;f<h;f++){if(l=i[f],(e-n.x)*(l.y-n.y)+(r-n.y)*(n.x-l.x)>0)return!1;n=l}return!0},o.scale=function(i,s,e,r){if(s===1&&e===1)return i;r=r||o.centre(i);for(var h,n,l=0;l<i.length;l++)h=i[l],n=v.sub(h,r),i[l].x=r.x+n.x*s,i[l].y=r.y+n.y*e;return i},o.chamfer=function(i,s,e,r,h){typeof s=="number"?s=[s]:s=s||[8],e=typeof e<"u"?e:-1,r=r||2,h=h||14;for(var n=[],l=0;l<i.length;l++){var f=i[l-1>=0?l-1:i.length-1],u=i[l],d=i[(l+1)%i.length],p=s[l<s.length?l:s.length-1];if(p===0){n.push(u);continue}var x=v.normalise({x:u.y-f.y,y:f.x-u.x}),E=v.normalise({x:d.y-u.y,y:u.x-d.x}),T=Math.sqrt(2*Math.pow(p,2)),C=v.mult(a.clone(x),p),A=v.normalise(v.mult(v.add(x,E),.5)),M=v.sub(u,v.mult(A,T)),R=e;e===-1&&(R=Math.pow(p,.32)*1.75),R=a.clamp(R,r,h),R%2===1&&(R+=1);for(var O=Math.acos(v.dot(x,E)),L=O/R,b=0;b<R;b++)n.push(v.add(v.rotate(C,L*b),M))}return n},o.clockwiseSort=function(i){var s=o.mean(i);return i.sort(function(e,r){return v.angle(s,e)-v.angle(s,r)}),i},o.isConvex=function(i){var s=0,e=i.length,r,h,n,l;if(e<3)return null;for(r=0;r<e;r++)if(h=(r+1)%e,n=(r+2)%e,l=(i[h].x-i[r].x)*(i[n].y-i[h].y),l-=(i[h].y-i[r].y)*(i[n].x-i[h].x),l<0?s|=1:l>0&&(s|=2),s===3)return!1;return s!==0?!0:null},o.hull=function(i){var s=[],e=[],r,h;for(i=i.slice(0),i.sort(function(n,l){var f=n.x-l.x;return f!==0?f:n.y-l.y}),h=0;h<i.length;h+=1){for(r=i[h];e.length>=2&&v.cross3(e[e.length-2],e[e.length-1],r)<=0;)e.pop();e.push(r)}for(h=i.length-1;h>=0;h-=1){for(r=i[h];s.length>=2&&v.cross3(s[s.length-2],s[s.length-1],r)<=0;)s.pop();s.push(r)}return s.pop(),e.pop(),s.concat(e)}})()},18210:(c,g,t)=>{var o=t(19933),v={name:"matter-attractors",version:"0.1.7",for:"matter-js@^0.19.0",silent:!0,install:function(a){a.after("Body.create",function(){v.Body.init(this)}),a.before("Engine.update",function(i){v.Engine.update(i)})},Body:{init:function(a){a.plugin.attractors=a.plugin.attractors||[]}},Engine:{update:function(a){for(var i=o.Composite.allBodies(a.world),s=0;s<i.length;s++){var e=i[s],r=e.plugin.attractors;if(r&&r.length>0)for(var h=0;h<i.length;h++){var n=i[h];if(s!==h)for(var l=0;l<r.length;l++){var f=r[l],u=f;o.Common.isFunction(f)&&(u=f(e,n)),u&&o.Body.applyForce(n,n.position,u)}}}}},Attractors:{gravityConstant:.001,gravity:function(a,i){var s=o.Vector.sub(i.position,a.position),e=o.Vector.magnitudeSquared(s)||1e-4,r=o.Vector.normalise(s),h=-v.Attractors.gravityConstant*(a.mass*i.mass/e),n=o.Vector.mult(r,h);o.Body.applyForce(a,a.position,o.Vector.neg(n)),o.Body.applyForce(i,i.position,n)}}};c.exports=v},40178:c=>{/**
 * @author       @dxu https://github.com/dxu/matter-collision-events
 * @author       Richard Davey <rich@phaser.io>
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g={name:"matter-collision-events",version:"0.1.6",for:"matter-js@^0.19.0",silent:!0,install:function(t){t.after("Engine.create",function(){t.Events.on(this,"collisionStart",function(o){o.pairs.map(function(v){var a=v.bodyA,i=v.bodyB;a.gameObject&&a.gameObject.emit("collide",a,i,v),i.gameObject&&i.gameObject.emit("collide",i,a,v),t.Events.trigger(a,"onCollide",{pair:v}),t.Events.trigger(i,"onCollide",{pair:v}),a.onCollideCallback&&a.onCollideCallback(v),i.onCollideCallback&&i.onCollideCallback(v),a.onCollideWith[i.id]&&a.onCollideWith[i.id](i,v),i.onCollideWith[a.id]&&i.onCollideWith[a.id](a,v)})}),t.Events.on(this,"collisionActive",function(o){o.pairs.map(function(v){var a=v.bodyA,i=v.bodyB;a.gameObject&&a.gameObject.emit("collideActive",a,i,v),i.gameObject&&i.gameObject.emit("collideActive",i,a,v),t.Events.trigger(a,"onCollideActive",{pair:v}),t.Events.trigger(i,"onCollideActive",{pair:v}),a.onCollideActiveCallback&&a.onCollideActiveCallback(v),i.onCollideActiveCallback&&i.onCollideActiveCallback(v)})}),t.Events.on(this,"collisionEnd",function(o){o.pairs.map(function(v){var a=v.bodyA,i=v.bodyB;a.gameObject&&a.gameObject.emit("collideEnd",a,i,v),i.gameObject&&i.gameObject.emit("collideEnd",i,a,v),t.Events.trigger(a,"onCollideEnd",{pair:v}),t.Events.trigger(i,"onCollideEnd",{pair:v}),a.onCollideEndCallback&&a.onCollideEndCallback(v),i.onCollideEndCallback&&i.onCollideEndCallback(v)})})})}};c.exports=g},74507:(c,g,t)=>{var o=t(19933),v={name:"matter-wrap",version:"0.1.4",for:"matter-js@^0.19.0",silent:!0,install:function(a){a.after("Engine.update",function(){v.Engine.update(this)})},Engine:{update:function(a){for(var i=a.world,s=o.Composite.allBodies(i),e=o.Composite.allComposites(i),r=0;r<s.length;r+=1){var h=s[r];h.plugin.wrap&&v.Body.wrap(h,h.plugin.wrap)}for(r=0;r<e.length;r+=1){var n=e[r];n.plugin.wrap&&v.Composite.wrap(n,n.plugin.wrap)}}},Bounds:{wrap:function(a,i){var s=null,e=null;if(typeof i.min.x<"u"&&typeof i.max.x<"u"&&(a.min.x>i.max.x?s=i.min.x-a.max.x:a.max.x<i.min.x&&(s=i.max.x-a.min.x)),typeof i.min.y<"u"&&typeof i.max.y<"u"&&(a.min.y>i.max.y?e=i.min.y-a.max.y:a.max.y<i.min.y&&(e=i.max.y-a.min.y)),s!==null||e!==null)return{x:s||0,y:e||0}}},Body:{wrap:function(a,i){var s=v.Bounds.wrap(a.bounds,i);return s&&o.Body.translate(a,s),s}},Composite:{bounds:function(a){for(var i=o.Composite.allBodies(a),s=[],e=0;e<i.length;e+=1){var r=i[e];s.push(r.bounds.min,r.bounds.max)}return o.Bounds.create(s)},wrap:function(a,i){var s=v.Bounds.wrap(v.Composite.bounds(a),i);return s&&o.Composite.translate(a,s),s}}};c.exports=v},55973:c=>{/**
 * @author       Stefan Hedman <schteppe@gmail.com> (http://steffe.se)
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={decomp:O,quickDecomp:I,isSimple:b,removeCollinearPoints:G,removeDuplicatePoints:X,makeCCW:d};function g(z,Y,D){D=D||0;var B=[0,0],U,H,j,q,_,st,ut;return U=z[1][1]-z[0][1],H=z[0][0]-z[1][0],j=U*z[0][0]+H*z[0][1],q=Y[1][1]-Y[0][1],_=Y[0][0]-Y[1][0],st=q*Y[0][0]+_*Y[0][1],ut=U*_-q*H,$(ut,0,D)||(B[0]=(_*j-H*st)/ut,B[1]=(U*st-q*j)/ut),B}function t(z,Y,D,B){var U=Y[0]-z[0],H=Y[1]-z[1],j=B[0]-D[0],q=B[1]-D[1];if(j*H-q*U===0)return!1;var _=(U*(D[1]-z[1])+H*(z[0]-D[0]))/(j*H-q*U),st=(j*(z[1]-D[1])+q*(D[0]-z[0]))/(q*U-j*H);return _>=0&&_<=1&&st>=0&&st<=1}function o(z,Y,D){return(Y[0]-z[0])*(D[1]-z[1])-(D[0]-z[0])*(Y[1]-z[1])}function v(z,Y,D){return o(z,Y,D)>0}function a(z,Y,D){return o(z,Y,D)>=0}function i(z,Y,D){return o(z,Y,D)<0}function s(z,Y,D){return o(z,Y,D)<=0}var e=[],r=[];function h(z,Y,D,B){if(B){var U=e,H=r;U[0]=Y[0]-z[0],U[1]=Y[1]-z[1],H[0]=D[0]-Y[0],H[1]=D[1]-Y[1];var j=U[0]*H[0]+U[1]*H[1],q=Math.sqrt(U[0]*U[0]+U[1]*U[1]),_=Math.sqrt(H[0]*H[0]+H[1]*H[1]),st=Math.acos(j/(q*_));return st<B}else return o(z,Y,D)===0}function n(z,Y){var D=Y[0]-z[0],B=Y[1]-z[1];return D*D+B*B}function l(z,Y){var D=z.length;return z[Y<0?Y%D+D:Y%D]}function f(z){z.length=0}function u(z,Y,D,B){for(var U=D;U<B;U++)z.push(Y[U])}function d(z){for(var Y=0,D=z,B=1;B<z.length;++B)(D[B][1]<D[Y][1]||D[B][1]===D[Y][1]&&D[B][0]>D[Y][0])&&(Y=B);return v(l(z,Y-1),l(z,Y),l(z,Y+1))?!1:(p(z),!0)}function p(z){for(var Y=[],D=z.length,B=0;B!==D;B++)Y.push(z.pop());for(var B=0;B!==D;B++)z[B]=Y[B]}function x(z,Y){return i(l(z,Y-1),l(z,Y),l(z,Y+1))}var E=[],T=[];function C(z,Y,D){var B,U,H=E,j=T;if(a(l(z,Y+1),l(z,Y),l(z,D))&&s(l(z,Y-1),l(z,Y),l(z,D)))return!1;U=n(l(z,Y),l(z,D));for(var q=0;q!==z.length;++q)if(!((q+1)%z.length===Y||q===Y)&&a(l(z,Y),l(z,D),l(z,q+1))&&s(l(z,Y),l(z,D),l(z,q))&&(H[0]=l(z,Y),H[1]=l(z,D),j[0]=l(z,q),j[1]=l(z,q+1),B=g(H,j),n(l(z,Y),B)<U))return!1;return!0}function A(z,Y,D){for(var B=0;B!==z.length;++B)if(!(B===Y||B===D||(B+1)%z.length===Y||(B+1)%z.length===D)&&t(l(z,Y),l(z,D),l(z,B),l(z,B+1)))return!1;return!0}function M(z,Y,D,B){var U=B||[];if(f(U),Y<D)for(var H=Y;H<=D;H++)U.push(z[H]);else{for(var H=0;H<=D;H++)U.push(z[H]);for(var H=Y;H<z.length;H++)U.push(z[H])}return U}function R(z){for(var Y=[],D=[],B=[],U=[],H=Number.MAX_VALUE,j=0;j<z.length;++j)if(x(z,j)){for(var q=0;q<z.length;++q)if(C(z,j,q)){D=R(M(z,j,q,U)),B=R(M(z,q,j,U));for(var _=0;_<B.length;_++)D.push(B[_]);D.length<H&&(Y=D,H=D.length,Y.push([l(z,j),l(z,q)]))}}return Y}function O(z){var Y=R(z);return Y.length>0?L(z,Y):[z]}function L(z,Y){if(Y.length===0)return[z];if(Y instanceof Array&&Y.length&&Y[0]instanceof Array&&Y[0].length===2&&Y[0][0]instanceof Array){for(var D=[z],B=0;B<Y.length;B++)for(var U=Y[B],H=0;H<D.length;H++){var j=D[H],q=L(j,U);if(q){D.splice(H,1),D.push(q[0],q[1]);break}}return D}else{var U=Y,B=z.indexOf(U[0]),H=z.indexOf(U[1]);return B!==-1&&H!==-1?[M(z,B,H),M(z,H,B)]:!1}}function b(z){var Y=z,D;for(D=0;D<Y.length-1;D++)for(var B=0;B<D-1;B++)if(t(Y[D],Y[D+1],Y[B],Y[B+1]))return!1;for(D=1;D<Y.length-2;D++)if(t(Y[0],Y[Y.length-1],Y[D],Y[D+1]))return!1;return!0}function N(z,Y,D,B,U){U=U||0;var H=Y[1]-z[1],j=z[0]-Y[0],q=H*z[0]+j*z[1],_=B[1]-D[1],st=D[0]-B[0],ut=_*D[0]+st*D[1],ct=H*st-_*j;return $(ct,0,U)?[0,0]:[(st*q-j*ut)/ct,(H*ut-_*q)/ct]}function I(z,Y,D,B,U,H,j){H=H||100,j=j||0,U=U||25,Y=typeof Y<"u"?Y:[],D=D||[],B=B||[];var q=[0,0],_=[0,0],st=[0,0],ut=0,ct=0,pt=0,Tt=0,mt=0,wt=0,Nt=0,zt=[],Ot=[],St=z,It=z;if(It.length<3)return Y;if(j++,j>H)return console.warn("quickDecomp: max level ("+H+") reached."),Y;for(var bt=0;bt<z.length;++bt)if(x(St,bt)){D.push(St[bt]),ut=ct=Number.MAX_VALUE;for(var Xt=0;Xt<z.length;++Xt)v(l(St,bt-1),l(St,bt),l(St,Xt))&&s(l(St,bt-1),l(St,bt),l(St,Xt-1))&&(st=N(l(St,bt-1),l(St,bt),l(St,Xt),l(St,Xt-1)),i(l(St,bt+1),l(St,bt),st)&&(pt=n(St[bt],st),pt<ct&&(ct=pt,_=st,wt=Xt))),v(l(St,bt+1),l(St,bt),l(St,Xt+1))&&s(l(St,bt+1),l(St,bt),l(St,Xt))&&(st=N(l(St,bt+1),l(St,bt),l(St,Xt),l(St,Xt+1)),v(l(St,bt-1),l(St,bt),st)&&(pt=n(St[bt],st),pt<ut&&(ut=pt,q=st,mt=Xt)));if(wt===(mt+1)%z.length)st[0]=(_[0]+q[0])/2,st[1]=(_[1]+q[1])/2,B.push(st),bt<mt?(u(zt,St,bt,mt+1),zt.push(st),Ot.push(st),wt!==0&&u(Ot,St,wt,St.length),u(Ot,St,0,bt+1)):(bt!==0&&u(zt,St,bt,St.length),u(zt,St,0,mt+1),zt.push(st),Ot.push(st),u(Ot,St,wt,bt+1));else{if(wt>mt&&(mt+=z.length),Tt=Number.MAX_VALUE,mt<wt)return Y;for(var Xt=wt;Xt<=mt;++Xt)a(l(St,bt-1),l(St,bt),l(St,Xt))&&s(l(St,bt+1),l(St,bt),l(St,Xt))&&(pt=n(l(St,bt),l(St,Xt)),pt<Tt&&A(St,bt,Xt)&&(Tt=pt,Nt=Xt%z.length));bt<Nt?(u(zt,St,bt,Nt+1),Nt!==0&&u(Ot,St,Nt,It.length),u(Ot,St,0,bt+1)):(bt!==0&&u(zt,St,bt,It.length),u(zt,St,0,Nt+1),u(Ot,St,Nt,bt+1))}return zt.length<Ot.length?(I(zt,Y,D,B,U,H,j),I(Ot,Y,D,B,U,H,j)):(I(Ot,Y,D,B,U,H,j),I(zt,Y,D,B,U,H,j)),Y}return Y.push(z),Y}function G(z,Y){for(var D=0,B=z.length-1;z.length>3&&B>=0;--B)h(l(z,B-1),l(z,B),l(z,B+1),Y)&&(z.splice(B%z.length,1),D++);return D}function X(z,Y){for(var D=z.length-1;D>=1;--D)for(var B=z[D],U=D-1;U>=0;--U)if(J(B,z[U],Y)){z.splice(D,1);continue}}function $(z,Y,D){return D=D||0,Math.abs(z-Y)<=D}function J(z,Y,D){return $(z[0],Y[0],D)&&$(z[1],Y[1],D)}},52018:(c,g,t)=>{/**
* @author       Richard Davey <rich@phaser.io>
* @copyright    2013-2024 Phaser Studio Inc.
* @license      {@link https://github.com/photonstorm/phaser3-plugin-template/blob/master/LICENSE|MIT License}
*/var o=t(83419),v=new o({initialize:function(i){this.pluginManager=i,this.game=i.game},init:function(){},start:function(){},stop:function(){},destroy:function(){this.pluginManager=null,this.game=null,this.scene=null,this.systems=null}});c.exports=v},42363:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g={Global:["game","anims","cache","plugins","registry","scale","sound","textures","renderer"],CoreScene:["EventEmitter","CameraManager","GameObjectCreator","GameObjectFactory","ScenePlugin","DisplayList","UpdateList"],DefaultScene:["Clock","DataManagerPlugin","InputPlugin","Loader","TweenManager","LightsPlugin"]};c.exports=g},37277:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g={},t={},o={};o.register=function(v,a,i,s){s===void 0&&(s=!1),g[v]={plugin:a,mapping:i,custom:s}},o.registerCustom=function(v,a,i,s){t[v]={plugin:a,mapping:i,data:s}},o.hasCore=function(v){return g.hasOwnProperty(v)},o.hasCustom=function(v){return t.hasOwnProperty(v)},o.getCore=function(v){return g[v]},o.getCustom=function(v){return t[v]},o.getCustomClass=function(v){return t.hasOwnProperty(v)?t[v].plugin:null},o.remove=function(v){g.hasOwnProperty(v)&&delete g[v]},o.removeCustom=function(v){t.hasOwnProperty(v)&&delete t[v]},o.destroyCorePlugins=function(){for(var v in g)g.hasOwnProperty(v)&&delete g[v]},o.destroyCustomPlugins=function(){for(var v in t)t.hasOwnProperty(v)&&delete t[v]},c.exports=o},77332:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(8443),a=t(50792),i=t(74099),s=t(44603),e=t(39429),r=t(95540),h=t(37277),n=t(72905),l=new o({Extends:a,initialize:function(u){a.call(this),this.game=u,this.plugins=[],this.scenePlugins=[],this._pendingGlobal=[],this._pendingScene=[],u.isBooted?this.boot():u.events.once(v.BOOT,this.boot,this)},boot:function(){var f,u,d,p,x,E,T,C=this.game.config,A=C.installGlobalPlugins;for(A=A.concat(this._pendingGlobal),f=0;f<A.length;f++)u=A[f],d=r(u,"key",null),p=r(u,"plugin",null),x=r(u,"start",!1),E=r(u,"mapping",null),T=r(u,"data",null),d&&(p?this.install(d,p,x,E,T):console.warn("Missing `plugin` for key: "+d));for(A=C.installScenePlugins,A=A.concat(this._pendingScene),f=0;f<A.length;f++)u=A[f],d=r(u,"key",null),p=r(u,"plugin",null),E=r(u,"mapping",null),d&&(p?this.installScenePlugin(d,p,E):console.warn("Missing `plugin` for key: "+d));this._pendingGlobal=[],this._pendingScene=[],this.game.events.once(v.DESTROY,this.destroy,this)},addToScene:function(f,u,d){var p,x,E,T=this.game,C=f.scene,A=f.settings.map,M=f.settings.isBooted;for(p=0;p<u.length;p++)x=u[p],T[x]?(f[x]=T[x],A.hasOwnProperty(x)&&(C[A[x]]=f[x])):x==="game"&&A.hasOwnProperty(x)&&(C[A[x]]=T);for(var R=0;R<d.length;R++)for(E=d[R],p=0;p<E.length;p++)if(x=E[p],!!h.hasCore(x)){var O=h.getCore(x),L=O.mapping,b=new O.plugin(C,this,L);f[L]=b,O.custom?C[L]=b:A.hasOwnProperty(L)&&(C[A[L]]=b),M&&b.boot()}for(E=this.plugins,p=0;p<E.length;p++){var N=E[p];N.mapping&&(C[N.mapping]=N.plugin)}},getDefaultScenePlugins:function(){var f=this.game.config.defaultPlugins;return f=f.concat(this.scenePlugins),f},installScenePlugin:function(f,u,d,p,x){if(x===void 0&&(x=!1),typeof u!="function"){console.warn("Invalid Scene Plugin: "+f);return}if(h.hasCore(f)||h.register(f,u,d,!0),this.scenePlugins.indexOf(f)===-1)this.scenePlugins.push(f);else if(!x&&h.hasCore(f)){console.warn("Scene Plugin key in use: "+f);return}if(p){var E=new u(p,this,f);p.sys[f]=E,d&&d!==""&&(p[d]=E),E.boot()}},install:function(f,u,d,p,x){if(d===void 0&&(d=!1),p===void 0&&(p=null),x===void 0&&(x=null),typeof u!="function")return console.warn("Invalid Plugin: "+f),null;if(h.hasCustom(f))return console.warn("Plugin key in use: "+f),null;if(p!==null&&(d=!0),!this.game.isBooted)this._pendingGlobal.push({key:f,plugin:u,start:d,mapping:p,data:x});else if(h.registerCustom(f,u,p,x),d)return this.start(f);return null},getIndex:function(f){for(var u=this.plugins,d=0;d<u.length;d++){var p=u[d];if(p.key===f)return d}return-1},getEntry:function(f){var u=this.getIndex(f);if(u!==-1)return this.plugins[u]},isActive:function(f){var u=this.getEntry(f);return u&&u.active},start:function(f,u){u===void 0&&(u=f);var d=this.getEntry(u);return d&&!d.active?(d.active=!0,d.plugin.start()):d||(d=this.createEntry(f,u)),d?d.plugin:null},createEntry:function(f,u){var d=h.getCustom(f);if(d){var p=new d.plugin(this);d={key:u,plugin:p,active:!0,mapping:d.mapping,data:d.data},this.plugins.push(d),p.init(d.data),p.start()}return d},stop:function(f){var u=this.getEntry(f);return u&&u.active&&(u.active=!1,u.plugin.stop()),this},get:function(f,u){u===void 0&&(u=!0);var d=this.getEntry(f);if(d)return d.plugin;var p=this.getClass(f);return p&&u?(d=this.createEntry(f,f),d?d.plugin:null):p||null},getClass:function(f){return h.getCustomClass(f)},removeGlobalPlugin:function(f){var u=this.getEntry(f);u&&n(this.plugins,u),h.removeCustom(f)},removeScenePlugin:function(f){n(this.scenePlugins,f),h.remove(f)},registerGameObject:function(f,u,d){return u&&e.register(f,u),d&&s.register(f,d),this},removeGameObject:function(f,u,d){return u===void 0&&(u=!0),d===void 0&&(d=!0),u&&e.remove(f),d&&s.remove(f),this},registerFileType:function(f,u,d){i.register(f,u),d&&d.sys.load&&(d.sys.load[f]=u)},destroy:function(){for(var f=0;f<this.plugins.length;f++)this.plugins[f].plugin.destroy();h.destroyCustomPlugins(),this.game.noReturn&&h.destroyCorePlugins(),this.game=null,this.plugins=[],this.scenePlugins=[]}});c.exports=l},45145:(c,g,t)=>{/**
* @author       Richard Davey <rich@phaser.io>
* @copyright    2013-2024 Phaser Studio Inc.
* @license      {@link https://github.com/photonstorm/phaser3-plugin-template/blob/master/LICENSE|MIT License}
*/var o=t(52018),v=t(83419),a=t(44594),i=new v({Extends:o,initialize:function(e,r,h){o.call(this,r),this.scene=e,this.systems=e.sys,this.pluginKey=h,e.sys.events.once(a.BOOT,this.boot,this)},boot:function(){},destroy:function(){this.pluginManager=null,this.game=null,this.scene=null,this.systems=null}});c.exports=i},18922:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={BasePlugin:t(52018),DefaultPlugins:t(42363),PluginCache:t(37277),PluginManager:t(77332),ScenePlugin:t(45145)}},63595:()=>{HTMLVideoElement&&!("requestVideoFrameCallback"in HTMLVideoElement.prototype)&&"getVideoPlaybackQuality"in HTMLVideoElement.prototype&&(HTMLVideoElement.prototype._rvfcpolyfillmap={},HTMLVideoElement.prototype.requestVideoFrameCallback=function(c){const g=performance.now(),t=this.getVideoPlaybackQuality(),o=this.mozPresentedFrames||this.mozPaintedFrames||t.totalVideoFrames-t.droppedVideoFrames,v=(a,i)=>{const s=this.getVideoPlaybackQuality(),e=this.mozPresentedFrames||this.mozPaintedFrames||s.totalVideoFrames-s.droppedVideoFrames;if(e>o){const r=this.mozFrameDelay||s.totalFrameDelay-t.totalFrameDelay||0,h=i-a;c(i,{presentationTime:i+r*1e3,expectedDisplayTime:i+h,width:this.videoWidth,height:this.videoHeight,mediaTime:Math.max(0,this.currentTime||0)+h/1e3,presentedFrames:e,processingDuration:r}),delete this._rvfcpolyfillmap[g]}else this._rvfcpolyfillmap[g]=requestAnimationFrame(r=>v(i,r))};return this._rvfcpolyfillmap[g]=requestAnimationFrame(a=>v(g,a)),g},HTMLVideoElement.prototype.cancelVideoFrameCallback=function(c){cancelAnimationFrame(this._rvfcpolyfillmap[c]),delete this._rvfcpolyfillmap[c]})},10312:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={SKIP_CHECK:-1,NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16,ERASE:17,SOURCE_IN:18,SOURCE_OUT:19,SOURCE_ATOP:20,DESTINATION_OVER:21,DESTINATION_IN:22,DESTINATION_OUT:23,DESTINATION_ATOP:24,LIGHTER:25,COPY:26,XOR:27}},29795:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g={DEFAULT:0,LINEAR:0,NEAREST:1};c.exports=g},68627:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(19715),v=t(32880),a=t(83419),i=t(8054),s=t(50792),e=t(92503),r=t(56373),h=t(97480),n=t(69442),l=t(61340),f=new a({Extends:s,initialize:function(d){s.call(this);var p=d.config;this.config={clearBeforeRender:p.clearBeforeRender,backgroundColor:p.backgroundColor,antialias:p.antialias,roundPixels:p.roundPixels},this.game=d,this.type=i.CANVAS,this.drawCount=0,this.width=0,this.height=0,this.gameCanvas=d.canvas;var x={alpha:d.config.transparent,desynchronized:d.config.desynchronized,willReadFrequently:!1};this.gameContext=p.context?p.context:this.gameCanvas.getContext("2d",x),this.currentContext=this.gameContext,this.antialias=d.config.antialias,this.blendModes=r(),this.snapshotState={x:0,y:0,width:1,height:1,getPixel:!1,callback:null,type:"image/png",encoder:.92},this._tempMatrix1=new l,this._tempMatrix2=new l,this._tempMatrix3=new l,this.isBooted=!1,this.init()},init:function(){this.game.textures.once(n.READY,this.boot,this)},boot:function(){var u=this.game,d=u.scale.baseSize;this.width=d.width,this.height=d.height,this.isBooted=!0,u.scale.on(h.RESIZE,this.onResize,this),this.resize(d.width,d.height)},onResize:function(u,d){(d.width!==this.width||d.height!==this.height)&&this.resize(d.width,d.height)},resize:function(u,d){this.width=u,this.height=d,this.emit(e.RESIZE,u,d)},resetTransform:function(){this.currentContext.setTransform(1,0,0,1,0,0)},setBlendMode:function(u){return this.currentContext.globalCompositeOperation=u,this},setContext:function(u){return this.currentContext=u||this.gameContext,this},setAlpha:function(u){return this.currentContext.globalAlpha=u,this},preRender:function(){var u=this.gameContext,d=this.config,p=this.width,x=this.height;u.globalAlpha=1,u.globalCompositeOperation="source-over",u.setTransform(1,0,0,1,0,0),d.clearBeforeRender&&(u.clearRect(0,0,p,x),d.transparent||(u.fillStyle=d.backgroundColor.rgba,u.fillRect(0,0,p,x))),u.save(),this.drawCount=0,this.emit(e.PRE_RENDER)},render:function(u,d,p){var x=d.length;this.emit(e.RENDER,u,p);var E=p.x,T=p.y,C=p.width,A=p.height,M=p.renderToTexture?p.context:u.sys.context;M.save(),this.game.scene.customViewports&&(M.beginPath(),M.rect(E,T,C,A),M.clip()),p.emit(o.PRE_RENDER,p),this.currentContext=M;var R=p.mask;R&&R.preRenderCanvas(this,null,p._maskCamera),p.transparent||(M.fillStyle=p.backgroundColor.rgba,M.fillRect(E,T,C,A)),M.globalAlpha=p.alpha,M.globalCompositeOperation="source-over",this.drawCount+=x,p.renderToTexture&&p.emit(o.PRE_RENDER,p),p.matrix.copyToContext(M);for(var O=0;O<x;O++){var L=d[O];L.mask&&L.mask.preRenderCanvas(this,L,p),L.renderCanvas(this,L,p),L.mask&&L.mask.postRenderCanvas(this,L,p)}M.setTransform(1,0,0,1,0,0),M.globalCompositeOperation="source-over",M.globalAlpha=1,p.flashEffect.postRenderCanvas(M),p.fadeEffect.postRenderCanvas(M),p.dirty=!1,R&&R.postRenderCanvas(this),M.restore(),p.renderToTexture&&(p.emit(o.POST_RENDER,p),p.renderToGame&&u.sys.context.drawImage(p.canvas,E,T)),p.emit(o.POST_RENDER,p)},postRender:function(){var u=this.gameContext;u.restore(),this.emit(e.POST_RENDER);var d=this.snapshotState;d.callback&&(v(this.gameCanvas,d),d.callback=null)},snapshotCanvas:function(u,d,p,x,E,T,C,A,M){p===void 0&&(p=!1),this.snapshotArea(x,E,T,C,d,A,M);var R=this.snapshotState;return R.getPixel=p,v(u,R),R.callback=null,this},snapshot:function(u,d,p){return this.snapshotArea(0,0,this.gameCanvas.width,this.gameCanvas.height,u,d,p)},snapshotArea:function(u,d,p,x,E,T,C){var A=this.snapshotState;return A.callback=E,A.type=T,A.encoder=C,A.getPixel=!1,A.x=u,A.y=d,A.width=Math.min(p,this.gameCanvas.width),A.height=Math.min(x,this.gameCanvas.height),this},snapshotPixel:function(u,d,p){return this.snapshotArea(u,d,1,1,p),this.snapshotState.getPixel=!0,this},batchSprite:function(u,d,p,x){var E=p.alpha*u.alpha;if(E!==0){var T=this.currentContext,C=this._tempMatrix1,A=this._tempMatrix2,M=d.canvasData,R=M.x,O=M.y,L=d.cutWidth,b=d.cutHeight,N=d.customPivot,I=d.source.resolution,G=u.displayOriginX,X=u.displayOriginY,$=-G+d.x,J=-X+d.y;if(u.isCropped){var z=u._crop;(z.flipX!==u.flipX||z.flipY!==u.flipY)&&d.updateCropUVs(z,u.flipX,u.flipY),L=z.cw,b=z.ch,R=z.cx,O=z.cy,$=-G+z.x,J=-X+z.y,u.flipX&&($>=0?$=-($+L):$<0&&($=Math.abs($)-L)),u.flipY&&(J>=0?J=-(J+b):J<0&&(J=Math.abs(J)-b))}var Y=1,D=1;u.flipX&&(N||($+=-d.realWidth+G*2),Y=-1),u.flipY&&(N||(J+=-d.realHeight+X*2),D=-1);var B=u.x,U=u.y;A.applyITRS(B,U,u.rotation,u.scaleX*Y,u.scaleY*D),C.copyFrom(p.matrix),x?(C.multiplyWithOffset(x,-p.scrollX*u.scrollFactorX,-p.scrollY*u.scrollFactorY),A.e=B,A.f=U):(A.e-=p.scrollX*u.scrollFactorX,A.f-=p.scrollY*u.scrollFactorY),C.multiply(A),p.roundPixels&&(C.e=Math.round(C.e),C.f=Math.round(C.f)),T.save(),C.setToContext(T),T.globalCompositeOperation=this.blendModes[u.blendMode],T.globalAlpha=E,T.imageSmoothingEnabled=!d.source.scaleMode,u.mask&&u.mask.preRenderCanvas(this,u,p),L>0&&b>0&&(p.roundPixels?T.drawImage(d.source.image,R,O,L,b,Math.round($),Math.round(J),Math.round(L/I),Math.round(b/I)):T.drawImage(d.source.image,R,O,L,b,$,J,L/I,b/I)),u.mask&&u.mask.postRenderCanvas(this,u,p),T.restore()}},destroy:function(){this.removeAllListeners(),this.game=null,this.gameCanvas=null,this.gameContext=null}});c.exports=f},55830:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={CanvasRenderer:t(68627),GetBlendModes:t(56373),SetTransform:t(20926)}},56373:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(10312),v=t(89289),a=function(){var i=[],s=v.supportNewBlendModes,e="source-over";return i[o.NORMAL]=e,i[o.ADD]="lighter",i[o.MULTIPLY]=s?"multiply":e,i[o.SCREEN]=s?"screen":e,i[o.OVERLAY]=s?"overlay":e,i[o.DARKEN]=s?"darken":e,i[o.LIGHTEN]=s?"lighten":e,i[o.COLOR_DODGE]=s?"color-dodge":e,i[o.COLOR_BURN]=s?"color-burn":e,i[o.HARD_LIGHT]=s?"hard-light":e,i[o.SOFT_LIGHT]=s?"soft-light":e,i[o.DIFFERENCE]=s?"difference":e,i[o.EXCLUSION]=s?"exclusion":e,i[o.HUE]=s?"hue":e,i[o.SATURATION]=s?"saturation":e,i[o.COLOR]=s?"color":e,i[o.LUMINOSITY]=s?"luminosity":e,i[o.ERASE]="destination-out",i[o.SOURCE_IN]="source-in",i[o.SOURCE_OUT]="source-out",i[o.SOURCE_ATOP]="source-atop",i[o.DESTINATION_OVER]="destination-over",i[o.DESTINATION_IN]="destination-in",i[o.DESTINATION_OUT]="destination-out",i[o.DESTINATION_ATOP]="destination-atop",i[o.LIGHTER]="lighter",i[o.COPY]="copy",i[o.XOR]="xor",i};c.exports=a},20926:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(91296),v=function(a,i,s,e,r){var h=e.alpha*s.alpha;if(h<=0)return!1;var n=o(s,e,r).calc;return i.globalCompositeOperation=a.blendModes[s.blendMode],i.globalAlpha=h,i.save(),n.setToContext(i),i.imageSmoothingEnabled=s.frame?!s.frame.source.scaleMode:a.antialias,!0};c.exports=v},63899:c=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="losewebgl"},6119:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="postrender"},48070:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="prerender"},15640:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="render"},8912:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="resize"},87124:c=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="restorewebgl"},92503:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={LOSE_WEBGL:t(63899),POST_RENDER:t(6119),PRE_RENDER:t(48070),RENDER:t(15640),RESIZE:t(8912),RESTORE_WEBGL:t(87124)}},36909:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Events:t(92503),Snapshot:t(89966)},c.exports.Canvas=t(55830),c.exports.WebGL=t(4159)},32880:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(27919),v=t(40987),a=t(95540),i=function(s,e){var r=a(e,"callback"),h=a(e,"type","image/png"),n=a(e,"encoder",.92),l=Math.abs(Math.round(a(e,"x",0))),f=Math.abs(Math.round(a(e,"y",0))),u=Math.floor(a(e,"width",s.width)),d=Math.floor(a(e,"height",s.height)),p=a(e,"getPixel",!1);if(p){var x=s.getContext("2d",{willReadFrequently:!1}),E=x.getImageData(l,f,1,1),T=E.data;r.call(null,new v(T[0],T[1],T[2],T[3]))}else if(l!==0||f!==0||u!==s.width||d!==s.height){var C=o.createWebGL(this,u,d),A=C.getContext("2d",{willReadFrequently:!0});u>0&&d>0&&A.drawImage(s,l,f,u,d,0,0,u,d);var M=new Image;M.onerror=function(){r.call(null),o.remove(C)},M.onload=function(){r.call(null,M),o.remove(C)},M.src=C.toDataURL(h,n)}else{var R=new Image;R.onerror=function(){r.call(null)},R.onload=function(){r.call(null,R)},R.src=s.toDataURL(h,n)}};c.exports=i},88815:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(27919),v=t(40987),a=t(95540),i=function(s,e){var r=s,h=a(e,"callback"),n=a(e,"type","image/png"),l=a(e,"encoder",.92),f=Math.abs(Math.round(a(e,"x",0))),u=Math.abs(Math.round(a(e,"y",0))),d=a(e,"getPixel",!1),p=a(e,"isFramebuffer",!1),x=p?a(e,"bufferWidth",1):r.drawingBufferWidth,E=p?a(e,"bufferHeight",1):r.drawingBufferHeight;if(d){var T=new Uint8Array(4),C=p?u:E-u;r.readPixels(f,C,1,1,r.RGBA,r.UNSIGNED_BYTE,T),h.call(null,new v(T[0],T[1],T[2],T[3]))}else{var A=Math.floor(a(e,"width",x)),M=Math.floor(a(e,"height",E)),R=A*M*4,O=new Uint8Array(R);r.readPixels(f,E-u-M,A,M,r.RGBA,r.UNSIGNED_BYTE,O);for(var L=o.createWebGL(this,A,M),b=L.getContext("2d",{willReadFrequently:!0}),N=b.getImageData(0,0,A,M),I=N.data,G=0;G<M;G++)for(var X=0;X<A;X++){var $=((M-G-1)*A+X)*4,J=p?R-(G*A+(A-X))*4:(G*A+X)*4;I[J+0]=O[$+0],I[J+1]=O[$+1],I[J+2]=O[$+2],I[J+3]=O[$+3]}b.putImageData(N,0,0);var z=new Image;z.onerror=function(){h.call(null),o.remove(L)},z.onload=function(){h.call(null,z),o.remove(L)},z.src=L.toDataURL(n,l)}};c.exports=i},89966:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Canvas:t(32880),WebGL:t(88815)}},7530:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(36060),a=t(90330),i=t(82264),s=t(95540),e=t(32302),r=t(63448),h=t(31302),n=t(58918),l=t(14811),f=t(92651),u=t(96569),d=t(56527),p=t(57516),x=t(43439),E=t(81041),T=t(12385),C=t(7589),A=t(95428),M=t(72905),R=new o({initialize:function(L){this.game=L.game,this.renderer=L,this.classes=new a([[v.UTILITY_PIPELINE,C],[v.MULTI_PIPELINE,p],[v.BITMAPMASK_PIPELINE,h],[v.SINGLE_PIPELINE,T],[v.ROPE_PIPELINE,E],[v.LIGHT_PIPELINE,u],[v.POINTLIGHT_PIPELINE,x],[v.MOBILE_PIPELINE,d]]),this.postPipelineClasses=new a,this.pipelines=new a,this.postPipelineInstances=[],this.default=null,this.current=null,this.previous=null,this.MULTI_PIPELINE=null,this.BITMAPMASK_PIPELINE=null,this.UTILITY_PIPELINE=null,this.MOBILE_PIPELINE=null,this.FX_PIPELINE=null,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2,this.renderTargets=[],this.maxDimension=0,this.frameInc=32,this.targetIndex=0},boot:function(O,L,b){var N=this.renderer,I=this.renderTargets;this.frameInc=Math.floor(s(O,"frameInc",32));var G=N.width,X=N.height,$=this.game.config.disablePreFX,J=this.game.config.disablePostFX;if(J||this.postPipelineClasses.setAll([[String(l.BARREL),n.Barrel],[String(l.BLOOM),n.Bloom],[String(l.BLUR),n.Blur],[String(l.BOKEH),n.Bokeh],[String(l.CIRCLE),n.Circle],[String(l.COLOR_MATRIX),n.ColorMatrix],[String(l.DISPLACEMENT),n.Displacement],[String(l.GLOW),n.Glow],[String(l.GRADIENT),n.Gradient],[String(l.PIXELATE),n.Pixelate],[String(l.SHADOW),n.Shadow],[String(l.SHINE),n.Shine],[String(l.VIGNETTE),n.Vignette],[String(l.WIPE),n.Wipe]]),!$){this.classes.set(v.FX_PIPELINE,f);for(var z=Math.min(G,X),Y=Math.ceil(z/this.frameInc),D=1;D<Y;D++){var B=D*this.frameInc;I.push(new e(N,B,B)),I.push(new e(N,B,B)),I.push(new e(N,B,B)),this.maxDimension=B}I.push(new e(N,G,X,1,0,!0,!0)),I.push(new e(N,G,X,1,0,!0,!0)),I.push(new e(N,G,X,1,0,!0,!0))}var U,H,j=this,q=this.game;if(this.classes.each(function(st,ut){U=j.add(st,new ut({game:q})),st===v.UTILITY_PIPELINE&&(j.UTILITY_PIPELINE=U,j.fullFrame1=U.fullFrame1,j.fullFrame2=U.fullFrame2,j.halfFrame1=U.halfFrame1,j.halfFrame2=U.halfFrame2)}),this.MULTI_PIPELINE=this.get(v.MULTI_PIPELINE),this.BITMAPMASK_PIPELINE=this.get(v.BITMAPMASK_PIPELINE),this.MOBILE_PIPELINE=this.get(v.MOBILE_PIPELINE),$||(this.FX_PIPELINE=this.get(v.FX_PIPELINE)),O)for(H in O){var _=O[H];U=new _(q),U.name=H,U.isPostFX?this.postPipelineClasses.set(H,_):this.has(H)||(this.classes.set(H,_),this.add(H,U))}this.default=this.get(L),b&&!i.os.desktop&&(this.default=this.MOBILE_PIPELINE)},setDefaultPipeline:function(O){var L=this.get(O);return L&&(this.default=L),L},add:function(O,L){if(L.isPostFX){console.warn(O+" is a Post Pipeline. Use `addPostPipeline` instead");return}var b=this.pipelines,N=this.renderer;return b.has(O)?console.warn("Pipeline exists: "+O):(L.name=O,L.manager=this,b.set(O,L)),L.hasBooted||L.boot(),N.width!==0&&N.height!==0&&!L.isPreFX&&L.resize(N.width,N.height),L},addPostPipeline:function(O,L){this.postPipelineClasses.has(O)||this.postPipelineClasses.set(O,L)},flush:function(){this.current&&this.current.flush()},has:function(O){var L=this.pipelines;return typeof O=="string"?L.has(O):!!L.contains(O)},get:function(O){var L=this.pipelines;if(typeof O=="string")return L.get(O);if(L.contains(O))return O},getPostPipeline:function(O,L,b){var N=this.postPipelineClasses,I,G="",X=typeof O;if(X==="string"||X==="number"?(I=N.get(O),G=O):X==="function"?(N.contains(O)&&(I=O),G=O.name):X==="object"&&(I=N.get(O.name),G=O.name),I){var $=new I(this.game,b);return $.name=G,L&&($.gameObject=L),this.postPipelineInstances.push($),$}},removePostPipeline:function(O){M(this.postPipelineInstances,O)},remove:function(O,L,b){L===void 0&&(L=!0),b===void 0&&(b=!0),this.pipelines.delete(O),L&&this.classes.delete(O),b&&this.postPipelineClasses.delete(O)},set:function(O,L,b){if(!O.isPostFX)return this.isCurrent(O,b)||(this.flush(),this.current&&this.current.unbind(),this.current=O,O.bind(b)),O.updateProjectionMatrix(),O.onBind(L),O},preBatch:function(O){if(O.hasPostPipeline){this.flush();for(var L=O.postPipelines,b=L.length-1;b>=0;b--){var N=L[b];N.active&&N.preBatch(O)}}},postBatch:function(O){if(O.hasPostPipeline){this.flush();for(var L=O.postPipelines,b=0;b<L.length;b++){var N=L[b];N.active&&N.postBatch(O)}}},preBatchCamera:function(O){if(O.hasPostPipeline){this.flush();for(var L=O.postPipelines,b=L.length-1;b>=0;b--){var N=L[b];N.active&&N.preBatch(O)}}},postBatchCamera:function(O){if(O.hasPostPipeline){this.flush();for(var L=O.postPipelines,b=0;b<L.length;b++){var N=L[b];N.active&&N.postBatch(O)}}},isCurrent:function(O,L){var b=this.renderer,N=this.current;return N&&!L&&(L=N.currentShader),!(N!==O||L.program!==b.currentProgram)},copyFrame:function(O,L,b,N,I){return this.setUtility(this.UTILITY_PIPELINE.copyShader).copyFrame(O,L,b,N,I),this},copyToGame:function(O){return this.setUtility(this.UTILITY_PIPELINE.copyShader).copyToGame(O),this},drawFrame:function(O,L,b,N){return this.setUtility(this.UTILITY_PIPELINE.colorMatrixShader).drawFrame(O,L,b,N),this},blendFrames:function(O,L,b,N,I){return this.setUtility(this.UTILITY_PIPELINE.linearShader).blendFrames(O,L,b,N,I),this},blendFramesAdditive:function(O,L,b,N,I){return this.setUtility(this.UTILITY_PIPELINE.addShader).blendFramesAdditive(O,L,b,N,I),this},clearFrame:function(O,L){return this.UTILITY_PIPELINE.clearFrame(O,L),this},blitFrame:function(O,L,b,N,I,G){return this.setUtility(this.UTILITY_PIPELINE.copyShader).blitFrame(O,L,b,N,I,G),this},copyFrameRect:function(O,L,b,N,I,G,X,$){return this.UTILITY_PIPELINE.copyFrameRect(O,L,b,N,I,G,X,$),this},forceZero:function(){return this.current&&this.current.forceZero},setMulti:function(){return this.set(this.MULTI_PIPELINE)},setUtility:function(O){return this.UTILITY_PIPELINE.bind(O)},setFX:function(){return this.set(this.FX_PIPELINE)},restoreContext:function(){this.rebind(),this.pipelines.each(function(O,L){L.restoreContext()}),A(this.postPipelineInstances,function(O){O.restoreContext()})},rebind:function(O){O===void 0&&this.previous&&(O=this.previous);var L=this.renderer,b=L.gl;b.disable(b.DEPTH_TEST),b.disable(b.CULL_FACE),L.hasActiveStencilMask()?b.clear(b.DEPTH_BUFFER_BIT):(b.disable(b.STENCIL_TEST),b.clear(b.DEPTH_BUFFER_BIT|b.STENCIL_BUFFER_BIT)),b.viewport(0,0,L.width,L.height),L.currentProgram=null,L.setBlendMode(0,!0);var N=L.vaoExtension;N&&N.bindVertexArrayOES(null);var I=this.pipelines.entries;for(var G in I)I[G].glReset=!0;O&&(this.current=O,O.rebind())},clear:function(){var O=this.renderer;this.flush(),this.current?(this.current.unbind(),this.previous=this.current,this.current=null):this.previous=null,O.currentProgram=null,O.setBlendMode(0,!0);var L=O.vaoExtension;L&&L.bindVertexArrayOES(null)},getRenderTarget:function(O){var L=this.renderTargets,b=3;if(O>this.maxDimension)return this.targetIndex=L.length-b,L[this.targetIndex];var N=(r(O,this.frameInc,0,!0)-1)*b;return this.targetIndex=N,L[N]},getSwapRenderTarget:function(){return this.renderTargets[this.targetIndex+1]},getAltSwapRenderTarget:function(){return this.renderTargets[this.targetIndex+2]},destroy:function(){this.flush(),this.classes.clear(),this.postPipelineClasses.clear(),this.pipelines.clear(),this.renderer=null,this.game=null,this.classes=null,this.postPipelineClasses=null,this.pipelines=null,this.default=null,this.current=null,this.previous=null}});c.exports=R},32302:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(92503),a=new o({initialize:function(s,e,r,h,n,l,f,u,d){h===void 0&&(h=1),n===void 0&&(n=0),l===void 0&&(l=!0),f===void 0&&(f=!1),u===void 0&&(u=!0),d===void 0&&(d=!0),this.renderer=s,this.framebuffer=null,this.texture=null,this.width=0,this.height=0,this.scale=h,this.minFilter=n,this.autoClear=l,this.autoResize=!0,this.hasDepthBuffer=u,this.forceClamp=d,this.resize(e,r),f?this.setAutoResize(!0):this.autoResize=!1},setAutoResize:function(i){return i&&!this.autoResize?(this.renderer.on(v.RESIZE,this.resize,this),this.autoResize=!0):!i&&this.autoResize&&(this.renderer.off(v.RESIZE,this.resize,this),this.autoResize=!1),this},resize:function(i,s){if(i=Math.round(i*this.scale),s=Math.round(s*this.scale),i<=0&&(i=1),s<=0&&(s=1),this.autoResize&&(i!==this.width||s!==this.height)){var e=this.renderer;e.deleteFramebuffer(this.framebuffer),e.deleteTexture(this.texture),this.texture=e.createTextureFromSource(null,i,s,this.minFilter,this.forceClamp),this.framebuffer=e.createFramebuffer(i,s,this.texture,this.hasDepthBuffer),this.width=i,this.height=s}return this},willResize:function(i,s){return i=Math.round(i*this.scale),s=Math.round(s*this.scale),i<=0&&(i=1),s<=0&&(s=1),i!==this.width||s!==this.height},bind:function(i,s,e){i===void 0&&(i=!1);var r=this.renderer;if(i&&r.flush(),s&&e&&this.resize(s,e),r.pushFramebuffer(this.framebuffer,!1,!1),i&&this.adjustViewport(),this.autoClear){var h=this.renderer.gl;h.clearColor(0,0,0,0),h.clear(h.COLOR_BUFFER_BIT)}r.clearStencilMask()},adjustViewport:function(){var i=this.renderer.gl;i.viewport(0,0,this.width,this.height),i.disable(i.SCISSOR_TEST)},clear:function(){var i=this.renderer,s=i.gl;i.pushFramebuffer(this.framebuffer),s.disable(s.SCISSOR_TEST),s.clearColor(0,0,0,0),s.clear(s.COLOR_BUFFER_BIT),i.popFramebuffer(),i.resetScissor()},unbind:function(i){i===void 0&&(i=!1);var s=this.renderer;return i&&s.flush(),s.popFramebuffer()},destroy:function(){var i=this.renderer;i.off(v.RESIZE,this.resize,this),i.deleteFramebuffer(this.framebuffer),i.deleteTexture(this.texture),this.renderer=null,this.framebuffer=null,this.texture=null}});c.exports=a},70554:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @author       Matthew Groves <@doormat>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={getTintFromFloats:function(g,t,o,v){var a=(g*255|0)&255,i=(t*255|0)&255,s=(o*255|0)&255,e=(v*255|0)&255;return(e<<24|a<<16|i<<8|s)>>>0},getTintAppendFloatAlpha:function(g,t){var o=(t*255|0)&255;return(o<<24|g)>>>0},getTintAppendFloatAlphaAndSwap:function(g,t){var o=(g>>16|0)&255,v=(g>>8|0)&255,a=(g|0)&255,i=(t*255|0)&255;return(i<<24|a<<16|v<<8|o)>>>0},getFloatsFromUintRGB:function(g){var t=(g>>16|0)&255,o=(g>>8|0)&255,v=(g|0)&255;return[t/255,o/255,v/255]},checkShaderMax:function(g,t){var o=Math.min(16,g.getParameter(g.MAX_TEXTURE_IMAGE_UNITS));return!t||t===-1?o:Math.min(o,t)},parseFragmentShaderMaxTextures:function(g,t){if(!g)return"";for(var o="",v=0;v<t;v++)v>0&&(o+=`
	else `),v<t-1&&(o+="if (outTexId < "+v+".5)"),o+=`
	{`,o+=`
		texture = texture2D(uMainSampler[`+v+"], outTexCoord);",o+=`
	}`;return g=g.replace(/%count%/gi,t.toString()),g.replace(/%forloop%/gi,o)},setGlowQuality:function(g,t,o,v){return o===void 0&&(o=t.config.glowFXQuality),v===void 0&&(v=t.config.glowFXDistance),g=g.replace(/__SIZE__/gi,(1/o/v).toFixed(7)),g=g.replace(/__DIST__/gi,v.toFixed(0)+".0"),g}}},29100:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(62644),a=t(50792),i=t(77085),s=t(95540),e=t(37867),r=t(92503),h=t(32302),n=t(70554),l=t(38683),f=new o({Extends:a,initialize:function(d){a.call(this);var p=d.game,x=p.renderer,E=x.gl;this.name=s(d,"name","WebGLPipeline"),this.game=p,this.renderer=x,this.manager,this.gl=E,this.view=p.canvas,this.width=0,this.height=0,this.vertexCount=0,this.vertexCapacity=0,this.vertexData,this.vertexBuffer,this.activeBuffer,this.topology=s(d,"topology",E.TRIANGLES),this.bytes,this.vertexViewF32,this.vertexViewU32,this.active=!0,this.forceZero=s(d,"forceZero",!1),this.hasBooted=!1,this.isPostFX=!1,this.isPreFX=!1,this.renderTargets=[],this.currentRenderTarget,this.shaders=[],this.currentShader,this.projectionMatrix,this.projectionWidth=0,this.projectionHeight=0,this.config=d,this.glReset=!1,this.batch=[],this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,this.activeTextures=[],this.resizeUniform=s(d,"resizeUniform","")},boot:function(){var u,d=this.gl,p=this.config,x=this.renderer;this.isPostFX||(this.projectionMatrix=new e().identity());var E=this.renderTargets,T=s(p,"renderTarget",!1);typeof T=="boolean"&&T&&(T=1);var C=x.width,A=x.height;if(typeof T=="number")for(u=0;u<T;u++)E.push(new h(x,C,A,1,0,!0));else if(Array.isArray(T))for(u=0;u<T.length;u++){var M=s(T[u],"scale",1),R=s(T[u],"minFilter",0),O=s(T[u],"autoClear",1),L=s(T[u],"autoResize",!1),b=s(T[u],"width",null),N=s(T[u],"height",b);b?E.push(new h(x,b,N,1,R,O,L)):E.push(new h(x,C,A,M,R,O,L))}E.length&&(this.currentRenderTarget=E[0]),this.setShadersFromConfig(p);var I=this.shaders,G=0;for(u=0;u<I.length;u++)I[u].vertexSize>G&&(G=I[u].vertexSize);var X=s(p,"batchSize",x.config.batchSize);this.vertexCapacity=X*6;var $=new ArrayBuffer(this.vertexCapacity*G);this.vertexData=$,this.bytes=new Uint8Array($),this.vertexViewF32=new Float32Array($),this.vertexViewU32=new Uint32Array($);var J=s(p,"vertices",null);for(J?(this.vertexViewF32.set(J),this.vertexBuffer=x.createVertexBuffer($,d.STATIC_DRAW)):this.vertexBuffer=x.createVertexBuffer($.byteLength,d.DYNAMIC_DRAW),this.setVertexBuffer(),u=I.length-1;u>=0;u--)I[u].rebind();this.hasBooted=!0,x.on(r.RESIZE,this.resize,this),x.on(r.PRE_RENDER,this.onPreRender,this),x.on(r.RENDER,this.onRender,this),x.on(r.POST_RENDER,this.onPostRender,this),this.emit(i.BOOT,this),this.onBoot()},onBoot:function(){},onResize:function(){},setShader:function(u,d,p){var x=this.renderer;if(u!==this.currentShader||x.currentProgram!==this.currentShader.program){this.flush();var E=this.setVertexBuffer(p);E&&!d&&(d=!0),u.bind(d,!1),this.currentShader=u}return this},getShaderByName:function(u){for(var d=this.shaders,p=0;p<d.length;p++)if(d[p].name===u)return d[p]},setShadersFromConfig:function(u){var d,p=this.shaders,x=this.renderer;for(d=0;d<p.length;d++)p[d].destroy();var E="vertShader",T="fragShader",C="attributes",A=s(u,E,null),M=n.parseFragmentShaderMaxTextures(s(u,T,null),x.maxTextures),R=s(u,C,null),O=s(u,"shaders",[]),L=O.length;if(L===0)A&&M&&(this.shaders=[new l(this,"default",A,M,v(R))]);else{var b=[];for(d=0;d<L;d++){var N=O[d],I,G,X,$;if(typeof N=="string"?(I="default",G=A,X=n.parseFragmentShaderMaxTextures(N,x.maxTextures),$=R):(I=s(N,"name","default"),G=s(N,E,A),X=n.parseFragmentShaderMaxTextures(s(N,T,M),x.maxTextures),$=s(N,C,R)),I==="default"){var J=X.split(`
`),z=J[0].trim();z.indexOf("#define SHADER_NAME")>-1&&(I=z.substring(20))}G&&X&&b.push(new l(this,I,G,X,v($)))}this.shaders=b}return this.shaders.length===0?console.warn("Pipeline: "+this.name+" - Invalid shader config"):this.currentShader=this.shaders[0],this},createBatch:function(u){return this.currentBatch={start:this.vertexCount,count:0,texture:[u],unit:0,maxUnit:0},this.currentUnit=0,this.currentTexture=u,this.batch.push(this.currentBatch),0},addTextureToBatch:function(u){var d=this.currentBatch;d&&(d.texture.push(u),d.unit++,d.maxUnit++)},pushBatch:function(u){if(!this.currentBatch||this.forceZero&&u!==this.currentTexture)return this.createBatch(u);if(u===this.currentTexture)return this.currentUnit;var d=this.currentBatch,p=d.texture.indexOf(u);return p===-1?d.texture.length===this.renderer.maxTextures?this.createBatch(u):(d.unit++,d.maxUnit++,d.texture.push(u),this.currentUnit=d.unit,this.currentTexture=u,d.unit):(this.currentUnit=p,this.currentTexture=u,p)},setGameObject:function(u,d){return d===void 0&&(d=u.frame),this.pushBatch(d.source.glTexture)},shouldFlush:function(u){return u===void 0&&(u=0),this.vertexCount+u>this.vertexCapacity},vertexAvailable:function(){return this.vertexCapacity-this.vertexCount},resize:function(u,d){(u!==this.width||d!==this.height)&&this.flush(),this.width=u,this.height=d;for(var p=this.renderTargets,x=0;x<p.length;x++)p[x].resize(u,d);return this.setProjectionMatrix(u,d),this.resizeUniform&&this.set2f(this.resizeUniform,u,d),this.emit(i.RESIZE,u,d,this),this.onResize(u,d),this},setProjectionMatrix:function(u,d){var p=this.projectionMatrix;if(!p)return this;this.projectionWidth=u,this.projectionHeight=d,p.ortho(0,u,d,0,-1e3,1e3);for(var x=this.shaders,E="uProjectionMatrix",T=0;T<x.length;T++){var C=x[T];C.hasUniform(E)&&(C.resetUniform(E),C.setMatrix4fv(E,!1,p.val,C))}return this},flipProjectionMatrix:function(u){u===void 0&&(u=!0);var d=this.projectionMatrix;if(!d)return this;var p=this.projectionWidth,x=this.projectionHeight;u?d.ortho(0,p,0,x,-1e3,1e3):d.ortho(0,p,x,0,-1e3,1e3),this.setMatrix4fv("uProjectionMatrix",!1,d.val)},updateProjectionMatrix:function(){if(this.projectionMatrix){var u=this.renderer.projectionWidth,d=this.renderer.projectionHeight;(this.projectionWidth!==u||this.projectionHeight!==d)&&this.setProjectionMatrix(u,d)}},bind:function(u){if(u===void 0&&(u=this.currentShader),this.glReset)return this.rebind(u);var d=!1,p=this.gl;return p.getParameter(p.ARRAY_BUFFER_BINDING)!==this.vertexBuffer&&(p.bindBuffer(p.ARRAY_BUFFER,this.vertexBuffer.webGLBuffer),this.activeBuffer=this.vertexBuffer,d=!0),u.bind(d),this.currentShader=u,this.activeTextures.length=0,this.emit(i.BIND,this,u),this.onActive(u),this},rebind:function(u){this.activeBuffer=null,this.setVertexBuffer();for(var d=this.shaders,p=d.length-1;p>=0;p--){var x=d[p].rebind();(!u||x===u)&&(this.currentShader=x)}return this.activeTextures.length=0,this.emit(i.REBIND,this.currentShader),this.onActive(this.currentShader),this.onRebind(),this.glReset=!1,this},restoreContext:function(){var u=this.shaders,d=!!this.vertexBuffer;this.activeBuffer=null,this.activeTextures.length=0,this.batch.length=0,this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,d&&this.setVertexBuffer();for(var p=0;p<u.length;p++){var x=u[p];x.syncUniforms(),d&&x.rebind()}},setVertexBuffer:function(u){if(u===void 0&&(u=this.vertexBuffer),u!==this.activeBuffer){var d=this.gl;return this.gl.bindBuffer(d.ARRAY_BUFFER,u.webGLBuffer),this.activeBuffer=u,!0}return!1},preBatch:function(u){return this.currentRenderTarget&&this.currentRenderTarget.bind(),this.onPreBatch(u),this},postBatch:function(u){return this.onDraw(this.currentRenderTarget),this.onPostBatch(u),this},onDraw:function(){},unbind:function(){this.currentRenderTarget&&this.currentRenderTarget.unbind()},flush:function(u){if(u===void 0&&(u=!1),this.vertexCount>0){this.emit(i.BEFORE_FLUSH,this,u),this.onBeforeFlush(u);var d=this.gl,p=this.vertexCount,x=this.currentShader.vertexSize,E=this.topology;if(this.active){this.setVertexBuffer(),p===this.vertexCapacity?d.bufferData(d.ARRAY_BUFFER,this.vertexData,d.DYNAMIC_DRAW):d.bufferSubData(d.ARRAY_BUFFER,0,this.bytes.subarray(0,p*x));var T,C,A,M=this.batch,R=this.activeTextures;if(this.forceZero)for(R[0]||d.activeTexture(d.TEXTURE0),T=0;T<M.length;T++)C=M[T],A=C.texture[0],R[0]!==A&&(d.bindTexture(d.TEXTURE_2D,A.webGLTexture),R[0]=A),d.drawArrays(E,C.start,C.count);else for(T=0;T<M.length;T++){C=M[T];for(var O=0;O<=C.maxUnit;O++)A=C.texture[O],R[O]!==A&&(d.activeTexture(d.TEXTURE0+O),d.bindTexture(d.TEXTURE_2D,A.webGLTexture),R[O]=A);d.drawArrays(E,C.start,C.count)}}this.vertexCount=0,this.batch.length=0,this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,this.emit(i.AFTER_FLUSH,this,u),this.onAfterFlush(u)}return this},onActive:function(){},onBind:function(){},onRebind:function(){},onBatch:function(){},onPreBatch:function(){},onPostBatch:function(){},onPreRender:function(){},onRender:function(){},onPostRender:function(){},onBeforeFlush:function(){},onAfterFlush:function(){},batchVert:function(u,d,p,x,E,T,C){var A=this.vertexViewF32,M=this.vertexViewU32,R=this.vertexCount*this.currentShader.vertexComponentCount-1;A[++R]=u,A[++R]=d,A[++R]=p,A[++R]=x,A[++R]=E,A[++R]=T,M[++R]=C,this.vertexCount++,this.currentBatch.count=this.vertexCount-this.currentBatch.start},batchQuad:function(u,d,p,x,E,T,C,A,M,R,O,L,b,N,I,G,X,$,J,z){z===void 0&&(z=this.currentUnit);var Y=!1;this.shouldFlush(6)&&(this.flush(),Y=!0),this.currentBatch||(z=this.setTexture2D(J));var D=this.vertexViewF32,B=this.vertexViewU32,U=this.vertexCount*this.currentShader.vertexComponentCount-1;return D[++U]=d,D[++U]=p,D[++U]=R,D[++U]=O,D[++U]=z,D[++U]=$,B[++U]=N,D[++U]=x,D[++U]=E,D[++U]=R,D[++U]=b,D[++U]=z,D[++U]=$,B[++U]=G,D[++U]=T,D[++U]=C,D[++U]=L,D[++U]=b,D[++U]=z,D[++U]=$,B[++U]=X,D[++U]=d,D[++U]=p,D[++U]=R,D[++U]=O,D[++U]=z,D[++U]=$,B[++U]=N,D[++U]=T,D[++U]=C,D[++U]=L,D[++U]=b,D[++U]=z,D[++U]=$,B[++U]=X,D[++U]=A,D[++U]=M,D[++U]=L,D[++U]=O,D[++U]=z,D[++U]=$,B[++U]=I,this.vertexCount+=6,this.currentBatch.count=this.vertexCount-this.currentBatch.start,this.onBatch(u),Y},batchTri:function(u,d,p,x,E,T,C,A,M,R,O,L,b,N,I,G,X){X===void 0&&(X=this.currentUnit);var $=!1;this.shouldFlush(3)&&(this.flush(),$=!0),this.currentBatch||(X=this.setTexture2D(G));var J=this.vertexViewF32,z=this.vertexViewU32,Y=this.vertexCount*this.currentShader.vertexComponentCount-1;return J[++Y]=d,J[++Y]=p,J[++Y]=A,J[++Y]=M,J[++Y]=X,J[++Y]=I,z[++Y]=L,J[++Y]=x,J[++Y]=E,J[++Y]=A,J[++Y]=O,J[++Y]=X,J[++Y]=I,z[++Y]=b,J[++Y]=T,J[++Y]=C,J[++Y]=R,J[++Y]=O,J[++Y]=X,J[++Y]=I,z[++Y]=N,this.vertexCount+=3,this.currentBatch.count=this.vertexCount-this.currentBatch.start,this.onBatch(u),$},drawFillRect:function(u,d,p,x,E,T,C,A){C===void 0&&(C=this.renderer.whiteTexture),A===void 0&&(A=!0),u=Math.floor(u),d=Math.floor(d);var M=Math.floor(u+p),R=Math.floor(d+x),O=this.setTexture2D(C),L=n.getTintAppendFloatAlphaAndSwap(E,T),b=0,N=0,I=1,G=1;A&&(N=1,G=0),this.batchQuad(null,u,d,u,R,M,R,M,d,b,N,I,G,L,L,L,L,0,C,O)},setTexture2D:function(u){return u===void 0&&(u=this.renderer.whiteTexture),this.pushBatch(u)},bindTexture:function(u,d){d===void 0&&(d=0);var p=this.gl;return p.activeTexture(p.TEXTURE0+d),p.bindTexture(p.TEXTURE_2D,u.webGLTexture),this},bindRenderTarget:function(u,d){return this.bindTexture(u.texture,d)},setTime:function(u,d){return this.set1f(u,this.game.loop.getDuration(),d),this},setBoolean:function(u,d,p){return p===void 0&&(p=this.currentShader),p.setBoolean(u,d),this},set1f:function(u,d,p){return p===void 0&&(p=this.currentShader),p.set1f(u,d),this},set2f:function(u,d,p,x){return x===void 0&&(x=this.currentShader),x.set2f(u,d,p),this},set3f:function(u,d,p,x,E){return E===void 0&&(E=this.currentShader),E.set3f(u,d,p,x),this},set4f:function(u,d,p,x,E,T){return T===void 0&&(T=this.currentShader),T.set4f(u,d,p,x,E),this},set1fv:function(u,d,p){return p===void 0&&(p=this.currentShader),p.set1fv(u,d),this},set2fv:function(u,d,p){return p===void 0&&(p=this.currentShader),p.set2fv(u,d),this},set3fv:function(u,d,p){return p===void 0&&(p=this.currentShader),p.set3fv(u,d),this},set4fv:function(u,d,p){return p===void 0&&(p=this.currentShader),p.set4fv(u,d),this},set1iv:function(u,d,p){return p===void 0&&(p=this.currentShader),p.set1iv(u,d),this},set2iv:function(u,d,p){return p===void 0&&(p=this.currentShader),p.set2iv(u,d),this},set3iv:function(u,d,p){return p===void 0&&(p=this.currentShader),p.set3iv(u,d),this},set4iv:function(u,d,p){return p===void 0&&(p=this.currentShader),p.set4iv(u,d),this},set1i:function(u,d,p){return p===void 0&&(p=this.currentShader),p.set1i(u,d),this},set2i:function(u,d,p,x){return x===void 0&&(x=this.currentShader),x.set2i(u,d,p),this},set3i:function(u,d,p,x,E){return E===void 0&&(E=this.currentShader),E.set3i(u,d,p,x),this},set4i:function(u,d,p,x,E,T){return T===void 0&&(T=this.currentShader),T.set4i(u,d,p,x,E),this},setMatrix2fv:function(u,d,p,x){return x===void 0&&(x=this.currentShader),x.setMatrix2fv(u,d,p),this},setMatrix3fv:function(u,d,p,x){return x===void 0&&(x=this.currentShader),x.setMatrix3fv(u,d,p),this},setMatrix4fv:function(u,d,p,x){return x===void 0&&(x=this.currentShader),x.setMatrix4fv(u,d,p),this},destroy:function(){this.emit(i.DESTROY,this);var u,d=this.shaders;for(u=0;u<d.length;u++)d[u].destroy();var p=this.renderTargets;for(u=0;u<p.length;u++)p[u].destroy();var x=this.renderer;return x.deleteBuffer(this.vertexBuffer),x.off(r.RESIZE,this.resize,this),x.off(r.PRE_RENDER,this.onPreRender,this),x.off(r.RENDER,this.onRender,this),x.off(r.POST_RENDER,this.onPostRender,this),this.removeAllListeners(),this.game=null,this.renderer=null,this.manager=null,this.gl=null,this.view=null,this.shaders=null,this.renderTargets=null,this.bytes=null,this.vertexViewF32=null,this.vertexViewU32=null,this.vertexData=null,this.vertexBuffer=null,this.currentShader=null,this.currentRenderTarget=null,this.activeTextures=null,this}});c.exports=f},74797:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(95428),v=t(72905),a=t(19715),i=t(83419),s=t(8054),e=t(50792),r=t(92503),h=t(50030),n=t(37867),l=t(29747),f=t(7530),u=t(32302),d=t(97480),p=t(69442),x=t(70554),E=t(88815),T=t(26128),C=t(1482),A=t(82751),M=t(84387),R=t(93567),O=t(57183),L=new i({Extends:e,initialize:function(N){e.call(this);var I=N.config,G={alpha:I.transparent,desynchronized:I.desynchronized,depth:!0,antialias:I.antialiasGL,premultipliedAlpha:I.premultipliedAlpha,stencil:!0,failIfMajorPerformanceCaveat:I.failIfMajorPerformanceCaveat,powerPreference:I.powerPreference,preserveDrawingBuffer:I.preserveDrawingBuffer,willReadFrequently:!1};this.config={clearBeforeRender:I.clearBeforeRender,antialias:I.antialias,backgroundColor:I.backgroundColor,contextCreation:G,roundPixels:I.roundPixels,maxTextures:I.maxTextures,maxTextureSize:I.maxTextureSize,batchSize:I.batchSize,maxLights:I.maxLights,mipmapFilter:I.mipmapFilter},this.game=N,this.type=s.WEBGL,this.pipelines=null,this.width=0,this.height=0,this.canvas=N.canvas,this.blendModes=[],this.contextLost=!1,this.snapshotState={x:0,y:0,width:1,height:1,getPixel:!1,callback:null,type:"image/png",encoder:.92,isFramebuffer:!1,bufferWidth:0,bufferHeight:0},this.maxTextures=0,this.textureIndexes,this.glBufferWrappers=[],this.glProgramWrappers=[],this.glTextureWrappers=[],this.glFramebufferWrappers=[],this.glAttribLocationWrappers=[],this.glUniformLocationWrappers=[],this.currentFramebuffer=null,this.fboStack=[],this.currentProgram=null,this.currentBlendMode=1/0,this.currentScissorEnabled=!1,this.currentScissor=null,this.scissorStack=[],this.contextLostHandler=l,this.contextRestoredHandler=l,this.gl=null,this.supportedExtensions=null,this.instancedArraysExtension=null,this.vaoExtension=null,this.extensions={},this.glFormats,this.compression,this.drawingBufferHeight=0,this.blankTexture=null,this.normalTexture=null,this.whiteTexture=null,this.maskCount=0,this.maskStack=[],this.currentMask={mask:null,camera:null},this.currentCameraMask={mask:null,camera:null},this.glFuncMap=null,this.currentType="",this.newType=!1,this.nextTypeMatch=!1,this.finalType=!1,this.mipmapFilter=null,this.defaultScissor=[0,0,0,0],this.isBooted=!1,this.renderTarget=null,this.projectionMatrix,this.projectionWidth=0,this.projectionHeight=0,this.maskSource=null,this.maskTarget=null,this.spector=null,this._debugCapture=!1,this.init(this.config)},init:function(b){var N,I=this.game,G=this.canvas,X=b.backgroundColor;if(I.config.context?N=I.config.context:N=G.getContext("webgl",b.contextCreation)||G.getContext("experimental-webgl",b.contextCreation),!N||N.isContextLost())throw this.contextLost=!0,new Error("WebGL unsupported");this.gl=N;var $=this,J=function(){var D=N.getSupportedExtensions();$.supportedExtensions=D;var B="ANGLE_instanced_arrays";$.instancedArraysExtension=D.indexOf(B)>-1?N.getExtension(B):null;var U="OES_vertex_array_object";$.vaoExtension=D.indexOf(U)>-1?N.getExtension(U):null};J(),this.contextLostHandler=function(D){$.contextLost=!0,console&&console.warn("WebGL Context lost. Renderer disabled"),$.emit(r.LOSE_WEBGL,$),D.preventDefault()},G.addEventListener("webglcontextlost",this.contextLostHandler,!1),this.contextRestoredHandler=function(D){if(N.isContextLost()){console&&console.log("WebGL Context restored, but context is still lost");return}$.currentProgram=null,$.currentFramebuffer=null,$.setBlendMode(s.BlendModes.NORMAL),N.disable(N.BLEND),N.disable(N.DEPTH_TEST),N.enable(N.CULL_FACE),$.compression=$.getCompressedTextures();var B=function(U){U.createResource()};o($.glTextureWrappers,B),o($.glBufferWrappers,B),o($.glFramebufferWrappers,B),o($.glProgramWrappers,B),o($.glAttribLocationWrappers,B),o($.glUniformLocationWrappers,B),$.createTemporaryTextures(),$.pipelines.restoreContext(),$.resize($.game.scale.baseSize.width,$.game.scale.baseSize.height),J(),$.contextLost=!1,console&&console.warn("WebGL Context restored. Renderer running again."),$.emit(r.RESTORE_WEBGL,$),D.preventDefault()},G.addEventListener("webglcontextrestored",this.contextRestoredHandler,!1),I.context=N;for(var z=0;z<=27;z++)this.blendModes.push({func:[N.ONE,N.ONE_MINUS_SRC_ALPHA],equation:N.FUNC_ADD});this.blendModes[1].func=[N.ONE,N.DST_ALPHA],this.blendModes[2].func=[N.DST_COLOR,N.ONE_MINUS_SRC_ALPHA],this.blendModes[3].func=[N.ONE,N.ONE_MINUS_SRC_COLOR],this.blendModes[17]={func:[N.ZERO,N.ONE_MINUS_SRC_ALPHA],equation:N.FUNC_REVERSE_SUBTRACT},this.glFormats=[N.BYTE,N.SHORT,N.UNSIGNED_BYTE,N.UNSIGNED_SHORT,N.FLOAT],this.glFuncMap={mat2:{func:N.uniformMatrix2fv,length:1,matrix:!0},mat3:{func:N.uniformMatrix3fv,length:1,matrix:!0},mat4:{func:N.uniformMatrix4fv,length:1,matrix:!0},"1f":{func:N.uniform1f,length:1},"1fv":{func:N.uniform1fv,length:1},"1i":{func:N.uniform1i,length:1},"1iv":{func:N.uniform1iv,length:1},"2f":{func:N.uniform2f,length:2},"2fv":{func:N.uniform2fv,length:1},"2i":{func:N.uniform2i,length:2},"2iv":{func:N.uniform2iv,length:1},"3f":{func:N.uniform3f,length:3},"3fv":{func:N.uniform3fv,length:1},"3i":{func:N.uniform3i,length:3},"3iv":{func:N.uniform3iv,length:1},"4f":{func:N.uniform4f,length:4},"4fv":{func:N.uniform4fv,length:1},"4i":{func:N.uniform4i,length:4},"4iv":{func:N.uniform4iv,length:1}},(!b.maxTextures||b.maxTextures===-1)&&(b.maxTextures=N.getParameter(N.MAX_TEXTURE_IMAGE_UNITS)),b.maxTextureSize||(b.maxTextureSize=N.getParameter(N.MAX_TEXTURE_SIZE)),this.compression=this.getCompressedTextures(),N.disable(N.DEPTH_TEST),N.disable(N.CULL_FACE),N.enable(N.BLEND),N.clearColor(X.redGL,X.greenGL,X.blueGL,X.alphaGL);var Y=["NEAREST","LINEAR","NEAREST_MIPMAP_NEAREST","LINEAR_MIPMAP_NEAREST","NEAREST_MIPMAP_LINEAR","LINEAR_MIPMAP_LINEAR"];return Y.indexOf(b.mipmapFilter)!==-1&&(this.mipmapFilter=N[b.mipmapFilter]),this.maxTextures=x.checkShaderMax(N,b.maxTextures),this.textureIndexes=[],this.createTemporaryTextures(),this.pipelines=new f(this),this.setBlendMode(s.BlendModes.NORMAL),this.projectionMatrix=new n().identity(),I.textures.once(p.READY,this.boot,this),this},boot:function(){var b=this.game,N=this.pipelines,I=b.scale.baseSize,G=I.width,X=I.height;this.width=G,this.height=X,this.isBooted=!0,this.renderTarget=new u(this,G,X,1,0,!0,!0),this.maskTarget=new u(this,G,X,1,0,!0,!0),this.maskSource=new u(this,G,X,1,0,!0,!0);var $=b.config;N.boot($.pipeline,$.defaultPipeline,$.autoMobilePipeline),this.blankTexture=b.textures.getFrame("__DEFAULT").glTexture,this.normalTexture=b.textures.getFrame("__NORMAL").glTexture,this.whiteTexture=b.textures.getFrame("__WHITE").glTexture;var J=this.gl;J.bindFramebuffer(J.FRAMEBUFFER,null),J.enable(J.SCISSOR_TEST),b.scale.on(d.RESIZE,this.onResize,this),this.resize(G,X)},createTemporaryTextures:function(){for(var b=this.gl,N=0;N<this.maxTextures;N++){var I=b.createTexture();b.activeTexture(b.TEXTURE0+N),b.bindTexture(b.TEXTURE_2D,I),b.texImage2D(b.TEXTURE_2D,0,b.RGBA,1,1,0,b.RGBA,b.UNSIGNED_BYTE,new Uint8Array([0,0,255,255])),this.textureIndexes.push(N)}},captureFrame:function(b,N){},captureNextFrame:function(){},getFps:function(){},log:function(){},startCapture:function(b,N,I){},stopCapture:function(){},onCapture:function(b){},onResize:function(b,N){(N.width!==this.width||N.height!==this.height)&&this.resize(N.width,N.height)},beginCapture:function(b,N){b===void 0&&(b=this.width),N===void 0&&(N=this.height),this.renderTarget.bind(!0,b,N),this.setProjectionMatrix(b,N)},endCapture:function(){return this.renderTarget.unbind(!0),this.resetProjectionMatrix(),this.renderTarget},resize:function(b,N){var I=this.gl;return this.width=b,this.height=N,this.setProjectionMatrix(b,N),I.viewport(0,0,b,N),this.drawingBufferHeight=I.drawingBufferHeight,I.scissor(0,I.drawingBufferHeight-N,b,N),this.defaultScissor[2]=b,this.defaultScissor[3]=N,this.emit(r.RESIZE,b,N),this},getCompressedTextures:function(){var b="WEBGL_compressed_texture_",N="WEBKIT_"+b,I="EXT_texture_compression_",G=function($,J){var z=$.getExtension(b+J)||$.getExtension(N+J)||$.getExtension(I+J);if(z){var Y={};for(var D in z)Y[z[D]]=D;return Y}},X=this.gl;return{ETC:G(X,"etc"),ETC1:G(X,"etc1"),ATC:G(X,"atc"),ASTC:G(X,"astc"),BPTC:G(X,"bptc"),RGTC:G(X,"rgtc"),PVRTC:G(X,"pvrtc"),S3TC:G(X,"s3tc"),S3TCSRGB:G(X,"s3tc_srgb"),IMG:!0}},getCompressedTextureName:function(b,N){var I=this.compression[b.toUpperCase()];if(N in I)return I[N]},supportsCompressedTexture:function(b,N){var I=this.compression[b.toUpperCase()];return I?N?N in I:!0:!1},getAspectRatio:function(){return this.width/this.height},setProjectionMatrix:function(b,N){return(b!==this.projectionWidth||N!==this.projectionHeight)&&(this.projectionWidth=b,this.projectionHeight=N,this.projectionMatrix.ortho(0,b,N,0,-1e3,1e3)),this},resetProjectionMatrix:function(){return this.setProjectionMatrix(this.width,this.height)},hasExtension:function(b){return this.supportedExtensions?this.supportedExtensions.indexOf(b):!1},getExtension:function(b){return this.hasExtension(b)?(b in this.extensions||(this.extensions[b]=this.gl.getExtension(b)),this.extensions[b]):null},flush:function(){this.pipelines.flush()},pushScissor:function(b,N,I,G,X){X===void 0&&(X=this.drawingBufferHeight);var $=this.scissorStack,J=[b,N,I,G];return $.push(J),this.setScissor(b,N,I,G,X),this.currentScissor=J,J},setScissor:function(b,N,I,G,X){X===void 0&&(X=this.drawingBufferHeight);var $=this.gl,J=this.currentScissor,z=I>0&&G>0;if(J&&z){var Y=J[0],D=J[1],B=J[2],U=J[3];z=Y!==b||D!==N||B!==I||U!==G}z&&(this.flush(),$.scissor(b,X-N-G,I,G))},resetScissor:function(){var b=this.gl;b.enable(b.SCISSOR_TEST);var N=this.currentScissor;if(N){var I=N[0],G=N[1],X=N[2],$=N[3];X>0&&$>0&&b.scissor(I,this.drawingBufferHeight-G-$,X,$)}},popScissor:function(){var b=this.scissorStack;b.pop();var N=b[b.length-1];N&&this.setScissor(N[0],N[1],N[2],N[3]),this.currentScissor=N},hasActiveStencilMask:function(){var b=this.currentMask.mask,N=this.currentCameraMask.mask;return b&&b.isStencil||N&&N.isStencil},resetViewport:function(){var b=this.gl;b.viewport(0,0,this.width,this.height),this.drawingBufferHeight=b.drawingBufferHeight},setBlendMode:function(b,N){N===void 0&&(N=!1);var I=this.gl,G=this.blendModes[b];return N||b!==s.BlendModes.SKIP_CHECK&&this.currentBlendMode!==b?(this.flush(),I.enable(I.BLEND),I.blendEquation(G.equation),G.func.length>2?I.blendFuncSeparate(G.func[0],G.func[1],G.func[2],G.func[3]):I.blendFunc(G.func[0],G.func[1]),this.currentBlendMode=b,!0):!1},addBlendMode:function(b,N){var I=this.blendModes.push({func:b,equation:N});return I-1},updateBlendMode:function(b,N,I){return this.blendModes[b]&&(this.blendModes[b].func=N,I&&(this.blendModes[b].equation=I)),this},removeBlendMode:function(b){return b>17&&this.blendModes[b]&&this.blendModes.splice(b,1),this},pushFramebuffer:function(b,N,I,G,X){return b===this.currentFramebuffer?this:(this.fboStack.push(b),this.setFramebuffer(b,N,I,G,X))},setFramebuffer:function(b,N,I,G,X){if(N===void 0&&(N=!1),I===void 0&&(I=!0),G===void 0&&(G=null),X===void 0&&(X=!1),b===this.currentFramebuffer)return this;var $=this.gl,J=this.width,z=this.height;return b&&b.renderTexture&&I?(J=b.renderTexture.width,z=b.renderTexture.height):this.flush(),b?$.bindFramebuffer($.FRAMEBUFFER,b.webGLFramebuffer):$.bindFramebuffer($.FRAMEBUFFER,null),I&&$.viewport(0,0,J,z),G&&$.framebufferTexture2D($.FRAMEBUFFER,$.COLOR_ATTACHMENT0,$.TEXTURE_2D,G.webGLTexture,0),X&&($.clearColor(0,0,0,0),$.clear($.COLOR_BUFFER_BIT)),N&&(b?(this.drawingBufferHeight=z,this.pushScissor(0,0,J,z)):(this.drawingBufferHeight=this.height,this.popScissor())),this.currentFramebuffer=b,this},popFramebuffer:function(b,N){b===void 0&&(b=!1),N===void 0&&(N=!0);var I=this.fboStack;I.pop();var G=I[I.length-1];return G||(G=null),this.setFramebuffer(G,b,N),G},restoreFramebuffer:function(b,N){b===void 0&&(b=!1),N===void 0&&(N=!0);var I=this.fboStack,G=I[I.length-1];G||(G=null),this.currentFramebuffer=null,this.setFramebuffer(G,b,N)},setProgram:function(b){return b!==this.currentProgram?(this.flush(),this.gl.useProgram(b.webGLProgram),this.currentProgram=b,!0):!1},resetProgram:function(){return this.gl.useProgram(this.currentProgram.webGLProgramWrapper),this},createTextureFromSource:function(b,N,I,G,X){X===void 0&&(X=!1);var $=this.gl,J=$.NEAREST,z=$.NEAREST,Y=$.CLAMP_TO_EDGE,D=null;N=b?b.width:N,I=b?b.height:I;var B=h(N,I);if(B&&!X&&(Y=$.REPEAT),G===s.ScaleModes.LINEAR&&this.config.antialias){var U=b&&b.compressed,H=!U&&B||U&&b.mipmaps.length>1;J=this.mipmapFilter&&H?this.mipmapFilter:$.LINEAR,z=$.LINEAR}return!b&&typeof N=="number"&&typeof I=="number"?D=this.createTexture2D(0,J,z,Y,Y,$.RGBA,null,N,I):D=this.createTexture2D(0,J,z,Y,Y,$.RGBA,b),D},createTexture2D:function(b,N,I,G,X,$,J,z,Y,D,B,U){typeof z!="number"&&(z=J?J.width:1),typeof Y!="number"&&(Y=J?J.height:1);var H=new A(this.gl,b,N,I,G,X,$,J,z,Y,D,B,U);return this.glTextureWrappers.push(H),H},createFramebuffer:function(b,N,I,G){this.currentFramebuffer=null;var X=new M(this.gl,b,N,I,G);return this.glFramebufferWrappers.push(X),X},beginBitmapMask:function(b,N){var I=this.gl;I&&(this.flush(),this.maskTarget.bind(!0),this.currentCameraMask.mask!==b&&(this.currentMask.mask=b,this.currentMask.camera=N))},drawBitmapMask:function(b,N,I){this.flush(),this.maskSource.bind(),this.setBlendMode(0,!0),b.renderWebGL(this,b,N),this.maskSource.unbind(!0),this.maskTarget.unbind();var G=this.gl,X=this.getCurrentStencilMask();X?(G.enable(G.STENCIL_TEST),X.mask.applyStencil(this,X.camera,!0)):this.currentMask.mask=null,this.pipelines.set(I),G.activeTexture(G.TEXTURE0),G.bindTexture(G.TEXTURE_2D,this.maskTarget.texture.webGLTexture),G.activeTexture(G.TEXTURE1),G.bindTexture(G.TEXTURE_2D,this.maskSource.texture.webGLTexture)},createProgram:function(b,N){var I=new C(this.gl,b,N);return this.glProgramWrappers.push(I),I},createVertexBuffer:function(b,N){var I=this.gl,G=new T(I,b,I.ARRAY_BUFFER,N);return this.glBufferWrappers.push(G),G},createAttribLocation:function(b,N){var I=new R(this.gl,b,N);return this.glAttribLocationWrappers.push(I),I},createUniformLocation:function(b,N){var I=new O(this.gl,b,N);return this.glUniformLocationWrappers.push(I),I},createIndexBuffer:function(b,N){var I=this.gl,G=new T(I,b,I.ELEMENT_ARRAY_BUFFER,N);return this.glBufferWrappers.push(G),G},deleteTexture:function(b){if(b)return v(this.glTextureWrappers,b),b.destroy(),this},deleteFramebuffer:function(b){return b?(v(this.fboStack,b),v(this.glFramebufferWrappers,b),b.destroy(),this):this},deleteProgram:function(b){return b&&(v(this.glProgramWrappers,b),b.destroy()),this},deleteAttribLocation:function(b){return b&&(v(this.glAttribLocationWrappers,b),b.destroy()),this},deleteUniformLocation:function(b){return b&&(v(this.glUniformLocationWrappers,b),b.destroy()),this},deleteBuffer:function(b){return b?(v(this.glBufferWrappers,b),b.destroy(),this):this},preRenderCamera:function(b){var N=b.x,I=b.y,G=b.width,X=b.height,$=b.backgroundColor;if(b.emit(a.PRE_RENDER,b),this.pipelines.preBatchCamera(b),this.pushScissor(N,I,G,X),b.mask&&(this.currentCameraMask.mask=b.mask,this.currentCameraMask.camera=b._maskCamera,b.mask.preRenderWebGL(this,b,b._maskCamera)),$.alphaGL>0){var J=this.pipelines.setMulti();J.drawFillRect(N,I,G,X,x.getTintFromFloats($.blueGL,$.greenGL,$.redGL,1),$.alphaGL)}},getCurrentStencilMask:function(){var b=null,N=this.maskStack,I=this.currentCameraMask;return N.length>0?b=N[N.length-1]:I.mask&&I.mask.isStencil&&(b=I),b},postRenderCamera:function(b){var N=b.flashEffect,I=b.fadeEffect;if(N.isRunning||I.isRunning||I.isComplete){var G=this.pipelines.setMulti();N.postRenderWebGL(G,x.getTintFromFloats),I.postRenderWebGL(G,x.getTintFromFloats)}b.dirty=!1,this.popScissor(),b.mask&&(this.currentCameraMask.mask=null,b.mask.postRenderWebGL(this,b._maskCamera)),this.pipelines.postBatchCamera(b),b.emit(a.POST_RENDER,b)},preRender:function(){if(!this.contextLost){var b=this.gl;if(b.bindFramebuffer(b.FRAMEBUFFER,null),this.config.clearBeforeRender){var N=this.config.backgroundColor;b.clearColor(N.redGL,N.greenGL,N.blueGL,N.alphaGL),b.clear(b.COLOR_BUFFER_BIT|b.DEPTH_BUFFER_BIT|b.STENCIL_BUFFER_BIT)}b.enable(b.SCISSOR_TEST),this.currentScissor=this.defaultScissor,this.scissorStack.length=0,this.scissorStack.push(this.currentScissor),this.game.scene.customViewports&&b.scissor(0,this.drawingBufferHeight-this.height,this.width,this.height),this.currentMask.mask=null,this.currentCameraMask.mask=null,this.maskStack.length=0,this.emit(r.PRE_RENDER)}},render:function(b,N,I){if(!this.contextLost){var G=N.length;if(this.emit(r.RENDER,b,I),this.preRenderCamera(I),G===0){this.setBlendMode(s.BlendModes.NORMAL),this.postRenderCamera(I);return}this.currentType="";for(var X=this.currentMask,$=0;$<G;$++){this.finalType=$===G-1;var J=N[$],z=J.mask;X=this.currentMask,X.mask&&X.mask!==z&&X.mask.postRenderWebGL(this,X.camera),z&&X.mask!==z&&z.preRenderWebGL(this,J,I),J.blendMode!==this.currentBlendMode&&this.setBlendMode(J.blendMode);var Y=J.type;Y!==this.currentType&&(this.newType=!0,this.currentType=Y),this.finalType?this.nextTypeMatch=!1:this.nextTypeMatch=N[$+1].type===this.currentType,J.renderWebGL(this,J,I),this.newType=!1}X=this.currentMask,X.mask&&X.mask.postRenderWebGL(this,X.camera),this.setBlendMode(s.BlendModes.NORMAL),this.postRenderCamera(I)}},postRender:function(){if(!this.contextLost){this.flush(),this.emit(r.POST_RENDER);var b=this.snapshotState;b.callback&&(E(this.gl,b),b.callback=null)}},clearStencilMask:function(){this.gl.disable(this.gl.STENCIL_TEST)},restoreStencilMask:function(){var b=this.gl,N=this.getCurrentStencilMask();if(N){var I=N.mask;b.enable(b.STENCIL_TEST),I.invertAlpha?b.stencilFunc(b.NOTEQUAL,I.level,255):b.stencilFunc(b.EQUAL,I.level,255)}},snapshot:function(b,N,I){return this.snapshotArea(0,0,this.gl.drawingBufferWidth,this.gl.drawingBufferHeight,b,N,I)},snapshotArea:function(b,N,I,G,X,$,J){var z=this.snapshotState;return z.callback=X,z.type=$,z.encoder=J,z.getPixel=!1,z.x=b,z.y=N,z.width=I,z.height=G,this},snapshotPixel:function(b,N,I){return this.snapshotArea(b,N,1,1,I),this.snapshotState.getPixel=!0,this},snapshotFramebuffer:function(b,N,I,G,X,$,J,z,Y,D,B){X===void 0&&(X=!1),$===void 0&&($=0),J===void 0&&(J=0),z===void 0&&(z=N),Y===void 0&&(Y=I),D==="pixel"&&(X=!0,D="image/png");var U=this.currentFramebuffer;this.snapshotArea($,J,z,Y,G,D,B);var H=this.snapshotState;return H.getPixel=X,H.isFramebuffer=!0,H.bufferWidth=N,H.bufferHeight=I,H.width=Math.min(H.width,N),H.height=Math.min(H.height,I),this.setFramebuffer(b),E(this.gl,H),this.setFramebuffer(U),H.callback=null,H.isFramebuffer=!1,this},canvasToTexture:function(b,N,I,G){I===void 0&&(I=!1),G===void 0&&(G=!1);var X=this.gl,$=X.NEAREST,J=X.NEAREST,z=b.width,Y=b.height,D=X.CLAMP_TO_EDGE,B=h(z,Y);return!I&&B&&(D=X.REPEAT),this.config.antialias&&($=B&&this.mipmapFilter?this.mipmapFilter:X.LINEAR,J=X.LINEAR),N?(N.update(b,z,Y,G,D,D,$,J,N.format),N):this.createTexture2D(0,$,J,D,D,X.RGBA,b,z,Y,!0,!1,G)},createCanvasTexture:function(b,N,I){return N===void 0&&(N=!1),I===void 0&&(I=!1),this.canvasToTexture(b,null,N,I)},updateCanvasTexture:function(b,N,I,G){return I===void 0&&(I=!1),G===void 0&&(G=!1),this.canvasToTexture(b,N,G,I)},videoToTexture:function(b,N,I,G){I===void 0&&(I=!1),G===void 0&&(G=!1);var X=this.gl,$=X.NEAREST,J=X.NEAREST,z=b.videoWidth,Y=b.videoHeight,D=X.CLAMP_TO_EDGE,B=h(z,Y);return!I&&B&&(D=X.REPEAT),this.config.antialias&&($=B&&this.mipmapFilter?this.mipmapFilter:X.LINEAR,J=X.LINEAR),N?(N.update(b,z,Y,G,D,D,$,J,N.format),N):this.createTexture2D(0,$,J,D,D,X.RGBA,b,z,Y,!0,!0,G)},createVideoTexture:function(b,N,I){return N===void 0&&(N=!1),I===void 0&&(I=!1),this.videoToTexture(b,null,N,I)},updateVideoTexture:function(b,N,I,G){return I===void 0&&(I=!1),G===void 0&&(G=!1),this.videoToTexture(b,N,G,I)},createUint8ArrayTexture:function(b,N,I){var G=this.gl,X=G.NEAREST,$=G.NEAREST,J=G.CLAMP_TO_EDGE,z=h(N,I);return z&&(J=G.REPEAT),this.createTexture2D(0,X,$,J,J,G.RGBA,b,N,I)},setTextureFilter:function(b,N){var I=this.gl,G=N===0?I.LINEAR:I.NEAREST;I.activeTexture(I.TEXTURE0);var X=I.getParameter(I.TEXTURE_BINDING_2D);return I.bindTexture(I.TEXTURE_2D,b.webGLTexture),I.texParameteri(I.TEXTURE_2D,I.TEXTURE_MIN_FILTER,G),I.texParameteri(I.TEXTURE_2D,I.TEXTURE_MAG_FILTER,G),b.minFilter=G,b.magFilter=G,X&&I.bindTexture(I.TEXTURE_2D,X),this},getMaxTextureSize:function(){return this.config.maxTextureSize},destroy:function(){this.canvas.removeEventListener("webglcontextlost",this.contextLostHandler,!1),this.canvas.removeEventListener("webglcontextrestored",this.contextRestoredHandler,!1);var b=function(N){N.destroy()};o(this.glAttribLocationWrappers,b),o(this.glBufferWrappers,b),o(this.glFramebufferWrappers,b),o(this.glProgramWrappers,b),o(this.glTextureWrappers,b),o(this.glUniformLocationWrappers,b),this.maskTarget.destroy(),this.maskSource.destroy(),this.pipelines.destroy(),this.removeAllListeners(),this.fboStack=[],this.maskStack=[],this.extensions={},this.textureIndexes=[],this.gl=null,this.game=null,this.canvas=null,this.contextLost=!0,this.currentMask=null,this.currentCameraMask=null}});c.exports=L},38683:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(95428),a=t(95540),i=t(14500),s=new o({initialize:function(r,h,n,l,f){this.pipeline=r,this.name=h,this.renderer=r.renderer,this.gl=this.renderer.gl,this.fragSrc=l,this.vertSrc=n,this.program=this.renderer.createProgram(n,l),this.attributes,this.vertexComponentCount=0,this.vertexSize=0,this.uniforms={},this.createAttributes(f),this.createUniforms()},createAttributes:function(e){var r=0,h=0,n=[];this.vertexComponentCount=0;for(var l=0;l<e.length;l++){var f=e[l],u=f.name,d=a(f,"size",1),p=a(f,"type",i.FLOAT),x=p.enum,E=p.size,T=!!f.normalized;n.push({name:u,size:d,type:x,normalized:T,offset:h,enabled:!1,location:-1}),E===4?r+=d:r++,h+=d*E}this.vertexSize=h,this.vertexComponentCount=r,this.attributes=n},bind:function(e,r){return e===void 0&&(e=!1),r===void 0&&(r=!1),r&&this.pipeline.flush(),this.renderer.setProgram(this.program),e&&this.setAttribPointers(),this},rebind:function(){return this.renderer.setProgram(this.program),this.setAttribPointers(!0),this},setAttribPointers:function(e){e===void 0&&(e=!1);for(var r=this.gl,h=this.renderer,n=this.vertexSize,l=this.attributes,f=this.program,u=0;u<l.length;u++){var d=l[u],p=d.size,x=d.type,E=d.offset,T=d.enabled,C=d.location,A=!!d.normalized;if(e){C!==-1&&h.deleteAttribLocation(C);var M=this.renderer.createAttribLocation(f,d.name);M.webGLAttribLocation>=0?(r.enableVertexAttribArray(M.webGLAttribLocation),r.vertexAttribPointer(M.webGLAttribLocation,p,x,A,n,E),d.enabled=!0,d.location=M):M.webGLAttribLocation!==-1&&r.disableVertexAttribArray(M.webGLAttribLocation)}else T?r.vertexAttribPointer(C.webGLAttribLocation,p,x,A,n,E):!T&&C!==-1&&C.webGLAttribLocation>-1&&(r.disableVertexAttribArray(C.webGLAttribLocation),d.location=-1)}return this},createUniforms:function(){var e=this.gl,r=this.program,h=this.uniforms,n,l,f,u=e.getProgramParameter(r.webGLProgram,e.ACTIVE_UNIFORMS);for(n=0;n<u;n++){var d=e.getActiveUniform(r.webGLProgram,n);if(d){l=d.name,f=this.renderer.createUniformLocation(r,l),f!==null&&(h[l]={name:l,location:f,setter:null,value1:null,value2:null,value3:null,value4:null});var p=l.indexOf("[");p>0&&(l=l.substr(0,p),h.hasOwnProperty(l)||(f=this.renderer.createUniformLocation(r,l),f!==null&&(h[l]={name:l,location:f,setter:null,value1:null,value2:null,value3:null,value4:null})))}}return this},syncUniforms:function(){var e=this.gl;this.renderer.setProgram(this.program);for(var r in this.uniforms){var h=this.uniforms[r];h.setter&&h.setter.call(e,h.location.webGLUniformLocation,h.value1,h.value2,h.value3,h.value4)}},hasUniform:function(e){return this.uniforms.hasOwnProperty(e)},resetUniform:function(e){var r=this.uniforms[e];return r&&(r.value1=null,r.value2=null,r.value3=null,r.value4=null),this},setUniform1:function(e,r,h,n){var l=this.uniforms[r];return l?((n||l.value1!==h)&&(l.setter||(l.setter=e),l.value1=h,this.renderer.setProgram(this.program),e.call(this.gl,l.location.webGLUniformLocation,h),this.pipeline.currentShader=this),this):this},setUniform2:function(e,r,h,n,l){var f=this.uniforms[r];return f?((l||f.value1!==h||f.value2!==n)&&(f.setter||(f.setter=e),f.value1=h,f.value2=n,this.renderer.setProgram(this.program),e.call(this.gl,f.location.webGLUniformLocation,h,n),this.pipeline.currentShader=this),this):this},setUniform3:function(e,r,h,n,l,f){var u=this.uniforms[r];return u?((f||u.value1!==h||u.value2!==n||u.value3!==l)&&(u.setter||(u.setter=e),u.value1=h,u.value2=n,u.value3=l,this.renderer.setProgram(this.program),e.call(this.gl,u.location.webGLUniformLocation,h,n,l),this.pipeline.currentShader=this),this):this},setUniform4:function(e,r,h,n,l,f,u){var d=this.uniforms[r];return d?((u||d.value1!==h||d.value2!==n||d.value3!==l||d.value4!==f)&&(d.setter||(d.setter=e),d.value1=h,d.value2=n,d.value3=l,d.value4=f,this.renderer.setProgram(this.program),e.call(this.gl,d.location.webGLUniformLocation,h,n,l,f),this.pipeline.currentShader=this),this):this},setBoolean:function(e,r){return this.setUniform1(this.gl.uniform1i,e,Number(r))},set1f:function(e,r){return this.setUniform1(this.gl.uniform1f,e,r)},set2f:function(e,r,h){return this.setUniform2(this.gl.uniform2f,e,r,h)},set3f:function(e,r,h,n){return this.setUniform3(this.gl.uniform3f,e,r,h,n)},set4f:function(e,r,h,n,l){return this.setUniform4(this.gl.uniform4f,e,r,h,n,l)},set1fv:function(e,r){return this.setUniform1(this.gl.uniform1fv,e,r,!0)},set2fv:function(e,r){return this.setUniform1(this.gl.uniform2fv,e,r,!0)},set3fv:function(e,r){return this.setUniform1(this.gl.uniform3fv,e,r,!0)},set4fv:function(e,r){return this.setUniform1(this.gl.uniform4fv,e,r,!0)},set1iv:function(e,r){return this.setUniform1(this.gl.uniform1iv,e,r,!0)},set2iv:function(e,r){return this.setUniform1(this.gl.uniform2iv,e,r,!0)},set3iv:function(e,r){return this.setUniform1(this.gl.uniform3iv,e,r,!0)},set4iv:function(e,r){return this.setUniform1(this.gl.uniform4iv,e,r,!0)},set1i:function(e,r){return this.setUniform1(this.gl.uniform1i,e,r)},set2i:function(e,r,h){return this.setUniform2(this.gl.uniform2i,e,r,h)},set3i:function(e,r,h,n){return this.setUniform3(this.gl.uniform3i,e,r,h,n)},set4i:function(e,r,h,n,l){return this.setUniform4(this.gl.uniform4i,e,r,h,n,l)},setMatrix2fv:function(e,r,h){return this.setUniform2(this.gl.uniformMatrix2fv,e,r,h,!0)},setMatrix3fv:function(e,r,h){return this.setUniform2(this.gl.uniformMatrix3fv,e,r,h,!0)},setMatrix4fv:function(e,r,h){return this.setUniform2(this.gl.uniformMatrix4fv,e,r,h,!0)},createProgram:function(e,r){return e===void 0&&(e=this.vertSrc),r===void 0&&(r=this.fragSrc),this.program&&this.renderer.deleteProgram(this.program),this.vertSrc=e,this.fragSrc=r,this.program=this.renderer.createProgram(e,r),this.createUniforms(),this.rebind()},destroy:function(){var e=this.renderer;v(this.uniforms,function(r){e.deleteUniformLocation(r.location)}),this.uniforms=null,v(this.attributes,function(r){e.deleteAttribLocation(r.location)}),this.attributes=null,e.deleteProgram(this.program),this.pipeline=null,this.renderer=null,this.gl=null,this.program=null}});c.exports=s},14500:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g={BYTE:{enum:5120,size:1},UNSIGNED_BYTE:{enum:5121,size:1},SHORT:{enum:5122,size:2},UNSIGNED_SHORT:{enum:5123,size:2},INT:{enum:5124,size:4},UNSIGNED_INT:{enum:5125,size:4},FLOAT:{enum:5126,size:4}};c.exports=g},4159:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(14500),v=t(79291),a={PipelineManager:t(7530),Pipelines:t(96615),RenderTarget:t(32302),Utils:t(70554),WebGLPipeline:t(29100),WebGLRenderer:t(74797),WebGLShader:t(38683),Wrappers:t(9503)};a=v(!1,a,o),c.exports=a},31302:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(95540),a=t(78908),i=t(85191),s=t(14500),e=t(29100),r=new o({Extends:e,initialize:function(n){n.fragShader=v(n,"fragShader",a),n.vertShader=v(n,"vertShader",i),n.batchSize=v(n,"batchSize",1),n.vertices=v(n,"vertices",[-1,1,-1,-7,7,1]),n.attributes=v(n,"attributes",[{name:"inPosition",size:2,type:s.FLOAT}]),e.call(this,n)},boot:function(){e.prototype.boot.call(this),this.set1i("uMainSampler",0),this.set1i("uMaskSampler",1)},resize:function(h,n){e.prototype.resize.call(this,h,n),this.set2f("uResolution",h,n)},beginMask:function(h,n,l){this.renderer.beginBitmapMask(h,l)},endMask:function(h,n,l){var f=this.gl,u=this.renderer,d=h.bitmapMask;d&&f&&(u.drawBitmapMask(d,n,this),l&&this.set2f("uResolution",l.width,l.height),this.set1i("uInvertMaskAlpha",h.invertAlpha),f.drawArrays(this.topology,0,3),l&&this.set2f("uResolution",this.width,this.height),f.bindTexture(f.TEXTURE_2D,null))}});c.exports=r},92651:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(58918),a=t(14811),i=t(95540),s=t(43558),e=t(89350),r=t(70554),h=new o({Extends:s,initialize:function(l){l.shaders=[r.setGlowQuality(e.FXGlowFrag,l.game),e.FXShadowFrag,e.FXPixelateFrag,e.FXVignetteFrag,e.FXShineFrag,e.FXBlurLowFrag,e.FXBlurMedFrag,e.FXBlurHighFrag,e.FXGradientFrag,e.FXBloomFrag,e.ColorMatrixFrag,e.FXCircleFrag,e.FXBarrelFrag,e.FXDisplacementFrag,e.FXWipeFrag,e.FXBokehFrag],s.call(this,l);var f=this.game;this.glow=new v.Glow(f),this.shadow=new v.Shadow(f),this.pixelate=new v.Pixelate(f),this.vignette=new v.Vignette(f),this.shine=new v.Shine(f),this.gradient=new v.Gradient(f),this.circle=new v.Circle(f),this.barrel=new v.Barrel(f),this.wipe=new v.Wipe(f),this.bokeh=new v.Bokeh(f);var u=[];u[a.GLOW]=this.onGlow,u[a.SHADOW]=this.onShadow,u[a.PIXELATE]=this.onPixelate,u[a.VIGNETTE]=this.onVignette,u[a.SHINE]=this.onShine,u[a.BLUR]=this.onBlur,u[a.GRADIENT]=this.onGradient,u[a.BLOOM]=this.onBloom,u[a.COLOR_MATRIX]=this.onColorMatrix,u[a.CIRCLE]=this.onCircle,u[a.BARREL]=this.onBarrel,u[a.DISPLACEMENT]=this.onDisplacement,u[a.WIPE]=this.onWipe,u[a.BOKEH]=this.onBokeh,this.fxHandlers=u,this.source,this.target,this.swap},onDraw:function(n,l,f){this.source=n,this.target=l,this.swap=f;var u=n.width,d=n.height,p=this.tempSprite,x=this.fxHandlers;if(p&&p.preFX)for(var E=p.preFX.list,T=0;T<E.length;T++){var C=E[T];C.active&&x[C.type].call(this,C,u,d)}this.drawToGame(this.source)},runDraw:function(){var n=this.source,l=this.target;this.copy(n,l),this.source=l,this.target=n},onGlow:function(n,l,f){var u=this.shaders[a.GLOW];this.setShader(u),this.glow.onPreRender(n,u,l,f),this.runDraw()},onShadow:function(n){var l=this.shaders[a.SHADOW];this.setShader(l),this.shadow.onPreRender(n,l),this.runDraw()},onPixelate:function(n,l,f){var u=this.shaders[a.PIXELATE];this.setShader(u),this.pixelate.onPreRender(n,u,l,f),this.runDraw()},onVignette:function(n){var l=this.shaders[a.VIGNETTE];this.setShader(l),this.vignette.onPreRender(n,l),this.runDraw()},onShine:function(n,l,f){var u=this.shaders[a.SHINE];this.setShader(u),this.shine.onPreRender(n,u,l,f),this.runDraw()},onBlur:function(n,l,f){var u=i(n,"quality"),d=this.shaders[a.BLUR+u];this.setShader(d),this.set1i("uMainSampler",0),this.set2f("resolution",l,f),this.set1f("strength",i(n,"strength")),this.set3fv("color",i(n,"glcolor"));for(var p=i(n,"x"),x=i(n,"y"),E=i(n,"steps"),T=0;T<E;T++)this.set2f("offset",p,0),this.runDraw(),this.set2f("offset",0,x),this.runDraw()},onGradient:function(n){var l=this.shaders[a.GRADIENT];this.setShader(l),this.gradient.onPreRender(n,l),this.runDraw()},onBloom:function(n,l,f){var u=this.shaders[a.BLOOM];this.copySprite(this.source,this.swap),this.setShader(u),this.set1i("uMainSampler",0),this.set1f("strength",i(n,"blurStrength")),this.set3fv("color",i(n,"glcolor"));for(var d=2/l*i(n,"offsetX"),p=2/f*i(n,"offsetY"),x=i(n,"steps"),E=0;E<x;E++)this.set2f("offset",d,0),this.runDraw(),this.set2f("offset",0,p),this.runDraw();this.blendFrames(this.swap,this.source,this.target,i(n,"strength")),this.copySprite(this.target,this.source)},onColorMatrix:function(n){this.setShader(this.colorMatrixShader),this.set1fv("uColorMatrix",n.getData()),this.set1f("uAlpha",n.alpha),this.runDraw()},onCircle:function(n,l,f){var u=this.shaders[a.CIRCLE];this.setShader(u),this.circle.onPreRender(n,u,l,f),this.runDraw()},onBarrel:function(n){var l=this.shaders[a.BARREL];this.setShader(l),this.barrel.onPreRender(n,l),this.runDraw()},onDisplacement:function(n){this.setShader(this.shaders[a.DISPLACEMENT]),this.set1i("uDisplacementSampler",1),this.set2f("amount",n.x,n.y),this.bindTexture(n.glTexture,1),this.runDraw()},onWipe:function(n){var l=this.shaders[a.WIPE];this.setShader(l),this.wipe.onPreRender(n,l),this.runDraw()},onBokeh:function(n,l,f){var u=this.shaders[a.BOKEH];this.setShader(u),this.bokeh.onPreRender(n,u,l,f),this.runDraw()},destroy:function(){return this.glow.destroy(),this.shadow.destroy(),this.pixelate.destroy(),this.vignette.destroy(),this.shine.destroy(),this.gradient.destroy(),this.circle.destroy(),this.barrel.destroy(),this.wipe.destroy(),this.bokeh.destroy(),this.fxHandlers=null,this.source=null,this.target=null,this.swap=null,s.prototype.destroy.call(this),this}});c.exports=h},96569:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(95540),a=t(31063),i=t(57516),s=t(61340),e=t(26099),r=t(29100),h=new o({Extends:i,initialize:function(l){var f=v(l,"fragShader",a);l.fragShader=f.replace("%LIGHT_COUNT%",l.game.renderer.config.maxLights),i.call(this,l),this.inverseRotationMatrix=new Float32Array([1,0,0,0,1,0,0,0,1]),this.currentNormalMap,this.lightsActive=!0,this.tempVec2=new e,this._tempMatrix=new s,this._tempMatrix2=new s},boot:function(){r.prototype.boot.call(this)},onRender:function(n,l){var f=n.sys.lights;if(this.lightsActive=!1,!(!f||!f.active)){var u=f.getLights(l),d=u.length;this.lightsActive=!0;var p,x=this.renderer,E=x.height,T=l.matrix,C=this.tempVec2;for(this.set1i("uMainSampler",0),this.set1i("uNormSampler",1),this.set2f("uResolution",this.width/2,this.height/2),this.set4f("uCamera",l.x,l.y,l.rotation,l.zoom),this.set3f("uAmbientLightColor",f.ambientColor.r,f.ambientColor.g,f.ambientColor.b),this.set1i("uLightCount",d),p=0;p<d;p++){var A=u[p].light,M=A.color,R="uLights["+p+"].";T.transformPoint(A.x,A.y,C),this.set2f(R+"position",C.x-l.scrollX*A.scrollFactorX*l.zoom,E-(C.y-l.scrollY*A.scrollFactorY*l.zoom)),this.set3f(R+"color",M.r,M.g,M.b),this.set1f(R+"intensity",A.intensity),this.set1f(R+"radius",A.radius)}this.currentNormalMapRotation=null}},setNormalMapRotation:function(n){if(n!==this.currentNormalMapRotation||this.vertexCount===0){this.vertexCount>0&&this.flush();var l=this.inverseRotationMatrix;if(n){var f=-n,u=Math.cos(f),d=Math.sin(f);l[1]=d,l[3]=-d,l[0]=l[4]=u}else l[0]=l[4]=1,l[1]=l[3]=0;this.setMatrix3fv("uInverseRotationMatrix",!1,l),this.currentNormalMapRotation=n}},setTexture2D:function(n,l){var f=this.renderer;n===void 0&&(n=f.whiteTexture);var u=this.getNormalMap(l);this.isNewNormalMap(n,u)&&(this.flush(),this.createBatch(n),this.addTextureToBatch(u),this.currentNormalMap=u);var d=0;if(l&&l.parentContainer){var p=l.getWorldTransformMatrix(this._tempMatrix,this._tempMatrix2);d=p.rotationNormalized}else l&&(d=l.rotation);return this.setNormalMapRotation(d),0},setGameObject:function(n,l){l===void 0&&(l=n.frame);var f=l.glTexture,u=this.getNormalMap(n);if(this.isNewNormalMap(f,u)&&(this.flush(),this.createBatch(f),this.addTextureToBatch(u),this.currentNormalMap=u),n.parentContainer){var d=n.getWorldTransformMatrix(this._tempMatrix,this._tempMatrix2);this.setNormalMapRotation(d.rotationNormalized)}else this.setNormalMapRotation(n.rotation);return 0},isNewNormalMap:function(n,l){return this.currentTexture!==n||this.currentNormalMap!==l},getNormalMap:function(n){var l;if(n)n.displayTexture?l=n.displayTexture.dataSource[n.displayFrame.sourceIndex]:n.texture?l=n.texture.dataSource[n.frame.sourceIndex]:n.tileset&&(Array.isArray(n.tileset)?l=n.tileset[0].image.dataSource[0]:l=n.tileset.image.dataSource[0]);else return this.renderer.normalTexture;return l?l.glTexture:this.renderer.normalTexture},batchSprite:function(n,l,f){this.lightsActive&&i.prototype.batchSprite.call(this,n,l,f)},batchTexture:function(n,l,f,u,d,p,x,E,T,C,A,M,R,O,L,b,N,I,G,X,$,J,z,Y,D,B,U,H,j,q,_,st){this.lightsActive&&i.prototype.batchTexture.call(this,n,l,f,u,d,p,x,E,T,C,A,M,R,O,L,b,N,I,G,X,$,J,z,Y,D,B,U,H,j,q,_,st)},batchTextureFrame:function(n,l,f,u,d,p,x){this.lightsActive&&i.prototype.batchTextureFrame.call(this,n,l,f,u,d,p,x)}});c.exports=h},56527:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(95540),a=t(57516),i=t(45561),s=t(60722),e=t(14500),r=t(29100),h=new o({Extends:a,initialize:function(l){l.fragShader=v(l,"fragShader",i),l.vertShader=v(l,"vertShader",s),l.attributes=v(l,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2},{name:"inTexId"},{name:"inTintEffect"},{name:"inTint",size:4,type:e.UNSIGNED_BYTE,normalized:!0}]),l.forceZero=!0,l.resizeUniform="uResolution",a.call(this,l)},boot:function(){r.prototype.boot.call(this);var n=this.renderer;this.set1i("uMainSampler",0),this.set2f("uResolution",n.width,n.height),this.set1i("uRoundPixels",n.config.roundPixels)}});c.exports=h},57516:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(94811),a=t(95540),i=t(98840),s=t(44667),e=t(61340),r=t(70554),h=t(14500),n=t(29100),l=new o({Extends:n,initialize:function(u){var d=u.game.renderer,p=a(u,"fragShader",i);u.fragShader=r.parseFragmentShaderMaxTextures(p,d.maxTextures),u.vertShader=a(u,"vertShader",s),u.attributes=a(u,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2},{name:"inTexId"},{name:"inTintEffect"},{name:"inTint",size:4,type:h.UNSIGNED_BYTE,normalized:!0}]),u.resizeUniform="uResolution",n.call(this,u),this._tempMatrix1=new e,this._tempMatrix2=new e,this._tempMatrix3=new e,this.calcMatrix=new e,this.tempTriangle=[{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0}],this.strokeTint={TL:0,TR:0,BL:0,BR:0},this.fillTint={TL:0,TR:0,BL:0,BR:0},this.currentFrame={u0:0,v0:0,u1:1,v1:1},this.firstQuad=[0,0,0,0,0],this.prevQuad=[0,0,0,0,0],this.polygonCache=[]},boot:function(){n.prototype.boot.call(this);var f=this.renderer;this.set1iv("uMainSampler",f.textureIndexes),this.set2f("uResolution",f.width,f.height),this.set1i("uRoundPixels",f.config.roundPixels)},batchSprite:function(f,u,d){this.manager.set(this,f);var p=this._tempMatrix1,x=this._tempMatrix2,E=this._tempMatrix3,T=f.frame,C=T.glTexture,A=T.u0,M=T.v0,R=T.u1,O=T.v1,L=T.x,b=T.y,N=T.cutWidth,I=T.cutHeight,G=T.customPivot,X=f.displayOriginX,$=f.displayOriginY,J=-X+L,z=-$+b;if(f.isCropped){var Y=f._crop;(Y.flipX!==f.flipX||Y.flipY!==f.flipY)&&T.updateCropUVs(Y,f.flipX,f.flipY),A=Y.u0,M=Y.v0,R=Y.u1,O=Y.v1,N=Y.width,I=Y.height,L=Y.x,b=Y.y,J=-X+L,z=-$+b}var D=1,B=1;f.flipX&&(G||(J+=-T.realWidth+X*2),D=-1),f.flipY&&(G||(z+=-T.realHeight+$*2),B=-1);var U=f.x,H=f.y;x.applyITRS(U,H,f.rotation,f.scaleX*D,f.scaleY*B),p.copyFrom(u.matrix),d?(p.multiplyWithOffset(d,-u.scrollX*f.scrollFactorX,-u.scrollY*f.scrollFactorY),x.e=U,x.f=H):(x.e-=u.scrollX*f.scrollFactorX,x.f-=u.scrollY*f.scrollFactorY),p.multiply(x,E);var j=E.setQuad(J,z,J+N,z+I),q=r.getTintAppendFloatAlpha,_=u.alpha,st=q(f.tintTopLeft,_*f._alphaTL),ut=q(f.tintTopRight,_*f._alphaTR),ct=q(f.tintBottomLeft,_*f._alphaBL),pt=q(f.tintBottomRight,_*f._alphaBR);this.shouldFlush(6)&&this.flush();var Tt=this.setGameObject(f,T);this.manager.preBatch(f),this.currentShader.set1i("uRoundPixels",u.roundPixels),this.batchQuad(f,j[0],j[1],j[2],j[3],j[4],j[5],j[6],j[7],A,M,R,O,st,ut,ct,pt,f.tintFill,C,Tt),this.manager.postBatch(f)},batchTexture:function(f,u,d,p,x,E,T,C,A,M,R,O,L,b,N,I,G,X,$,J,z,Y,D,B,U,H,j,q,_,st,ut,ct,pt){pt===void 0&&(pt=!1),this.manager.set(this,f);var Tt=this._tempMatrix1,mt=this._tempMatrix2,wt=this._tempMatrix3,Nt=X/d+j,zt=$/p+q,Ot=(X+J)/d+j,St=($+z)/p+q,It=T,bt=C,Xt=-I,Wt=-G;if(f.isCropped){var he=f._crop,kt=he.width,jt=he.height;It=kt,bt=jt,T=kt,C=jt,X=he.x,$=he.y;var Ht=X,ve=$;O&&(Ht=J-he.x-kt),L&&(ve=z-he.y-jt),Nt=Ht/d+j,zt=ve/p+q,Ot=(Ht+kt)/d+j,St=(ve+jt)/p+q,Xt=-I+X,Wt=-G+$}L=L^(!ut&&u.isRenderTexture?1:0),O&&(It*=-1,Xt+=T),L&&(bt*=-1,Wt+=C),mt.applyITRS(x,E,R,A,M),Tt.copyFrom(_.matrix),st?(Tt.multiplyWithOffset(st,-_.scrollX*b,-_.scrollY*N),mt.e=x,mt.f=E):(mt.e-=_.scrollX*b,mt.f-=_.scrollY*N),Tt.multiply(mt,wt);var le=wt.setQuad(Xt,Wt,Xt+It,Wt+bt);ct==null&&(ct=this.setTexture2D(u)),f&&!pt&&this.manager.preBatch(f),this.currentShader.set1i("uRoundPixels",_.roundPixels),this.batchQuad(f,le[0],le[1],le[2],le[3],le[4],le[5],le[6],le[7],Nt,zt,Ot,St,Y,D,B,U,H,u,ct),f&&!pt&&this.manager.postBatch(f)},batchTextureFrame:function(f,u,d,p,x,E,T){this.manager.set(this);var C=this._tempMatrix1.copyFrom(E),A=this._tempMatrix2;T?C.multiply(T,A):A=C;var M=A.setQuad(u,d,u+f.width,d+f.height),R=this.setTexture2D(f.source.glTexture);p=r.getTintAppendFloatAlpha(p,x),this.batchQuad(null,M[0],M[1],M[2],M[3],M[4],M[5],M[6],M[7],f.u0,f.v0,f.u1,f.v1,p,p,p,p,0,f.glTexture,R)},batchFillRect:function(f,u,d,p,x,E){this.renderer.pipelines.set(this);var T=this.calcMatrix;E&&E.multiply(x,T);var C=T.setQuad(f,u,f+d,u+p),A=this.fillTint;this.batchQuad(null,C[0],C[1],C[2],C[3],C[4],C[5],C[6],C[7],0,0,1,1,A.TL,A.TR,A.BL,A.BR,2)},batchFillTriangle:function(f,u,d,p,x,E,T,C){this.renderer.pipelines.set(this);var A=this.calcMatrix;C&&C.multiply(T,A);var M=A.getX(f,u),R=A.getY(f,u),O=A.getX(d,p),L=A.getY(d,p),b=A.getX(x,E),N=A.getY(x,E),I=this.fillTint;this.currentShader.set1i("uRoundPixels",!1),this.batchTri(null,M,R,O,L,b,N,0,0,1,1,I.TL,I.TR,I.BL,2)},batchStrokeTriangle:function(f,u,d,p,x,E,T,C,A){var M=this.tempTriangle;M[0].x=f,M[0].y=u,M[0].width=T,M[1].x=d,M[1].y=p,M[1].width=T,M[2].x=x,M[2].y=E,M[2].width=T,M[3].x=f,M[3].y=u,M[3].width=T,this.batchStrokePath(M,T,!1,C,A)},batchFillPath:function(f,u,d){this.renderer.pipelines.set(this);var p=this.calcMatrix;d&&d.multiply(u,p);for(var x=f.length,E=this.polygonCache,T,C,A=this.fillTint.TL,M=this.fillTint.TR,R=this.fillTint.BL,O=0;O<x;++O)C=f[O],E.push(C.x,C.y);T=v(E),x=T.length,this.currentShader.set1i("uRoundPixels",!1);for(var L=0;L<x;L+=3){var b=T[L+0]*2,N=T[L+1]*2,I=T[L+2]*2,G=E[b+0],X=E[b+1],$=E[N+0],J=E[N+1],z=E[I+0],Y=E[I+1],D=p.getX(G,X),B=p.getY(G,X),U=p.getX($,J),H=p.getY($,J),j=p.getX(z,Y),q=p.getY(z,Y);this.batchTri(null,D,B,U,H,j,q,0,0,1,1,A,M,R,2)}E.length=0},batchStrokePath:function(f,u,d,p,x){this.renderer.pipelines.set(this),this.prevQuad[4]=0,this.firstQuad[4]=0;for(var E=f.length-1,T=0;T<E;T++){var C=f[T],A=f[T+1];this.batchLine(C.x,C.y,A.x,A.y,C.width/2,A.width/2,u,T,!d&&T===E-1,p,x)}},batchLine:function(f,u,d,p,x,E,T,C,A,M,R){this.renderer.pipelines.set(this);var O=this.calcMatrix;R&&R.multiply(M,O);var L=d-f,b=p-u,N=Math.sqrt(L*L+b*b);if(N!==0){var I=x*(p-u)/N,G=x*(f-d)/N,X=E*(p-u)/N,$=E*(f-d)/N,J=d-X,z=p-$,Y=f-I,D=u-G,B=d+X,U=p+$,H=f+I,j=u+G,q=O.getX(J,z),_=O.getY(J,z),st=O.getX(Y,D),ut=O.getY(Y,D),ct=O.getX(B,U),pt=O.getY(B,U),Tt=O.getX(H,j),mt=O.getY(H,j),wt=this.strokeTint,Nt=wt.TL,zt=wt.TR,Ot=wt.BL,St=wt.BR;if(this.currentShader.set1i("uRoundPixels",!1),this.batchQuad(null,Tt,mt,st,ut,q,_,ct,pt,0,0,1,1,Nt,zt,Ot,St,2),!(T<=2)){var It=this.prevQuad,bt=this.firstQuad;C>0&&It[4]?this.batchQuad(null,Tt,mt,st,ut,It[0],It[1],It[2],It[3],0,0,1,1,Nt,zt,Ot,St,2):(bt[0]=Tt,bt[1]=mt,bt[2]=st,bt[3]=ut,bt[4]=1),A&&bt[4]?this.batchQuad(null,q,_,ct,pt,bt[0],bt[1],bt[2],bt[3],0,0,1,1,Nt,zt,Ot,St,2):(It[0]=q,It[1]=_,It[2]=ct,It[3]=pt,It[4]=1)}}},destroy:function(){return this._tempMatrix1.destroy(),this._tempMatrix2.destroy(),this._tempMatrix3.destroy(),this._tempMatrix1=null,this._tempMatrix1=null,this._tempMatrix1=null,n.prototype.destroy.call(this),this}});c.exports=l},43439:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(95540),a=t(4127),i=t(89924),s=t(29100),e=new o({Extends:s,initialize:function(h){h.vertShader=v(h,"vertShader",i),h.fragShader=v(h,"fragShader",a),h.attributes=v(h,"attributes",[{name:"inPosition",size:2},{name:"inLightPosition",size:2},{name:"inLightRadius"},{name:"inLightAttenuation"},{name:"inLightColor",size:4}]),s.call(this,h)},onRender:function(r,h){this.set2f("uResolution",this.width,this.height),this.set1f("uCameraZoom",h.zoom)},batchPointLight:function(r,h,n,l,f,u,d,p,x,E,T,C){var A=r.color,M=r.intensity,R=r.radius,O=r.attenuation,L=A.r*M,b=A.g*M,N=A.b*M,I=h.alpha*r.alpha;this.shouldFlush(6)&&this.flush(),this.currentBatch||this.setTexture2D(),this.batchLightVert(n,l,T,C,R,O,L,b,N,I),this.batchLightVert(f,u,T,C,R,O,L,b,N,I),this.batchLightVert(d,p,T,C,R,O,L,b,N,I),this.batchLightVert(n,l,T,C,R,O,L,b,N,I),this.batchLightVert(d,p,T,C,R,O,L,b,N,I),this.batchLightVert(x,E,T,C,R,O,L,b,N,I),this.currentBatch.count=this.vertexCount-this.currentBatch.start},batchLightVert:function(r,h,n,l,f,u,d,p,x,E){var T=this.vertexViewF32,C=this.vertexCount*this.currentShader.vertexComponentCount-1;T[++C]=r,T[++C]=h,T[++C]=n,T[++C]=l,T[++C]=f,T[++C]=u,T[++C]=d,T[++C]=p,T[++C]=x,T[++C]=E,this.vertexCount++}});c.exports=e},84057:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(89422),a=t(95540),i=t(27681),s=t(49627),e=t(29100),r=new o({Extends:e,initialize:function(n){n.renderTarget=a(n,"renderTarget",1),n.fragShader=a(n,"fragShader",i),n.vertShader=a(n,"vertShader",s),n.attributes=a(n,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2}]),n.batchSize=1,n.vertices=[-1,-1,0,0,-1,1,0,1,1,1,1,1,-1,-1,0,0,1,1,1,1,1,-1,1,0],e.call(this,n),this.isPostFX=!0,this.gameObject,this.controller,this.colorMatrix=new v,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2,this.renderer.isBooted&&(this.manager=this.renderer.pipelines)},bootFX:function(){e.prototype.boot.call(this);var h=this.manager.UTILITY_PIPELINE;this.fullFrame1=h.fullFrame1,this.fullFrame2=h.fullFrame2,this.halfFrame1=h.halfFrame1,this.halfFrame2=h.halfFrame2;var n=this.renderer;this.set1i("uMainSampler",0),this.set2f("uResolution",n.width,n.height),this.set1i("uRoundPixels",n.config.roundPixels);for(var l=this.renderTargets,f=0;f<l.length;f++)l[f].autoResize=!0},postBatch:function(h){return this.hasBooted||(this.bootFX(),this.currentRenderTarget&&this.currentRenderTarget.bind()),this.onDraw(this.currentRenderTarget),this.onPostBatch(h),this},onDraw:function(h){this.bindAndDraw(h)},getController:function(h){return h!==void 0?h:this.controller?this.controller:this},copySprite:function(h,n,l){l===void 0&&(l=!1);var f=this.gl;f.activeTexture(f.TEXTURE0),f.bindTexture(f.TEXTURE_2D,h.texture.webGLTexture);var u=f.getParameter(f.FRAMEBUFFER_BINDING);f.bindFramebuffer(f.FRAMEBUFFER,n.framebuffer.webGLFramebuffer),f.framebufferTexture2D(f.FRAMEBUFFER,f.COLOR_ATTACHMENT0,f.TEXTURE_2D,n.texture.webGLTexture,0),f.clearColor(0,0,0,0),f.clear(f.COLOR_BUFFER_BIT),f.bufferData(f.ARRAY_BUFFER,this.vertexData,f.STATIC_DRAW),f.drawArrays(f.TRIANGLES,0,6),l&&(f.bindTexture(f.TEXTURE_2D,null),f.bindFramebuffer(f.FRAMEBUFFER,u))},copyFrame:function(h,n,l,f,u){this.manager.copyFrame(h,n,l,f,u)},copyToGame:function(h){this.manager.copyToGame(h)},drawFrame:function(h,n,l){this.manager.drawFrame(h,n,l,this.colorMatrix)},blendFrames:function(h,n,l,f,u){this.manager.blendFrames(h,n,l,f,u)},blendFramesAdditive:function(h,n,l,f,u){this.manager.blendFramesAdditive(h,n,l,f,u)},clearFrame:function(h,n){this.manager.clearFrame(h,n)},blitFrame:function(h,n,l,f,u,d){this.manager.blitFrame(h,n,l,f,u,d)},copyFrameRect:function(h,n,l,f,u,d,p,x){this.manager.copyFrameRect(h,n,l,f,u,d,p,x)},bindAndDraw:function(h,n,l,f,u){l===void 0&&(l=!0),f===void 0&&(f=!0);var d=this.gl,p=this.renderer;this.bind(u),this.set1i("uMainSampler",0),n?(d.viewport(0,0,n.width,n.height),d.bindFramebuffer(d.FRAMEBUFFER,n.framebuffer.webGLFramebuffer),d.framebufferTexture2D(d.FRAMEBUFFER,d.COLOR_ATTACHMENT0,d.TEXTURE_2D,n.texture.webGLTexture,0),l&&(f?d.clearColor(0,0,0,0):d.clearColor(0,0,0,1),d.clear(d.COLOR_BUFFER_BIT))):(p.popFramebuffer(!1,!1),p.currentFramebuffer||d.viewport(0,0,p.width,p.height)),p.restoreStencilMask(),d.activeTexture(d.TEXTURE0),d.bindTexture(d.TEXTURE_2D,h.texture.webGLTexture),d.bufferData(d.ARRAY_BUFFER,this.vertexData,d.STATIC_DRAW),d.drawArrays(d.TRIANGLES,0,6),n&&(d.bindTexture(d.TEXTURE_2D,null),d.bindFramebuffer(d.FRAMEBUFFER,p.currentFramebuffer.webGLFramebuffer))},destroy:function(){return this.controller&&this.controller.destroy(),this.gameObject=null,this.controller=null,this.colorMatrix=null,this.fullFrame1=null,this.fullFrame2=null,this.halfFrame1=null,this.halfFrame2=null,this.manager.removePostPipeline(this),e.prototype.destroy.call(this),this}});c.exports=r},43558:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(10312),v=t(67502),a=t(83419),i=t(96293),s=t(95540),e=t(57516),r=t(27681),h=t(87841),n=t(32302),l=t(45561),f=t(60722),u=t(29100),d=new a({Extends:e,initialize:function(x){var E=s(x,"fragShader",r),T=s(x,"vertShader",f),C=s(x,"drawShader",r),A=[{name:"DrawSprite",fragShader:l,vertShader:f},{name:"CopySprite",fragShader:E,vertShader:T},{name:"DrawGame",fragShader:C,vertShader:f},{name:"ColorMatrix",fragShader:i}],M=s(x,"shaders",[]);x.shaders=A.concat(M),x.vertShader||(x.vertShader=T),x.batchSize=1,e.call(this,x),this.isPreFX=!0,this.customMainSampler=null,this.drawSpriteShader,this.copyShader,this.gameShader,this.colorMatrixShader,this.quadVertexData,this.quadVertexBuffer,this.quadVertexViewF32,this.spriteBounds=new h,this.targetBounds=new h,this.fsTarget,this.tempSprite,this.renderer.isBooted&&(this.manager=this.renderer.pipelines,this.boot())},boot:function(){u.prototype.boot.call(this);var p=this.shaders,x=this.renderer;this.drawSpriteShader=p[0],this.copyShader=p[1],this.gameShader=p[2],this.colorMatrixShader=p[3],this.fsTarget=new n(x,x.width,x.height,1,0,!0,!0),this.renderTargets=this.manager.renderTargets.concat(this.fsTarget);var E=new ArrayBuffer(168);this.quadVertexData=E,this.quadVertexViewF32=new Float32Array(E),this.quadVertexBuffer=x.createVertexBuffer(E,this.gl.STATIC_DRAW),this.onResize(x.width,x.height),this.currentShader=this.copyShader,this.set2f("uResolution",x.width,x.height),this.set1i("uRoundPixels",x.config.roundPixels)},onResize:function(p,x){var E=this.quadVertexViewF32;E[1]=x,E[22]=x,E[14]=p,E[28]=p,E[35]=p,E[36]=x},batchQuad:function(p,x,E,T,C,A,M,R,O,L,b,N,I,G,X,$,J,z,Y){var D=Math.min(x,T,A,R),B=Math.min(E,C,M,O),U=Math.max(x,T,A,R),H=Math.max(E,C,M,O),j=U-D,q=H-B,_=this.spriteBounds.setTo(D,B,j,q),st=p?p.preFX.padding:0,ut=j+st*2,ct=q+st*2,pt=Math.abs(Math.max(ut,ct)),Tt=this.manager.getRenderTarget(pt),mt=this.targetBounds.setTo(0,0,Tt.width,Tt.height);v(mt,_.centerX,_.centerY),this.tempSprite=p;var wt=this.gl,Nt=this.renderer;Nt.clearStencilMask(),this.setShader(this.drawSpriteShader),this.set1i("uMainSampler",0),this.set2f("uResolution",Nt.width,Nt.height),this.set1i("uRoundPixels",Nt.config.roundPixels),this.flipProjectionMatrix(!0),p&&(this.onDrawSprite(p,Tt),p.preFX.onFX(this));var zt=this.fsTarget;return this.flush(),wt.viewport(0,0,Nt.width,Nt.height),wt.bindFramebuffer(wt.FRAMEBUFFER,zt.framebuffer.webGLFramebuffer),wt.framebufferTexture2D(wt.FRAMEBUFFER,wt.COLOR_ATTACHMENT0,wt.TEXTURE_2D,zt.texture.webGLTexture,0),wt.clearColor(0,0,0,0),wt.clear(wt.COLOR_BUFFER_BIT),this.setTexture2D(Y),this.batchVert(x,E,L,b,0,z,G),this.batchVert(T,C,L,I,0,z,$),this.batchVert(A,M,N,I,0,z,J),this.batchVert(x,E,L,b,0,z,G),this.batchVert(A,M,N,I,0,z,J),this.batchVert(R,O,N,b,0,z,X),this.flush(),this.flipProjectionMatrix(!1),wt.activeTexture(wt.TEXTURE0),wt.bindTexture(wt.TEXTURE_2D,Tt.texture.webGLTexture),wt.copyTexSubImage2D(wt.TEXTURE_2D,0,0,0,mt.x,mt.y,mt.width,mt.height),wt.bindFramebuffer(wt.FRAMEBUFFER,null),wt.bindTexture(wt.TEXTURE_2D,null),this.onBatch(p),this.currentShader=this.copyShader,this.onDraw(Tt,this.manager.getSwapRenderTarget(),this.manager.getAltSwapRenderTarget()),!0},onDrawSprite:function(){},onCopySprite:function(){},copySprite:function(p,x,E,T,C,A,M){E===void 0&&(E=!0),T===void 0&&(T=!0),C===void 0&&(C=!1),M===void 0&&(M=this.copyShader);var R=this.gl,O=this.tempSprite;A&&(M=this.colorMatrixShader),this.currentShader=M;var L=this.setVertexBuffer(this.quadVertexBuffer);M.bind(L,!1);var b=this.renderer;if(this.set1i("uMainSampler",0),this.set2f("uResolution",b.width,b.height),this.set1i("uRoundPixels",b.config.roundPixels),O.preFX.onFXCopy(this),this.onCopySprite(p,x,O),A&&(this.set1fv("uColorMatrix",A.getData()),this.set1f("uAlpha",A.alpha)),R.activeTexture(R.TEXTURE0),R.bindTexture(R.TEXTURE_2D,p.texture.webGLTexture),p.height>x.height)R.viewport(0,0,p.width,p.height),this.setTargetUVs(p,x);else{var N=x.height-p.height;R.viewport(0,N,p.width,p.height),this.resetUVs()}if(R.bindFramebuffer(R.FRAMEBUFFER,x.framebuffer.webGLFramebuffer),R.framebufferTexture2D(R.FRAMEBUFFER,R.COLOR_ATTACHMENT0,R.TEXTURE_2D,x.texture.webGLTexture,0),E&&(R.clearColor(0,0,0,+!T),R.clear(R.COLOR_BUFFER_BIT)),C){var I=this.renderer.currentBlendMode;this.renderer.setBlendMode(o.ERASE)}R.bufferData(R.ARRAY_BUFFER,this.quadVertexData,R.STATIC_DRAW),R.drawArrays(R.TRIANGLES,0,6),C&&this.renderer.setBlendMode(I),R.bindFramebuffer(R.FRAMEBUFFER,null)},copy:function(p,x){var E=this.gl;this.set1i("uMainSampler",0),E.activeTexture(E.TEXTURE0),E.bindTexture(E.TEXTURE_2D,p.texture.webGLTexture),E.viewport(0,0,p.width,p.height),this.setUVs(0,0,0,1,1,1,1,0),E.bindFramebuffer(E.FRAMEBUFFER,x.framebuffer.webGLFramebuffer),E.framebufferTexture2D(E.FRAMEBUFFER,E.COLOR_ATTACHMENT0,E.TEXTURE_2D,x.texture.webGLTexture,0),E.clearColor(0,0,0,0),E.clear(E.COLOR_BUFFER_BIT),E.bufferData(E.ARRAY_BUFFER,this.quadVertexData,E.STATIC_DRAW),E.drawArrays(E.TRIANGLES,0,6),E.bindFramebuffer(E.FRAMEBUFFER,null)},blendFrames:function(p,x,E,T,C){this.manager.blendFrames(p,x,E,T,C)},blendFramesAdditive:function(p,x,E,T,C){this.manager.blendFramesAdditive(p,x,E,T,C)},drawToGame:function(p){this.currentShader=null,this.setShader(this.copyShader),this.bindAndDraw(p)},copyToGame:function(p){this.currentShader=null,this.setShader(this.gameShader),this.bindAndDraw(p)},bindAndDraw:function(p){var x=this.gl,E=this.renderer;this.set1i("uMainSampler",0),this.customMainSampler?this.setTexture2D(this.customMainSampler):this.setTexture2D(p.texture);var T=this._tempMatrix1.loadIdentity(),C=this.targetBounds.x,A=this.targetBounds.y,M=C+p.width,R=A+p.height,O=T.getX(C,A),L=T.getX(C,R),b=T.getX(M,R),N=T.getX(M,A),I=T.getY(C,A),G=T.getY(C,R),X=T.getY(M,R),$=T.getY(M,A),J=16777215;this.batchVert(O,I,0,0,0,0,J),this.batchVert(L,G,0,1,0,0,J),this.batchVert(b,X,1,1,0,0,J),this.batchVert(O,I,0,0,0,0,J),this.batchVert(b,X,1,1,0,0,J),this.batchVert(N,$,1,0,0,0,J),E.restoreFramebuffer(!1,!0),E.currentFramebuffer||x.viewport(0,0,E.width,E.height),E.restoreStencilMask(),this.flush(),this.tempSprite=null},onDraw:function(p){this.drawToGame(p)},setUVs:function(p,x,E,T,C,A,M,R){var O=this.quadVertexViewF32;O[2]=p,O[3]=x,O[9]=E,O[10]=T,O[16]=C,O[17]=A,O[23]=p,O[24]=x,O[30]=C,O[31]=A,O[37]=M,O[38]=R},setTargetUVs:function(p,x){var E=x.height/p.height;E>.5?E=.5-(E-.5):E=.5+(.5-E),this.setUVs(0,E,0,1+E,1,1+E,1,E)},resetUVs:function(){this.setUVs(0,0,0,1,1,1,1,0)},destroy:function(){return this.renderer.deleteBuffer(this.quadVertexBuffer),this.drawSpriteShader=null,this.copyShader=null,this.gameShader=null,this.colorMatrixShader=null,this.quadVertexData=null,this.quadVertexBuffer=null,this.quadVertexViewF32=null,this.fsTarget=null,this.tempSprite=null,e.prototype.destroy.call(this),this}});c.exports=d},81041:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(95540),a=t(57516),i=new o({Extends:a,initialize:function(e){e.topology=5,e.batchSize=v(e,"batchSize",256),a.call(this,e)}});c.exports=i},12385:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(95540),a=t(57516),i=t(45561),s=t(60722),e=t(29100),r=new o({Extends:a,initialize:function(n){n.fragShader=v(n,"fragShader",i),n.vertShader=v(n,"vertShader",s),n.forceZero=!0,a.call(this,n)},boot:function(){e.prototype.boot.call(this);var h=this.renderer;this.set1i("uMainSampler",0),this.set2f("uResolution",h.width,h.height),this.set1i("uRoundPixels",h.config.roundPixels)}});c.exports=r},7589:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(35407),v=t(10312),a=t(83419),i=t(89422),s=t(96293),e=t(36682),r=t(95540),h=t(48247),n=t(49627),l=t(29100),f=new a({Extends:l,initialize:function(d){d.renderTarget=r(d,"renderTarget",[{scale:1,autoResize:!0},{scale:1,autoResize:!0},{scale:.5,autoResize:!0},{scale:.5,autoResize:!0}]),d.vertShader=r(d,"vertShader",n),d.shaders=r(d,"shaders",[{name:"Copy",fragShader:e},{name:"AddBlend",fragShader:o},{name:"LinearBlend",fragShader:h},{name:"ColorMatrix",fragShader:s}]),d.attributes=r(d,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2}]),d.vertices=[-1,-1,0,0,-1,1,0,1,1,1,1,1,-1,-1,0,0,1,1,1,1,1,-1,1,0],d.batchSize=1,l.call(this,d),this.colorMatrix=new i,this.copyShader,this.addShader,this.linearShader,this.colorMatrixShader,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2},boot:function(){l.prototype.boot.call(this);var u=this.shaders,d=this.renderTargets;this.copyShader=u[0],this.addShader=u[1],this.linearShader=u[2],this.colorMatrixShader=u[3],this.fullFrame1=d[0],this.fullFrame2=d[1],this.halfFrame1=d[2],this.halfFrame2=d[3]},copyFrame:function(u,d,p,x,E){p===void 0&&(p=1),x===void 0&&(x=!0),E===void 0&&(E=!0);var T=this.gl;this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",p),T.activeTexture(T.TEXTURE0),T.bindTexture(T.TEXTURE_2D,u.texture.webGLTexture),d?(T.viewport(0,0,d.width,d.height),T.bindFramebuffer(T.FRAMEBUFFER,d.framebuffer.webGLFramebuffer),T.framebufferTexture2D(T.FRAMEBUFFER,T.COLOR_ATTACHMENT0,T.TEXTURE_2D,d.texture.webGLTexture,0)):T.viewport(0,0,u.width,u.height),x&&(E?T.clearColor(0,0,0,0):T.clearColor(0,0,0,1),T.clear(T.COLOR_BUFFER_BIT)),T.bufferData(T.ARRAY_BUFFER,this.vertexData,T.STATIC_DRAW),T.drawArrays(T.TRIANGLES,0,6),T.bindFramebuffer(T.FRAMEBUFFER,null),T.bindTexture(T.TEXTURE_2D,null)},blitFrame:function(u,d,p,x,E,T,C){p===void 0&&(p=1),x===void 0&&(x=!0),E===void 0&&(E=!0),T===void 0&&(T=!1),C===void 0&&(C=!1);var A=this.gl;if(this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",p),A.activeTexture(A.TEXTURE0),A.bindTexture(A.TEXTURE_2D,u.texture.webGLTexture),u.height>d.height)A.viewport(0,0,u.width,u.height),this.setTargetUVs(u,d);else{var M=d.height-u.height;A.viewport(0,M,u.width,u.height)}if(A.bindFramebuffer(A.FRAMEBUFFER,d.framebuffer.webGLFramebuffer),A.framebufferTexture2D(A.FRAMEBUFFER,A.COLOR_ATTACHMENT0,A.TEXTURE_2D,d.texture.webGLTexture,0),x&&(E?A.clearColor(0,0,0,0):A.clearColor(0,0,0,1),A.clear(A.COLOR_BUFFER_BIT)),T){var R=this.renderer.currentBlendMode;this.renderer.setBlendMode(v.ERASE)}C&&this.flipY(),A.bufferData(A.ARRAY_BUFFER,this.vertexData,A.STATIC_DRAW),A.drawArrays(A.TRIANGLES,0,6),T&&this.renderer.setBlendMode(R),A.bindFramebuffer(A.FRAMEBUFFER,null),A.bindTexture(A.TEXTURE_2D,null),this.resetUVs()},copyFrameRect:function(u,d,p,x,E,T,C,A){C===void 0&&(C=!0),A===void 0&&(A=!0);var M=this.gl;M.bindFramebuffer(M.FRAMEBUFFER,u.framebuffer.webGLFramebuffer),M.framebufferTexture2D(M.FRAMEBUFFER,M.COLOR_ATTACHMENT0,M.TEXTURE_2D,u.texture.webGLTexture,0),C&&(A?M.clearColor(0,0,0,0):M.clearColor(0,0,0,1),M.clear(M.COLOR_BUFFER_BIT)),M.activeTexture(M.TEXTURE0),M.bindTexture(M.TEXTURE_2D,d.texture.webGLTexture),M.copyTexSubImage2D(M.TEXTURE_2D,0,0,0,p,x,E,T),M.bindFramebuffer(M.FRAMEBUFFER,null),M.bindTexture(M.TEXTURE_2D,null)},copyToGame:function(u){var d=this.gl;this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",1),this.renderer.popFramebuffer(),d.activeTexture(d.TEXTURE0),d.bindTexture(d.TEXTURE_2D,u.texture.webGLTexture),d.bufferData(d.ARRAY_BUFFER,this.vertexData,d.STATIC_DRAW),d.drawArrays(d.TRIANGLES,0,6)},drawFrame:function(u,d,p,x){p===void 0&&(p=!0),x===void 0&&(x=this.colorMatrix);var E=this.gl;this.setShader(this.colorMatrixShader),this.set1i("uMainSampler",0),this.set1fv("uColorMatrix",x.getData()),this.set1f("uAlpha",x.alpha),E.activeTexture(E.TEXTURE0),E.bindTexture(E.TEXTURE_2D,u.texture.webGLTexture),d?(E.viewport(0,0,d.width,d.height),E.bindFramebuffer(E.FRAMEBUFFER,d.framebuffer.webGLFramebuffer),E.framebufferTexture2D(E.FRAMEBUFFER,E.COLOR_ATTACHMENT0,E.TEXTURE_2D,d.texture.webGLTexture,0)):E.viewport(0,0,u.width,u.height),p?E.clearColor(0,0,0,0):E.clearColor(0,0,0,1),E.clear(E.COLOR_BUFFER_BIT),E.bufferData(E.ARRAY_BUFFER,this.vertexData,E.STATIC_DRAW),E.drawArrays(E.TRIANGLES,0,6),E.bindFramebuffer(E.FRAMEBUFFER,null),E.bindTexture(E.TEXTURE_2D,null)},blendFrames:function(u,d,p,x,E,T){x===void 0&&(x=1),E===void 0&&(E=!0),T===void 0&&(T=this.linearShader);var C=this.gl;this.setShader(T),this.set1i("uMainSampler1",0),this.set1i("uMainSampler2",1),this.set1f("uStrength",x),C.activeTexture(C.TEXTURE0),C.bindTexture(C.TEXTURE_2D,u.texture.webGLTexture),C.activeTexture(C.TEXTURE1),C.bindTexture(C.TEXTURE_2D,d.texture.webGLTexture),p?(C.bindFramebuffer(C.FRAMEBUFFER,p.framebuffer.webGLFramebuffer),C.framebufferTexture2D(C.FRAMEBUFFER,C.COLOR_ATTACHMENT0,C.TEXTURE_2D,p.texture.webGLTexture,0),C.viewport(0,0,p.width,p.height)):C.viewport(0,0,u.width,u.height),E?C.clearColor(0,0,0,0):C.clearColor(0,0,0,1),C.clear(C.COLOR_BUFFER_BIT),C.bufferData(C.ARRAY_BUFFER,this.vertexData,C.STATIC_DRAW),C.drawArrays(C.TRIANGLES,0,6),C.bindFramebuffer(C.FRAMEBUFFER,null),C.bindTexture(C.TEXTURE_2D,null)},blendFramesAdditive:function(u,d,p,x,E){this.blendFrames(u,d,p,x,E,this.addShader)},clearFrame:function(u,d){d===void 0&&(d=!0);var p=this.gl;p.viewport(0,0,u.width,u.height),p.bindFramebuffer(p.FRAMEBUFFER,u.framebuffer.webGLFramebuffer),d?p.clearColor(0,0,0,0):p.clearColor(0,0,0,1),p.clear(p.COLOR_BUFFER_BIT);var x=this.renderer.currentFramebuffer;p.bindFramebuffer(p.FRAMEBUFFER,x.webGLFramebuffer)},setUVs:function(u,d,p,x,E,T,C,A){var M=this.vertexViewF32;M[2]=u,M[3]=d,M[6]=p,M[7]=x,M[10]=E,M[11]=T,M[14]=u,M[15]=d,M[18]=E,M[19]=T,M[22]=C,M[23]=A},setTargetUVs:function(u,d){var p=d.height/u.height;p>.5?p=.5-(p-.5):p=.5+(.5-p),this.setUVs(0,p,0,1+p,1,1+p,1,p)},flipX:function(){this.setUVs(1,0,1,1,0,1,0,0)},flipY:function(){this.setUVs(0,1,0,0,1,0,1,1)},resetUVs:function(){this.setUVs(0,0,0,1,1,1,1,0)}});c.exports=f},36060:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g={BITMAPMASK_PIPELINE:"BitmapMaskPipeline",LIGHT_PIPELINE:"Light2D",POINTLIGHT_PIPELINE:"PointLightPipeline",SINGLE_PIPELINE:"SinglePipeline",MULTI_PIPELINE:"MultiPipeline",ROPE_PIPELINE:"RopePipeline",GRAPHICS_PIPELINE:"GraphicsPipeline",POSTFX_PIPELINE:"PostFXPipeline",UTILITY_PIPELINE:"UtilityPipeline",MOBILE_PIPELINE:"MobilePipeline",FX_PIPELINE:"FxPipeline"};c.exports=g},84817:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pipelineafterflush"},36712:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pipelinebeforeflush"},40285:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pipelinebind"},65918:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pipelineboot"},92852:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pipelinedestroy"},56072:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pipelinerebind"},57566:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pipelineresize"},77085:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={AFTER_FLUSH:t(84817),BEFORE_FLUSH:t(36712),BIND:t(40285),BOOT:t(65918),DESTROY:t(92852),REBIND:t(56072),RESIZE:t(57566)}},54812:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(99155),a=t(84057),i=new o({Extends:a,initialize:function(e){a.call(this,{game:e,fragShader:v}),this.amount=1},onPreRender:function(s,e){s=this.getController(s),this.set1f("amount",s.amount,e)}});c.exports=i},67329:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(24400),a=t(84057),i=new o({Extends:a,initialize:function(e){a.call(this,{game:e,fragShader:v}),this.steps=4,this.offsetX=1,this.offsetY=1,this.blurStrength=1,this.strength=1,this.glcolor=[1,1,1]},onPreRender:function(s){s=this.getController(s),this.set1f("strength",s.blurStrength),this.set3fv("color",s.glcolor)},onDraw:function(s){var e=this.getController(),r=this.fullFrame1,h=this.fullFrame2;this.copyFrame(s,h);for(var n=2/s.width*e.offsetX,l=2/s.height*e.offsetY,f=0;f<e.steps;f++)this.set2f("offset",n,0),this.copySprite(s,r),this.set2f("offset",0,l),this.copySprite(r,s);this.blendFrames(h,s,r,e.strength),this.copyToGame(r)}});c.exports=i},8861:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(41514),a=t(51078),i=t(94328),s=t(84057),e=new o({Extends:s,initialize:function(h){s.call(this,{game:h,shaders:[{name:"Gaussian5",fragShader:v},{name:"Gaussian9",fragShader:a},{name:"Gaussian13",fragShader:i}]}),this.activeShader=this.shaders[0],this.x=2,this.y=2,this.steps=4,this.strength=1,this.glcolor=[1,1,1]},setQualityLow:function(){return this.activeShader=this.shaders[0],this},setQualityMedium:function(){return this.activeShader=this.shaders[1],this},setQualityHigh:function(){return this.activeShader=this.shaders[2],this},onDraw:function(r){var h=this.getController(),n=this.gl,l=this.fullFrame1,f=n.getParameter(n.FRAMEBUFFER_BINDING);this.bind(this.shaders[h.quality]),n.activeTexture(n.TEXTURE0),n.viewport(0,0,r.width,r.height),this.set1i("uMainSampler",0),this.set2f("resolution",r.width,r.height),this.set1f("strength",h.strength),this.set3fv("color",h.glcolor);for(var u=0;u<h.steps;u++)this.set2f("offset",h.x,0),this.copySprite(r,l),this.set2f("offset",0,h.y),this.copySprite(l,r);n.bindFramebuffer(n.FRAMEBUFFER,f),n.bindTexture(n.TEXTURE_2D,null),this.copyToGame(r)}});c.exports=e},51051:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(90610),a=t(84057),i=new o({Extends:a,initialize:function(e){a.call(this,{game:e,fragShader:v}),this.isTiltShift=!1,this.strength=1,this.blurX=1,this.blurY=1,this.radius=.5,this.amount=1,this.contrast=.2},onPreRender:function(s,e,r,h){s=this.getController(s),this.set1f("radius",s.radius,e),this.set1f("amount",s.amount,e),this.set1f("contrast",s.contrast,e),this.set1f("strength",s.strength,e),this.set2f("blur",s.blurX,s.blurY,e),this.setBoolean("isTiltShift",s.isTiltShift,e),r&&h&&this.set2f("resolution",r,h,e)},onDraw:function(s){this.set2f("resolution",s.width,s.height),this.bindAndDraw(s)}});c.exports=i},89428:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(91899),a=t(84057),i=new o({Extends:a,initialize:function(e){a.call(this,{game:e,fragShader:v}),this.scale=1,this.feather=.005,this.thickness=8,this.glcolor=[1,.2,.7],this.glcolor2=[1,0,0,.4]},onPreRender:function(s,e,r,h){s=this.getController(s),this.set1f("scale",s.scale,e),this.set1f("feather",s.feather,e),this.set1f("thickness",s.thickness,e),this.set3fv("color",s.glcolor,e),this.set4fv("backgroundColor",s.glcolor2,e),r&&h&&this.set2f("resolution",r,h,e)},onDraw:function(s){this.set2f("resolution",s.width,s.height),this.bindAndDraw(s)}});c.exports=i},88904:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(84057),a=new o({Extends:v,initialize:function(s){v.call(this,{game:s})},onDraw:function(i){var s=this.fullFrame1;this.controller?this.manager.drawFrame(i,s,!0,this.controller):this.drawFrame(i,s),this.copyToGame(s)}});c.exports=a},63563:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(47838),a=t(84057),i=new o({Extends:a,initialize:function(e){a.call(this,{game:e,fragShader:v}),this.x=.005,this.y=.005,this.glTexture},onBoot:function(){this.setTexture("__WHITE")},setTexture:function(s){var e=this.game.textures.getFrame(s);e&&(this.glTexture=e.glTexture)},onDraw:function(s){var e=this.getController(),r=this.fullFrame1;this.bind(),this.set1i("uMainSampler",0),this.set1i("uDisplacementSampler",1),this.set2f("amount",e.x,e.y),this.bindTexture(e.glTexture,1),this.copySprite(s,r),this.copyToGame(r)}});c.exports=i},94045:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(95540),a=t(98656),i=t(84057),s=t(70554),e=new o({Extends:i,initialize:function(h,n){var l=v(n,"quality",.1),f=v(n,"distance",10);i.call(this,{game:h,fragShader:s.setGlowQuality(a,h,l,f)}),this.outerStrength=4,this.innerStrength=0,this.knockout=!1,this.glcolor=[1,1,1,1]},onPreRender:function(r,h,n,l){r=this.getController(r),this.set1f("outerStrength",r.outerStrength,h),this.set1f("innerStrength",r.innerStrength,h),this.set4fv("glowColor",r.glcolor,h),this.setBoolean("knockout",r.knockout,h),n&&l&&this.set2f("resolution",n,l,h)},onDraw:function(r){this.set2f("resolution",r.width,r.height),this.bindAndDraw(r)}});c.exports=e},74088:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(70463),a=t(84057),i=new o({Extends:a,initialize:function(e){a.call(this,{game:e,fragShader:v}),this.alpha=.2,this.size=0,this.fromX=0,this.fromY=0,this.toX=0,this.toY=1,this.glcolor1=[255,0,0],this.glcolor2=[0,255,0]},onPreRender:function(s,e){s=this.getController(s),this.set1f("alpha",s.alpha,e),this.set1i("size",s.size,e),this.set3fv("color1",s.glcolor1,e),this.set3fv("color2",s.glcolor2,e),this.set2f("positionFrom",s.fromX,s.fromY,e),this.set2f("positionTo",s.toX,s.toY,e)}});c.exports=i},99636:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(50831),a=t(84057),i=new o({Extends:a,initialize:function(e){a.call(this,{game:e,fragShader:v}),this.amount=1},onPreRender:function(s,e,r,h){s=this.getController(s),this.set1f("amount",s.amount,e),r&&h&&this.set2f("resolution",r,h,e)},onDraw:function(s){this.set2f("resolution",s.width,s.height),this.bindAndDraw(s)}});c.exports=i},34700:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(92595),a=t(84057),i=new o({Extends:a,initialize:function(e){a.call(this,{game:e,fragShader:v}),this.x=0,this.y=0,this.decay=.1,this.power=1,this.glcolor=[0,0,0,1],this.samples=6,this.intensity=1},onPreRender:function(s,e){s=this.getController(s);var r=s.samples;this.set1i("samples",r,e),this.set1f("intensity",s.intensity,e),this.set1f("decay",s.decay,e),this.set1f("power",s.power/r,e),this.set2f("lightPosition",s.x,s.y,e),this.set4fv("color",s.glcolor,e)}});c.exports=i},91157:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(72464),a=t(84057),i=new o({Extends:a,initialize:function(e){a.call(this,{game:e,fragShader:v}),this.speed=.5,this.lineWidth=.5,this.gradient=3,this.reveal=!1},onPreRender:function(s,e,r,h){s=this.getController(s),this.setTime("time",e),this.set1f("speed",s.speed,e),this.set1f("lineWidth",s.lineWidth,e),this.set1f("gradient",s.gradient,e),this.setBoolean("reveal",s.reveal,e),r&&h&&this.set2f("resolution",r,h,e)},onDraw:function(s){this.set2f("resolution",s.width,s.height),this.bindAndDraw(s)}});c.exports=i},27797:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(39249),a=t(84057),i=new o({Extends:a,initialize:function(e){a.call(this,{game:e,fragShader:v}),this.x=.5,this.y=.5,this.radius=.5,this.strength=.5},onPreRender:function(s,e){s=this.getController(s),this.set1f("radius",s.radius,e),this.set1f("strength",s.strength,e),this.set2f("position",s.x,s.y,e)}});c.exports=i},67603:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(2878),a=t(84057),i=new o({Extends:a,initialize:function(e){a.call(this,{game:e,fragShader:v}),this.progress=0,this.wipeWidth=.1,this.direction=0,this.axis=0,this.reveal=!1},onPreRender:function(s,e){s=this.getController(s);var r=s.progress,h=s.wipeWidth,n=s.direction,l=s.axis;this.set4f("config",r,h,n,l,e),this.setBoolean("reveal",s.reveal,e)}});c.exports=i},58918:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o={Barrel:t(54812),Bloom:t(67329),Blur:t(8861),Bokeh:t(51051),Circle:t(89428),ColorMatrix:t(88904),Displacement:t(63563),Glow:t(94045),Gradient:t(74088),Pixelate:t(99636),Shadow:t(34700),Shine:t(91157),Vignette:t(27797),Wipe:t(67603)};c.exports=o},96615:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(36060),v=t(79291),a={FX:t(58918),BitmapMaskPipeline:t(31302),Events:t(77085),FXPipeline:t(92651),LightPipeline:t(96569),MobilePipeline:t(56527),MultiPipeline:t(57516),PointLightPipeline:t(43439),PostFXPipeline:t(84057),PreFXPipeline:t(43558),RopePipeline:t(81041),SinglePipeline:t(12385),UtilityPipeline:t(7589)};a=v(!1,a,o),c.exports=a},35407:c=>{c.exports=["#define SHADER_NAME PHASER_ADD_BLEND_FS","precision mediump float;","uniform sampler2D uMainSampler1;","uniform sampler2D uMainSampler2;","uniform float uStrength;","varying vec2 outTexCoord;","void main ()","{","    vec4 frame1 = texture2D(uMainSampler1, outTexCoord);","    vec4 frame2 = texture2D(uMainSampler2, outTexCoord);","    gl_FragColor = frame1 + frame2 * uStrength;","}"].join(`
`)},78908:c=>{c.exports=["#define SHADER_NAME PHASER_BITMAP_MASK_FS","precision mediump float;","uniform vec2 uResolution;","uniform sampler2D uMainSampler;","uniform sampler2D uMaskSampler;","uniform bool uInvertMaskAlpha;","void main ()","{","    vec2 uv = gl_FragCoord.xy / uResolution;","    vec4 mainColor = texture2D(uMainSampler, uv);","    vec4 maskColor = texture2D(uMaskSampler, uv);","    if (!uInvertMaskAlpha)","    {","        mainColor *= maskColor.a;","    }","    else","    {","        mainColor *= (1.0 - maskColor.a);","    }","    gl_FragColor = mainColor;","}"].join(`
`)},85191:c=>{c.exports=["#define SHADER_NAME PHASER_BITMAP_MASK_VS","precision mediump float;","attribute vec2 inPosition;","void main ()","{","    gl_Position = vec4(inPosition, 0.0, 1.0);","}"].join(`
`)},96293:c=>{c.exports=["#define SHADER_NAME PHASER_COLORMATRIX_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float uColorMatrix[20];","uniform float uAlpha;","varying vec2 outTexCoord;","void main ()","{","    vec4 c = texture2D(uMainSampler, outTexCoord);","    if (uAlpha == 0.0)","    {","        gl_FragColor = c;","        return;","    }","    if (c.a > 0.0)","    {","        c.rgb /= c.a;","    }","    vec4 result;","    result.r = (uColorMatrix[0] * c.r) + (uColorMatrix[1] * c.g) + (uColorMatrix[2] * c.b) + (uColorMatrix[3] * c.a) + uColorMatrix[4];","    result.g = (uColorMatrix[5] * c.r) + (uColorMatrix[6] * c.g) + (uColorMatrix[7] * c.b) + (uColorMatrix[8] * c.a) + uColorMatrix[9];","    result.b = (uColorMatrix[10] * c.r) + (uColorMatrix[11] * c.g) + (uColorMatrix[12] * c.b) + (uColorMatrix[13] * c.a) + uColorMatrix[14];","    result.a = (uColorMatrix[15] * c.r) + (uColorMatrix[16] * c.g) + (uColorMatrix[17] * c.b) + (uColorMatrix[18] * c.a) + uColorMatrix[19];","    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);","    rgb *= result.a;","    gl_FragColor = vec4(rgb, result.a);","}"].join(`
`)},36682:c=>{c.exports=["#define SHADER_NAME PHASER_COPY_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float uBrightness;","varying vec2 outTexCoord;","void main ()","{","    gl_FragColor = texture2D(uMainSampler, outTexCoord) * uBrightness;","}"].join(`
`)},99155:c=>{c.exports=["#define SHADER_NAME BARREL_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float amount;","varying vec2 outTexCoord;","vec2 Distort(vec2 p)","{","    float theta  = atan(p.y, p.x);","    float radius = length(p);","    radius = pow(radius, amount);","    p.x = radius * cos(theta);","    p.y = radius * sin(theta);","    return 0.5 * (p + 1.0);","}","void main()","{","    vec2 xy = 2.0 * outTexCoord - 1.0;","    vec2 texCoord = outTexCoord;","    if (length(xy) < 1.0)","    {","        texCoord = Distort(xy);","    }","    gl_FragColor = texture2D(uMainSampler, texCoord);","}"].join(`
`)},24400:c=>{c.exports=["#define SHADER_NAME BLOOM_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec4 sum = texture2D(uMainSampler, outTexCoord) * 0.204164 * strength;","    sum = sum + texture2D(uMainSampler, outTexCoord + offset * 1.407333) * 0.304005;","    sum = sum + texture2D(uMainSampler, outTexCoord - offset * 1.407333) * 0.304005;","    sum = sum + texture2D(uMainSampler, outTexCoord + offset * 3.294215) * 0.093913;","    gl_FragColor = (sum + texture2D(uMainSampler, outTexCoord - offset * 3.294215) * 0.093913) * vec4(color, 1);","}"].join(`
`)},94328:c=>{c.exports=["#define SHADER_NAME BLUR_HIGH_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 off1 = vec2(1.411764705882353) * offset * strength;","    vec2 off2 = vec2(3.2941176470588234) * offset * strength;","    vec2 off3 = vec2(5.176470588235294) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.1964825501511404;","    col += texture2D(uMainSampler, uv + (off1 / resolution)) * 0.2969069646728344;","    col += texture2D(uMainSampler, uv - (off1 / resolution)) * 0.2969069646728344;","    col += texture2D(uMainSampler, uv + (off2 / resolution)) * 0.09447039785044732;","    col += texture2D(uMainSampler, uv - (off2 / resolution)) * 0.09447039785044732;","    col += texture2D(uMainSampler, uv + (off3 / resolution)) * 0.010381362401148057;","    col += texture2D(uMainSampler, uv - (off3 / resolution)) * 0.010381362401148057;","    gl_FragColor = col * vec4(color, 1.0);","}"].join(`
`)},41514:c=>{c.exports=["#define SHADER_NAME BLUR_LOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 offset = vec2(1.333) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.29411764705882354;","    col += texture2D(uMainSampler, uv + (offset / resolution)) * 0.35294117647058826;","    col += texture2D(uMainSampler, uv - (offset / resolution)) * 0.35294117647058826;","    gl_FragColor = col * vec4(color, 1.0);","}"].join(`
`)},51078:c=>{c.exports=["#define SHADER_NAME BLUR_MED_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 off1 = vec2(1.3846153846) * offset * strength;","    vec2 off2 = vec2(3.2307692308) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.2270270270;","    col += texture2D(uMainSampler, uv + (off1 / resolution)) * 0.3162162162;","    col += texture2D(uMainSampler, uv - (off1 / resolution)) * 0.3162162162;","    col += texture2D(uMainSampler, uv + (off2 / resolution)) * 0.0702702703;","    col += texture2D(uMainSampler, uv - (off2 / resolution)) * 0.0702702703;","    gl_FragColor = col * vec4(color, 1.0);","}"].join(`
`)},90610:c=>{c.exports=["#define SHADER_NAME BOKEH_FS","precision mediump float;","#define ITERATIONS 100.0","#define ONEOVER_ITR 1.0 / ITERATIONS","#define PI 3.141596","#define GOLDEN_ANGLE 2.39996323","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform float radius;","uniform float amount;","uniform float contrast;","uniform bool isTiltShift;","uniform float strength;","uniform vec2 blur;","varying vec2 outTexCoord;","vec2 Sample (in float theta, inout float r)","{","    r += 1.0 / r;","    return (r - 1.0) * vec2(cos(theta), sin(theta)) * 0.06;","}","vec3 Bokeh (sampler2D tex, vec2 uv, float radius)","{","    vec3 acc = vec3(0.0);","    vec3 div = vec3(0.0);","    vec2 pixel = vec2(resolution.y / resolution.x, 1.0) * radius * .025;","    float r = 1.0;","    for (float j = 0.0; j < GOLDEN_ANGLE * ITERATIONS; j += GOLDEN_ANGLE)","    {","        vec3 col = texture2D(tex, uv + pixel * Sample(j, r)).xyz;","        col = contrast > 0.0 ? col * col * (1.0 + contrast) : col;","        vec3 bokeh = vec3(0.5) + pow(col, vec3(10.0)) * amount;","        acc += col * bokeh;","        div += bokeh;","    }","    return acc / div;","}","void main ()","{","    float shift = 1.0;","    if (isTiltShift)","    {","        vec2 uv = vec2(gl_FragCoord.xy / resolution + vec2(-0.5, -0.5)) * 2.0;","        float centerStrength = 1.0;","        shift = length(uv * blur * strength) * centerStrength;","    }","    gl_FragColor = vec4(Bokeh(uMainSampler, outTexCoord * vec2(1.0, 1.0), radius * shift), 0.0);","}"].join(`
`)},91899:c=>{c.exports=["#define SHADER_NAME CIRCLE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec3 color;","uniform vec4 backgroundColor;","uniform float thickness;","uniform float scale;","uniform float feather;","varying vec2 outTexCoord;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec2 position = (gl_FragCoord.xy / resolution.xy) * 2.0 - 1.0;","    float aspectRatio = resolution.x / resolution.y;","    position.x *= aspectRatio;","    float grad = length(position);","    float outer = aspectRatio;","    float inner = outer - (thickness * 2.0 / resolution.y);","    if (aspectRatio >= 1.0)","    {","        float f = 2.0 + (resolution.y / resolution.x);","        outer = 1.0;","        inner = 1.0 - (thickness * f / resolution.x);","    }","    outer *= scale;","    inner *= scale;","    float circle = smoothstep(outer, outer - 0.01, grad);","    float ring = circle - smoothstep(inner, inner - feather, grad);","    texture = mix(backgroundColor * backgroundColor.a, texture, texture.a);","    texture = (texture * (circle - ring));","    gl_FragColor = vec4(texture.rgb + (ring * color), texture.a);","}"].join(`
`)},47838:c=>{c.exports=["#define SHADER_NAME DISPLACEMENT_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform sampler2D uDisplacementSampler;","uniform vec2 amount;","varying vec2 outTexCoord;","void main ()","{","    vec2 disp = (-vec2(0.5, 0.5) + texture2D(uDisplacementSampler, outTexCoord).rr) * amount;","    gl_FragColor = texture2D(uMainSampler, outTexCoord + disp).rgba;","}"].join(`
`)},98656:c=>{c.exports=["#define SHADER_NAME GLOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","uniform float outerStrength;","uniform float innerStrength;","uniform vec2 resolution;","uniform vec4 glowColor;","uniform bool knockout;","const float PI = 3.14159265358979323846264;","const float DIST = __DIST__;","const float SIZE = min(__SIZE__, PI * 2.0);","const float STEP = ceil(PI * 2.0 / SIZE);","const float MAX_ALPHA = STEP * DIST * (DIST + 1.0) / 2.0;","void main ()","{","    vec2 px = vec2(1.0 / resolution.x, 1.0 / resolution.y);","    float totalAlpha = 0.0;","    vec2 direction;","    vec2 displaced;","    vec4 color;","    for (float angle = 0.0; angle < PI * 2.0; angle += SIZE)","    {","        direction = vec2(cos(angle), sin(angle)) * px;","        for (float curDistance = 0.0; curDistance < DIST; curDistance++)","        {","            displaced = outTexCoord + direction * (curDistance + 1.0);","            color = texture2D(uMainSampler, displaced);","            totalAlpha += (DIST - curDistance) * color.a;","        }","    }","    color = texture2D(uMainSampler, outTexCoord);","    float alphaRatio = (totalAlpha / MAX_ALPHA);","    float innerGlowAlpha = (1.0 - alphaRatio) * innerStrength * color.a;","    float innerGlowStrength = min(1.0, innerGlowAlpha);","    vec4 innerColor = mix(color, glowColor, innerGlowStrength);","    float outerGlowAlpha = alphaRatio * outerStrength * (1.0 - color.a);","    float outerGlowStrength = min(1.0 - innerColor.a, outerGlowAlpha);","    vec4 outerGlowColor = outerGlowStrength * glowColor.rgba;","    if (knockout)","    {","        float resultAlpha = outerGlowAlpha + innerGlowAlpha;","        gl_FragColor = vec4(glowColor.rgb * resultAlpha, resultAlpha);","    }","    else","    {","        gl_FragColor = innerColor + outerGlowColor;","    }","}"].join(`
`)},70463:c=>{c.exports=["#define SHADER_NAME GRADIENT_FS","#define SRGB_TO_LINEAR(c) pow((c), vec3(2.2))","#define LINEAR_TO_SRGB(c) pow((c), vec3(1.0 / 2.2))","#define SRGB(r, g, b) SRGB_TO_LINEAR(vec3(float(r), float(g), float(b)) / 255.0)","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 positionFrom;","uniform vec2 positionTo;","uniform vec3 color1;","uniform vec3 color2;","uniform float alpha;","uniform int size;","varying vec2 outTexCoord;","float gradientNoise(in vec2 uv)","{","    const vec3 magic = vec3(0.06711056, 0.00583715, 52.9829189);","    return fract(magic.z * fract(dot(uv, magic.xy)));","}","float stepped (in float s, in float scale, in int steps)","{","    return steps > 0 ? floor( s / ((1.0 * scale) / float(steps))) * 1.0 / float(steps - 1) : s;","}","void main ()","{","    vec2 a = positionFrom;","    vec2 b = positionTo;","    vec2 ba = b - a;","    float d = dot(outTexCoord - a, ba) / dot(ba, ba);","    float t = size > 0 ? stepped(d, 1.0, size) : d;","    t = smoothstep(0.0, 1.0, clamp(t, 0.0, 1.0));","    vec3 color = mix(SRGB(color1.r, color1.g, color1.b), SRGB(color2.r, color2.g, color2.b), t);","    color = LINEAR_TO_SRGB(color);","    color += (1.0 / 255.0) * gradientNoise(outTexCoord) - (0.5 / 255.0);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    gl_FragColor = vec4(mix(color.rgb, texture.rgb, alpha), 1.0) * texture.a;","}"].join(`
`)},50831:c=>{c.exports=["#define SHADER_NAME PIXELATE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform float amount;","varying vec2 outTexCoord;","void main ()","{","    float pixelSize = floor(2.0 + amount);","    vec2 center = pixelSize * floor(outTexCoord * resolution / pixelSize) + pixelSize * vec2(0.5, 0.5);","    vec2 corner1 = center + pixelSize * vec2(-0.5, -0.5);","    vec2 corner2 = center + pixelSize * vec2(+0.5, -0.5);","    vec2 corner3 = center + pixelSize * vec2(+0.5, +0.5);","    vec2 corner4 = center + pixelSize * vec2(-0.5, +0.5);","    vec4 pixel = 0.4 * texture2D(uMainSampler, center / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner1 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner2 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner3 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner4 / resolution);","    gl_FragColor = pixel;","}"].join(`
`)},92595:c=>{c.exports=["#define SHADER_NAME SHADOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","uniform vec2 lightPosition;","uniform vec4 color;","uniform float decay;","uniform float power;","uniform float intensity;","uniform int samples;","const int MAX = 12;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec2 pc = (lightPosition - outTexCoord) * intensity;","    float shadow = 0.0;","    float limit = max(float(MAX), float(samples));","    for (int i = 0; i < MAX; ++i)","    {","        if (i >= samples)","        {","            break;","        }","        shadow += texture2D(uMainSampler, outTexCoord + float(i) * decay / limit * pc).a * power;","    }","    float mask = 1.0 - texture.a;","    gl_FragColor = mix(texture, color, shadow * mask);","}"].join(`
`)},72464:c=>{c.exports=["#define SHADER_NAME SHINE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform bool reveal;","uniform float speed;","uniform float time;","uniform float lineWidth;","uniform float gradient;","varying vec2 outTexCoord;","void main ()","{","	vec2 uv = gl_FragCoord.xy / resolution.xy;","    vec4 tex = texture2D(uMainSampler, outTexCoord);","    vec4 col1 = vec4(0.3, 0.0, 0.0, 1.0);","    vec4 col2 = vec4(0.85, 0.85, 0.85, 1.0);","    uv.x = uv.x - mod(time * speed, 2.0) + 0.5;","    float y = uv.x * gradient;","    float s = smoothstep(y - lineWidth, y, uv.y) - smoothstep(y, y + lineWidth, uv.y);","    gl_FragColor = (((s * col1) + (s * col2)) * tex);","    if (!reveal)","    {","        gl_FragColor += tex;","    }","}"].join(`
`)},39249:c=>{c.exports=["#define SHADER_NAME VIGNETTE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float radius;","uniform float strength;","uniform vec2 position;","varying vec2 outTexCoord;","void main ()","{","    vec4 col = vec4(1.0);","    float d = length(outTexCoord - position);","    if (d <= radius)","    {","        float g = d / radius;","        g = sin(g * 3.14 * strength);","    	col = vec4(g * g * g);","    }","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    gl_FragColor = texture * (1.0 - col);","}"].join(`
`)},2878:c=>{c.exports=["#define SHADER_NAME WIPE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec4 config;","uniform bool reveal;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 color0;","    vec4 color1;","    if (reveal)","    {","        color0 = vec4(0);","        color1 = texture2D(uMainSampler, uv);","    }","    else","    {","        color0 = texture2D(uMainSampler, uv);","        color1 = vec4(0);","    }","    float distance = config.x;","    float width = config.y;","    float direction = config.z;","    float axis = uv.x;","    if (config.w == 1.0)","    {","        axis = uv.y;","    }","    float adjust = mix(width, -width, distance);","    float value = smoothstep(distance - width, distance + width, abs(direction - axis) + adjust);","    gl_FragColor = mix(color1, color0, value);","}"].join(`
`)},31063:c=>{c.exports=["#define SHADER_NAME PHASER_LIGHT_FS","precision mediump float;","struct Light","{","    vec2 position;","    vec3 color;","    float intensity;","    float radius;","};","const int kMaxLights = %LIGHT_COUNT%;","uniform vec4 uCamera; /* x, y, rotation, zoom */","uniform vec2 uResolution;","uniform sampler2D uMainSampler;","uniform sampler2D uNormSampler;","uniform vec3 uAmbientLightColor;","uniform Light uLights[kMaxLights];","uniform mat3 uInverseRotationMatrix;","uniform int uLightCount;","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec3 finalColor = vec3(0.0, 0.0, 0.0);","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    vec3 normalMap = texture2D(uNormSampler, outTexCoord).rgb;","    vec3 normal = normalize(uInverseRotationMatrix * vec3(normalMap * 2.0 - 1.0));","    vec2 res = vec2(min(uResolution.x, uResolution.y)) * uCamera.w;","    for (int index = 0; index < kMaxLights; ++index)","    {","        if (index < uLightCount)","        {","            Light light = uLights[index];","            vec3 lightDir = vec3((light.position.xy / res) - (gl_FragCoord.xy / res), 0.1);","            vec3 lightNormal = normalize(lightDir);","            float distToSurf = length(lightDir) * uCamera.w;","            float diffuseFactor = max(dot(normal, lightNormal), 0.0);","            float radius = (light.radius / res.x * uCamera.w) * uCamera.w;","            float attenuation = clamp(1.0 - distToSurf * distToSurf / (radius * radius), 0.0, 1.0);","            vec3 diffuse = light.color * diffuseFactor;","            finalColor += (attenuation * diffuse) * light.intensity;","        }","    }","    vec4 colorOutput = vec4(uAmbientLightColor + finalColor, 1.0);","    gl_FragColor = color * vec4(colorOutput.rgb * colorOutput.a, colorOutput.a);","}"].join(`
`)},48247:c=>{c.exports=["#define SHADER_NAME PHASER_LINEAR_BLEND_FS","precision mediump float;","uniform sampler2D uMainSampler1;","uniform sampler2D uMainSampler2;","uniform float uStrength;","varying vec2 outTexCoord;","void main ()","{","    vec4 frame1 = texture2D(uMainSampler1, outTexCoord);","    vec4 frame2 = texture2D(uMainSampler2, outTexCoord);","    gl_FragColor = mix(frame1, frame2 * uStrength, 0.5);","}"].join(`
`)},41214:c=>{c.exports=["#define SHADER_NAME PHASER_MESH_FS","precision mediump float;","uniform vec3 uLightPosition;","uniform vec3 uLightAmbient;","uniform vec3 uLightDiffuse;","uniform vec3 uLightSpecular;","uniform vec3 uFogColor;","uniform float uFogNear;","uniform float uFogFar;","uniform vec3 uMaterialAmbient;","uniform vec3 uMaterialDiffuse;","uniform vec3 uMaterialSpecular;","uniform float uMaterialShine;","uniform vec3 uCameraPosition;","uniform sampler2D uTexture;","varying vec2 vTextureCoord;","varying vec3 vNormal;","varying vec3 vPosition;","void main (void)","{","    vec4 color = texture2D(uTexture, vTextureCoord);","    vec3 ambient = uLightAmbient * uMaterialAmbient;","    vec3 norm = normalize(vNormal);","    vec3 lightDir = normalize(uLightPosition - vPosition);","    float diff = max(dot(norm, lightDir), 0.0);","    vec3 diffuse = uLightDiffuse * (diff * uMaterialDiffuse);","    vec3 viewDir = normalize(uCameraPosition - vPosition);","    vec3 reflectDir = reflect(-lightDir, norm);","    float spec = pow(max(dot(viewDir, reflectDir), 0.0), uMaterialShine);","    vec3 specular = uLightSpecular * (spec * uMaterialSpecular);","    vec3 result = (ambient + diffuse + specular) * color.rgb;","    float depth = gl_FragCoord.z / gl_FragCoord.w;","    float fogFactor = smoothstep(uFogNear, uFogFar, depth);","    gl_FragColor.rgb = mix(result.rgb, uFogColor, fogFactor);","    gl_FragColor.a = color.a;","}"].join(`
`)},39653:c=>{c.exports=["#define SHADER_NAME PHASER_MESH_VS","precision mediump float;","attribute vec3 aVertexPosition;","attribute vec3 aVertexNormal;","attribute vec2 aTextureCoord;","uniform mat4 uViewProjectionMatrix;","uniform mat4 uModelMatrix;","uniform mat4 uNormalMatrix;","varying vec2 vTextureCoord;","varying vec3 vNormal;","varying vec3 vPosition;","void main ()","{","    vTextureCoord = aTextureCoord;","    vPosition = vec3(uModelMatrix * vec4(aVertexPosition, 1.0));","    vNormal = vec3(uNormalMatrix * vec4(aVertexNormal, 1.0));","    gl_Position = uViewProjectionMatrix * uModelMatrix * vec4(aVertexPosition, 1.0);","}"].join(`
`)},62143:c=>{c.exports=["#define SHADER_NAME PHASER_MOBILE_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join(`
`)},47940:c=>{c.exports=["#define SHADER_NAME PHASER_MOBILE_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","uniform int uRoundPixels;","uniform vec2 uResolution;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    if (uRoundPixels == 1)","    {","        gl_Position.xy = floor(((gl_Position.xy + 1.0) * 0.5 * uResolution) + 0.5) / uResolution * 2.0 - 1.0;","    }","    outTexCoord = inTexCoord;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join(`
`)},98840:c=>{c.exports=["#define SHADER_NAME PHASER_MULTI_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler[%count%];","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texture;","    %forloop%","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join(`
`)},44667:c=>{c.exports=["#define SHADER_NAME PHASER_MULTI_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","uniform int uRoundPixels;","uniform vec2 uResolution;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    if (uRoundPixels == 1)","    {","        gl_Position.xy = floor(((gl_Position.xy + 1.0) * 0.5 * uResolution) + 0.5) / uResolution * 2.0 - 1.0;","    }","    outTexCoord = inTexCoord;","    outTexId = inTexId;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join(`
`)},4127:c=>{c.exports=["#define SHADER_NAME PHASER_POINTLIGHT_FS","precision mediump float;","uniform vec2 uResolution;","uniform float uCameraZoom;","varying vec4 lightPosition;","varying vec4 lightColor;","varying float lightRadius;","varying float lightAttenuation;","void main ()","{","    vec2 center = (lightPosition.xy + 1.0) * (uResolution.xy * 0.5);","    float distToSurf = length(center - gl_FragCoord.xy);","    float radius = 1.0 - distToSurf / (lightRadius * uCameraZoom);","    float intensity = smoothstep(0.0, 1.0, radius * lightAttenuation);","    vec4 color = vec4(intensity, intensity, intensity, 0.0) * lightColor;","    gl_FragColor = vec4(color.rgb * lightColor.a, color.a);","}"].join(`
`)},89924:c=>{c.exports=["#define SHADER_NAME PHASER_POINTLIGHT_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","attribute vec2 inPosition;","attribute vec2 inLightPosition;","attribute vec4 inLightColor;","attribute float inLightRadius;","attribute float inLightAttenuation;","varying vec4 lightPosition;","varying vec4 lightColor;","varying float lightRadius;","varying float lightAttenuation;","void main ()","{","    lightColor = inLightColor;","    lightRadius = inLightRadius;","    lightAttenuation = inLightAttenuation;","    lightPosition = uProjectionMatrix * vec4(inLightPosition, 1.0, 1.0);","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","}"].join(`
`)},27681:c=>{c.exports=["#define SHADER_NAME PHASER_POSTFX_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","void main ()","{","    gl_FragColor = texture2D(uMainSampler, outTexCoord);","}"].join(`
`)},49627:c=>{c.exports=["#define SHADER_NAME PHASER_QUAD_VS","precision mediump float;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","varying vec2 outFragCoord;","varying vec2 outTexCoord;","void main ()","{","    outFragCoord = inPosition.xy * 0.5 + 0.5;","    outTexCoord = inTexCoord;","    gl_Position = vec4(inPosition, 0, 1);","}"].join(`
`)},45561:c=>{c.exports=["#define SHADER_NAME PHASER_SINGLE_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join(`
`)},60722:c=>{c.exports=["#define SHADER_NAME PHASER_SINGLE_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","uniform int uRoundPixels;","uniform vec2 uResolution;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    if (uRoundPixels == 1)","    {","        gl_Position.xy = floor(((gl_Position.xy + 1.0) * 0.5 * uResolution) + 0.5) / uResolution * 2.0 - 1.0;","    }","    outTexCoord = inTexCoord;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join(`
`)},89350:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={AddBlendFrag:t(35407),BitmapMaskFrag:t(78908),BitmapMaskVert:t(85191),ColorMatrixFrag:t(96293),CopyFrag:t(36682),FXBarrelFrag:t(99155),FXBloomFrag:t(24400),FXBlurHighFrag:t(94328),FXBlurLowFrag:t(41514),FXBlurMedFrag:t(51078),FXBokehFrag:t(90610),FXCircleFrag:t(91899),FXDisplacementFrag:t(47838),FXGlowFrag:t(98656),FXGradientFrag:t(70463),FXPixelateFrag:t(50831),FXShadowFrag:t(92595),FXShineFrag:t(72464),FXVignetteFrag:t(39249),FXWipeFrag:t(2878),LightFrag:t(31063),LinearBlendFrag:t(48247),MeshFrag:t(41214),MeshVert:t(39653),MobileFrag:t(62143),MobileVert:t(47940),MultiFrag:t(98840),MultiVert:t(44667),PointLightFrag:t(4127),PointLightVert:t(89924),PostFXFrag:t(27681),QuadVert:t(49627),SingleFrag:t(45561),SingleVert:t(60722)}},93567:(c,g,t)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=new o({initialize:function(i,s,e){this.webGLAttribLocation=-1,this.gl=i,this.program=s,this.name=e,this.createResource()},createResource:function(){if(this.program.webGLProgram===null){this.webGLAttribLocation=-1;return}var a=this.gl;a.isContextLost()||(this.webGLAttribLocation=a.getAttribLocation(this.program.webGLProgram,this.name))},destroy:function(){this.gl=null,this.program=null,this.name=null,this.webGLAttribLocation=-1}});c.exports=v},26128:(c,g,t)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=new o({initialize:function(i,s,e,r){this.webGLBuffer=null,this.gl=i,this.initialDataOrSize=s,this.bufferType=e,this.bufferUsage=r,this.createResource()},createResource:function(){if(this.initialDataOrSize!==null){var a=this.gl;if(!a.isContextLost()){var i=this.bufferType,s=a.createBuffer();this.webGLBuffer=s,a.bindBuffer(i,this.webGLBuffer),a.bufferData(i,this.initialDataOrSize,this.bufferUsage),a.bindBuffer(i,null)}}},destroy:function(){var a=this.gl;a.isContextLost()||a.deleteBuffer(this.webGLBuffer),this.webGLBuffer=null,this.initialDataOrSize=null,this.gl=null}});c.exports=v},84387:(c,g,t)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v={36054:"Incomplete Attachment",36055:"Missing Attachment",36057:"Incomplete Dimensions",36061:"Framebuffer Unsupported"},a=new o({initialize:function(s,e,r,h,n){this.webGLFramebuffer=null,this.gl=s,this.width=e,this.height=r,this.renderTexture=h,this.addDepthStencilBuffer=!!n,this.createResource()},createResource:function(){var i=this.gl;if(!i.isContextLost()){var s=this.renderTexture,e=0,r=i.createFramebuffer();if(this.webGLFramebuffer=r,i.bindFramebuffer(i.FRAMEBUFFER,r),s.isRenderTexture=!0,s.isAlphaPremultiplied=!1,i.framebufferTexture2D(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.TEXTURE_2D,s.webGLTexture,0),e=i.checkFramebufferStatus(i.FRAMEBUFFER),e!==i.FRAMEBUFFER_COMPLETE)throw new Error("Framebuffer status: "+(v[e]||e));if(this.addDepthStencilBuffer){var h=i.createRenderbuffer();i.bindRenderbuffer(i.RENDERBUFFER,h),i.renderbufferStorage(i.RENDERBUFFER,i.DEPTH_STENCIL,this.width,this.height),i.framebufferRenderbuffer(i.FRAMEBUFFER,i.DEPTH_STENCIL_ATTACHMENT,i.RENDERBUFFER,h)}i.bindFramebuffer(i.FRAMEBUFFER,null)}},destroy:function(){if(this.webGLFramebuffer!==null){var i=this.gl;if(!i.isContextLost()){i.bindFramebuffer(i.FRAMEBUFFER,this.webGLFramebuffer);var s=i.getFramebufferAttachmentParameter(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME);s!==null&&(i.framebufferTexture2D(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.TEXTURE_2D,null,0),i.deleteTexture(s));var e=i.getFramebufferAttachmentParameter(i.FRAMEBUFFER,i.DEPTH_STENCIL_ATTACHMENT,i.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME);e!==null&&i.deleteRenderbuffer(e),i.bindFramebuffer(i.FRAMEBUFFER,null),i.deleteFramebuffer(this.webGLFramebuffer)}this.renderTexture=null,this.webGLFramebuffer=null,this.gl=null}}});c.exports=a},1482:(c,g,t)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=new o({initialize:function(i,s,e){this.webGLProgram=null,this.gl=i,this.vertexSource=s,this.fragmentSource=e,this.createResource()},createResource:function(){var a=this.gl;if(!a.isContextLost()){var i=a.createProgram(),s=a.createShader(a.VERTEX_SHADER),e=a.createShader(a.FRAGMENT_SHADER);a.shaderSource(s,this.vertexSource),a.shaderSource(e,this.fragmentSource),a.compileShader(s),a.compileShader(e);var r=`Shader failed:
`;if(!a.getShaderParameter(s,a.COMPILE_STATUS))throw new Error("Vertex "+r+a.getShaderInfoLog(s));if(!a.getShaderParameter(e,a.COMPILE_STATUS))throw new Error("Fragment "+r+a.getShaderInfoLog(e));if(a.attachShader(i,s),a.attachShader(i,e),a.linkProgram(i),!a.getProgramParameter(i,a.LINK_STATUS))throw new Error("Link "+r+a.getProgramInfoLog(i));a.useProgram(i),this.webGLProgram=i}},destroy:function(){this.webGLProgram&&(this.gl.isContextLost()||this.gl.deleteProgram(this.webGLProgram),this.webGLProgram=null,this.gl=null)}});c.exports=v},82751:(c,g,t)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(50030),a=new o({initialize:function(s,e,r,h,n,l,f,u,d,p,x,E,T){this.webGLTexture=null,this.isRenderTexture=!1,this.gl=s,this.mipLevel=e,this.minFilter=r,this.magFilter=h,this.wrapT=n,this.wrapS=l,this.format=f,this.pixels=u,this.width=d,this.height=p,this.pma=x??!0,this.forceSize=!!E,this.flipY=!!T,this.__SPECTOR_Metadata={},this.createResource()},createResource:function(){var i=this.gl;if(!i.isContextLost()){if(this.pixels instanceof a){this.webGLTexture=this.pixels.webGLTexture;return}var s=i.createTexture();s.__SPECTOR_Metadata=this.__SPECTOR_Metadata,this.webGLTexture=s,this._processTexture()}},update:function(i,s,e,r,h,n,l,f,u){if(!(s===0||e===0)){this.pixels=i,this.width=s,this.height=e,this.flipY=r,this.wrapS=h,this.wrapT=n,this.minFilter=l,this.magFilter=f,this.format=u;var d=this.gl;d.isContextLost()||this._processTexture()}},_processTexture:function(){var i=this.gl;i.activeTexture(i.TEXTURE0);var s=i.getParameter(i.TEXTURE_BINDING_2D);i.bindTexture(i.TEXTURE_2D,this.webGLTexture),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,this.minFilter),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,this.magFilter),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_S,this.wrapS),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_T,this.wrapT),i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.pma),i.pixelStorei(i.UNPACK_FLIP_Y_WEBGL,this.flipY);var e=this.pixels,r=this.mipLevel,h=this.width,n=this.height,l=this.format,f=!1;if(e==null)i.texImage2D(i.TEXTURE_2D,r,l,h,n,0,l,i.UNSIGNED_BYTE,null),f=v(h,n);else if(e.compressed){h=e.width,n=e.height,f=e.generateMipmap;for(var u=0;u<e.mipmaps.length;u++)i.compressedTexImage2D(i.TEXTURE_2D,u,e.internalFormat,e.mipmaps[u].width,e.mipmaps[u].height,0,e.mipmaps[u].data)}else e instanceof Uint8Array?(i.texImage2D(i.TEXTURE_2D,r,l,h,n,0,l,i.UNSIGNED_BYTE,e),f=v(h,n)):(this.forceSize||(h=e.width,n=e.height),i.texImage2D(i.TEXTURE_2D,r,l,l,i.UNSIGNED_BYTE,e),f=v(h,n));f&&i.generateMipmap(i.TEXTURE_2D),s?i.bindTexture(i.TEXTURE_2D,s):i.bindTexture(i.TEXTURE_2D,null)},spectorMetadata:{get:function(){return this.__SPECTOR_Metadata},set:function(i){this.__SPECTOR_Metadata=i,this.gl.isContextLost()||(this.webGLTexture.__SPECTOR_Metadata=i)}},destroy:function(){this.webGLTexture!==null&&(this.gl.isContextLost()||this.pixels instanceof a||this.gl.deleteTexture(this.webGLTexture),this.pixels=null,this.webGLTexture=null,this.gl=null)}});c.exports=a},57183:(c,g,t)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=new o({initialize:function(i,s,e){this.webGLUniformLocation=null,this.gl=i,this.program=s,this.name=e,this.createResource()},createResource:function(){if(this.program.webGLProgram===null){this.webGLUniformLocation=null;return}var a=this.gl;a.isContextLost()||(this.webGLUniformLocation=a.getUniformLocation(this.program.webGLProgram,this.name))},destroy:function(){this.gl=null,this.program=null,this.name=null,this.webGLUniformLocation=null}});c.exports=v},9503:(c,g,t)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o={WebGLAttribLocationWrapper:t(93567),WebGLBufferWrapper:t(26128),WebGLProgramWrapper:t(1482),WebGLTextureWrapper:t(82751),WebGLFramebufferWrapper:t(84387),WebGLUniformLocationWrapper:t(57183)};c.exports=o},76531:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(13560),v=t(83419),a=t(50792),i=t(97480),s=t(8443),e=t(57811),r=t(74403),h=t(45818),n=t(29747),l=t(87841),f=t(86555),u=t(56583),d=t(26099),p=t(38058),x=new v({Extends:a,initialize:function(T){a.call(this),this.game=T,this.canvas,this.canvasBounds=new l,this.parent=null,this.parentIsWindow=!1,this.parentSize=new f,this.gameSize=new f,this.baseSize=new f,this.displaySize=new f,this.scaleMode=o.SCALE_MODE.NONE,this.zoom=1,this._resetZoom=!1,this.displayScale=new d(1,1),this.autoRound=!1,this.autoCenter=o.CENTER.NO_CENTER,this.orientation=o.ORIENTATION.LANDSCAPE,this.fullscreen,this.fullscreenTarget=null,this._createdFullscreenTarget=!1,this.dirty=!1,this.resizeInterval=500,this._lastCheck=0,this._checkOrientation=!1,this.domlisteners={orientationChange:n,windowResize:n,fullScreenChange:n,fullScreenError:n}},preBoot:function(){this.parseConfig(this.game.config),this.game.events.once(s.BOOT,this.boot,this)},boot:function(){var E=this.game;this.canvas=E.canvas,this.fullscreen=E.device.fullscreen,this.scaleMode!==o.SCALE_MODE.RESIZE&&this.scaleMode!==o.SCALE_MODE.EXPAND&&this.displaySize.setAspectMode(this.scaleMode),this.scaleMode===o.SCALE_MODE.NONE?this.resize(this.width,this.height):(this.getParentBounds(),this.parentSize.width>0&&this.parentSize.height>0&&this.displaySize.setParent(this.parentSize),this.refresh()),E.events.on(s.PRE_STEP,this.step,this),E.events.once(s.READY,this.refresh,this),E.events.once(s.DESTROY,this.destroy,this),this.startListeners()},parseConfig:function(E){this.getParent(E),this.getParentBounds();var T=E.width,C=E.height,A=E.scaleMode,M=E.zoom,R=E.autoRound;if(typeof T=="string")if(T.substr(-1)!=="%")T=parseInt(T,10);else{var O=this.parentSize.width;O===0&&(O=window.innerWidth);var L=parseInt(T,10)/100;T=Math.floor(O*L)}if(typeof C=="string")if(C.substr(-1)!=="%")C=parseInt(C,10);else{var b=this.parentSize.height;b===0&&(b=window.innerHeight);var N=parseInt(C,10)/100;C=Math.floor(b*N)}this.scaleMode=A,this.autoRound=R,this.autoCenter=E.autoCenter,this.resizeInterval=E.resizeInterval,R&&(T=Math.floor(T),C=Math.floor(C)),this.gameSize.setSize(T,C),M===o.ZOOM.MAX_ZOOM&&(M=this.getMaxZoom()),this.zoom=M,M!==1&&(this._resetZoom=!0),this.baseSize.setSize(T,C),R&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),E.minWidth>0&&this.displaySize.setMin(E.minWidth*M,E.minHeight*M),E.maxWidth>0&&this.displaySize.setMax(E.maxWidth*M,E.maxHeight*M),this.displaySize.setSize(T,C),(E.snapWidth>0||E.snapHeight>0)&&this.displaySize.setSnap(E.snapWidth,E.snapHeight),this.orientation=h(T,C)},getParent:function(E){var T=E.parent;if(T!==null){if(this.parent=r(T),this.parentIsWindow=this.parent===document.body,E.expandParent&&E.scaleMode!==o.SCALE_MODE.NONE){var C=this.parent.getBoundingClientRect();(this.parentIsWindow||C.height===0)&&(document.documentElement.style.height="100%",document.body.style.height="100%",C=this.parent.getBoundingClientRect(),!this.parentIsWindow&&C.height===0&&(this.parent.style.overflow="hidden",this.parent.style.width="100%",this.parent.style.height="100%"))}E.fullscreenTarget&&!this.fullscreenTarget&&(this.fullscreenTarget=r(E.fullscreenTarget))}},getParentBounds:function(){if(!this.parent)return!1;var E=this.parentSize,T=this.parent.getBoundingClientRect();this.parentIsWindow&&this.game.device.os.iOS&&(T.height=e(!0));var C=T.width,A=T.height;if(E.width!==C||E.height!==A)return E.setSize(C,A),!0;if(this.canvas){var M=this.canvasBounds,R=this.canvas.getBoundingClientRect();if(R.x!==M.x||R.y!==M.y)return!0}return!1},lockOrientation:function(E){var T=screen.lockOrientation||screen.mozLockOrientation||screen.msLockOrientation;return T?T.call(screen,E):!1},setParentSize:function(E,T){return this.parentSize.setSize(E,T),this.refresh()},setGameSize:function(E,T){var C=this.autoRound;C&&(E=Math.floor(E),T=Math.floor(T));var A=this.width,M=this.height;return this.gameSize.resize(E,T),this.baseSize.resize(E,T),C&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),this.displaySize.setAspectRatio(E/T),this.canvas.width=this.baseSize.width,this.canvas.height=this.baseSize.height,this.refresh(A,M)},resize:function(E,T){var C=this.zoom,A=this.autoRound;A&&(E=Math.floor(E),T=Math.floor(T));var M=this.width,R=this.height;this.gameSize.resize(E,T),this.baseSize.resize(E,T),A&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),this.displaySize.setSize(E*C,T*C),this.canvas.width=this.baseSize.width,this.canvas.height=this.baseSize.height;var O=this.canvas.style,L=E*C,b=T*C;return A&&(L=Math.floor(L),b=Math.floor(b)),(L!==E||b!==T)&&(O.width=L+"px",O.height=b+"px"),this.refresh(M,R)},setZoom:function(E){return this.zoom=E,this._resetZoom=!0,this.refresh()},setMaxZoom:function(){return this.zoom=this.getMaxZoom(),this._resetZoom=!0,this.refresh()},setSnap:function(E,T){return E===void 0&&(E=0),T===void 0&&(T=E),this.displaySize.setSnap(E,T),this.refresh()},refresh:function(E,T){E===void 0&&(E=this.width),T===void 0&&(T=this.height),this.updateScale(),this.updateBounds(),this.updateOrientation(),this.displayScale.set(this.baseSize.width/this.canvasBounds.width,this.baseSize.height/this.canvasBounds.height);var C=this.game.domContainer;if(C){this.baseSize.setCSS(C);var A=this.canvas.style,M=C.style;M.transform="scale("+this.displaySize.width/this.baseSize.width+","+this.displaySize.height/this.baseSize.height+")",M.marginLeft=A.marginLeft,M.marginTop=A.marginTop}return this.emit(i.RESIZE,this.gameSize,this.baseSize,this.displaySize,E,T),this},updateOrientation:function(){if(this._checkOrientation){this._checkOrientation=!1;var E=h(this.width,this.height);E!==this.orientation&&(this.orientation=E,this.emit(i.ORIENTATION_CHANGE,E))}},updateScale:function(){var E=this.canvas.style,T=this.gameSize.width,C=this.gameSize.height,A,M,R=this.zoom,O=this.autoRound;if(this.scaleMode===o.SCALE_MODE.NONE)this.displaySize.setSize(T*R,C*R),A=this.displaySize.width,M=this.displaySize.height,O&&(A=Math.floor(A),M=Math.floor(M)),this._resetZoom&&(E.width=A+"px",E.height=M+"px",this._resetZoom=!1);else if(this.scaleMode===o.SCALE_MODE.RESIZE)this.displaySize.setSize(this.parentSize.width,this.parentSize.height),this.gameSize.setSize(this.displaySize.width,this.displaySize.height),this.baseSize.setSize(this.displaySize.width,this.displaySize.height),A=this.displaySize.width,M=this.displaySize.height,O&&(A=Math.floor(A),M=Math.floor(M)),this.canvas.width=A,this.canvas.height=M;else if(this.scaleMode===o.SCALE_MODE.EXPAND){this.displaySize.setSize(this.parentSize.width,this.parentSize.height),A=this.displaySize.width,M=this.displaySize.height,O&&(A=Math.floor(A),M=Math.floor(M)),E.width=A+"px",E.height=M+"px";var L=this.parentSize.width/this.gameSize.width,b=this.parentSize.height/this.gameSize.height;L<b?this.baseSize.setSize(this.gameSize.width,this.parentSize.height/L):this.baseSize.setSize(this.displaySize.width/b,this.gameSize.height),A=this.baseSize.width,M=this.baseSize.height,O&&(A=Math.floor(A),M=Math.floor(M)),this.canvas.width=A,this.canvas.height=M}else this.displaySize.setSize(this.parentSize.width,this.parentSize.height),A=this.displaySize.width,M=this.displaySize.height,O&&(A=Math.floor(A),M=Math.floor(M)),E.width=A+"px",E.height=M+"px";this.getParentBounds(),this.updateCenter()},getMaxZoom:function(){var E=u(this.parentSize.width,this.gameSize.width,0,!0),T=u(this.parentSize.height,this.gameSize.height,0,!0);return Math.max(Math.min(E,T),1)},updateCenter:function(){var E=this.autoCenter;if(E!==o.CENTER.NO_CENTER){var T=this.canvas,C=T.style,A=T.getBoundingClientRect(),M=A.width,R=A.height,O=Math.floor((this.parentSize.width-M)/2),L=Math.floor((this.parentSize.height-R)/2);E===o.CENTER.CENTER_HORIZONTALLY?L=0:E===o.CENTER.CENTER_VERTICALLY&&(O=0),C.marginLeft=O+"px",C.marginTop=L+"px"}},updateBounds:function(){var E=this.canvasBounds,T=this.canvas.getBoundingClientRect();E.x=T.left+(window.pageXOffset||0)-(document.documentElement.clientLeft||0),E.y=T.top+(window.pageYOffset||0)-(document.documentElement.clientTop||0),E.width=T.width,E.height=T.height},transformX:function(E){return(E-this.canvasBounds.left)*this.displayScale.x},transformY:function(E){return(E-this.canvasBounds.top)*this.displayScale.y},startFullscreen:function(E){E===void 0&&(E={navigationUI:"hide"});var T=this.fullscreen;if(!T.available){this.emit(i.FULLSCREEN_UNSUPPORTED);return}if(!T.active){var C=this.getFullscreenTarget();T.keyboard?C[T.request](Element.ALLOW_KEYBOARD_INPUT):C[T.request](E)}},fullscreenSuccessHandler:function(){this.getParentBounds(),this.refresh(),this.emit(i.ENTER_FULLSCREEN)},fullscreenErrorHandler:function(E){this.removeFullscreenTarget(),this.emit(i.FULLSCREEN_FAILED,E)},getFullscreenTarget:function(){if(!this.fullscreenTarget){var E=document.createElement("div");E.style.margin="0",E.style.padding="0",E.style.width="100%",E.style.height="100%",this.fullscreenTarget=E,this._createdFullscreenTarget=!0}if(this._createdFullscreenTarget){var T=this.canvas.parentNode;T.insertBefore(this.fullscreenTarget,this.canvas),this.fullscreenTarget.appendChild(this.canvas)}return this.fullscreenTarget},removeFullscreenTarget:function(){if(this._createdFullscreenTarget){var E=this.fullscreenTarget;if(E&&E.parentNode){var T=E.parentNode;T.insertBefore(this.canvas,E),T.removeChild(E)}}},stopFullscreen:function(){var E=this.fullscreen;if(!E.available)return this.emit(i.FULLSCREEN_UNSUPPORTED),!1;E.active&&document[E.cancel](),this.removeFullscreenTarget(),this.getParentBounds(),this.emit(i.LEAVE_FULLSCREEN),this.refresh()},toggleFullscreen:function(E){this.fullscreen.active?this.stopFullscreen():this.startFullscreen(E)},startListeners:function(){var E=this,T=this.domlisteners;if(T.orientationChange=function(){E.updateBounds(),E._checkOrientation=!0,E.dirty=!0,E.refresh()},T.windowResize=function(){E.updateBounds(),E.dirty=!0},window.addEventListener("orientationchange",T.orientationChange,!1),window.addEventListener("resize",T.windowResize,!1),this.fullscreen.available){T.fullScreenChange=function(A){return E.onFullScreenChange(A)},T.fullScreenError=function(A){return E.onFullScreenError(A)};var C=["webkit","moz",""];C.forEach(function(A){document.addEventListener(A+"fullscreenchange",T.fullScreenChange,!1),document.addEventListener(A+"fullscreenerror",T.fullScreenError,!1)}),document.addEventListener("MSFullscreenChange",T.fullScreenChange,!1),document.addEventListener("MSFullscreenError",T.fullScreenError,!1)}},onFullScreenChange:function(){document.fullscreenElement||document.webkitFullscreenElement||document.msFullscreenElement||document.mozFullScreenElement?this.fullscreenSuccessHandler():this.stopFullscreen()},onFullScreenError:function(){this.removeFullscreenTarget()},getViewPort:function(E,T){E instanceof p||(T=E,E=void 0),T===void 0&&(T=new l);var C=this.baseSize,A=this.parentSize,M=this.canvasBounds,R=this.displayScale,O=M.x>=0?0:-(M.x*R.x),L=M.y>=0?0:-(M.y*R.y),b;A.width>=M.width?b=C.width:b=C.width-(M.width-A.width)*R.x;var N;return A.height>=M.height?N=C.height:N=C.height-(M.height-A.height)*R.y,T.setTo(O,L,b,N),E&&(T.width/=E.zoomX,T.height/=E.zoomY,T.centerX=E.centerX+E.scrollX,T.centerY=E.centerY+E.scrollY),T},step:function(E,T){this.parent&&(this._lastCheck+=T,(this.dirty||this._lastCheck>this.resizeInterval)&&(this.getParentBounds()&&this.refresh(),this.dirty=!1,this._lastCheck=0))},stopListeners:function(){var E=this.domlisteners;window.removeEventListener("orientationchange",E.orientationChange,!1),window.removeEventListener("resize",E.windowResize,!1);var T=["webkit","moz",""];T.forEach(function(C){document.removeEventListener(C+"fullscreenchange",E.fullScreenChange,!1),document.removeEventListener(C+"fullscreenerror",E.fullScreenError,!1)}),document.removeEventListener("MSFullscreenChange",E.fullScreenChange,!1),document.removeEventListener("MSFullscreenError",E.fullScreenError,!1)},destroy:function(){this.removeAllListeners(),this.stopListeners(),this.game=null,this.canvas=null,this.canvasBounds=null,this.parent=null,this.fullscreenTarget=null,this.parentSize.destroy(),this.gameSize.destroy(),this.baseSize.destroy(),this.displaySize.destroy()},isFullscreen:{get:function(){return this.fullscreen.active}},width:{get:function(){return this.gameSize.width}},height:{get:function(){return this.gameSize.height}},isPortrait:{get:function(){return this.orientation===o.ORIENTATION.PORTRAIT}},isLandscape:{get:function(){return this.orientation===o.ORIENTATION.LANDSCAPE}},isGamePortrait:{get:function(){return this.height>this.width}},isGameLandscape:{get:function(){return this.width>this.height}}});c.exports=x},64743:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={NO_CENTER:0,CENTER_BOTH:1,CENTER_HORIZONTALLY:2,CENTER_VERTICALLY:3}},39218:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={LANDSCAPE:"landscape-primary",PORTRAIT:"portrait-primary"}},81050:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={NONE:0,WIDTH_CONTROLS_HEIGHT:1,HEIGHT_CONTROLS_WIDTH:2,FIT:3,ENVELOP:4,RESIZE:5,EXPAND:6}},80805:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={NO_ZOOM:1,ZOOM_2X:2,ZOOM_4X:4,MAX_ZOOM:-1}},13560:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o={CENTER:t(64743),ORIENTATION:t(39218),SCALE_MODE:t(81050),ZOOM:t(80805)};c.exports=o},56139:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="enterfullscreen"},2336:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="fullscreenfailed"},47412:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="fullscreenunsupported"},51452:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="leavefullscreen"},20666:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="orientationchange"},47945:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="resize"},97480:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={ENTER_FULLSCREEN:t(56139),FULLSCREEN_FAILED:t(2336),FULLSCREEN_UNSUPPORTED:t(47412),LEAVE_FULLSCREEN:t(51452),ORIENTATION_CHANGE:t(20666),RESIZE:t(47945)}},93364:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(79291),v=t(13560),a={Center:t(64743),Events:t(97480),Orientation:t(39218),ScaleManager:t(76531),ScaleModes:t(81050),Zoom:t(80805)};a=o(!1,a,v.CENTER),a=o(!1,a,v.ORIENTATION),a=o(!1,a,v.SCALE_MODE),a=o(!1,a,v.ZOOM),c.exports=a},27397:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(95540),v=t(35355),a=function(i){var s=i.game.config.defaultPhysicsSystem,e=o(i.settings,"physics",!1);if(!(!s&&!e)){var r=[];if(s&&r.push(v(s+"Physics")),e)for(var h in e)h=v(h.concat("Physics")),r.indexOf(h)===-1&&r.push(h);return r}};c.exports=a},52106:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(95540),v=function(a){var i=a.plugins.getDefaultScenePlugins(),s=o(a.settings,"plugins",!1);return Array.isArray(s)?s:i||[]};c.exports=v},87033:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g={game:"game",renderer:"renderer",anims:"anims",cache:"cache",plugins:"plugins",registry:"registry",scale:"scale",sound:"sound",textures:"textures",events:"events",cameras:"cameras",add:"add",make:"make",scenePlugin:"scene",displayList:"children",lights:"lights",data:"data",input:"input",load:"load",time:"time",tweens:"tweens",arcadePhysics:"physics",impactPhysics:"impact",matterPhysics:"matter"};c.exports=g},97482:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(2368),a=new o({initialize:function(s){this.sys=new v(this,s),this.game,this.anims,this.cache,this.registry,this.sound,this.textures,this.events,this.cameras,this.add,this.make,this.scene,this.children,this.lights,this.data,this.input,this.load,this.time,this.tweens,this.physics,this.matter,this.scale,this.plugins,this.renderer},update:function(){}});c.exports=a},60903:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(89993),a=t(44594),i=t(8443),s=t(35154),e=t(54899),r=t(29747),h=t(97482),n=t(2368),l=new o({initialize:function(u,d){if(this.game=u,this.keys={},this.scenes=[],this._pending=[],this._start=[],this._queue=[],this._data={},this.isProcessing=!1,this.isBooted=!1,this.customViewports=0,this.systemScene,d){Array.isArray(d)||(d=[d]);for(var p=0;p<d.length;p++)this._pending.push({key:"default",scene:d[p],autoStart:p===0,data:{}})}u.events.once(i.READY,this.bootQueue,this)},bootQueue:function(){if(!this.isBooted){this.systemScene=this.createSceneFromInstance("__SYSTEM",new h),this.game.events.emit(i.SYSTEM_READY,this.systemScene,this);var f,u,d,p;for(f=0;f<this._pending.length;f++){u=this._pending[f],d=u.key,p=u.scene;var x;p instanceof h?x=this.createSceneFromInstance(d,p):typeof p=="object"?x=this.createSceneFromObject(d,p):typeof p=="function"&&(x=this.createSceneFromFunction(d,p)),d=x.sys.settings.key,this.keys[d]=x,this.scenes.push(x),this._data[d]&&(x.sys.settings.data=this._data[d].data,this._data[d].autoStart&&(u.autoStart=!0)),(u.autoStart||x.sys.settings.active)&&this._start.push(d)}for(this._pending.length=0,this._data={},this.isBooted=!0,f=0;f<this._start.length;f++)u=this._start[f],this.start(u);this._start.length=0}},processQueue:function(){var f=this._pending.length,u=this._queue.length;if(!(f===0&&u===0)){var d,p;if(f){for(d=0;d<f;d++)p=this._pending[d],this.add(p.key,p.scene,p.autoStart,p.data);for(d=0;d<this._start.length;d++)p=this._start[d],this.start(p);this._start.length=0,this._pending.length=0}for(d=0;d<this._queue.length;d++)p=this._queue[d],this[p.op](p.keyA,p.keyB);this._queue.length=0}},add:function(f,u,d,p){if(d===void 0&&(d=!1),p===void 0&&(p={}),this.isProcessing||!this.isBooted)return this._pending.push({key:f,scene:u,autoStart:d,data:p}),this.isBooted||(this._data[f]={data:p}),null;f=this.getKey(f,u);var x;return u instanceof h?x=this.createSceneFromInstance(f,u):typeof u=="object"?(u.key=f,x=this.createSceneFromObject(f,u)):typeof u=="function"&&(x=this.createSceneFromFunction(f,u)),x.sys.settings.data=p,f=x.sys.settings.key,this.keys[f]=x,this.scenes.push(x),(d||x.sys.settings.active)&&(this._pending.length?this._start.push(f):this.start(f)),x},remove:function(f){if(this.isProcessing)this._queue.push({op:"remove",keyA:f,keyB:null});else{var u=this.getScene(f);if(!u||u.sys.isTransitioning())return this;var d=this.scenes.indexOf(u),p=u.sys.settings.key;d>-1&&(delete this.keys[p],this.scenes.splice(d,1),this._start.indexOf(p)>-1&&(d=this._start.indexOf(p),this._start.splice(d,1)),u.sys.destroy())}return this},bootScene:function(f){var u=f.sys,d=u.settings;u.sceneUpdate=r,f.init&&(f.init.call(f,d.data),d.status=v.INIT,d.isTransition&&u.events.emit(a.TRANSITION_INIT,d.transitionFrom,d.transitionDuration));var p;u.load&&(p=u.load,p.reset()),p&&f.preload?(f.preload.call(f),d.status=v.LOADING,p.once(e.COMPLETE,this.loadComplete,this),p.start()):this.create(f)},loadComplete:function(f){this.game.sound&&this.game.sound.onBlurPausedSounds&&this.game.sound.unlock(),this.create(f.scene)},payloadComplete:function(f){this.bootScene(f.scene)},update:function(f,u){this.processQueue(),this.isProcessing=!0;for(var d=this.scenes.length-1;d>=0;d--){var p=this.scenes[d].sys;p.settings.status>v.START&&p.settings.status<=v.RUNNING&&p.step(f,u),p.scenePlugin&&p.scenePlugin._target&&p.scenePlugin.step(f,u)}},render:function(f){for(var u=0;u<this.scenes.length;u++){var d=this.scenes[u].sys;d.settings.visible&&d.settings.status>=v.LOADING&&d.settings.status<v.SLEEPING&&d.render(f)}this.isProcessing=!1},create:function(f){var u=f.sys,d=u.settings;f.create&&(d.status=v.CREATING,f.create.call(f,d.data),d.status===v.DESTROYED)||(d.isTransition&&u.events.emit(a.TRANSITION_START,d.transitionFrom,d.transitionDuration),f.update&&(u.sceneUpdate=f.update),d.status=v.RUNNING,u.events.emit(a.CREATE,f))},createSceneFromFunction:function(f,u){var d=new u;if(d instanceof h){var p=d.sys.settings.key;if(p!==""&&(f=p),this.keys.hasOwnProperty(f))throw new Error("Cannot add a Scene with duplicate key: "+f);return this.createSceneFromInstance(f,d)}else return d.sys=new n(d),d.sys.settings.key=f,d.sys.init(this.game),d},createSceneFromInstance:function(f,u){var d=u.sys.settings.key;return d===""&&(u.sys.settings.key=f),u.sys.init(this.game),u},createSceneFromObject:function(f,u){var d=new h(u),p=d.sys.settings.key;p!==""?f=p:d.sys.settings.key=f,d.sys.init(this.game);for(var x=["init","preload","create","update","render"],E=0;E<x.length;E++){var T=s(u,x[E],null);T&&(d[x[E]]=T)}if(u.hasOwnProperty("extend")){for(var C in u.extend)if(u.extend.hasOwnProperty(C)){var A=u.extend[C];C==="data"&&d.hasOwnProperty("data")&&typeof A=="object"?d.data.merge(A):C!=="sys"&&(d[C]=A)}}return d},getKey:function(f,u){if(f||(f="default"),typeof u=="function")return f;if(u instanceof h?f=u.sys.settings.key:typeof u=="object"&&u.hasOwnProperty("key")&&(f=u.key),this.keys.hasOwnProperty(f))throw new Error("Cannot add a Scene with duplicate key: "+f);return f},getScenes:function(f,u){f===void 0&&(f=!0),u===void 0&&(u=!1);for(var d=[],p=this.scenes,x=0;x<p.length;x++){var E=p[x];E&&(!f||f&&E.sys.isActive())&&d.push(E)}return u?d.reverse():d},getScene:function(f){if(typeof f=="string"){if(this.keys[f])return this.keys[f]}else for(var u=0;u<this.scenes.length;u++)if(f===this.scenes[u])return f;return null},isActive:function(f){var u=this.getScene(f);return u?u.sys.isActive():null},isPaused:function(f){var u=this.getScene(f);return u?u.sys.isPaused():null},isVisible:function(f){var u=this.getScene(f);return u?u.sys.isVisible():null},isSleeping:function(f){var u=this.getScene(f);return u?u.sys.isSleeping():null},pause:function(f,u){var d=this.getScene(f);return d&&d.sys.pause(u),this},resume:function(f,u){var d=this.getScene(f);return d&&d.sys.resume(u),this},sleep:function(f,u){var d=this.getScene(f);return d&&!d.sys.isTransitioning()&&d.sys.sleep(u),this},wake:function(f,u){var d=this.getScene(f);return d&&d.sys.wake(u),this},run:function(f,u){var d=this.getScene(f);if(!d){for(var p=0;p<this._pending.length;p++)if(this._pending[p].key===f){this.queueOp("start",f,u);break}return this}d.sys.isSleeping()?d.sys.wake(u):d.sys.isPaused()?d.sys.resume(u):this.start(f,u)},start:function(f,u){if(!this.isBooted)return this._data[f]={autoStart:!0,data:u},this;var d=this.getScene(f);if(!d)return console.warn("Scene not found for key: "+f),this;var p=d.sys,x=p.settings.status;if(x>=v.START&&x<=v.CREATING)return this;if(x>=v.RUNNING&&x<=v.SLEEPING)p.shutdown(),p.sceneUpdate=r,p.start(u);else{p.sceneUpdate=r,p.start(u);var E;if(p.load&&(E=p.load),E&&p.settings.hasOwnProperty("pack")&&(E.reset(),E.addPack({payload:p.settings.pack})))return p.settings.status=v.LOADING,E.once(e.COMPLETE,this.payloadComplete,this),E.start(),this}return this.bootScene(d),this},stop:function(f,u){var d=this.getScene(f);if(d&&!d.sys.isTransitioning()&&d.sys.settings.status!==v.SHUTDOWN){var p=d.sys.load;p&&(p.off(e.COMPLETE,this.loadComplete,this),p.off(e.COMPLETE,this.payloadComplete,this)),d.sys.shutdown(u)}return this},switch:function(f,u){var d=this.getScene(f),p=this.getScene(u);return d&&p&&d!==p&&(this.sleep(f),this.isSleeping(u)?this.wake(u):this.start(u)),this},getAt:function(f){return this.scenes[f]},getIndex:function(f){var u=this.getScene(f);return this.scenes.indexOf(u)},bringToTop:function(f){if(this.isProcessing)this._queue.push({op:"bringToTop",keyA:f,keyB:null});else{var u=this.getIndex(f);if(u!==-1&&u<this.scenes.length){var d=this.getScene(f);this.scenes.splice(u,1),this.scenes.push(d)}}return this},sendToBack:function(f){if(this.isProcessing)this._queue.push({op:"sendToBack",keyA:f,keyB:null});else{var u=this.getIndex(f);if(u!==-1&&u>0){var d=this.getScene(f);this.scenes.splice(u,1),this.scenes.unshift(d)}}return this},moveDown:function(f){if(this.isProcessing)this._queue.push({op:"moveDown",keyA:f,keyB:null});else{var u=this.getIndex(f);if(u>0){var d=u-1,p=this.getScene(f),x=this.getAt(d);this.scenes[u]=x,this.scenes[d]=p}}return this},moveUp:function(f){if(this.isProcessing)this._queue.push({op:"moveUp",keyA:f,keyB:null});else{var u=this.getIndex(f);if(u<this.scenes.length-1){var d=u+1,p=this.getScene(f),x=this.getAt(d);this.scenes[u]=x,this.scenes[d]=p}}return this},moveAbove:function(f,u){if(f===u)return this;if(this.isProcessing)this._queue.push({op:"moveAbove",keyA:f,keyB:u});else{var d=this.getIndex(f),p=this.getIndex(u);if(d!==-1&&p!==-1&&p<d){var x=this.getAt(p);this.scenes.splice(p,1),this.scenes.splice(d+(p>d),0,x)}}return this},moveBelow:function(f,u){if(f===u)return this;if(this.isProcessing)this._queue.push({op:"moveBelow",keyA:f,keyB:u});else{var d=this.getIndex(f),p=this.getIndex(u);if(d!==-1&&p!==-1&&p>d){var x=this.getAt(p);this.scenes.splice(p,1),d===0?this.scenes.unshift(x):this.scenes.splice(d-(p<d),0,x)}}return this},queueOp:function(f,u,d){return this._queue.push({op:f,keyA:u,keyB:d}),this},swapPosition:function(f,u){if(f===u)return this;if(this.isProcessing)this._queue.push({op:"swapPosition",keyA:f,keyB:u});else{var d=this.getIndex(f),p=this.getIndex(u);if(d!==p&&d!==-1&&p!==-1){var x=this.getAt(d);this.scenes[d]=this.scenes[p],this.scenes[p]=x}}return this},dump:function(){for(var f=[],u=["pending","init","start","loading","creating","running","paused","sleeping","shutdown","destroyed"],d=0;d<this.scenes.length;d++){var p=this.scenes[d].sys,x=p.settings.visible&&(p.settings.status===v.RUNNING||p.settings.status===v.PAUSED)?"[*] ":"[-] ";x+=p.settings.key+" ("+u[p.settings.status]+")",f.push(x)}console.log(f.join(`
`))},destroy:function(){for(var f=0;f<this.scenes.length;f++){var u=this.scenes[f].sys;u.destroy()}this.systemScene.sys.destroy(),this.update=r,this.scenes=[],this._pending=[],this._start=[],this._queue=[],this.game=null,this.systemScene=null}});c.exports=l},52209:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(45319),v=t(83419),a=t(44594),i=t(95540),s=t(37277),e=new v({initialize:function(h){this.scene=h,this.systems=h.sys,this.settings=h.sys.settings,this.key=h.sys.settings.key,this.manager=h.sys.game.scene,this.transitionProgress=0,this._elapsed=0,this._target=null,this._duration=0,this._onUpdate,this._onUpdateScope,this._willSleep=!1,this._willRemove=!1,h.sys.events.once(a.BOOT,this.boot,this),h.sys.events.on(a.START,this.pluginStart,this)},boot:function(){this.systems.events.once(a.DESTROY,this.destroy,this)},pluginStart:function(){this._target=null,this.systems.events.once(a.SHUTDOWN,this.shutdown,this)},start:function(r,h){return r===void 0&&(r=this.key),this.manager.queueOp("stop",this.key),this.manager.queueOp("start",r,h),this},restart:function(r){var h=this.key;return this.manager.queueOp("stop",h),this.manager.queueOp("start",h,r),this},transition:function(r){r===void 0&&(r={});var h=i(r,"target",!1),n=this.manager.getScene(h);if(!h||!this.checkValidTransition(n))return!1;var l=i(r,"duration",1e3);this._elapsed=0,this._target=n,this._duration=l,this._willSleep=i(r,"sleep",!1),this._willRemove=i(r,"remove",!1);var f=i(r,"onUpdate",null);f&&(this._onUpdate=f,this._onUpdateScope=i(r,"onUpdateScope",this.scene));var u=i(r,"allowInput",!1);this.settings.transitionAllowInput=u;var d=n.sys.settings;d.isTransition=!0,d.transitionFrom=this.scene,d.transitionDuration=l,d.transitionAllowInput=u,i(r,"moveAbove",!1)?this.manager.moveAbove(this.key,h):i(r,"moveBelow",!1)&&this.manager.moveBelow(this.key,h),n.sys.isSleeping()?n.sys.wake(i(r,"data")):this.manager.start(h,i(r,"data"));var p=i(r,"onStart",null),x=i(r,"onStartScope",this.scene);return p&&p.call(x,this.scene,n,l),this.systems.events.emit(a.TRANSITION_OUT,n,l),!0},checkValidTransition:function(r){return!(!r||r.sys.isActive()||r.sys.isTransitioning()||r===this.scene||this.systems.isTransitioning())},step:function(r,h){this._elapsed+=h,this.transitionProgress=o(this._elapsed/this._duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.transitionProgress),this._elapsed>=this._duration&&this.transitionComplete()},transitionComplete:function(){var r=this._target.sys,h=this._target.sys.settings;r.events.emit(a.TRANSITION_COMPLETE,this.scene),h.isTransition=!1,h.transitionFrom=null,this._duration=0,this._target=null,this._onUpdate=null,this._onUpdateScope=null,this._willRemove?this.manager.remove(this.key):this._willSleep?this.systems.sleep():this.manager.stop(this.key)},add:function(r,h,n,l){return this.manager.add(r,h,n,l)},launch:function(r,h){return r&&r!==this.key&&this.manager.queueOp("start",r,h),this},run:function(r,h){return r&&r!==this.key&&this.manager.queueOp("run",r,h),this},pause:function(r,h){return r===void 0&&(r=this.key),this.manager.queueOp("pause",r,h),this},resume:function(r,h){return r===void 0&&(r=this.key),this.manager.queueOp("resume",r,h),this},sleep:function(r,h){return r===void 0&&(r=this.key),this.manager.queueOp("sleep",r,h),this},wake:function(r,h){return r===void 0&&(r=this.key),this.manager.queueOp("wake",r,h),this},switch:function(r){return r!==this.key&&this.manager.queueOp("switch",this.key,r),this},stop:function(r,h){return r===void 0&&(r=this.key),this.manager.queueOp("stop",r,h),this},setActive:function(r,h,n){h===void 0&&(h=this.key);var l=this.manager.getScene(h);return l&&l.sys.setActive(r,n),this},setVisible:function(r,h){h===void 0&&(h=this.key);var n=this.manager.getScene(h);return n&&n.sys.setVisible(r),this},isSleeping:function(r){return r===void 0&&(r=this.key),this.manager.isSleeping(r)},isActive:function(r){return r===void 0&&(r=this.key),this.manager.isActive(r)},isPaused:function(r){return r===void 0&&(r=this.key),this.manager.isPaused(r)},isVisible:function(r){return r===void 0&&(r=this.key),this.manager.isVisible(r)},swapPosition:function(r,h){return h===void 0&&(h=this.key),r!==h&&this.manager.swapPosition(r,h),this},moveAbove:function(r,h){return h===void 0&&(h=this.key),r!==h&&this.manager.moveAbove(r,h),this},moveBelow:function(r,h){return h===void 0&&(h=this.key),r!==h&&this.manager.moveBelow(r,h),this},remove:function(r){return r===void 0&&(r=this.key),this.manager.remove(r),this},moveUp:function(r){return r===void 0&&(r=this.key),this.manager.moveUp(r),this},moveDown:function(r){return r===void 0&&(r=this.key),this.manager.moveDown(r),this},bringToTop:function(r){return r===void 0&&(r=this.key),this.manager.bringToTop(r),this},sendToBack:function(r){return r===void 0&&(r=this.key),this.manager.sendToBack(r),this},get:function(r){return this.manager.getScene(r)},getStatus:function(r){var h=this.manager.getScene(r);if(h)return h.sys.getStatus()},getIndex:function(r){return r===void 0&&(r=this.key),this.manager.getIndex(r)},shutdown:function(){var r=this.systems.events;r.off(a.SHUTDOWN,this.shutdown,this),r.off(a.TRANSITION_OUT)},destroy:function(){this.shutdown(),this.scene.sys.events.off(a.START,this.start,this),this.scene=null,this.systems=null,this.settings=null,this.manager=null}});s.register("ScenePlugin",e,"scenePlugin"),c.exports=e},55681:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(89993),v=t(35154),a=t(46975),i=t(87033),s={create:function(e){return typeof e=="string"?e={key:e}:e===void 0&&(e={}),{status:o.PENDING,key:v(e,"key",""),active:v(e,"active",!1),visible:v(e,"visible",!0),isBooted:!1,isTransition:!1,transitionFrom:null,transitionDuration:0,transitionAllowInput:!0,data:{},pack:v(e,"pack",!1),cameras:v(e,"cameras",null),map:v(e,"map",a(i,v(e,"mapAdd",{}))),physics:v(e,"physics",{}),loader:v(e,"loader",{}),plugins:v(e,"plugins",!1),input:v(e,"input",{})}}};c.exports=s},2368:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(89993),a=t(42363),i=t(44594),s=t(27397),e=t(52106),r=t(29747),h=t(55681),n=new o({initialize:function(f,u){this.scene=f,this.game,this.renderer,this.config=u,this.settings=h.create(u),this.canvas,this.context,this.anims,this.cache,this.plugins,this.registry,this.scale,this.sound,this.textures,this.add,this.cameras,this.displayList,this.events,this.make,this.scenePlugin,this.updateList,this.sceneUpdate=r},init:function(l){this.settings.status=v.INIT,this.sceneUpdate=r,this.game=l,this.renderer=l.renderer,this.canvas=l.canvas,this.context=l.context;var f=l.plugins;this.plugins=f,f.addToScene(this,a.Global,[a.CoreScene,e(this),s(this)]),this.events.emit(i.BOOT,this),this.settings.isBooted=!0},step:function(l,f){var u=this.events;u.emit(i.PRE_UPDATE,l,f),u.emit(i.UPDATE,l,f),this.sceneUpdate.call(this.scene,l,f),u.emit(i.POST_UPDATE,l,f)},render:function(l){var f=this.displayList;f.depthSort(),this.events.emit(i.PRE_RENDER,l),this.cameras.render(l,f),this.events.emit(i.RENDER,l)},queueDepthSort:function(){this.displayList.queueDepthSort()},depthSort:function(){this.displayList.depthSort()},pause:function(l){var f=this.settings,u=this.getStatus();return u!==v.CREATING&&u!==v.RUNNING?console.warn("Cannot pause non-running Scene",f.key):this.settings.active&&(f.status=v.PAUSED,f.active=!1,this.events.emit(i.PAUSE,this,l)),this},resume:function(l){var f=this.events,u=this.settings;return this.settings.active||(u.status=v.RUNNING,u.active=!0,f.emit(i.RESUME,this,l)),this},sleep:function(l){var f=this.settings,u=this.getStatus();return u!==v.CREATING&&u!==v.RUNNING?console.warn("Cannot sleep non-running Scene",f.key):(f.status=v.SLEEPING,f.active=!1,f.visible=!1,this.events.emit(i.SLEEP,this,l)),this},wake:function(l){var f=this.events,u=this.settings;return u.status=v.RUNNING,u.active=!0,u.visible=!0,f.emit(i.WAKE,this,l),u.isTransition&&f.emit(i.TRANSITION_WAKE,u.transitionFrom,u.transitionDuration),this},getData:function(){return this.settings.data},getStatus:function(){return this.settings.status},canInput:function(){var l=this.settings.status;return l>v.PENDING&&l<=v.RUNNING},isSleeping:function(){return this.settings.status===v.SLEEPING},isActive:function(){return this.settings.status===v.RUNNING},isPaused:function(){return this.settings.status===v.PAUSED},isTransitioning:function(){return this.settings.isTransition||this.scenePlugin._target!==null},isTransitionOut:function(){return this.scenePlugin._target!==null&&this.scenePlugin._duration>0},isTransitionIn:function(){return this.settings.isTransition},isVisible:function(){return this.settings.visible},setVisible:function(l){return this.settings.visible=l,this},setActive:function(l,f){return l?this.resume(f):this.pause(f)},start:function(l){var f=this.events,u=this.settings;l&&(u.data=l),u.status=v.START,u.active=!0,u.visible=!0,f.emit(i.START,this),f.emit(i.READY,this,l)},shutdown:function(l){var f=this.events,u=this.settings;f.off(i.TRANSITION_INIT),f.off(i.TRANSITION_START),f.off(i.TRANSITION_COMPLETE),f.off(i.TRANSITION_OUT),u.status=v.SHUTDOWN,u.active=!1,u.visible=!1,f.emit(i.SHUTDOWN,this,l)},destroy:function(){var l=this.events,f=this.settings;f.status=v.DESTROYED,f.active=!1,f.visible=!1,l.emit(i.DESTROY,this),l.removeAllListeners();for(var u=["scene","game","anims","cache","plugins","registry","sound","textures","add","camera","displayList","events","make","scenePlugin","updateList"],d=0;d<u.length;d++)this[u[d]]=null}});c.exports=n},89993:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g={PENDING:0,INIT:1,START:2,LOADING:3,CREATING:4,RUNNING:5,PAUSED:6,SLEEPING:7,SHUTDOWN:8,DESTROYED:9};c.exports=g},69830:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="addedtoscene"},7919:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="boot"},46763:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="create"},11763:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="destroy"},71555:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pause"},36735:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="postupdate"},3809:c=>{/**
 * @author       samme
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="prerender"},90716:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="preupdate"},58262:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="ready"},91633:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="removedfromscene"},10319:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="render"},87132:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="resume"},81961:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="shutdown"},90194:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="sleep"},6265:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="start"},33178:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="transitioncomplete"},43063:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="transitioninit"},11259:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="transitionout"},61611:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="transitionstart"},45209:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="transitionwake"},22966:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="update"},21747:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="wake"},44594:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={ADDED_TO_SCENE:t(69830),BOOT:t(7919),CREATE:t(46763),DESTROY:t(11763),PAUSE:t(71555),POST_UPDATE:t(36735),PRE_RENDER:t(3809),PRE_UPDATE:t(90716),READY:t(58262),REMOVED_FROM_SCENE:t(91633),RENDER:t(10319),RESUME:t(87132),SHUTDOWN:t(81961),SLEEP:t(90194),START:t(6265),TRANSITION_COMPLETE:t(33178),TRANSITION_INIT:t(43063),TRANSITION_OUT:t(11259),TRANSITION_START:t(61611),TRANSITION_WAKE:t(45209),UPDATE:t(22966),WAKE:t(21747)}},62194:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(89993),v=t(79291),a={Events:t(44594),GetPhysicsPlugins:t(27397),GetScenePlugins:t(52106),SceneManager:t(60903),ScenePlugin:t(52209),Settings:t(55681),Systems:t(2368)};a=v(!1,a,o),c.exports=a},30341:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(50792),a=t(14463),i=t(79291),s=t(29747),e=new o({Extends:v,initialize:function(h,n,l){v.call(this),this.manager=h,this.key=n,this.isPlaying=!1,this.isPaused=!1,this.totalRate=1,this.duration=this.duration||0,this.totalDuration=this.totalDuration||0,this.config={mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0},this.currentConfig=this.config,this.config=i(this.config,l),this.markers={},this.currentMarker=null,this.pendingRemove=!1},addMarker:function(r){return!r||!r.name||typeof r.name!="string"?!1:this.markers[r.name]?(console.error("addMarker "+r.name+" already exists in Sound"),!1):(r=i(!0,{name:"",start:0,duration:this.totalDuration-(r.start||0),config:{mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0}},r),this.markers[r.name]=r,!0)},updateMarker:function(r){return!r||!r.name||typeof r.name!="string"?!1:this.markers[r.name]?(this.markers[r.name]=i(!0,this.markers[r.name],r),!0):(console.warn("Audio Marker: "+r.name+" missing in Sound: "+this.key),!1)},removeMarker:function(r){var h=this.markers[r];return h?(this.markers[r]=null,h):null},play:function(r,h){if(r===void 0&&(r=""),typeof r=="object"&&(h=r,r=""),typeof r!="string")return!1;if(!r)this.currentMarker=null,this.currentConfig=this.config,this.duration=this.totalDuration;else{if(!this.markers[r])return console.warn("Marker: "+r+" missing in Sound: "+this.key),!1;this.currentMarker=this.markers[r],this.currentConfig=this.currentMarker.config,this.duration=this.currentMarker.duration}return this.resetConfig(),this.currentConfig=i(this.currentConfig,h),this.isPlaying=!0,this.isPaused=!1,!0},pause:function(){return this.isPaused||!this.isPlaying?!1:(this.isPlaying=!1,this.isPaused=!0,!0)},resume:function(){return!this.isPaused||this.isPlaying?!1:(this.isPlaying=!0,this.isPaused=!1,!0)},stop:function(){return!this.isPaused&&!this.isPlaying?!1:(this.isPlaying=!1,this.isPaused=!1,this.resetConfig(),!0)},applyConfig:function(){this.mute=this.currentConfig.mute,this.volume=this.currentConfig.volume,this.rate=this.currentConfig.rate,this.detune=this.currentConfig.detune,this.loop=this.currentConfig.loop,this.pan=this.currentConfig.pan},resetConfig:function(){this.currentConfig.seek=0,this.currentConfig.delay=0},update:s,calculateRate:function(){var r=1.0005777895065548,h=this.currentConfig.detune+this.manager.detune,n=Math.pow(r,h);this.totalRate=this.currentConfig.rate*this.manager.rate*n},destroy:function(){this.pendingRemove||(this.stop(),this.emit(a.DESTROY,this),this.removeAllListeners(),this.pendingRemove=!0,this.manager=null,this.config=null,this.currentConfig=null,this.markers=null,this.currentMarker=null)}});c.exports=e},85034:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(41786),a=t(50792),i=t(14463),s=t(8443),e=t(46710),r=t(58731),h=t(29747),n=t(26099),l=new o({Extends:a,initialize:function(u){a.call(this),this.game=u,this.jsonCache=u.cache.json,this.sounds=[],this.mute=!1,this.volume=1,this.pauseOnBlur=!0,this._rate=1,this._detune=0,this.locked=this.locked||!1,this.unlocked=!1,this.gameLostFocus=!1,this.listenerPosition=new n,u.events.on(s.BLUR,this.onGameBlur,this),u.events.on(s.FOCUS,this.onGameFocus,this),u.events.on(s.PRE_STEP,this.update,this),u.events.once(s.DESTROY,this.destroy,this)},add:h,addAudioSprite:function(f,u){u===void 0&&(u={});var d=this.add(f,u);d.spritemap=this.jsonCache.get(f).spritemap;for(var p in d.spritemap)if(d.spritemap.hasOwnProperty(p)){var x=v(u),E=d.spritemap[p];x.loop=E.hasOwnProperty("loop")?E.loop:!1,d.addMarker({name:p,start:E.start,duration:E.end-E.start,config:x})}return d},get:function(f){return r(this.sounds,"key",f)},getAll:function(f){return f?e(this.sounds,"key",f):e(this.sounds)},getAllPlaying:function(){return e(this.sounds,"isPlaying",!0)},play:function(f,u){var d=this.add(f);return d.once(i.COMPLETE,d.destroy,d),u?u.name?(d.addMarker(u),d.play(u.name)):d.play(u):d.play()},playAudioSprite:function(f,u,d){var p=this.addAudioSprite(f);return p.once(i.COMPLETE,p.destroy,p),p.play(u,d)},remove:function(f){var u=this.sounds.indexOf(f);return u!==-1?(f.destroy(),this.sounds.splice(u,1),!0):!1},removeAll:function(){this.sounds.forEach(function(f){f.destroy()}),this.sounds.length=0},removeByKey:function(f){for(var u=0,d=this.sounds.length-1;d>=0;d--){var p=this.sounds[d];p.key===f&&(p.destroy(),this.sounds.splice(d,1),u++)}return u},pauseAll:function(){this.forEachActiveSound(function(f){f.pause()}),this.emit(i.PAUSE_ALL,this)},resumeAll:function(){this.forEachActiveSound(function(f){f.resume()}),this.emit(i.RESUME_ALL,this)},setListenerPosition:h,stopAll:function(){this.forEachActiveSound(function(f){f.stop()}),this.emit(i.STOP_ALL,this)},stopByKey:function(f){var u=0;return this.getAll(f).forEach(function(d){d.stop()&&u++}),u},unlock:h,onBlur:h,onFocus:h,onGameBlur:function(){this.gameLostFocus=!0,this.pauseOnBlur&&this.onBlur()},onGameFocus:function(){this.gameLostFocus=!1,this.pauseOnBlur&&this.onFocus()},update:function(f,u){this.unlocked&&(this.unlocked=!1,this.locked=!1,this.emit(i.UNLOCKED,this));for(var d=this.sounds.length-1;d>=0;d--)this.sounds[d].pendingRemove&&this.sounds.splice(d,1);this.sounds.forEach(function(p){p.update(f,u)})},destroy:function(){this.game.events.off(s.BLUR,this.onGameBlur,this),this.game.events.off(s.FOCUS,this.onGameFocus,this),this.game.events.off(s.PRE_STEP,this.update,this),this.removeAllListeners(),this.removeAll(),this.sounds.length=0,this.sounds=null,this.listenerPosition=null,this.game=null},forEachActiveSound:function(f,u){var d=this;this.sounds.forEach(function(p,x){p&&!p.pendingRemove&&f.call(u||d,p,x,d.sounds)})},setRate:function(f){return this.rate=f,this},rate:{get:function(){return this._rate},set:function(f){this._rate=f,this.forEachActiveSound(function(u){u.calculateRate()}),this.emit(i.GLOBAL_RATE,this,f)}},setDetune:function(f){return this.detune=f,this},detune:{get:function(){return this._detune},set:function(f){this._detune=f,this.forEachActiveSound(function(u){u.calculateRate()}),this.emit(i.GLOBAL_DETUNE,this,f)}}});c.exports=l},14747:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(33684),v=t(25960),a=t(57490),i={create:function(s){var e=s.config.audio,r=s.device.audio;return e.noAudio||!r.webAudio&&!r.audioData?new v(s):r.webAudio&&!e.disableWebAudio?new a(s):new o(s)}};c.exports=i},19723:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="complete"},98882:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="decodedall"},57506:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="decoded"},73146:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="destroy"},11305:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="detune"},40577:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="detune"},30333:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="mute"},20394:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="rate"},21802:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="volume"},1299:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="looped"},99190:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="loop"},97125:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="mute"},89259:c=>{/**
 * @author       pi-kei
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pan"},79986:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pauseall"},17586:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pause"},19618:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="play"},42306:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="rate"},10387:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="resumeall"},48959:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="resume"},9960:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="seek"},19180:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="stopall"},98328:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="stop"},50401:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="unlocked"},52498:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="volume"},14463:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={COMPLETE:t(19723),DECODED:t(57506),DECODED_ALL:t(98882),DESTROY:t(73146),DETUNE:t(11305),GLOBAL_DETUNE:t(40577),GLOBAL_MUTE:t(30333),GLOBAL_RATE:t(20394),GLOBAL_VOLUME:t(21802),LOOP:t(99190),LOOPED:t(1299),MUTE:t(97125),PAN:t(89259),PAUSE_ALL:t(79986),PAUSE:t(17586),PLAY:t(19618),RATE:t(42306),RESUME_ALL:t(10387),RESUME:t(48959),SEEK:t(9960),STOP_ALL:t(19180),STOP:t(98328),UNLOCKED:t(50401),VOLUME:t(52498)}},64895:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(30341),v=t(83419),a=t(14463),i=t(45319),s=new v({Extends:o,initialize:function(r,h,n){if(n===void 0&&(n={}),this.tags=r.game.cache.audio.get(h),!this.tags)throw new Error('No cached audio asset with key "'+h);this.audio=null,this.startTime=0,this.previousTime=0,this.duration=this.tags[0].duration,this.totalDuration=this.tags[0].duration,o.call(this,r,h,n)},play:function(e,r){return this.manager.isLocked(this,"play",[e,r])||!o.prototype.play.call(this,e,r)||!this.pickAndPlayAudioTag()?!1:(this.emit(a.PLAY,this),!0)},pause:function(){return this.manager.isLocked(this,"pause")||this.startTime>0||!o.prototype.pause.call(this)?!1:(this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0),this.stopAndReleaseAudioTag(),this.emit(a.PAUSE,this),!0)},resume:function(){return this.manager.isLocked(this,"resume")||this.startTime>0||!o.prototype.resume.call(this)||!this.pickAndPlayAudioTag()?!1:(this.emit(a.RESUME,this),!0)},stop:function(){return this.manager.isLocked(this,"stop")||!o.prototype.stop.call(this)?!1:(this.stopAndReleaseAudioTag(),this.emit(a.STOP,this),!0)},pickAndPlayAudioTag:function(){if(!this.pickAudioTag())return this.reset(),!1;var e=this.currentConfig.seek,r=this.currentConfig.delay,h=(this.currentMarker?this.currentMarker.start:0)+e;return this.previousTime=h,this.audio.currentTime=h,this.applyConfig(),r===0?(this.startTime=0,this.audio.paused&&this.playCatchPromise()):(this.startTime=window.performance.now()+r*1e3,this.audio.paused||this.audio.pause()),this.resetConfig(),!0},pickAudioTag:function(){if(this.audio)return!0;for(var e=0;e<this.tags.length;e++){var r=this.tags[e];if(r.dataset.used==="false")return r.dataset.used="true",this.audio=r,!0}if(!this.manager.override)return!1;var h=[];this.manager.forEachActiveSound(function(l){l.key===this.key&&l.audio&&h.push(l)},this),h.sort(function(l,f){return l.loop===f.loop?f.seek/f.duration-l.seek/l.duration:l.loop?1:-1});var n=h[0];return this.audio=n.audio,n.reset(),n.audio=null,n.startTime=0,n.previousTime=0,!0},playCatchPromise:function(){var e=this.audio.play();e&&e.catch(function(r){console.warn(r)})},stopAndReleaseAudioTag:function(){this.startTime=0,this.previousTime=0,this.audio&&(this.audio.pause(),this.audio.dataset.used="false",this.audio=null)},reset:function(){o.prototype.stop.call(this)},onBlur:function(){this.isPlaying=!1,this.isPaused=!0,this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0),this.currentConfig.delay=Math.max(0,(this.startTime-window.performance.now())/1e3),this.stopAndReleaseAudioTag()},onFocus:function(){this.isPlaying=!0,this.isPaused=!1,this.pickAndPlayAudioTag()},update:function(e){if(this.isPlaying){if(this.startTime>0){this.startTime<e-this.manager.audioPlayDelay&&(this.audio.currentTime+=Math.max(0,e-this.startTime)/1e3,this.startTime=0,this.previousTime=this.audio.currentTime,this.playCatchPromise());return}var r=this.currentMarker?this.currentMarker.start:0,h=r+this.duration,n=this.audio.currentTime;if(this.currentConfig.loop)n>=h-this.manager.loopEndOffset?(this.audio.currentTime=r+Math.max(0,n-h),n=this.audio.currentTime):n<r&&(this.audio.currentTime+=r,n=this.audio.currentTime),n<this.previousTime&&this.emit(a.LOOPED,this);else if(n>=h){this.reset(),this.stopAndReleaseAudioTag(),this.emit(a.COMPLETE,this);return}this.previousTime=n}},destroy:function(){o.prototype.destroy.call(this),this.tags=null,this.audio&&this.stopAndReleaseAudioTag()},updateMute:function(){this.audio&&(this.audio.muted=this.currentConfig.mute||this.manager.mute)},updateVolume:function(){this.audio&&(this.audio.volume=i(this.currentConfig.volume*this.manager.volume,0,1))},calculateRate:function(){o.prototype.calculateRate.call(this),this.audio&&(this.audio.playbackRate=this.totalRate)},mute:{get:function(){return this.currentConfig.mute},set:function(e){this.currentConfig.mute=e,!this.manager.isLocked(this,"mute",e)&&(this.updateMute(),this.emit(a.MUTE,this,e))}},setMute:function(e){return this.mute=e,this},volume:{get:function(){return this.currentConfig.volume},set:function(e){this.currentConfig.volume=e,!this.manager.isLocked(this,"volume",e)&&(this.updateVolume(),this.emit(a.VOLUME,this,e))}},setVolume:function(e){return this.volume=e,this},rate:{get:function(){return this.currentConfig.rate},set:function(e){this.currentConfig.rate=e,!this.manager.isLocked(this,a.RATE,e)&&(this.calculateRate(),this.emit(a.RATE,this,e))}},setRate:function(e){return this.rate=e,this},detune:{get:function(){return this.currentConfig.detune},set:function(e){this.currentConfig.detune=e,!this.manager.isLocked(this,a.DETUNE,e)&&(this.calculateRate(),this.emit(a.DETUNE,this,e))}},setDetune:function(e){return this.detune=e,this},seek:{get:function(){return this.isPlaying?this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0):this.isPaused?this.currentConfig.seek:0},set:function(e){this.manager.isLocked(this,"seek",e)||this.startTime>0||(this.isPlaying||this.isPaused)&&(e=Math.min(Math.max(0,e),this.duration),this.isPlaying?(this.previousTime=e,this.audio.currentTime=e):this.isPaused&&(this.currentConfig.seek=e),this.emit(a.SEEK,this,e))}},setSeek:function(e){return this.seek=e,this},loop:{get:function(){return this.currentConfig.loop},set:function(e){this.currentConfig.loop=e,!this.manager.isLocked(this,"loop",e)&&(this.audio&&(this.audio.loop=e),this.emit(a.LOOP,this,e))}},setLoop:function(e){return this.loop=e,this},pan:{get:function(){return this.currentConfig.pan},set:function(e){this.currentConfig.pan=e,this.emit(a.PAN,this,e)}},setPan:function(e){return this.pan=e,this}});c.exports=s},33684:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(85034),v=t(83419),a=t(14463),i=t(64895),s=new v({Extends:o,initialize:function(r){this.override=!0,this.audioPlayDelay=.1,this.loopEndOffset=.05,this.onBlurPausedSounds=[],this.locked="ontouchstart"in window,this.lockedActionsQueue=this.locked?[]:null,this._mute=!1,this._volume=1,o.call(this,r)},add:function(e,r){var h=new i(this,e,r);return this.sounds.push(h),h},unlock:function(){this.locked=!1;var e=this;if(this.game.cache.audio.entries.each(function(l,f){for(var u=0;u<f.length;u++)if(f[u].dataset.locked==="true")return e.locked=!0,!1;return!0}),!!this.locked){var r=!1,h=function(){r=!0},n=function(){if(r){r=!1;return}document.body.removeEventListener("touchmove",h),document.body.removeEventListener("touchend",n);var l=[];if(e.game.cache.audio.entries.each(function(u,d){for(var p=0;p<d.length;p++){var x=d[p];x.dataset.locked==="true"&&l.push(x)}return!0}),l.length!==0){var f=l[l.length-1];f.oncanplaythrough=function(){f.oncanplaythrough=null,l.forEach(function(u){u.dataset.locked="false"}),e.unlocked=!0},l.forEach(function(u){u.load()})}};this.once(a.UNLOCKED,function(){for(this.forEachActiveSound(function(f){f.currentMarker===null&&f.duration===0&&(f.duration=f.tags[0].duration),f.totalDuration=f.tags[0].duration});this.lockedActionsQueue.length;){var l=this.lockedActionsQueue.shift();l.sound[l.prop].apply?l.sound[l.prop].apply(l.sound,l.value||[]):l.sound[l.prop]=l.value}},this),document.body.addEventListener("touchmove",h,!1),document.body.addEventListener("touchend",n,!1)}},onBlur:function(){this.forEachActiveSound(function(e){e.isPlaying&&(this.onBlurPausedSounds.push(e),e.onBlur())})},onFocus:function(){this.onBlurPausedSounds.forEach(function(e){e.onFocus()}),this.onBlurPausedSounds.length=0},destroy:function(){o.prototype.destroy.call(this),this.onBlurPausedSounds.length=0,this.onBlurPausedSounds=null},isLocked:function(e,r,h){return e.tags[0].dataset.locked==="true"?(this.lockedActionsQueue.push({sound:e,prop:r,value:h}),!0):!1},setMute:function(e){return this.mute=e,this},mute:{get:function(){return this._mute},set:function(e){this._mute=e,this.forEachActiveSound(function(r){r.updateMute()}),this.emit(a.GLOBAL_MUTE,this,e)}},setVolume:function(e){return this.volume=e,this},volume:{get:function(){return this._volume},set:function(e){this._volume=e,this.forEachActiveSound(function(r){r.updateVolume()}),this.emit(a.GLOBAL_VOLUME,this,e)}}});c.exports=s},23717:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={SoundManagerCreator:t(14747),Events:t(14463),BaseSound:t(30341),BaseSoundManager:t(85034),WebAudioSound:t(71741),WebAudioSoundManager:t(57490),HTML5AudioSound:t(64895),HTML5AudioSoundManager:t(33684),NoAudioSound:t(4603),NoAudioSoundManager:t(25960)}},4603:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(30341),v=t(83419),a=t(50792),i=t(79291),s=t(29747),e=function(){return!1},r=function(){return null},h=function(){return this},n=new v({Extends:a,initialize:function(f,u,d){d===void 0&&(d={}),a.call(this),this.manager=f,this.key=u,this.isPlaying=!1,this.isPaused=!1,this.totalRate=1,this.duration=0,this.totalDuration=0,this.config=i({mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0},d),this.currentConfig=this.config,this.mute=!1,this.volume=1,this.rate=1,this.detune=0,this.seek=0,this.loop=!1,this.pan=0,this.markers={},this.currentMarker=null,this.pendingRemove=!1},addMarker:e,updateMarker:e,removeMarker:r,play:e,pause:e,resume:e,stop:e,setMute:h,setVolume:h,setRate:h,setDetune:h,setSeek:h,setLoop:h,setPan:h,applyConfig:r,resetConfig:r,update:s,calculateRate:r,destroy:function(){o.prototype.destroy.call(this)}});c.exports=n},25960:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(85034),v=t(83419),a=t(50792),i=t(4603),s=t(29747),e=new v({Extends:a,initialize:function(h){a.call(this),this.game=h,this.sounds=[],this.mute=!1,this.volume=1,this.rate=1,this.detune=0,this.pauseOnBlur=!0,this.locked=!1},add:function(r,h){var n=new i(this,r,h);return this.sounds.push(n),n},addAudioSprite:function(r,h){var n=this.add(r,h);return n.spritemap={},n},get:function(r){return o.prototype.get.call(this,r)},getAll:function(r){return o.prototype.getAll.call(this,r)},play:function(r,h){return!1},playAudioSprite:function(r,h,n){return!1},remove:function(r){return o.prototype.remove.call(this,r)},removeAll:function(){return o.prototype.removeAll.call(this)},removeByKey:function(r){return o.prototype.removeByKey.call(this,r)},stopByKey:function(r){return o.prototype.stopByKey.call(this,r)},onBlur:s,onFocus:s,onGameBlur:s,onGameFocus:s,pauseAll:s,resumeAll:s,stopAll:s,update:s,setRate:s,setDetune:s,setMute:s,setVolume:s,unlock:s,forEachActiveSound:function(r,h){o.prototype.forEachActiveSound.call(this,r,h)},destroy:function(){o.prototype.destroy.call(this)}});c.exports=e},71741:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(30341),v=t(83419),a=t(14463),i=t(95540),s=new v({Extends:o,initialize:function(r,h,n){if(n===void 0&&(n={}),this.audioBuffer=r.game.cache.audio.get(h),!this.audioBuffer)throw new Error('Audio key "'+h+'" missing from cache');this.source=null,this.loopSource=null,this.muteNode=r.context.createGain(),this.volumeNode=r.context.createGain(),this.pannerNode=null,this.spatialNode=null,this.spatialSource=null,this.playTime=0,this.startTime=0,this.loopTime=0,this.rateUpdates=[],this.hasEnded=!1,this.hasLooped=!1,this.muteNode.connect(this.volumeNode),r.context.createPanner&&(this.spatialNode=r.context.createPanner(),this.volumeNode.connect(this.spatialNode)),r.context.createStereoPanner?(this.pannerNode=r.context.createStereoPanner(),r.context.createPanner?this.spatialNode.connect(this.pannerNode):this.volumeNode.connect(this.pannerNode),this.pannerNode.connect(r.destination)):r.context.createPanner?this.spatialNode.connect(r.destination):this.volumeNode.connect(r.destination),this.duration=this.audioBuffer.duration,this.totalDuration=this.audioBuffer.duration,o.call(this,r,h,n)},play:function(e,r){return o.prototype.play.call(this,e,r)?(this.stopAndRemoveBufferSource(),this.createAndStartBufferSource(),this.emit(a.PLAY,this),!0):!1},pause:function(){return this.manager.context.currentTime<this.startTime||!o.prototype.pause.call(this)?!1:(this.currentConfig.seek=this.getCurrentTime(),this.stopAndRemoveBufferSource(),this.emit(a.PAUSE,this),!0)},resume:function(){return this.manager.context.currentTime<this.startTime||!o.prototype.resume.call(this)?!1:(this.createAndStartBufferSource(),this.emit(a.RESUME,this),!0)},stop:function(){return o.prototype.stop.call(this)?(this.stopAndRemoveBufferSource(),this.emit(a.STOP,this),!0):!1},createAndStartBufferSource:function(){var e=this.currentConfig.seek,r=this.currentConfig.delay,h=this.manager.context.currentTime+r,n=(this.currentMarker?this.currentMarker.start:0)+e,l=this.duration-e;this.playTime=h-e,this.startTime=h,this.source=this.createBufferSource(),this.applyConfig(),this.source.start(Math.max(0,h),Math.max(0,n),Math.max(0,l)),this.resetConfig()},createAndStartLoopBufferSource:function(){var e=this.getLoopTime(),r=this.currentMarker?this.currentMarker.start:0,h=this.duration;this.loopTime=e,this.loopSource=this.createBufferSource(),this.loopSource.playbackRate.setValueAtTime(this.totalRate,0),this.loopSource.start(Math.max(0,e),Math.max(0,r),Math.max(0,h))},createBufferSource:function(){var e=this,r=this.manager.context.createBufferSource();return r.buffer=this.audioBuffer,r.connect(this.muteNode),r.onended=function(h){h.target===e.source&&(e.currentConfig.loop?e.hasLooped=!0:e.hasEnded=!0)},r},stopAndRemoveBufferSource:function(){if(this.source){var e=this.source;this.source=null,e.stop(),e.disconnect()}this.playTime=0,this.startTime=0,this.hasEnded=!1,this.stopAndRemoveLoopBufferSource()},stopAndRemoveLoopBufferSource:function(){this.loopSource&&(this.loopSource.stop(),this.loopSource.disconnect(),this.loopSource=null),this.loopTime=0},applyConfig:function(){this.rateUpdates.length=0,this.rateUpdates.push({time:0,rate:1});var e=this.currentConfig.source;if(e&&this.manager.context.createPanner){var r=this.spatialNode;r.panningModel=i(e,"panningModel","equalpower"),r.distanceModel=i(e,"distanceModel","inverse"),r.orientationX.value=i(e,"orientationX",0),r.orientationY.value=i(e,"orientationY",0),r.orientationZ.value=i(e,"orientationZ",-1),r.refDistance=i(e,"refDistance",1),r.maxDistance=i(e,"maxDistance",1e4),r.rolloffFactor=i(e,"rolloffFactor",1),r.coneInnerAngle=i(e,"coneInnerAngle",360),r.coneOuterAngle=i(e,"coneOuterAngle",0),r.coneOuterGain=i(e,"coneOuterGain",0),this.spatialSource=i(e,"follow",null),this.spatialSource||(r.positionX.value=i(e,"x",0),r.positionY.value=i(e,"y",0),r.positionZ.value=i(e,"z",0))}o.prototype.applyConfig.call(this)},x:{get:function(){return this.spatialNode?this.spatialNode.positionX:0},set:function(e){this.spatialNode&&(this.spatialNode.positionX.value=e)}},y:{get:function(){return this.spatialNode?this.spatialNode.positionY:0},set:function(e){this.spatialNode&&(this.spatialNode.positionY.value=e)}},update:function(){if(this.isPlaying&&this.spatialSource){var e=i(this.spatialSource,"x",null),r=i(this.spatialSource,"y",null);e&&e!==this._spatialx&&(this._spatialx=this.spatialNode.positionX.value=e),r&&r!==this._spatialy&&(this._spatialy=this.spatialNode.positionY.value=r)}this.hasEnded?(o.prototype.stop.call(this),this.stopAndRemoveBufferSource(),this.emit(a.COMPLETE,this)):this.hasLooped&&(this.hasLooped=!1,this.source=this.loopSource,this.loopSource=null,this.playTime=this.startTime=this.loopTime,this.rateUpdates.length=0,this.rateUpdates.push({time:0,rate:this.totalRate}),this.createAndStartLoopBufferSource(),this.emit(a.LOOPED,this))},destroy:function(){this.pendingRemove||(o.prototype.destroy.call(this),this.audioBuffer=null,this.stopAndRemoveBufferSource(),this.muteNode.disconnect(),this.muteNode=null,this.volumeNode.disconnect(),this.volumeNode=null,this.pannerNode&&(this.pannerNode.disconnect(),this.pannerNode=null),this.spatialNode&&(this.spatialNode.disconnect(),this.spatialNode=null,this.spatialSource=null),this.rateUpdates.length=0,this.rateUpdates=null)},calculateRate:function(){o.prototype.calculateRate.call(this);var e=this.manager.context.currentTime;this.source&&typeof this.totalRate=="number"&&this.source.playbackRate.setValueAtTime(this.totalRate,e),this.isPlaying&&(this.rateUpdates.push({time:Math.max(this.startTime,e)-this.playTime,rate:this.totalRate}),this.loopSource&&(this.stopAndRemoveLoopBufferSource(),this.createAndStartLoopBufferSource()))},getCurrentTime:function(){for(var e=0,r=0;r<this.rateUpdates.length;r++){var h=0;r<this.rateUpdates.length-1?h=this.rateUpdates[r+1].time:h=this.manager.context.currentTime-this.playTime,e+=(h-this.rateUpdates[r].time)*this.rateUpdates[r].rate}return e},getLoopTime:function(){for(var e=0,r=0;r<this.rateUpdates.length-1;r++)e+=(this.rateUpdates[r+1].time-this.rateUpdates[r].time)*this.rateUpdates[r].rate;var h=this.rateUpdates[this.rateUpdates.length-1];return this.playTime+h.time+(this.duration-e)/h.rate},rate:{get:function(){return this.currentConfig.rate},set:function(e){this.currentConfig.rate=e,this.calculateRate(),this.emit(a.RATE,this,e)}},setRate:function(e){return this.rate=e,this},detune:{get:function(){return this.currentConfig.detune},set:function(e){this.currentConfig.detune=e,this.calculateRate(),this.emit(a.DETUNE,this,e)}},setDetune:function(e){return this.detune=e,this},mute:{get:function(){return this.muteNode.gain.value===0},set:function(e){this.currentConfig.mute=e,this.muteNode.gain.setValueAtTime(e?0:1,0),this.emit(a.MUTE,this,e)}},setMute:function(e){return this.mute=e,this},volume:{get:function(){return this.volumeNode.gain.value},set:function(e){this.currentConfig.volume=e,this.volumeNode.gain.setValueAtTime(e,0),this.emit(a.VOLUME,this,e)}},setVolume:function(e){return this.volume=e,this},seek:{get:function(){return this.isPlaying?this.manager.context.currentTime<this.startTime?this.startTime-this.playTime:this.getCurrentTime():this.isPaused?this.currentConfig.seek:0},set:function(e){this.manager.context.currentTime<this.startTime||(this.isPlaying||this.isPaused)&&(e=Math.min(Math.max(0,e),this.duration),this.currentConfig.seek=e,this.isPlaying&&(this.stopAndRemoveBufferSource(),this.createAndStartBufferSource()),this.emit(a.SEEK,this,e))}},setSeek:function(e){return this.seek=e,this},loop:{get:function(){return this.currentConfig.loop},set:function(e){this.currentConfig.loop=e,this.isPlaying&&(this.stopAndRemoveLoopBufferSource(),e&&this.createAndStartLoopBufferSource()),this.emit(a.LOOP,this,e)}},setLoop:function(e){return this.loop=e,this},pan:{get:function(){return this.pannerNode?this.pannerNode.pan.value:0},set:function(e){this.currentConfig.pan=e,this.pannerNode&&this.pannerNode.pan.setValueAtTime(e,this.manager.context.currentTime),this.emit(a.PAN,this,e)}},setPan:function(e){return this.pan=e,this}});c.exports=s},57490:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(53134),v=t(85034),a=t(83419),i=t(14463),s=t(8443),e=t(71741),r=t(95540),h=new a({Extends:v,initialize:function(l){this.context=this.createAudioContext(l),this.masterMuteNode=this.context.createGain(),this.masterVolumeNode=this.context.createGain(),this.masterMuteNode.connect(this.masterVolumeNode),this.masterVolumeNode.connect(this.context.destination),this.destination=this.masterMuteNode,this.locked=this.context.state==="suspended"&&("ontouchstart"in window||"onclick"in window),v.call(this,l),this.locked&&l.isBooted?this.unlock():l.events.once(s.BOOT,this.unlock,this)},createAudioContext:function(n){var l=n.config.audio;if(l.context)return l.context.resume(),l.context;if(window.hasOwnProperty("AudioContext"))return new AudioContext;if(window.hasOwnProperty("webkitAudioContext"))return new window.webkitAudioContext},setAudioContext:function(n){return this.context&&this.context.close(),this.masterMuteNode&&this.masterMuteNode.disconnect(),this.masterVolumeNode&&this.masterVolumeNode.disconnect(),this.context=n,this.masterMuteNode=n.createGain(),this.masterVolumeNode=n.createGain(),this.masterMuteNode.connect(this.masterVolumeNode),this.masterVolumeNode.connect(n.destination),this.destination=this.masterMuteNode,this},add:function(n,l){var f=new e(this,n,l);return this.sounds.push(f),f},decodeAudio:function(n,l){var f;Array.isArray(n)?f=n:f=[{key:n,data:l}];for(var u=this.game.cache.audio,d=f.length,p=0;p<f.length;p++){var x=f[p],E=x.key,T=x.data;typeof T=="string"&&(T=o(T));var C=(function(M,R){u.add(M,R),this.emit(i.DECODED,M),d--,d===0&&this.emit(i.DECODED_ALL)}).bind(this,E),A=(function(M,R){console.error("Error decoding audio: "+M+" - ",R?R.message:""),d--,d===0&&this.emit(i.DECODED_ALL)}).bind(this,E);this.context.decodeAudioData(T,C,A)}},setListenerPosition:function(n,l){return n===void 0&&(n=this.game.scale.width/2),l===void 0&&(l=this.game.scale.height/2),this.listenerPosition.set(n,l),this},unlock:function(){var n=this,l=document.body,f=function u(){if(n.context&&l){var d=l.removeEventListener.bind(l);n.context.resume().then(function(){d("touchstart",u),d("touchend",u),d("click",u),d("keydown",u),n.unlocked=!0},function(){d("touchstart",u),d("touchend",u),d("click",u),d("keydown",u)})}};l&&(l.addEventListener("touchstart",f,!1),l.addEventListener("touchend",f,!1),l.addEventListener("click",f,!1),l.addEventListener("keydown",f,!1))},onBlur:function(){this.locked||this.context.suspend()},onFocus:function(){var n=this.context;n&&!this.locked&&(n.state==="suspended"||n.state==="interrupted")&&n.resume()},update:function(n,l){var f=this.context.listener;if(f&&f.positionX!==void 0){var u=r(this.listenerPosition,"x",null),d=r(this.listenerPosition,"y",null);u&&u!==this._spatialx&&(this._spatialx=f.positionX.value=u),d&&d!==this._spatialy&&(this._spatialy=f.positionY.value=d)}v.prototype.update.call(this,n,l),this.gameLostFocus||this.onFocus()},destroy:function(){if(this.destination=null,this.masterVolumeNode.disconnect(),this.masterVolumeNode=null,this.masterMuteNode.disconnect(),this.masterMuteNode=null,this.game.config.audio.context)this.context.suspend();else{var n=this;this.context.close().then(function(){n.context=null})}v.prototype.destroy.call(this)},setMute:function(n){return this.mute=n,this},mute:{get:function(){return this.masterMuteNode.gain.value===0},set:function(n){this.masterMuteNode.gain.setValueAtTime(n?0:1,0),this.emit(i.GLOBAL_MUTE,this,n)}},setVolume:function(n){return this.volume=n,this},volume:{get:function(){return this.masterVolumeNode.gain.value},set:function(n){this.masterVolumeNode.gain.setValueAtTime(n,0),this.emit(i.GLOBAL_VOLUME,this,n)}}});c.exports=h},73162:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(37105),v=t(83419),a=t(29747),i=t(19186),s=new v({initialize:function(r){this.parent=r,this.list=[],this.position=0,this.addCallback=a,this.removeCallback=a,this._sortKey=""},add:function(e,r){return r?o.Add(this.list,e):o.Add(this.list,e,0,this.addCallback,this)},addAt:function(e,r,h){return h?o.AddAt(this.list,e,r):o.AddAt(this.list,e,r,0,this.addCallback,this)},getAt:function(e){return this.list[e]},getIndex:function(e){return this.list.indexOf(e)},sort:function(e,r){return e?(r===void 0&&(r=function(h,n){return h[e]-n[e]}),i(this.list,r),this):this},getByName:function(e){return o.GetFirst(this.list,"name",e)},getRandom:function(e,r){return o.GetRandom(this.list,e,r)},getFirst:function(e,r,h,n){return o.GetFirst(this.list,e,r,h,n)},getAll:function(e,r,h,n){return o.GetAll(this.list,e,r,h,n)},count:function(e,r){return o.CountAllMatching(this.list,e,r)},swap:function(e,r){o.Swap(this.list,e,r)},moveTo:function(e,r){return o.MoveTo(this.list,e,r)},moveAbove:function(e,r){return o.MoveAbove(this.list,e,r)},moveBelow:function(e,r){return o.MoveBelow(this.list,e,r)},remove:function(e,r){return r?o.Remove(this.list,e):o.Remove(this.list,e,this.removeCallback,this)},removeAt:function(e,r){return r?o.RemoveAt(this.list,e):o.RemoveAt(this.list,e,this.removeCallback,this)},removeBetween:function(e,r,h){return h?o.RemoveBetween(this.list,e,r):o.RemoveBetween(this.list,e,r,this.removeCallback,this)},removeAll:function(e){for(var r=this.list.length;r--;)this.remove(this.list[r],e);return this},bringToTop:function(e){return o.BringToTop(this.list,e)},sendToBack:function(e){return o.SendToBack(this.list,e)},moveUp:function(e){return o.MoveUp(this.list,e),e},moveDown:function(e){return o.MoveDown(this.list,e),e},reverse:function(){return this.list.reverse(),this},shuffle:function(){return o.Shuffle(this.list),this},replace:function(e,r){return o.Replace(this.list,e,r)},exists:function(e){return this.list.indexOf(e)>-1},setAll:function(e,r,h,n){return o.SetAll(this.list,e,r,h,n),this},each:function(e,r){for(var h=[null],n=2;n<arguments.length;n++)h.push(arguments[n]);for(n=0;n<this.list.length;n++)h[0]=this.list[n],e.apply(r,h)},shutdown:function(){this.removeAll(),this.list=[]},destroy:function(){this.removeAll(),this.parent=null,this.addCallback=null,this.removeCallback=null},length:{get:function(){return this.list.length}},first:{get:function(){return this.position=0,this.list.length>0?this.list[0]:null}},last:{get:function(){return this.list.length>0?(this.position=this.list.length-1,this.list[this.position]):null}},next:{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}},previous:{get:function(){return this.position>0?(this.position--,this.list[this.position]):null}}});c.exports=s},90330:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=new o({initialize:function(i){this.entries={},this.size=0,this.setAll(i)},setAll:function(a){if(Array.isArray(a))for(var i=0;i<a.length;i++)this.set(a[i][0],a[i][1]);return this},set:function(a,i){return this.has(a)||this.size++,this.entries[a]=i,this},get:function(a){if(this.has(a))return this.entries[a]},getArray:function(){var a=[],i=this.entries;for(var s in i)a.push(i[s]);return a},has:function(a){return this.entries.hasOwnProperty(a)},delete:function(a){return this.has(a)&&(delete this.entries[a],this.size--),this},clear:function(){return Object.keys(this.entries).forEach(function(a){delete this.entries[a]},this),this.size=0,this},keys:function(){return Object.keys(this.entries)},values:function(){var a=[],i=this.entries;for(var s in i)a.push(i[s]);return a},dump:function(){var a=this.entries;console.group("Map");for(var i in a)console.log(i,a[i]);console.groupEnd()},each:function(a){var i=this.entries;for(var s in i)if(a(s,i[s])===!1)break;return this},contains:function(a){var i=this.entries;for(var s in i)if(i[s]===a)return!0;return!1},merge:function(a,i){i===void 0&&(i=!1);var s=this.entries,e=a.entries;for(var r in e)s.hasOwnProperty(r)&&i?s[r]=e[r]:this.set(r,e[r]);return this}});c.exports=v},25774:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(50792),a=t(82348),i=new o({Extends:v,initialize:function(){v.call(this),this._pending=[],this._active=[],this._destroy=[],this._toProcess=0,this.checkQueue=!1},isActive:function(s){return this._active.indexOf(s)>-1},isPending:function(s){return this._toProcess>0&&this._pending.indexOf(s)>-1},isDestroying:function(s){return this._destroy.indexOf(s)>-1},add:function(s){return this.checkQueue&&this.isActive(s)&&!this.isDestroying(s)||this.isPending(s)||(this._pending.push(s),this._toProcess++),s},remove:function(s){if(this.isPending(s)){var e=this._pending,r=e.indexOf(s);r!==-1&&e.splice(r,1)}else this.isActive(s)&&(this._destroy.push(s),this._toProcess++);return s},removeAll:function(){for(var s=this._active,e=this._destroy,r=s.length;r--;)e.push(s[r]),this._toProcess++;return this},update:function(){if(this._toProcess===0)return this._active;var s=this._destroy,e=this._active,r,h;for(r=0;r<s.length;r++){h=s[r];var n=e.indexOf(h);n!==-1&&(e.splice(n,1),this.emit(a.PROCESS_QUEUE_REMOVE,h))}for(s.length=0,s=this._pending,r=0;r<s.length;r++)h=s[r],(!this.checkQueue||this.checkQueue&&e.indexOf(h)===-1)&&(e.push(h),this.emit(a.PROCESS_QUEUE_ADD,h));return s.length=0,this._toProcess=0,e},getActive:function(){return this._active},length:{get:function(){return this._active.length}},destroy:function(){this._toProcess=0,this._pending=[],this._active=[],this._destroy=[]}});c.exports=i},59542:(c,g,t)=>{/**
 * @author       Vladimir Agafonkin
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(43886);function v(T){if(!(this instanceof v))return new v(T);this._maxEntries=Math.max(4,T||9),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}v.prototype={all:function(){return this._all(this.data,[])},search:function(T){var C=this.data,A=[],M=this.toBBox;if(!p(T,C))return A;for(var R=[],O,L,b,N;C;){for(O=0,L=C.children.length;O<L;O++)b=C.children[O],N=C.leaf?M(b):b,p(T,N)&&(C.leaf?A.push(b):d(T,N)?this._all(b,A):R.push(b));C=R.pop()}return A},collides:function(T){var C=this.data,A=this.toBBox;if(!p(T,C))return!1;for(var M=[],R,O,L,b;C;){for(R=0,O=C.children.length;R<O;R++)if(L=C.children[R],b=C.leaf?A(L):L,p(T,b)){if(C.leaf||d(T,b))return!0;M.push(L)}C=M.pop()}return!1},load:function(T){if(!(T&&T.length))return this;if(T.length<this._minEntries){for(var C=0,A=T.length;C<A;C++)this.insert(T[C]);return this}var M=this._build(T.slice(),0,T.length-1,0);if(!this.data.children.length)this.data=M;else if(this.data.height===M.height)this._splitRoot(this.data,M);else{if(this.data.height<M.height){var R=this.data;this.data=M,M=R}this._insert(M,this.data.height-M.height-1,!0)}return this},insert:function(T){return T&&this._insert(T,this.data.height-1),this},clear:function(){return this.data=x([]),this},remove:function(T,C){if(!T)return this;for(var A=this.data,M=this.toBBox(T),R=[],O=[],L,b,N,I;A||R.length;){if(A||(A=R.pop(),b=R[R.length-1],L=O.pop(),I=!0),A.leaf&&(N=a(T,A.children,C),N!==-1))return A.children.splice(N,1),R.push(A),this._condense(R),this;!I&&!A.leaf&&d(A,M)?(R.push(A),O.push(L),L=0,b=A,A=A.children[0]):b?(L++,A=b.children[L],I=!1):A=null}return this},toBBox:function(T){return T},compareMinX:r,compareMinY:h,toJSON:function(){return this.data},fromJSON:function(T){return this.data=T,this},_all:function(T,C){for(var A=[];T;)T.leaf?C.push.apply(C,T.children):A.push.apply(A,T.children),T=A.pop();return C},_build:function(T,C,A,M){var R=A-C+1,O=this._maxEntries,L;if(R<=O)return L=x(T.slice(C,A+1)),i(L,this.toBBox),L;M||(M=Math.ceil(Math.log(R)/Math.log(O)),O=Math.ceil(R/Math.pow(O,M-1))),L=x([]),L.leaf=!1,L.height=M;var b=Math.ceil(R/O),N=b*Math.ceil(Math.sqrt(O)),I,G,X,$;for(E(T,C,A,N,this.compareMinX),I=C;I<=A;I+=N)for(X=Math.min(I+N-1,A),E(T,I,X,b,this.compareMinY),G=I;G<=X;G+=b)$=Math.min(G+b-1,X),L.children.push(this._build(T,G,$,M-1));return i(L,this.toBBox),L},_chooseSubtree:function(T,C,A,M){for(var R,O,L,b,N,I,G,X;M.push(C),!(C.leaf||M.length-1===A);){for(G=X=1/0,R=0,O=C.children.length;R<O;R++)L=C.children[R],N=n(L),I=f(T,L)-N,I<X?(X=I,G=N<G?N:G,b=L):I===X&&N<G&&(G=N,b=L);C=b||C.children[0]}return C},_insert:function(T,C,A){var M=this.toBBox,R=A?T:M(T),O=[],L=this._chooseSubtree(R,this.data,C,O);for(L.children.push(T),e(L,R);C>=0&&O[C].children.length>this._maxEntries;)this._split(O,C),C--;this._adjustParentBBoxes(R,O,C)},_split:function(T,C){var A=T[C],M=A.children.length,R=this._minEntries;this._chooseSplitAxis(A,R,M);var O=this._chooseSplitIndex(A,R,M),L=x(A.children.splice(O,A.children.length-O));L.height=A.height,L.leaf=A.leaf,i(A,this.toBBox),i(L,this.toBBox),C?T[C-1].children.push(L):this._splitRoot(A,L)},_splitRoot:function(T,C){this.data=x([T,C]),this.data.height=T.height+1,this.data.leaf=!1,i(this.data,this.toBBox)},_chooseSplitIndex:function(T,C,A){var M,R,O,L,b,N,I,G;for(N=I=1/0,M=C;M<=A-C;M++)R=s(T,0,M,this.toBBox),O=s(T,M,A,this.toBBox),L=u(R,O),b=n(R)+n(O),L<N?(N=L,G=M,I=b<I?b:I):L===N&&b<I&&(I=b,G=M);return G},_chooseSplitAxis:function(T,C,A){var M=T.leaf?this.compareMinX:r,R=T.leaf?this.compareMinY:h,O=this._allDistMargin(T,C,A,M),L=this._allDistMargin(T,C,A,R);O<L&&T.children.sort(M)},_allDistMargin:function(T,C,A,M){T.children.sort(M);var R=this.toBBox,O=s(T,0,C,R),L=s(T,A-C,A,R),b=l(O)+l(L),N,I;for(N=C;N<A-C;N++)I=T.children[N],e(O,T.leaf?R(I):I),b+=l(O);for(N=A-C-1;N>=C;N--)I=T.children[N],e(L,T.leaf?R(I):I),b+=l(L);return b},_adjustParentBBoxes:function(T,C,A){for(var M=A;M>=0;M--)e(C[M],T)},_condense:function(T){for(var C=T.length-1,A;C>=0;C--)T[C].children.length===0?C>0?(A=T[C-1].children,A.splice(A.indexOf(T[C]),1)):this.clear():i(T[C],this.toBBox)},compareMinX:function(T,C){return T.left-C.left},compareMinY:function(T,C){return T.top-C.top},toBBox:function(T){return{minX:T.left,minY:T.top,maxX:T.right,maxY:T.bottom}}};function a(T,C,A){if(!A)return C.indexOf(T);for(var M=0;M<C.length;M++)if(A(T,C[M]))return M;return-1}function i(T,C){s(T,0,T.children.length,C,T)}function s(T,C,A,M,R){R||(R=x(null)),R.minX=1/0,R.minY=1/0,R.maxX=-1/0,R.maxY=-1/0;for(var O=C,L;O<A;O++)L=T.children[O],e(R,T.leaf?M(L):L);return R}function e(T,C){return T.minX=Math.min(T.minX,C.minX),T.minY=Math.min(T.minY,C.minY),T.maxX=Math.max(T.maxX,C.maxX),T.maxY=Math.max(T.maxY,C.maxY),T}function r(T,C){return T.minX-C.minX}function h(T,C){return T.minY-C.minY}function n(T){return(T.maxX-T.minX)*(T.maxY-T.minY)}function l(T){return T.maxX-T.minX+(T.maxY-T.minY)}function f(T,C){return(Math.max(C.maxX,T.maxX)-Math.min(C.minX,T.minX))*(Math.max(C.maxY,T.maxY)-Math.min(C.minY,T.minY))}function u(T,C){var A=Math.max(T.minX,C.minX),M=Math.max(T.minY,C.minY),R=Math.min(T.maxX,C.maxX),O=Math.min(T.maxY,C.maxY);return Math.max(0,R-A)*Math.max(0,O-M)}function d(T,C){return T.minX<=C.minX&&T.minY<=C.minY&&C.maxX<=T.maxX&&C.maxY<=T.maxY}function p(T,C){return C.minX<=T.maxX&&C.minY<=T.maxY&&C.maxX>=T.minX&&C.maxY>=T.minY}function x(T){return{children:T,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function E(T,C,A,M,R){for(var O=[C,A],L;O.length;)A=O.pop(),C=O.pop(),!(A-C<=M)&&(L=C+Math.ceil((A-C)/M/2)*M,o(T,L,C,A,R),O.push(C,L,L,A))}c.exports=v},35072:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=new o({initialize:function(i){if(this.entries=[],Array.isArray(i))for(var s=0;s<i.length;s++)this.set(i[s])},set:function(a){return this.entries.indexOf(a)===-1&&this.entries.push(a),this},get:function(a,i){for(var s=0;s<this.entries.length;s++){var e=this.entries[s];if(e[a]===i)return e}},getArray:function(){return this.entries.slice(0)},delete:function(a){var i=this.entries.indexOf(a);return i>-1&&this.entries.splice(i,1),this},dump:function(){console.group("Set");for(var a=0;a<this.entries.length;a++){var i=this.entries[a];console.log(i)}console.groupEnd()},each:function(a,i){var s,e=this.entries.slice(),r=e.length;if(i)for(s=0;s<r&&a.call(i,e[s],s)!==!1;s++);else for(s=0;s<r&&a(e[s],s)!==!1;s++);return this},iterate:function(a,i){var s,e=this.entries.length;if(i)for(s=0;s<e&&a.call(i,this.entries[s],s)!==!1;s++);else for(s=0;s<e&&a(this.entries[s],s)!==!1;s++);return this},iterateLocal:function(a){var i,s=[];for(i=1;i<arguments.length;i++)s.push(arguments[i]);var e=this.entries.length;for(i=0;i<e;i++){var r=this.entries[i];r[a].apply(r,s)}return this},clear:function(){return this.entries.length=0,this},contains:function(a){return this.entries.indexOf(a)>-1},union:function(a){var i=new v;return a.entries.forEach(function(s){i.set(s)}),this.entries.forEach(function(s){i.set(s)}),i},intersect:function(a){var i=new v;return this.entries.forEach(function(s){a.contains(s)&&i.set(s)}),i},difference:function(a){var i=new v;return this.entries.forEach(function(s){a.contains(s)||i.set(s)}),i},size:{get:function(){return this.entries.length},set:function(a){return a<this.entries.length?this.entries.length=a:this.entries.length}}});c.exports=v},86555:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(45319),v=t(83419),a=t(56583),i=t(26099),s=new v({initialize:function(r,h,n,l){r===void 0&&(r=0),h===void 0&&(h=r),n===void 0&&(n=0),l===void 0&&(l=null),this._width=r,this._height=h,this._parent=l,this.aspectMode=n,this.aspectRatio=h===0?1:r/h,this.minWidth=0,this.minHeight=0,this.maxWidth=Number.MAX_VALUE,this.maxHeight=Number.MAX_VALUE,this.snapTo=new i},setAspectMode:function(e){return e===void 0&&(e=0),this.aspectMode=e,this.setSize(this._width,this._height)},setSnap:function(e,r){return e===void 0&&(e=0),r===void 0&&(r=e),this.snapTo.set(e,r),this.setSize(this._width,this._height)},setParent:function(e){return this._parent=e,this.setSize(this._width,this._height)},setMin:function(e,r){return e===void 0&&(e=0),r===void 0&&(r=e),this.minWidth=o(e,0,this.maxWidth),this.minHeight=o(r,0,this.maxHeight),this.setSize(this._width,this._height)},setMax:function(e,r){return e===void 0&&(e=Number.MAX_VALUE),r===void 0&&(r=e),this.maxWidth=o(e,this.minWidth,Number.MAX_VALUE),this.maxHeight=o(r,this.minHeight,Number.MAX_VALUE),this.setSize(this._width,this._height)},setSize:function(e,r){switch(e===void 0&&(e=0),r===void 0&&(r=e),this.aspectMode){case s.NONE:this._width=this.getNewWidth(a(e,this.snapTo.x)),this._height=this.getNewHeight(a(r,this.snapTo.y)),this.aspectRatio=this._height===0?1:this._width/this._height;break;case s.WIDTH_CONTROLS_HEIGHT:this._width=this.getNewWidth(a(e,this.snapTo.x)),this._height=this.getNewHeight(this._width*(1/this.aspectRatio),!1);break;case s.HEIGHT_CONTROLS_WIDTH:this._height=this.getNewHeight(a(r,this.snapTo.y)),this._width=this.getNewWidth(this._height*this.aspectRatio,!1);break;case s.FIT:this.constrain(e,r,!0);break;case s.ENVELOP:this.constrain(e,r,!1);break}return this},setAspectRatio:function(e){return this.aspectRatio=e,this.setSize(this._width,this._height)},resize:function(e,r){return this._width=this.getNewWidth(a(e,this.snapTo.x)),this._height=this.getNewHeight(a(r,this.snapTo.y)),this.aspectRatio=this._height===0?1:this._width/this._height,this},getNewWidth:function(e,r){return r===void 0&&(r=!0),e=o(e,this.minWidth,this.maxWidth),r&&this._parent&&e>this._parent.width&&(e=Math.max(this.minWidth,this._parent.width)),e},getNewHeight:function(e,r){return r===void 0&&(r=!0),e=o(e,this.minHeight,this.maxHeight),r&&this._parent&&e>this._parent.height&&(e=Math.max(this.minHeight,this._parent.height)),e},constrain:function(e,r,h){e===void 0&&(e=0),r===void 0&&(r=e),h===void 0&&(h=!0),e=this.getNewWidth(e),r=this.getNewHeight(r);var n=this.snapTo,l=r===0?1:e/r;return h&&this.aspectRatio>l||!h&&this.aspectRatio<l?(e=a(e,n.x),r=e/this.aspectRatio,n.y>0&&(r=a(r,n.y),e=r*this.aspectRatio)):(h&&this.aspectRatio<l||!h&&this.aspectRatio>l)&&(r=a(r,n.y),e=r*this.aspectRatio,n.x>0&&(e=a(e,n.x),r=e*(1/this.aspectRatio))),this._width=e,this._height=r,this},fitTo:function(e,r){return this.constrain(e,r,!0)},envelop:function(e,r){return this.constrain(e,r,!1)},setWidth:function(e){return this.setSize(e,this._height)},setHeight:function(e){return this.setSize(this._width,e)},toString:function(){return"[{ Size (width="+this._width+" height="+this._height+" aspectRatio="+this.aspectRatio+" aspectMode="+this.aspectMode+") }]"},setCSS:function(e){e&&e.style&&(e.style.width=this._width+"px",e.style.height=this._height+"px")},copy:function(e){return e.setAspectMode(this.aspectMode),e.aspectRatio=this.aspectRatio,e.setSize(this.width,this.height)},destroy:function(){this._parent=null,this.snapTo=null},width:{get:function(){return this._width},set:function(e){this.setSize(e,this._height)}},height:{get:function(){return this._height},set:function(e){this.setSize(this._width,e)}}});s.NONE=0,s.WIDTH_CONTROLS_HEIGHT=1,s.HEIGHT_CONTROLS_WIDTH=2,s.FIT=3,s.ENVELOP=4,c.exports=s},15238:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="add"},56187:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="remove"},82348:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={PROCESS_QUEUE_ADD:t(15238),PROCESS_QUEUE_REMOVE:t(56187)}},41392:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Events:t(82348),List:t(73162),Map:t(90330),ProcessQueue:t(25774),RTree:t(59542),Set:t(35072),Size:t(86555)}},57382:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(45319),a=t(40987),i=t(8054),s=t(50030),e=t(79237),r=new o({Extends:e,initialize:function(n,l,f,u,d){e.call(this,n,l,f,u,d),this.add("__BASE",0,0,0,u,d),this._source=this.frames.__BASE.source,this.canvas=this._source.image,this.context=this.canvas.getContext("2d",{willReadFrequently:!0}),this.width=u,this.height=d,this.imageData=this.context.getImageData(0,0,u,d),this.data=null,this.imageData&&(this.data=this.imageData.data),this.pixels=null,this.buffer,this.data&&(this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data)},update:function(){return this.imageData=this.context.getImageData(0,0,this.width,this.height),this.data=this.imageData.data,this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data,this.manager.game.config.renderType===i.WEBGL&&this.refresh(),this},draw:function(h,n,l,f){return f===void 0&&(f=!0),this.context.drawImage(l,h,n),f&&this.update(),this},drawFrame:function(h,n,l,f,u){l===void 0&&(l=0),f===void 0&&(f=0),u===void 0&&(u=!0);var d=this.manager.getFrame(h,n);if(d){var p=d.canvasData,x=d.cutWidth,E=d.cutHeight,T=d.source.resolution;this.context.drawImage(d.source.image,p.x,p.y,x,E,l,f,x/T,E/T),u&&this.update()}return this},setPixel:function(h,n,l,f,u,d){d===void 0&&(d=255),h=Math.abs(Math.floor(h)),n=Math.abs(Math.floor(n));var p=this.getIndex(h,n);if(p>-1){var x=this.context.getImageData(h,n,1,1);x.data[0]=l,x.data[1]=f,x.data[2]=u,x.data[3]=d,this.context.putImageData(x,h,n)}return this},putData:function(h,n,l,f,u,d,p){return f===void 0&&(f=0),u===void 0&&(u=0),d===void 0&&(d=h.width),p===void 0&&(p=h.height),this.context.putImageData(h,n,l,f,u,d,p),this},getData:function(h,n,l,f){h=v(Math.floor(h),0,this.width-1),n=v(Math.floor(n),0,this.height-1),l=v(l,1,this.width-h),f=v(f,1,this.height-n);var u=this.context.getImageData(h,n,l,f);return u},getPixel:function(h,n,l){l||(l=new a);var f=this.getIndex(h,n);if(f>-1){var u=this.data,d=u[f+0],p=u[f+1],x=u[f+2],E=u[f+3];l.setTo(d,p,x,E)}return l},getPixels:function(h,n,l,f){h===void 0&&(h=0),n===void 0&&(n=0),l===void 0&&(l=this.width),f===void 0&&(f=l),h=Math.abs(Math.round(h)),n=Math.abs(Math.round(n));for(var u=v(h,0,this.width),d=v(h+l,0,this.width),p=v(n,0,this.height),x=v(n+f,0,this.height),E=new a,T=[],C=p;C<x;C++){for(var A=[],M=u;M<d;M++)E=this.getPixel(M,C,E),A.push({x:M,y:C,color:E.color,alpha:E.alphaGL});T.push(A)}return T},getIndex:function(h,n){return h=Math.abs(Math.round(h)),n=Math.abs(Math.round(n)),h<this.width&&n<this.height?(h+n*this.width)*4:-1},refresh:function(){return this._source.update(),this},getCanvas:function(){return this.canvas},getContext:function(){return this.context},clear:function(h,n,l,f,u){return h===void 0&&(h=0),n===void 0&&(n=0),l===void 0&&(l=this.width),f===void 0&&(f=this.height),u===void 0&&(u=!0),this.context.clearRect(h,n,l,f),u&&this.update(),this},setSize:function(h,n){return n===void 0&&(n=h),(h!==this.width||n!==this.height)&&(this.canvas.width=h,this.canvas.height=n,this._source.width=h,this._source.height=n,this._source.isPowerOf2=s(h,n),this.frames.__BASE.setSize(h,n,0,0),this.width=h,this.height=n,this.refresh()),this},destroy:function(){e.prototype.destroy.call(this),this._source=null,this.canvas=null,this.context=null,this.imageData=null,this.data=null,this.pixels=null,this.buffer=null}});c.exports=r},81320:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(10312),v=t(71911),a=t(27919),i=t(83419),s=t(8054),e=t(4327),r=t(95540),h=t(36060),n=t(32302),l=t(79237),f=t(70554),u=new i({Extends:l,initialize:function(p,x,E,T){E===void 0&&(E=256),T===void 0&&(T=256),this.type="DynamicTexture";var C=p.game.renderer,A=C&&C.type===s.CANVAS,M=A?a.create2D(this,E,T):[this];l.call(this,p,x,M,E,T),this.add("__BASE",0,0,0,E,T),this.renderer=C,this.width=-1,this.height=-1,this.isDrawing=!1,this.canvas=A?M:null,this.context=A?M.getContext("2d",{willReadFrequently:!0}):null,this.dirty=!1,this.isSpriteTexture=!0,this._eraseMode=!1,this.camera=new v(0,0,E,T).setScene(p.game.scene.systemScene,!1),this.renderTarget=A?null:new n(C,E,T,1,0,!1,!0,!0,!1),this.pipeline=A?null:C.pipelines.get(h.SINGLE_PIPELINE),this.setSize(E,T)},setSize:function(d,p){p===void 0&&(p=d);var x=this.get(),E=x.source;if(d!==this.width||p!==this.height){this.canvas&&(this.canvas.width=d,this.canvas.height=p);var T=this.renderTarget;T&&(T.willResize(d,p)&&T.resize(d,p),T.texture!==E.glTexture&&this.renderer.deleteTexture(E.glTexture),this.setFromRenderTarget()),this.camera.setSize(d,p),E.width=d,E.height=p,x.setSize(d,p),this.width=d,this.height=p}else{var C=this.getSourceImage();x.cutX+d>C.width&&(d=C.width-x.cutX),x.cutY+p>C.height&&(p=C.height-x.cutY),x.setSize(d,p,x.cutX,x.cutY)}return this},setFromRenderTarget:function(){var d=this.get(),p=d.source,x=this.renderTarget;return p.isRenderTexture=!0,p.isGLTexture=!0,p.glTexture=x.texture,this},setIsSpriteTexture:function(d){return this.isSpriteTexture=d,this},fill:function(d,p,x,E,T,C){var A=this.camera,M=this.renderer;p===void 0&&(p=1),x===void 0&&(x=0),E===void 0&&(E=0),T===void 0&&(T=this.width),C===void 0&&(C=this.height);var R=d>>16&255,O=d>>8&255,L=d&255,b=this.renderTarget;if(A.preRender(),b){b.bind(!0);var N=this.pipeline.manager.set(this.pipeline),I=M.width/b.width,G=M.height/b.height,X=b.height-(E+C);N.drawFillRect(x*I,X*G,T*I,C*G,f.getTintFromFloats(L/255,O/255,R/255,1),p),b.unbind(!0)}else{var $=this.context;M.setContext($),$.globalCompositeOperation="source-over",$.fillStyle="rgba("+R+","+O+","+L+","+p+")",$.fillRect(x,E,T,C),M.setContext()}return this.dirty=!0,this},clear:function(){if(this.dirty){var d=this.context,p=this.renderTarget;p?p.clear():d&&(d.save(),d.setTransform(1,0,0,1,0,0),d.clearRect(0,0,this.width,this.height),d.restore()),this.dirty=!1}return this},stamp:function(d,p,x,E,T){x===void 0&&(x=0),E===void 0&&(E=0);var C=r(T,"alpha",1),A=r(T,"tint",16777215),M=r(T,"angle",0),R=r(T,"rotation",0),O=r(T,"scale",1),L=r(T,"scaleX",O),b=r(T,"scaleY",O),N=r(T,"originX",.5),I=r(T,"originY",.5),G=r(T,"blendMode",0),X=r(T,"erase",!1),$=r(T,"skipBatch",!1),J=this.manager.resetStamp(C,A);return J.setAngle(0),M!==0?J.setAngle(M):R!==0&&J.setRotation(R),J.setScale(L,b),J.setTexture(d,p),J.setOrigin(N,I),J.setBlendMode(G),X&&(this._eraseMode=!0),$?this.batchGameObject(J,x,E):this.draw(J,x,E),X&&(this._eraseMode=!1),this},erase:function(d,p,x){return this._eraseMode=!0,this.draw(d,p,x),this._eraseMode=!1,this},draw:function(d,p,x,E,T){return this.beginDraw(),this.batchDraw(d,p,x,E,T),this.endDraw(),this},drawFrame:function(d,p,x,E,T,C){return this.beginDraw(),this.batchDrawFrame(d,p,x,E,T,C),this.endDraw(),this},repeat:function(d,p,x,E,T,C,A,M,R){if(x===void 0&&(x=0),E===void 0&&(E=0),T===void 0&&(T=this.width),C===void 0&&(C=this.height),A===void 0&&(A=1),M===void 0&&(M=16777215),R===void 0&&(R=!1),d instanceof e?p=d:p=this.manager.getFrame(d,p),!p)return this;var O=this.manager.resetStamp(A,M);O.setFrame(p),O.setOrigin(0);var L=p.width,b=p.height;T=Math.floor(T),C=Math.floor(C);var N=Math.ceil(T/L),I=Math.ceil(C/b),G=N*L-T,X=I*b-C;G>0&&(G=L-G),X>0&&(X=b-X),x<0&&(N+=Math.ceil(Math.abs(x)/L)),E<0&&(I+=Math.ceil(Math.abs(E)/b));var $=x,J=E,z=!1,Y=this.manager.stampCrop.setTo(0,0,L,b);R||this.beginDraw();for(var D=0;D<I;D++){if(J+b<0){J+=b;continue}for(var B=0;B<N;B++){if(z=!1,$+L<0){$+=L;continue}else $<0&&(z=!0,Y.width=L+$,Y.x=L-Y.width);J<0&&(z=!0,Y.height=b+J,Y.y=b-Y.height),G>0&&B===N-1&&(z=!0,Y.width=G),X>0&&D===I-1&&(z=!0,Y.height=X),z&&O.setCrop(Y),this.batchGameObject(O,$,J),O.isCropped=!1,Y.setTo(0,0,L,b),$+=L}$=x,J+=b}return R||this.endDraw(),this},beginDraw:function(){if(!this.isDrawing){var d=this.camera,p=this.renderer,x=this.renderTarget;d.preRender(),x?p.beginCapture(x.width,x.height):p.setContext(this.context),this.isDrawing=!0}return this},batchDraw:function(d,p,x,E,T){return Array.isArray(d)||(d=[d]),this.batchList(d,p,x,E,T),this},batchDrawFrame:function(d,p,x,E,T,C){x===void 0&&(x=0),E===void 0&&(E=0),T===void 0&&(T=1),C===void 0&&(C=16777215);var A=this.manager.getFrame(d,p);return A&&(this.renderTarget?this.pipeline.batchTextureFrame(A,x,E,C,T,this.camera.matrix,null):this.batchTextureFrame(A,x,E,T,C)),this},endDraw:function(d){if(d===void 0&&(d=this._eraseMode),this.isDrawing){var p=this.renderer,x=this.renderTarget;if(x){var E=p.endCapture(),T=p.pipelines.setUtility();T.blitFrame(E,x,1,!1,!1,d,this.isSpriteTexture),p.resetScissor(),p.resetViewport()}else p.setContext();this.dirty=!0,this.isDrawing=!1}return this},batchList:function(d,p,x,E,T){var C=d.length;if(C!==0)for(var A=0;A<C;A++){var M=d[A];!M||M===this||(M.renderWebGL||M.renderCanvas?this.batchGameObject(M,p,x):M.isParent||M.list?this.batchGroup(M.getChildren(),p,x):typeof M=="string"?this.batchTextureFrameKey(M,null,p,x,E,T):M instanceof e?this.batchTextureFrame(M,p,x,E,T):Array.isArray(M)&&this.batchList(M,p,x,E,T))}},batchGroup:function(d,p,x){p===void 0&&(p=0),x===void 0&&(x=0);for(var E=0;E<d.length;E++){var T=d[E];T.willRender(this.camera)&&this.batchGameObject(T,T.x+p,T.y+x)}},batchGameObject:function(d,p,x){p===void 0&&(p=d.x),x===void 0&&(x=d.y);var E=d.x,T=d.y,C=this.camera,A=this.renderer,M=this._eraseMode,R=d.mask;if(d.setPosition(p,x),this.canvas){if(M){var O=d.blendMode;d.blendMode=o.ERASE}R&&R.preRenderCanvas(A,d,C),d.renderCanvas(A,d,C,null),R&&R.postRenderCanvas(A,d,C),M&&(d.blendMode=O)}else A&&(R&&R.preRenderWebGL(A,d,C),M||A.setBlendMode(d.blendMode),d.renderWebGL(A,d,C),R&&R.postRenderWebGL(A,C,this.renderTarget));d.setPosition(E,T)},batchTextureFrameKey:function(d,p,x,E,T,C){var A=this.manager.getFrame(d,p);A&&this.batchTextureFrame(A,x,E,T,C)},batchTextureFrame:function(d,p,x,E,T){p===void 0&&(p=0),x===void 0&&(x=0),E===void 0&&(E=1),T===void 0&&(T=16777215);var C=this.camera.matrix,A=this.renderTarget;if(A)this.pipeline.batchTextureFrame(d,p,x,T,E,C,null);else{var M=this.context,R=d.canvasData,O=d.source.image;M.save(),M.globalCompositeOperation=this._eraseMode?"destination-out":"source-over",M.globalAlpha=E,C.setToContext(M),R.width>0&&R.height>0&&M.drawImage(O,R.x,R.y,R.width,R.height,p,x,R.width,R.height),M.restore()}},snapshotArea:function(d,p,x,E,T,C,A){return this.renderTarget?this.renderer.snapshotFramebuffer(this.renderTarget.framebuffer,this.width,this.height,T,!1,d,p,x,E,C,A):this.renderer.snapshotCanvas(this.canvas,T,!1,d,p,x,E,C,A),this},snapshot:function(d,p,x){return this.snapshotArea(0,0,this.width,this.height,d,p,x)},snapshotPixel:function(d,p,x){return this.snapshotArea(d,p,1,1,x,"pixel")},getWebGLTexture:function(){if(this.renderTarget)return this.renderTarget.texture},renderWebGL:function(d,p,x,E){var T=this.manager.resetStamp();T.setTexture(this),T.setOrigin(0),T.renderWebGL(d,T,x,E)},renderCanvas:function(){},destroy:function(){var d=this.manager.stamp;d&&d.texture===this&&this.manager.resetStamp(),l.prototype.destroy.call(this),a.remove(this.canvas),this.renderTarget&&this.renderTarget.destroy(),this.camera.destroy(),this.canvas=null,this.context=null,this.renderer=null}});c.exports=u},4327:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(45319),a=t(79291),i=new o({initialize:function(e,r,h,n,l,f,u){this.texture=e,this.name=r,this.source=e.source[h],this.sourceIndex=h,this.cutX,this.cutY,this.cutWidth,this.cutHeight,this.x=0,this.y=0,this.width,this.height,this.halfWidth,this.halfHeight,this.centerX,this.centerY,this.pivotX=0,this.pivotY=0,this.customPivot=!1,this.rotated=!1,this.autoRound=-1,this.customData={},this.u0=0,this.v0=0,this.u1=0,this.v1=0,this.data={cut:{x:0,y:0,w:0,h:0,r:0,b:0},trim:!1,sourceSize:{w:0,h:0},spriteSourceSize:{x:0,y:0,w:0,h:0,r:0,b:0},radius:0,drawImage:{x:0,y:0,width:0,height:0},is3Slice:!1,scale9:!1,scale9Borders:{x:0,y:0,w:0,h:0}},this.setSize(f,u,n,l)},setSize:function(s,e,r,h){r===void 0&&(r=0),h===void 0&&(h=0),this.cutX=r,this.cutY=h,this.cutWidth=s,this.cutHeight=e,this.width=s,this.height=e,this.halfWidth=Math.floor(s*.5),this.halfHeight=Math.floor(e*.5),this.centerX=Math.floor(s/2),this.centerY=Math.floor(e/2);var n=this.data,l=n.cut;l.x=r,l.y=h,l.w=s,l.h=e,l.r=r+s,l.b=h+e,n.sourceSize.w=s,n.sourceSize.h=e,n.spriteSourceSize.w=s,n.spriteSourceSize.h=e,n.radius=.5*Math.sqrt(s*s+e*e);var f=n.drawImage;return f.x=r,f.y=h,f.width=s,f.height=e,this.updateUVs()},setTrim:function(s,e,r,h,n,l){var f=this.data,u=f.spriteSourceSize;return f.trim=!0,f.sourceSize.w=s,f.sourceSize.h=e,u.x=r,u.y=h,u.w=n,u.h=l,u.r=r+n,u.b=h+l,this.x=r,this.y=h,this.width=n,this.height=l,this.halfWidth=n*.5,this.halfHeight=l*.5,this.centerX=Math.floor(n/2),this.centerY=Math.floor(l/2),this.updateUVs()},setScale9:function(s,e,r,h){var n=this.data;return n.scale9=!0,n.is3Slice=e===0&&h===this.height,n.scale9Borders.x=s,n.scale9Borders.y=e,n.scale9Borders.w=r,n.scale9Borders.h=h,this},setCropUVs:function(s,e,r,h,n,l,f){var u=this.cutX,d=this.cutY,p=this.cutWidth,x=this.cutHeight,E=this.realWidth,T=this.realHeight;e=v(e,0,E),r=v(r,0,T),h=v(h,0,E-e),n=v(n,0,T-r);var C=u+e,A=d+r,M=h,R=n,O=this.data;if(O.trim){var L=O.spriteSourceSize;h=v(h,0,p-e),n=v(n,0,x-r);var b=e+h,N=r+n,I=!(L.r<e||L.b<r||L.x>b||L.y>N);if(I){var G=Math.max(L.x,e),X=Math.max(L.y,r),$=Math.min(L.r,b)-G,J=Math.min(L.b,N)-X;M=$,R=J,l?C=u+(p-(G-L.x)-$):C=u+(G-L.x),f?A=d+(x-(X-L.y)-J):A=d+(X-L.y),e=G,r=X,h=$,n=J}else C=0,A=0,M=0,R=0}else l&&(C=u+(p-e-h)),f&&(A=d+(x-r-n));var z=this.source.width,Y=this.source.height;return s.u0=Math.max(0,C/z),s.v0=Math.max(0,A/Y),s.u1=Math.min(1,(C+M)/z),s.v1=Math.min(1,(A+R)/Y),s.x=e,s.y=r,s.cx=C,s.cy=A,s.cw=M,s.ch=R,s.width=h,s.height=n,s.flipX=l,s.flipY=f,s},updateCropUVs:function(s,e,r){return this.setCropUVs(s,s.x,s.y,s.width,s.height,e,r)},setUVs:function(s,e,r,h,n,l){var f=this.data.drawImage;return f.width=s,f.height=e,this.u0=r,this.v0=h,this.u1=n,this.v1=l,this},updateUVs:function(){var s=this.cutX,e=this.cutY,r=this.cutWidth,h=this.cutHeight,n=this.data.drawImage;n.width=r,n.height=h;var l=this.source.width,f=this.source.height;return this.u0=s/l,this.v0=e/f,this.u1=(s+r)/l,this.v1=(e+h)/f,this},updateUVsInverted:function(){var s=this.source.width,e=this.source.height;return this.u0=(this.cutX+this.cutHeight)/s,this.v0=this.cutY/e,this.u1=this.cutX/s,this.v1=(this.cutY+this.cutWidth)/e,this},clone:function(){var s=new i(this.texture,this.name,this.sourceIndex);return s.cutX=this.cutX,s.cutY=this.cutY,s.cutWidth=this.cutWidth,s.cutHeight=this.cutHeight,s.x=this.x,s.y=this.y,s.width=this.width,s.height=this.height,s.halfWidth=this.halfWidth,s.halfHeight=this.halfHeight,s.centerX=this.centerX,s.centerY=this.centerY,s.rotated=this.rotated,s.data=a(!0,s.data,this.data),s.updateUVs(),s},destroy:function(){this.texture=null,this.source=null,this.customData=null,this.data=null},glTexture:{get:function(){return this.source.glTexture}},realWidth:{get:function(){return this.data.sourceSize.w}},realHeight:{get:function(){return this.data.sourceSize.h}},radius:{get:function(){return this.data.radius}},trimmed:{get:function(){return this.data.trim}},scale9:{get:function(){return this.data.scale9}},is3Slice:{get:function(){return this.data.is3Slice}},canvasData:{get:function(){return this.data.drawImage}}});c.exports=i},79237:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(4327),a=t(11876),i='Texture "%s" has no frame "%s"',s=new o({initialize:function(r,h,n,l,f){Array.isArray(n)||(n=[n]),this.manager=r,this.key=h,this.source=[],this.dataSource=[],this.frames={},this.customData={},this.firstFrame="__BASE",this.frameTotal=0;for(var u=0;u<n.length;u++)this.source.push(new a(this,n[u],l,f))},add:function(e,r,h,n,l,f){if(this.has(e))return null;var u=new v(this,e,r,h,n,l,f);return this.frames[e]=u,this.firstFrame==="__BASE"&&(this.firstFrame=e),this.frameTotal++,u},remove:function(e){if(this.has(e)){var r=this.get(e);return r.destroy(),delete this.frames[e],!0}return!1},has:function(e){return this.frames.hasOwnProperty(e)},get:function(e){e||(e=this.firstFrame);var r=this.frames[e];return r||(console.warn(i,this.key,e),r=this.frames[this.firstFrame]),r},getTextureSourceIndex:function(e){for(var r=0;r<this.source.length;r++)if(this.source[r]===e)return r;return-1},getFramesFromTextureSource:function(e,r){r===void 0&&(r=!1);var h=[];for(var n in this.frames)if(!(n==="__BASE"&&!r)){var l=this.frames[n];l.sourceIndex===e&&h.push(l)}return h},getFrameBounds:function(e){e===void 0&&(e=0);for(var r=this.getFramesFromTextureSource(e),h=1/0,n=1/0,l=0,f=0,u=0;u<r.length;u++){var d=r[u];d.cutX<h&&(h=d.cutX),d.cutY<n&&(n=d.cutY),d.cutX+d.cutWidth>l&&(l=d.cutX+d.cutWidth),d.cutY+d.cutHeight>f&&(f=d.cutY+d.cutHeight)}return{x:h,y:n,width:l-h,height:f-n}},getFrameNames:function(e){e===void 0&&(e=!1);var r=Object.keys(this.frames);if(!e){var h=r.indexOf("__BASE");h!==-1&&r.splice(h,1)}return r},getSourceImage:function(e){(e==null||this.frameTotal===1)&&(e="__BASE");var r=this.frames[e];return r?r.source.image:(console.warn(i,this.key,e),this.frames.__BASE.source.image)},getDataSourceImage:function(e){(e==null||this.frameTotal===1)&&(e="__BASE");var r=this.frames[e],h;return r?h=r.sourceIndex:(console.warn(i,this.key,e),h=this.frames.__BASE.sourceIndex),this.dataSource[h].image},setDataSource:function(e){Array.isArray(e)||(e=[e]);for(var r=0;r<e.length;r++){var h=this.source[r];this.dataSource.push(new a(this,e[r],h.width,h.height))}},setFilter:function(e){var r;for(r=0;r<this.source.length;r++)this.source[r].setFilter(e);for(r=0;r<this.dataSource.length;r++)this.dataSource[r].setFilter(e)},destroy:function(){var e,r=this.source,h=this.dataSource;for(e=0;e<r.length;e++)r[e]&&r[e].destroy();for(e=0;e<h.length;e++)h[e]&&h[e].destroy();for(var n in this.frames){var l=this.frames[n];l&&l.destroy()}this.source=[],this.dataSource=[],this.frames={},this.manager.removeKey(this.key),this.manager=null}});c.exports=s},17130:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(27919),v=t(57382),a=t(83419),i=t(40987),s=t(8054),e=t(81320),r=t(50792),h=t(69442),n=t(4327),l=t(8443),f=t(99584),u=t(35154),d=t(88571),p=t(41212),x=t(61309),E=t(87841),T=t(79237),C=new a({Extends:r,initialize:function(M){r.call(this),this.game=M,this.name="TextureManager",this.list={},this._tempCanvas=o.create2D(this),this._tempContext=this._tempCanvas.getContext("2d",{willReadFrequently:!0}),this._pending=0,this.stamp,this.stampCrop=new E,this.silentWarnings=!1,M.events.once(l.BOOT,this.boot,this)},boot:function(){this._pending=3,this.on(h.LOAD,this.updatePending,this),this.on(h.ERROR,this.updatePending,this);var A=this.game.config;this.addBase64("__DEFAULT",A.defaultImage),this.addBase64("__MISSING",A.missingImage),this.addBase64("__WHITE",A.whiteImage),this.game.renderer&&this.game.renderer.gl&&this.addUint8Array("__NORMAL",new Uint8Array([127,127,255,255]),1,1),this.game.events.once(l.DESTROY,this.destroy,this),this.game.events.once(l.SYSTEM_READY,function(M){this.stamp=new d(M).setOrigin(0)},this)},updatePending:function(){this._pending--,this._pending===0&&(this.off(h.LOAD),this.off(h.ERROR),this.emit(h.READY))},checkKey:function(A){return this.exists(A)?(this.silentWarnings||console.error("Texture key already in use: "+A),!1):!0},remove:function(A){if(typeof A=="string")if(this.exists(A))A=this.get(A);else return this.silentWarnings||console.warn("No texture found matching key: "+A),this;var M=A.key;return this.list.hasOwnProperty(M)&&(A.destroy(),this.emit(h.REMOVE,M),this.emit(h.REMOVE_KEY+M)),this},removeKey:function(A){return this.list.hasOwnProperty(A)&&delete this.list[A],this},addBase64:function(A,M){if(this.checkKey(A)){var R=this,O=new Image;O.onerror=function(){R.emit(h.ERROR,A)},O.onload=function(){var L=R.create(A,O);x.Image(L,0),R.emit(h.ADD,A,L),R.emit(h.ADD_KEY+A,L),R.emit(h.LOAD,A,L)},O.src=M}return this},getBase64:function(A,M,R,O){R===void 0&&(R="image/png"),O===void 0&&(O=.92);var L="",b=this.getFrame(A,M);if(b&&(b.source.isRenderTexture||b.source.isGLTexture))this.silentWarnings||console.warn("Cannot getBase64 from WebGL Texture");else if(b){var N=b.canvasData,I=o.create2D(this,N.width,N.height),G=I.getContext("2d",{willReadFrequently:!0});N.width>0&&N.height>0&&G.drawImage(b.source.image,N.x,N.y,N.width,N.height,0,0,N.width,N.height),L=I.toDataURL(R,O),o.remove(I)}return L},addImage:function(A,M,R){var O=null;return this.checkKey(A)&&(O=this.create(A,M),x.Image(O,0),R&&O.setDataSource(R),this.emit(h.ADD,A,O),this.emit(h.ADD_KEY+A,O)),O},addGLTexture:function(A,M){var R=null;if(this.checkKey(A)){var O=M.width,L=M.height;R=this.create(A,M,O,L),R.add("__BASE",0,0,0,O,L),this.emit(h.ADD,A,R),this.emit(h.ADD_KEY+A,R)}return R},addCompressedTexture:function(A,M,R){var O=null;if(this.checkKey(A)){if(O=this.create(A,M),O.add("__BASE",0,0,0,M.width,M.height),R){var L=function(N,I,G){Array.isArray(G.textures)||Array.isArray(G.frames)?x.JSONArray(N,I,G):x.JSONHash(N,I,G)};if(Array.isArray(R))for(var b=0;b<R.length;b++)L(O,b,R[b]);else L(O,0,R)}this.emit(h.ADD,A,O),this.emit(h.ADD_KEY+A,O)}return O},addRenderTexture:function(A,M){var R=null;return this.checkKey(A)&&(R=this.create(A,M),R.add("__BASE",0,0,0,M.width,M.height),this.emit(h.ADD,A,R),this.emit(h.ADD_KEY+A,R)),R},generate:function(A,M){if(this.checkKey(A)){var R=o.create(this,1,1);return M.canvas=R,f(M),this.addCanvas(A,R)}else return null},createCanvas:function(A,M,R){if(M===void 0&&(M=256),R===void 0&&(R=256),this.checkKey(A)){var O=o.create(this,M,R,s.CANVAS,!0);return this.addCanvas(A,O)}return null},addCanvas:function(A,M,R){R===void 0&&(R=!1);var O=null;return R?O=new v(this,A,M,M.width,M.height):this.checkKey(A)&&(O=new v(this,A,M,M.width,M.height),this.list[A]=O,this.emit(h.ADD,A,O),this.emit(h.ADD_KEY+A,O)),O},addDynamicTexture:function(A,M,R){var O=null;return typeof A=="string"&&!this.exists(A)?O=new e(this,A,M,R):(O=A,A=O.key),this.checkKey(A)?(this.list[A]=O,this.emit(h.ADD,A,O),this.emit(h.ADD_KEY+A,O)):O=null,O},addAtlas:function(A,M,R,O){return Array.isArray(R.textures)||Array.isArray(R.frames)?this.addAtlasJSONArray(A,M,R,O):this.addAtlasJSONHash(A,M,R,O)},addAtlasJSONArray:function(A,M,R,O){var L=null;if(M instanceof T?(A=M.key,L=M):this.checkKey(A)&&(L=this.create(A,M)),L){if(Array.isArray(R))for(var b=R.length===1,N=0;N<L.source.length;N++){var I=b?R[0]:R[N];x.JSONArray(L,N,I)}else x.JSONArray(L,0,R);O&&L.setDataSource(O),this.emit(h.ADD,A,L),this.emit(h.ADD_KEY+A,L)}return L},addAtlasJSONHash:function(A,M,R,O){var L=null;if(M instanceof T?(A=M.key,L=M):this.checkKey(A)&&(L=this.create(A,M)),L){if(Array.isArray(R))for(var b=0;b<R.length;b++)x.JSONHash(L,b,R[b]);else x.JSONHash(L,0,R);O&&L.setDataSource(O),this.emit(h.ADD,A,L),this.emit(h.ADD_KEY+A,L)}return L},addAtlasXML:function(A,M,R,O){var L=null;return M instanceof T?(A=M.key,L=M):this.checkKey(A)&&(L=this.create(A,M)),L&&(x.AtlasXML(L,0,R),O&&L.setDataSource(O),this.emit(h.ADD,A,L),this.emit(h.ADD_KEY+A,L)),L},addUnityAtlas:function(A,M,R,O){var L=null;return M instanceof T?(A=M.key,L=M):this.checkKey(A)&&(L=this.create(A,M)),L&&(x.UnityYAML(L,0,R),O&&L.setDataSource(O),this.emit(h.ADD,A,L),this.emit(h.ADD_KEY+A,L)),L},addSpriteSheet:function(A,M,R,O){var L=null;if(M instanceof T?(A=M.key,L=M):this.checkKey(A)&&(L=this.create(A,M)),L){var b=L.source[0].width,N=L.source[0].height;x.SpriteSheet(L,0,0,0,b,N,R),O&&L.setDataSource(O),this.emit(h.ADD,A,L),this.emit(h.ADD_KEY+A,L)}return L},addSpriteSheetFromAtlas:function(A,M){if(!this.checkKey(A))return null;var R=u(M,"atlas",null),O=u(M,"frame",null);if(!(!R||!O)){var L=this.get(R),b=L.get(O);if(b){var N=b.source.image;N||(N=b.source.glTexture);var I=this.create(A,N);return b.trimmed?x.SpriteSheetFromAtlas(I,b,M):x.SpriteSheet(I,0,b.cutX,b.cutY,b.cutWidth,b.cutHeight,M),this.emit(h.ADD,A,I),this.emit(h.ADD_KEY+A,I),I}}},addUint8Array:function(A,M,R,O){if(!this.checkKey(A)||M.length/4!==R*O)return null;var L=this.create(A,M,R,O);return L.add("__BASE",0,0,0,R,O),this.emit(h.ADD,A,L),this.emit(h.ADD_KEY+A,L),L},create:function(A,M,R,O){var L=null;return this.checkKey(A)&&(L=new T(this,A,M,R,O),this.list[A]=L),L},exists:function(A){return this.list.hasOwnProperty(A)},get:function(A){return A===void 0&&(A="__DEFAULT"),this.list[A]?this.list[A]:A instanceof T?A:A instanceof n?A.texture:this.list.__MISSING},cloneFrame:function(A,M){if(this.list[A])return this.list[A].get(M).clone()},getFrame:function(A,M){if(this.list[A])return this.list[A].get(M)},parseFrame:function(A){if(A){if(typeof A=="string")return this.getFrame(A);if(Array.isArray(A)&&A.length===2)return this.getFrame(A[0],A[1]);if(p(A))return this.getFrame(A.key,A.frame);if(A instanceof T)return A.get();if(A instanceof n)return A}else return},getTextureKeys:function(){var A=[];for(var M in this.list)M!=="__DEFAULT"&&M!=="__MISSING"&&M!=="__WHITE"&&M!=="__NORMAL"&&A.push(M);return A},getPixel:function(A,M,R,O){var L=this.getFrame(R,O);if(L){A-=L.x,M-=L.y;var b=L.data.cut;if(A+=b.x,M+=b.y,A>=b.x&&A<b.r&&M>=b.y&&M<b.b){var N=this._tempContext;N.clearRect(0,0,1,1),N.drawImage(L.source.image,A,M,1,1,0,0,1,1);var I=N.getImageData(0,0,1,1);return new i(I.data[0],I.data[1],I.data[2],I.data[3])}}return null},getPixelAlpha:function(A,M,R,O){var L=this.getFrame(R,O);if(L){A-=L.x,M-=L.y;var b=L.data.cut;if(A+=b.x,M+=b.y,A>=b.x&&A<b.r&&M>=b.y&&M<b.b){var N=this._tempContext;N.clearRect(0,0,1,1),N.drawImage(L.source.image,A,M,1,1,0,0,1,1);var I=N.getImageData(0,0,1,1);return I.data[3]}}return null},setTexture:function(A,M,R){return this.list[M]&&(A.texture=this.list[M],A.frame=A.texture.get(R)),A},renameTexture:function(A,M){var R=this.get(A);return R&&A!==M?(R.key=M,this.list[M]=R,delete this.list[A],!0):!1},each:function(A,M){for(var R=[null],O=1;O<arguments.length;O++)R.push(arguments[O]);for(var L in this.list)R[0]=this.list[L],A.apply(M,R)},resetStamp:function(A,M){A===void 0&&(A=1),M===void 0&&(M=16777215);var R=this.stamp;return R.setCrop(),R.setPosition(0),R.setAngle(0),R.setScale(1),R.setAlpha(A),R.setTint(M),R.setTexture("__WHITE"),R},destroy:function(){for(var A in this.list)this.list[A].destroy();this.list={},this.stamp.destroy(),this.game=null,this.stamp=null,o.remove(this._tempCanvas)}});c.exports=C},11876:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(27919),v=t(83419),a=t(50030),i=t(29795),s=t(82751),e=new v({initialize:function(h,n,l,f,u){u===void 0&&(u=!1);var d=h.manager.game;this.renderer=d.renderer,this.texture=h,this.source=n,this.image=n.compressed?null:n,this.compressionAlgorithm=n.compressed?n.format:null,this.resolution=1,this.width=l||n.naturalWidth||n.videoWidth||n.width||0,this.height=f||n.naturalHeight||n.videoHeight||n.height||0,this.scaleMode=i.DEFAULT,this.isCanvas=n instanceof HTMLCanvasElement,this.isVideo=window.hasOwnProperty("HTMLVideoElement")&&n instanceof HTMLVideoElement,this.isRenderTexture=n.type==="RenderTexture"||n.type==="DynamicTexture",this.isGLTexture=n instanceof s,this.isPowerOf2=a(this.width,this.height),this.glTexture=null,this.flipY=u,this.init(d)},init:function(r){var h=this.renderer;if(h){var n=this.source;if(h.gl){var l=this.image,f=this.flipY,u=this.width,d=this.height,p=this.scaleMode;this.isCanvas?this.glTexture=h.createCanvasTexture(l,!1,f):this.isVideo?this.glTexture=h.createVideoTexture(l,!1,f):this.isRenderTexture?this.glTexture=h.createTextureFromSource(null,u,d,p):this.isGLTexture?this.glTexture=n:this.compressionAlgorithm?this.glTexture=h.createTextureFromSource(n,void 0,void 0,p):n instanceof Uint8Array?this.glTexture=h.createUint8ArrayTexture(n,u,d,p):this.glTexture=h.createTextureFromSource(l,u,d,p)}else this.isRenderTexture&&(this.image=n.canvas)}r.config.antialias||this.setFilter(1)},setFilter:function(r){this.renderer&&this.renderer.gl&&this.renderer.setTextureFilter(this.glTexture,r),this.scaleMode=r},setFlipY:function(r){return r===void 0&&(r=!0),r===this.flipY?this:(this.flipY=r,this.update(),this)},update:function(){var r=this.renderer,h=this.image,n=this.flipY,l=r.gl;l&&this.isCanvas?r.updateCanvasTexture(h,this.glTexture,n):l&&this.isVideo&&r.updateVideoTexture(h,this.glTexture,n)},destroy:function(){this.glTexture&&this.renderer.deleteTexture(this.glTexture),this.isCanvas&&o.remove(this.image),this.renderer=null,this.texture=null,this.source=null,this.image=null,this.glTexture=null}});c.exports=e},19673:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g={LINEAR:0,NEAREST:1};c.exports=g},44538:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="addtexture"},63486:c=>{/**
 * @author       samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="addtexture-"},94851:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="onerror"},29099:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="onload"},8678:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="ready"},86415:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="removetexture"},30879:c=>{/**
 * @author       samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="removetexture-"},69442:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={ADD:t(44538),ADD_KEY:t(63486),ERROR:t(94851),LOAD:t(29099),READY:t(8678),REMOVE:t(86415),REMOVE_KEY:t(30879)}},27458:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(79291),v=t(19673),a={CanvasTexture:t(57382),DynamicTexture:t(81320),Events:t(69442),FilterMode:v,Frame:t(4327),Parsers:t(61309),Texture:t(79237),TextureManager:t(17130),TextureSource:t(11876)};a=o(!1,a,v),c.exports=a},89905:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o,v){if(!v.getElementsByTagName("TextureAtlas")){console.warn("Invalid Texture Atlas XML given");return}var a=t.source[o];t.add("__BASE",o,0,0,a.width,a.height);for(var i=v.getElementsByTagName("SubTexture"),s,e=0;e<i.length;e++){var r=i[e].attributes,h=r.name.value,n=parseInt(r.x.value,10),l=parseInt(r.y.value,10),f=parseInt(r.width.value,10),u=parseInt(r.height.value,10);if(s=t.add(h,o,n,l,f,u),r.frameX){var d=Math.abs(parseInt(r.frameX.value,10)),p=Math.abs(parseInt(r.frameY.value,10)),x=parseInt(r.frameWidth.value,10),E=parseInt(r.frameHeight.value,10);s.setTrim(f,u,d,p,x,E)}}return t};c.exports=g},72893:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o){var v=t.source[o];return t.add("__BASE",o,0,0,v.width,v.height),t};c.exports=g},4832:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o){var v=t.source[o];return t.add("__BASE",o,0,0,v.width,v.height),t};c.exports=g},78566:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(41786),v=function(a,i,s){if(!s.frames&&!s.textures){console.warn("Invalid Texture Atlas JSON Array");return}var e=a.source[i];a.add("__BASE",i,0,0,e.width,e.height);for(var r=Array.isArray(s.textures)?s.textures[i].frames:s.frames,h,n=0;n<r.length;n++){var l=r[n];if(h=a.add(l.filename,i,l.frame.x,l.frame.y,l.frame.w,l.frame.h),!h){console.warn("Invalid atlas json, frame already exists: "+l.filename);continue}l.trimmed&&h.setTrim(l.sourceSize.w,l.sourceSize.h,l.spriteSourceSize.x,l.spriteSourceSize.y,l.spriteSourceSize.w,l.spriteSourceSize.h),l.rotated&&(h.rotated=!0,h.updateUVsInverted());var f=l.anchor||l.pivot;f&&(h.customPivot=!0,h.pivotX=f.x,h.pivotY=f.y),l.scale9Borders&&h.setScale9(l.scale9Borders.x,l.scale9Borders.y,l.scale9Borders.w,l.scale9Borders.h),h.customData=o(l)}for(var u in s)u!=="frames"&&(Array.isArray(s[u])?a.customData[u]=s[u].slice(0):a.customData[u]=s[u]);return a};c.exports=v},39711:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(41786),v=function(a,i,s){if(!s.frames){console.warn("Invalid Texture Atlas JSON Hash given, missing 'frames' Object");return}var e=a.source[i];a.add("__BASE",i,0,0,e.width,e.height);var r=s.frames,h;for(var n in r)if(r.hasOwnProperty(n)){var l=r[n];if(h=a.add(n,i,l.frame.x,l.frame.y,l.frame.w,l.frame.h),!h){console.warn("Invalid atlas json, frame already exists: "+n);continue}l.trimmed&&h.setTrim(l.sourceSize.w,l.sourceSize.h,l.spriteSourceSize.x,l.spriteSourceSize.y,l.spriteSourceSize.w,l.spriteSourceSize.h),l.rotated&&(h.rotated=!0,h.updateUVsInverted());var f=l.anchor||l.pivot;f&&(h.customPivot=!0,h.pivotX=f.x,h.pivotY=f.y),l.scale9Borders&&h.setScale9(l.scale9Borders.x,l.scale9Borders.y,l.scale9Borders.w,l.scale9Borders.h),h.customData=o(l)}for(var u in s)u!=="frames"&&(Array.isArray(s[u])?a.customData[u]=s[u].slice(0):a.customData[u]=s[u]);return a};c.exports=v},31403:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t){var o=[171,75,84,88,32,49,49,187,13,10,26,10],v,a=new Uint8Array(t,0,12);for(v=0;v<a.length;v++)if(a[v]!==o[v]){console.warn("KTXParser - Invalid file format");return}var i=Uint32Array.BYTES_PER_ELEMENT,s=new DataView(t,12,13*i),e=s.getUint32(0,!0)===67305985,r=s.getUint32(1*i,e);if(r!==0){console.warn("KTXParser - Only compressed formats supported");return}var h=s.getUint32(4*i,e),n=s.getUint32(6*i,e),l=s.getUint32(7*i,e),f=Math.max(1,s.getUint32(11*i,e)),u=s.getUint32(12*i,e),d=new Array(f),p=12+13*4+u,x=n,E=l;for(v=0;v<f;v++){var T=new Int32Array(t,p,1)[0];p+=4,d[v]={data:new Uint8Array(t,p,T),width:x,height:E},x=Math.max(1,x>>1),E=Math.max(1,E>>1),p+=T}return{mipmaps:d,width:n,height:l,internalFormat:h,compressed:!0,generateMipmap:!1}};c.exports=g},82038:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function g(M,R,O,L,b,N,I){return I===void 0&&(I=16),Math.floor((M+O)/b)*Math.floor((R+L)/N)*I}function t(M,R){return M=Math.max(M,16),R=Math.max(R,8),M*R/4}function o(M,R){return M=Math.max(M,8),R=Math.max(R,8),M*R/2}function v(M,R){return Math.ceil(M/4)*Math.ceil(R/4)*16}function a(M,R){return g(M,R,3,3,4,4,8)}function i(M,R){return g(M,R,3,3,4,4)}function s(M,R){return g(M,R,4,3,5,4)}function e(M,R){return g(M,R,4,4,5,5)}function r(M,R){return g(M,R,5,4,6,5)}function h(M,R){return g(M,R,5,5,6,6)}function n(M,R){return g(M,R,7,4,8,5)}function l(M,R){return g(M,R,7,5,8,6)}function f(M,R){return g(M,R,7,7,8,8)}function u(M,R){return g(M,R,9,4,10,5)}function d(M,R){return g(M,R,9,5,10,6)}function p(M,R){return g(M,R,9,7,10,8)}function x(M,R){return g(M,R,9,9,10,10)}function E(M,R){return g(M,R,11,9,12,10)}function T(M,R){return g(M,R,11,11,12,12)}var C={0:{sizeFunc:t,glFormat:[35841]},1:{sizeFunc:t,glFormat:[35843]},2:{sizeFunc:o,glFormat:[35840]},3:{sizeFunc:o,glFormat:[35842]},6:{sizeFunc:a,glFormat:[36196]},7:{sizeFunc:a,glFormat:[33776,35916]},8:{sizeFunc:i,glFormat:[33777,35917]},9:{sizeFunc:i,glFormat:[33778,35918]},11:{sizeFunc:i,glFormat:[33779,35919]},14:{sizeFunc:v,glFormat:[36494,36495]},15:{sizeFunc:v,glFormat:[36492,36493]},22:{sizeFunc:a,glFormat:[37492,37493]},23:{sizeFunc:i,glFormat:[37496,37497]},24:{sizeFunc:a,glFormat:[37494,37495]},25:{sizeFunc:a,glFormat:[37488]},26:{sizeFunc:i,glFormat:[37490]},27:{sizeFunc:i,glFormat:[37808,37840]},28:{sizeFunc:s,glFormat:[37809,37841]},29:{sizeFunc:e,glFormat:[37810,37842]},30:{sizeFunc:r,glFormat:[37811,37843]},31:{sizeFunc:h,glFormat:[37812,37844]},32:{sizeFunc:n,glFormat:[37813,37845]},33:{sizeFunc:l,glFormat:[37814,37846]},34:{sizeFunc:f,glFormat:[37815,37847]},35:{sizeFunc:u,glFormat:[37816,37848]},36:{sizeFunc:d,glFormat:[37817,37849]},37:{sizeFunc:p,glFormat:[37818,37850]},38:{sizeFunc:x,glFormat:[37819,37851]},39:{sizeFunc:E,glFormat:[37820,37852]},40:{sizeFunc:T,glFormat:[37821,37853]}},A=function(M){for(var R=new Uint32Array(M,0,13),O=R[0],L=O===55727696,b=L?R[2]:R[3],N=R[4],I=C[b].glFormat[N],G=C[b].sizeFunc,X=R[11],$=R[7],J=R[6],z=52+R[12],Y=new Uint8Array(M,z),D=new Array(X),B=0,U=$,H=J,j=0;j<X;j++){var q=G(U,H);D[j]={data:new Uint8Array(Y.buffer,Y.byteOffset+B,q),width:U,height:H},U=Math.max(1,U>>1),H=Math.max(1,H>>1),B+=q}return{mipmaps:D,width:$,height:J,internalFormat:I,compressed:!0,generateMipmap:!1}};c.exports=A},75549:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(95540),v=function(a,i,s,e,r,h,n){var l=o(n,"frameWidth",null),f=o(n,"frameHeight",l);if(l===null)throw new Error("TextureManager.SpriteSheet: Invalid frameWidth given.");var u=a.source[i];a.add("__BASE",i,0,0,u.width,u.height);var d=o(n,"startFrame",0),p=o(n,"endFrame",-1),x=o(n,"margin",0),E=o(n,"spacing",0),T=Math.floor((r-x+E)/(l+E)),C=Math.floor((h-x+E)/(f+E)),A=T*C;A===0&&console.warn("SpriteSheet frame dimensions will result in zero frames for texture:",a.key),(d>A||d<-A)&&(d=0),d<0&&(d=A+d),(p===-1||p>A||p<d)&&(p=A);for(var M=x,R=x,O=0,L=0,b=0,N=0;N<A;N++){O=0,L=0;var I=M+l,G=R+f;I>r&&(O=I-r),G>h&&(L=G-h),N>=d&&N<=p&&(a.add(b,i,s+M,e+R,l-O,f-L),b++),M+=l+E,M+l>r&&(M=x,R+=f+E)}return a};c.exports=v},47534:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(95540),v=function(a,i,s){var e=o(s,"frameWidth",null),r=o(s,"frameHeight",e);if(!e)throw new Error("TextureManager.SpriteSheetFromAtlas: Invalid frameWidth given.");var h=a.source[0];a.add("__BASE",0,0,0,h.width,h.height),o(s,"startFrame",0),o(s,"endFrame",-1);for(var n=o(s,"margin",0),l=o(s,"spacing",0),f=i.cutX,u=i.cutY,d=i.cutWidth,p=i.cutHeight,x=i.realWidth,E=i.realHeight,T=Math.floor((x-n+l)/(e+l)),C=Math.floor((E-n+l)/(r+l)),A=i.x,M=e-A,R=e-(x-d-A),O=i.y,L=r-O,b=r-(E-p-O),N,I=n,G=n,X=0,$=0,J=0;J<C;J++){for(var z=J===0,Y=J===C-1,D=0;D<T;D++){var B=D===0,U=D===T-1;if(N=a.add(X,$,f+I,u+G,e,r),B||z||U||Y){var H=B?A:0,j=z?O:0,q=0,_=0;B&&(q+=e-M),U&&(q+=e-R),z&&(_+=r-L),Y&&(_+=r-b);var st=e-q,ut=r-_;N.cutWidth=st,N.cutHeight=ut,N.setTrim(e,r,H,j,st,ut)}I+=l,B?I+=M:U?I+=R:I+=e,X++}I=n,G+=l,z?G+=L:Y?G+=b:G+=r}return a};c.exports=v},86147:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=0,t=function(v,a,i,s){var e=g-s.y-s.height;v.add(i,a,s.x,e,s.width,s.height)},o=function(v,a,i){var s=v.source[a];v.add("__BASE",a,0,0,s.width,s.height),g=s.height;for(var e=i.split(`
`),r=/^[ ]*(- )*(\w+)+[: ]+(.*)/,h="",n="",l={x:0,y:0,width:0,height:0},f=0;f<e.length;f++){var u=e[f].match(r);if(u){var d=u[1]==="- ",p=u[2],x=u[3];if(d&&(n!==h&&(t(v,a,n,l),h=n),l={x:0,y:0,width:0,height:0}),p==="name"){n=x;continue}switch(p){case"x":case"y":case"width":case"height":l[p]=parseInt(x,10);break}}}return n!==h&&t(v,a,n,l),v};c.exports=o},55222:(c,g,t)=>{/**
 * @author       Ben Richards <benjamindrichards@gmail.com>
 * @copyright    2024 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(50030),v=function(h){for(var n=h.mipmaps,l=1;l<n.length;l++){var f=n[l].width,u=n[l].height;if(!o(f,u))return console.warn("Mip level "+l+" is not a power-of-two size: "+f+"x"+u),!1}var d=r[h.internalFormat];return d?d(h):(console.warn("No format checker found for internal format "+h.internalFormat+". Assuming valid."),!0)};function a(h){for(var n=h.mipmaps,l=0;l<n.length;l++){var f=n[l].width,u=n[l].height;if((f<<l)%4!==0||(u<<l)%4!==0)return console.warn("BPTC, RGTC, and S3TC dimensions must be a multiple of 4 pixels, and each successive mip level must be half the size of the previous level, rounded down. Mip level "+l+" is "+f+"x"+u),!1}return!0}function i(){return!0}function s(h){var n=h.mipmaps,l=n[0];return o(l.width,l.height)?!0:(console.warn("PVRTC base dimensions must be power of two. Base level is "+l.width+"x"+l.height),!1)}function e(h){var n=h.mipmaps,l=n[0];return l.width%4!==0||l.height%4!==0?(console.warn("S3TC SRGB base dimensions must be a multiple of 4 pixels. Base level is "+l.width+"x"+l.height+" pixels"),!1):!0}var r={37488:i,37489:i,37490:i,37491:i,37492:i,37493:i,37494:i,37495:i,37496:i,37497:i,36196:i,37808:i,37809:i,37810:i,37811:i,37812:i,37813:i,37814:i,37815:i,37816:i,37817:i,37818:i,37819:i,37820:i,37821:i,37840:i,37841:i,37842:i,37843:i,37844:i,37845:i,37846:i,37847:i,37848:i,37849:i,37850:i,37851:i,37852:i,37853:i,36492:a,36493:a,36494:a,36495:a,36283:a,36284:a,36285:a,36286:a,35840:s,35841:s,35842:s,35843:s,33776:a,33777:a,33778:a,33779:a,35916:e,35917:e,35918:e,35919:e};c.exports=v},61309:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={AtlasXML:t(89905),Canvas:t(72893),Image:t(4832),JSONArray:t(78566),JSONHash:t(39711),KTXParser:t(31403),PVRParser:t(82038),SpriteSheet:t(75549),SpriteSheetFromAtlas:t(47534),UnityYAML:t(86147)}},80341:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={CSV:0,TILED_JSON:1,ARRAY_2D:2,WELTMEISTER:3}},16536:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=new o({initialize:function(i,s,e,r,h,n,l){(e===void 0||e<=0)&&(e=32),(r===void 0||r<=0)&&(r=32),h===void 0&&(h=0),n===void 0&&(n=0),this.name=i,this.firstgid=s|0,this.imageWidth=e|0,this.imageHeight=r|0,this.imageMargin=h|0,this.imageSpacing=n|0,this.properties=l||{},this.images=[],this.total=0},containsImageIndex:function(a){return a>=this.firstgid&&a<this.firstgid+this.total},addImage:function(a,i){return this.images.push({gid:a,image:i}),this.total++,this}});c.exports=v},27462:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=new o({initialize:function(i){if(this.gids=[],i!==void 0)for(var s=0;s<i.length;++s)for(var e=i[s],r=0;r<e.total;++r)this.gids[e.firstgid+r]=e;this._gids=this.gids},enabled:{get:function(){return!!this.gids},set:function(a){this.gids=a?this._gids:void 0}},getTypeIncludingTile:function(a){if(a.type!==void 0&&a.type!=="")return a.type;if(!(!this.gids||a.gid===void 0)){var i=this.gids[a.gid];if(i){var s=i.getTileData(a.gid);if(s)return s.type}}},setTextureAndFrame:function(a,i,s,e){if(i===null&&this.gids&&e.gid!==void 0){var r=this.gids[e.gid];r&&(i===null&&r.image!==void 0&&(i=r.image.key),s===null&&(s=e.gid-r.firstgid),a.scene.textures.getFrame(i,s)||(i=null,s=null))}a.setTexture(i,s)},setPropertiesFromTiledObject:function(a,i){if(this.gids!==void 0&&i.gid!==void 0){var s=this.gids[i.gid];s!==void 0&&this.setFromJSON(a,s.getTileProperties(i.gid))}this.setFromJSON(a,i.properties)},setFromJSON:function(a,i){if(i){if(Array.isArray(i)){for(var s=0;s<i.length;s++){var e=i[s];a[e.name]!==void 0?a[e.name]=e.value:a.setData(e.name,e.value)}return}for(var r in i)a[r]!==void 0?a[r]=i[r]:a.setData(r,i[r])}}});c.exports=v},31989:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(80341),v=t(87010),a=t(46177),i=t(49075),s=function(e,r,h,n,l,f,u,d){h===void 0&&(h=32),n===void 0&&(n=32),l===void 0&&(l=10),f===void 0&&(f=10),d===void 0&&(d=!1);var p=null;if(Array.isArray(u)){var x=r!==void 0?r:"map";p=a(x,o.ARRAY_2D,u,h,n,d)}else if(r!==void 0){var E=e.cache.tilemap.get(r);E?p=a(r,E.format,E.data,h,n,d):console.warn("No map data found for key "+r)}return p===null&&(p=new v({tileWidth:h,tileHeight:n,width:l,height:f})),new i(e,p)};c.exports=s},23029:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(31401),a=t(91907),i=t(62644),s=t(93232),e=new o({Mixins:[v.AlphaSingle,v.Flip,v.Visible],initialize:function(h,n,l,f,u,d,p,x){this.layer=h,this.index=n,this.x=l,this.y=f,this.width=u,this.height=d,this.right,this.bottom,this.baseWidth=p!==void 0?p:u,this.baseHeight=x!==void 0?x:d,this.pixelX=0,this.pixelY=0,this.updatePixelXY(),this.properties={},this.rotation=0,this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.faceLeft=!1,this.faceRight=!1,this.faceTop=!1,this.faceBottom=!1,this.collisionCallback=void 0,this.collisionCallbackContext=this,this.tint=16777215,this.tintFill=!1,this.physics={}},containsPoint:function(r,h){return!(r<this.pixelX||h<this.pixelY||r>this.right||h>this.bottom)},copy:function(r){return this.index=r.index,this.alpha=r.alpha,this.properties=i(r.properties),this.visible=r.visible,this.setFlip(r.flipX,r.flipY),this.tint=r.tint,this.rotation=r.rotation,this.collideUp=r.collideUp,this.collideDown=r.collideDown,this.collideLeft=r.collideLeft,this.collideRight=r.collideRight,this.collisionCallback=r.collisionCallback,this.collisionCallbackContext=r.collisionCallbackContext,this},getCollisionGroup:function(){return this.tileset?this.tileset.getTileCollisionGroup(this.index):null},getTileData:function(){return this.tileset?this.tileset.getTileData(this.index):null},getLeft:function(r){var h=this.tilemapLayer;if(h){var n=h.tileToWorldXY(this.x,this.y,void 0,r);return n.x}return this.x*this.baseWidth},getRight:function(r){var h=this.tilemapLayer;return h?this.getLeft(r)+this.width*h.scaleX:this.getLeft(r)+this.width},getTop:function(r){var h=this.tilemapLayer;if(h){var n=h.tileToWorldXY(this.x,this.y,void 0,r);return n.y}return this.y*this.baseWidth-(this.height-this.baseHeight)},getBottom:function(r){var h=this.tilemapLayer;return h?this.getTop(r)+this.height*h.scaleY:this.getTop(r)+this.height},getBounds:function(r,h){return h===void 0&&(h=new s),h.x=this.getLeft(r),h.y=this.getTop(r),h.width=this.getRight(r)-h.x,h.height=this.getBottom(r)-h.y,h},getCenterX:function(r){return(this.getLeft(r)+this.getRight(r))/2},getCenterY:function(r){return(this.getTop(r)+this.getBottom(r))/2},intersects:function(r,h,n,l){return!(n<=this.pixelX||l<=this.pixelY||r>=this.right||h>=this.bottom)},isInteresting:function(r,h){return r&&h?this.canCollide||this.hasInterestingFace:r?this.collides:h?this.hasInterestingFace:!1},resetCollision:function(r){if(r===void 0&&(r=!0),this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1,r){var h=this.tilemapLayer;h&&this.tilemapLayer.calculateFacesAt(this.x,this.y)}return this},resetFaces:function(){return this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1,this},setCollision:function(r,h,n,l,f){if(h===void 0&&(h=r),n===void 0&&(n=r),l===void 0&&(l=r),f===void 0&&(f=!0),this.collideLeft=r,this.collideRight=h,this.collideUp=n,this.collideDown=l,this.faceLeft=r,this.faceRight=h,this.faceTop=n,this.faceBottom=l,f){var u=this.tilemapLayer;u&&this.tilemapLayer.calculateFacesAt(this.x,this.y)}return this},setCollisionCallback:function(r,h){return r===null?(this.collisionCallback=void 0,this.collisionCallbackContext=void 0):(this.collisionCallback=r,this.collisionCallbackContext=h),this},setSize:function(r,h,n,l){return r!==void 0&&(this.width=r),h!==void 0&&(this.height=h),n!==void 0&&(this.baseWidth=n),l!==void 0&&(this.baseHeight=l),this.updatePixelXY(),this},updatePixelXY:function(){var r=this.layer.orientation;if(r===a.ORTHOGONAL)this.pixelX=this.x*this.baseWidth,this.pixelY=this.y*this.baseHeight;else if(r===a.ISOMETRIC)this.pixelX=(this.x-this.y)*this.baseWidth*.5,this.pixelY=(this.x+this.y)*this.baseHeight*.5;else if(r===a.STAGGERED)this.pixelX=this.x*this.baseWidth+this.y%2*(this.baseWidth/2),this.pixelY=this.y*(this.baseHeight/2);else if(r===a.HEXAGONAL){var h=this.layer.staggerAxis,n=this.layer.staggerIndex,l=this.layer.hexSideLength,f,u;h==="y"?(u=(this.baseHeight-l)/2+l,n==="odd"?this.pixelX=this.x*this.baseWidth+this.y%2*(this.baseWidth/2):this.pixelX=this.x*this.baseWidth-this.y%2*(this.baseWidth/2),this.pixelY=this.y*u):h==="x"&&(f=(this.baseWidth-l)/2+l,this.pixelX=this.x*f,n==="odd"?this.pixelY=this.y*this.baseHeight+this.x%2*(this.baseHeight/2):this.pixelY=this.y*this.baseHeight-this.x%2*(this.baseHeight/2))}return this.right=this.pixelX+this.baseWidth,this.bottom=this.pixelY+this.baseHeight,this},destroy:function(){this.collisionCallback=void 0,this.collisionCallbackContext=void 0,this.properties=void 0},canCollide:{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown||this.collisionCallback!==void 0}},collides:{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown}},hasInterestingFace:{get:function(){return this.faceTop||this.faceBottom||this.faceLeft||this.faceRight}},tileset:{get:function(){var r=this.layer.tilemapLayer;if(r){var h=r.gidMap[this.index];if(h)return h}return null}},tilemapLayer:{get:function(){return this.layer.tilemapLayer}},tilemap:{get:function(){var r=this.tilemapLayer;return r?r.tilemap:null}}});c.exports=e},49075:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(84101),v=t(83419),a=t(39506),i=t(80341),s=t(95540),e=t(14977),r=t(27462),h=t(91907),n=t(36305),l=t(19133),f=t(68287),u=t(23029),d=t(81086),p=t(20442),x=t(33629),E=new v({initialize:function(C,A){this.scene=C,this.tileWidth=A.tileWidth,this.tileHeight=A.tileHeight,this.width=A.width,this.height=A.height,this.orientation=A.orientation,this.renderOrder=A.renderOrder,this.format=A.format,this.version=A.version,this.properties=A.properties,this.widthInPixels=A.widthInPixels,this.heightInPixels=A.heightInPixels,this.imageCollections=A.imageCollections,this.images=A.images,this.layers=A.layers,this.tiles=A.tiles,this.tilesets=A.tilesets,this.objects=A.objects,this.currentLayerIndex=0,this.hexSideLength=A.hexSideLength;var M=this.orientation;this._convert={WorldToTileXY:d.GetWorldToTileXYFunction(M),WorldToTileX:d.GetWorldToTileXFunction(M),WorldToTileY:d.GetWorldToTileYFunction(M),TileToWorldXY:d.GetTileToWorldXYFunction(M),TileToWorldX:d.GetTileToWorldXFunction(M),TileToWorldY:d.GetTileToWorldYFunction(M),GetTileCorners:d.GetTileCornersFunction(M)}},setRenderOrder:function(T){var C=["right-down","left-down","right-up","left-up"];return typeof T=="number"&&(T=C[T]),C.indexOf(T)>-1&&(this.renderOrder=T),this},addTilesetImage:function(T,C,A,M,R,O,L,b){if(T===void 0)return null;C==null&&(C=T);var N=this.scene.sys.textures;if(!N.exists(C))return console.warn('Texture key "%s" not found',C),null;var I=N.get(C),G=this.getTilesetIndex(T);if(G===null&&this.format===i.TILED_JSON)return console.warn('Tilemap has no tileset "%s". Its tilesets are %o',T,this.tilesets),null;var X=this.tilesets[G];return X?(X.setTileSize(A,M),X.setSpacing(R,O),X.setImage(I),X):(A===void 0&&(A=this.tileWidth),M===void 0&&(M=this.tileHeight),R===void 0&&(R=0),O===void 0&&(O=0),L===void 0&&(L=0),b===void 0&&(b={x:0,y:0}),X=new x(T,L,A,M,R,O,void 0,void 0,b),X.setImage(I),this.tilesets.push(X),this.tiles=o(this),X)},copy:function(T,C,A,M,R,O,L,b){return b=this.getLayer(b),b!==null?(d.Copy(T,C,A,M,R,O,L,b),this):null},createBlankLayer:function(T,C,A,M,R,O,L,b){A===void 0&&(A=0),M===void 0&&(M=0),R===void 0&&(R=this.width),O===void 0&&(O=this.height),L===void 0&&(L=this.tileWidth),b===void 0&&(b=this.tileHeight);var N=this.getLayerIndex(T);if(N!==null)return console.warn("Invalid Tilemap Layer ID: "+T),null;for(var I=new e({name:T,tileWidth:L,tileHeight:b,width:R,height:O,orientation:this.orientation}),G,X=0;X<O;X++){G=[];for(var $=0;$<R;$++)G.push(new u(I,-1,$,X,L,b,this.tileWidth,this.tileHeight));I.data.push(G)}this.layers.push(I),this.currentLayerIndex=this.layers.length-1;var J=new p(this.scene,this,this.currentLayerIndex,C,A,M);return J.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add(J),J},createLayer:function(T,C,A,M){var R=this.getLayerIndex(T);if(R===null)return console.warn("Invalid Tilemap Layer ID: "+T),typeof T=="string"&&console.warn("Valid tilelayer names: %o",this.getTileLayerNames()),null;var O=this.layers[R];if(O.tilemapLayer)return console.warn("Tilemap Layer ID already exists:"+T),null;this.currentLayerIndex=R,A===void 0&&(A=O.x),M===void 0&&(M=O.y);var L=new p(this.scene,this,R,C,A,M);return L.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add(L),L},createFromObjects:function(T,C,A){A===void 0&&(A=!0);var M=[],R=this.getObjectLayer(T);if(!R)return console.warn("createFromObjects: Invalid objectLayerName given: "+T),M;var O=new r(A?this.tilesets:void 0);Array.isArray(C)||(C=[C]);for(var L=R.objects,b=0;b<C.length;b++){var N=C[b],I=s(N,"id",null),G=s(N,"gid",null),X=s(N,"name",null),$=s(N,"type",null);O.enabled=!s(N,"ignoreTileset",null);for(var J,z=[],Y=0;Y<L.length;Y++)J=L[Y],(I===null&&G===null&&X===null&&$===null||I!==null&&J.id===I||G!==null&&J.gid===G||X!==null&&J.name===X||$!==null&&O.getTypeIncludingTile(J)===$)&&z.push(J);for(var D=s(N,"classType",f),B=s(N,"scene",this.scene),U=s(N,"container",null),H=s(N,"key",null),j=s(N,"frame",null),q=0;q<z.length;q++){J=z[q];var _=new D(B);if(_.setName(J.name),_.setPosition(J.x,J.y),O.setTextureAndFrame(_,H,j,J),J.width&&(_.displayWidth=J.width),J.height&&(_.displayHeight=J.height),this.orientation===h.ISOMETRIC){var st=this.tileWidth/this.tileHeight,ut={x:_.x-_.y,y:(_.x+_.y)/st};_.x=ut.x,_.y=ut.y}var ct={x:_.originX*J.width,y:(_.originY-(J.gid?1:0))*J.height};if(J.rotation){var pt=a(J.rotation);n(ct,pt),_.rotation=pt}_.x+=ct.x,_.y+=ct.y,(J.flippedHorizontal!==void 0||J.flippedVertical!==void 0)&&_.setFlip(J.flippedHorizontal,J.flippedVertical),J.visible||(_.visible=!1),O.setPropertiesFromTiledObject(_,J),U?U.add(_):B.add.existing(_),M.push(_)}}return M},createFromTiles:function(T,C,A,M,R,O){return O=this.getLayer(O),O===null?null:d.CreateFromTiles(T,C,A,M,R,O)},fill:function(T,C,A,M,R,O,L){return O===void 0&&(O=!0),L=this.getLayer(L),L===null?null:(d.Fill(T,C,A,M,R,O,L),this)},filterObjects:function(T,C,A){if(typeof T=="string"){var M=T;if(T=this.getObjectLayer(T),!T)return console.warn("No object layer found with the name: "+M),null}return T.objects.filter(C,A)},filterTiles:function(T,C,A,M,R,O,L,b){return b=this.getLayer(b),b===null?null:d.FilterTiles(T,C,A,M,R,O,L,b)},findByIndex:function(T,C,A,M){return M=this.getLayer(M),M===null?null:d.FindByIndex(T,C,A,M)},findObject:function(T,C,A){if(typeof T=="string"){var M=T;if(T=this.getObjectLayer(T),!T)return console.warn("No object layer found with the name: "+M),null}return T.objects.find(C,A)||null},findTile:function(T,C,A,M,R,O,L,b){return b=this.getLayer(b),b===null?null:d.FindTile(T,C,A,M,R,O,L,b)},forEachTile:function(T,C,A,M,R,O,L,b){return b=this.getLayer(b),b===null?null:(d.ForEachTile(T,C,A,M,R,O,L,b),this)},getImageIndex:function(T){return this.getIndex(this.images,T)},getImageLayerNames:function(){return!this.images||!Array.isArray(this.images)?[]:this.images.map(function(T){return T.name})},getIndex:function(T,C){for(var A=0;A<T.length;A++)if(T[A].name===C)return A;return null},getLayer:function(T){var C=this.getLayerIndex(T);return C!==null?this.layers[C]:null},getObjectLayer:function(T){var C=this.getIndex(this.objects,T);return C!==null?this.objects[C]:null},getObjectLayerNames:function(){return!this.objects||!Array.isArray(this.objects)?[]:this.objects.map(function(T){return T.name})},getLayerIndex:function(T){return T===void 0?this.currentLayerIndex:typeof T=="string"?this.getLayerIndexByName(T):typeof T=="number"&&T<this.layers.length?T:T instanceof p&&T.tilemap===this?T.layerIndex:null},getLayerIndexByName:function(T){return this.getIndex(this.layers,T)},getTileAt:function(T,C,A,M){return M=this.getLayer(M),M===null?null:d.GetTileAt(T,C,A,M)},getTileAtWorldXY:function(T,C,A,M,R){return R=this.getLayer(R),R===null?null:d.GetTileAtWorldXY(T,C,A,M,R)},getTileLayerNames:function(){return!this.layers||!Array.isArray(this.layers)?[]:this.layers.map(function(T){return T.name})},getTilesWithin:function(T,C,A,M,R,O){return O=this.getLayer(O),O===null?null:d.GetTilesWithin(T,C,A,M,R,O)},getTilesWithinShape:function(T,C,A,M){return M=this.getLayer(M),M===null?null:d.GetTilesWithinShape(T,C,A,M)},getTilesWithinWorldXY:function(T,C,A,M,R,O,L){return L=this.getLayer(L),L===null?null:d.GetTilesWithinWorldXY(T,C,A,M,R,O,L)},getTileset:function(T){var C=this.getIndex(this.tilesets,T);return C!==null?this.tilesets[C]:null},getTilesetIndex:function(T){return this.getIndex(this.tilesets,T)},hasTileAt:function(T,C,A){return A=this.getLayer(A),A===null?null:d.HasTileAt(T,C,A)},hasTileAtWorldXY:function(T,C,A,M){return M=this.getLayer(M),M===null?null:d.HasTileAtWorldXY(T,C,A,M)},layer:{get:function(){return this.layers[this.currentLayerIndex]},set:function(T){this.setLayer(T)}},putTileAt:function(T,C,A,M,R){return M===void 0&&(M=!0),R=this.getLayer(R),R===null?null:d.PutTileAt(T,C,A,M,R)},putTileAtWorldXY:function(T,C,A,M,R,O){return M===void 0&&(M=!0),O=this.getLayer(O),O===null?null:d.PutTileAtWorldXY(T,C,A,M,R,O)},putTilesAt:function(T,C,A,M,R){return M===void 0&&(M=!0),R=this.getLayer(R),R===null?null:(d.PutTilesAt(T,C,A,M,R),this)},randomize:function(T,C,A,M,R,O){return O=this.getLayer(O),O===null?null:(d.Randomize(T,C,A,M,R,O),this)},calculateFacesAt:function(T,C,A){return A=this.getLayer(A),A===null?null:(d.CalculateFacesAt(T,C,A),this)},calculateFacesWithin:function(T,C,A,M,R){return R=this.getLayer(R),R===null?null:(d.CalculateFacesWithin(T,C,A,M,R),this)},removeLayer:function(T){var C=this.getLayerIndex(T);if(C!==null){l(this.layers,C);for(var A=C;A<this.layers.length;A++)this.layers[A].tilemapLayer&&this.layers[A].tilemapLayer.layerIndex--;return this.currentLayerIndex===C&&(this.currentLayerIndex=0),this}else return null},destroyLayer:function(T){var C=this.getLayerIndex(T);return C!==null?(T=this.layers[C],T.tilemapLayer.destroy(),l(this.layers,C),this.currentLayerIndex===C&&(this.currentLayerIndex=0),this):null},removeAllLayers:function(){for(var T=this.layers,C=0;C<T.length;C++)T[C].tilemapLayer&&T[C].tilemapLayer.destroy(!1);return T.length=0,this.currentLayerIndex=0,this},removeTile:function(T,C,A){C===void 0&&(C=-1),A===void 0&&(A=!0);var M=[];Array.isArray(T)||(T=[T]);for(var R=0;R<T.length;R++){var O=T[R];M.push(this.removeTileAt(O.x,O.y,!0,A,O.tilemapLayer)),C>-1&&this.putTileAt(C,O.x,O.y,A,O.tilemapLayer)}return M},removeTileAt:function(T,C,A,M,R){return A===void 0&&(A=!0),M===void 0&&(M=!0),R=this.getLayer(R),R===null?null:d.RemoveTileAt(T,C,A,M,R)},removeTileAtWorldXY:function(T,C,A,M,R,O){return A===void 0&&(A=!0),M===void 0&&(M=!0),O=this.getLayer(O),O===null?null:d.RemoveTileAtWorldXY(T,C,A,M,R,O)},renderDebug:function(T,C,A){return A=this.getLayer(A),A===null?null:(this.orientation===h.ORTHOGONAL&&d.RenderDebug(T,C,A),this)},renderDebugFull:function(T,C){for(var A=this.layers,M=0;M<A.length;M++)d.RenderDebug(T,C,A[M]);return this},replaceByIndex:function(T,C,A,M,R,O,L){return L=this.getLayer(L),L===null?null:(d.ReplaceByIndex(T,C,A,M,R,O,L),this)},setCollision:function(T,C,A,M,R){return C===void 0&&(C=!0),A===void 0&&(A=!0),R===void 0&&(R=!0),M=this.getLayer(M),M===null?null:(d.SetCollision(T,C,A,M,R),this)},setCollisionBetween:function(T,C,A,M,R){return A===void 0&&(A=!0),M===void 0&&(M=!0),R=this.getLayer(R),R===null?null:(d.SetCollisionBetween(T,C,A,M,R),this)},setCollisionByProperty:function(T,C,A,M){return C===void 0&&(C=!0),A===void 0&&(A=!0),M=this.getLayer(M),M===null?null:(d.SetCollisionByProperty(T,C,A,M),this)},setCollisionByExclusion:function(T,C,A,M){return C===void 0&&(C=!0),A===void 0&&(A=!0),M=this.getLayer(M),M===null?null:(d.SetCollisionByExclusion(T,C,A,M),this)},setCollisionFromCollisionGroup:function(T,C,A){return T===void 0&&(T=!0),C===void 0&&(C=!0),A=this.getLayer(A),A===null?null:(d.SetCollisionFromCollisionGroup(T,C,A),this)},setTileIndexCallback:function(T,C,A,M){return M=this.getLayer(M),M===null?null:(d.SetTileIndexCallback(T,C,A,M),this)},setTileLocationCallback:function(T,C,A,M,R,O,L){return L=this.getLayer(L),L===null?null:(d.SetTileLocationCallback(T,C,A,M,R,O,L),this)},setLayer:function(T){var C=this.getLayerIndex(T);return C!==null&&(this.currentLayerIndex=C),this},setBaseTileSize:function(T,C){this.tileWidth=T,this.tileHeight=C,this.widthInPixels=this.width*T,this.heightInPixels=this.height*C;for(var A=0;A<this.layers.length;A++){this.layers[A].baseTileWidth=T,this.layers[A].baseTileHeight=C;for(var M=this.layers[A].data,R=this.layers[A].width,O=this.layers[A].height,L=0;L<O;L++)for(var b=0;b<R;b++){var N=M[L][b];N!==null&&N.setSize(void 0,void 0,T,C)}}return this},setLayerTileSize:function(T,C,A){if(A=this.getLayer(A),A===null)return this;A.tileWidth=T,A.tileHeight=C;for(var M=A.data,R=A.width,O=A.height,L=0;L<O;L++)for(var b=0;b<R;b++){var N=M[L][b];N!==null&&N.setSize(T,C)}return this},shuffle:function(T,C,A,M,R){return R=this.getLayer(R),R===null?null:(d.Shuffle(T,C,A,M,R),this)},swapByIndex:function(T,C,A,M,R,O,L){return L=this.getLayer(L),L===null?null:(d.SwapByIndex(T,C,A,M,R,O,L),this)},tileToWorldX:function(T,C,A){return A=this.getLayer(A),A===null?null:this._convert.TileToWorldX(T,C,A)},tileToWorldY:function(T,C,A){return A=this.getLayer(A),A===null?null:this._convert.TileToWorldY(T,C,A)},tileToWorldXY:function(T,C,A,M,R){return R=this.getLayer(R),R===null?null:this._convert.TileToWorldXY(T,C,A,M,R)},getTileCorners:function(T,C,A,M){return M=this.getLayer(M),M===null?null:this._convert.GetTileCorners(T,C,A,M)},weightedRandomize:function(T,C,A,M,R,O){return O=this.getLayer(O),O===null?null:(d.WeightedRandomize(C,A,M,R,T,O),this)},worldToTileX:function(T,C,A,M){return M=this.getLayer(M),M===null?null:this._convert.WorldToTileX(T,C,A,M)},worldToTileY:function(T,C,A,M){return M=this.getLayer(M),M===null?null:this._convert.WorldToTileY(T,C,A,M)},worldToTileXY:function(T,C,A,M,R,O){return O=this.getLayer(O),O===null?null:this._convert.WorldToTileXY(T,C,A,M,R,O)},destroy:function(){this.removeAllLayers(),this.tiles.length=0,this.tilesets.length=0,this.objects.length=0,this.scene=null}});c.exports=E},45939:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(44603),v=t(31989);o.register("tilemap",function(a){var i=a!==void 0?a:{};return v(this.scene,i.key,i.tileWidth,i.tileHeight,i.width,i.height,i.data,i.insertNull)})},46029:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(39429),v=t(31989);o.register("tilemap",function(a,i,s,e,r,h,n){return a===null&&(a=void 0),i===null&&(i=void 0),s===null&&(s=void 0),e===null&&(e=void 0),r===null&&(r=void 0),v(this.scene,a,i,s,e,r,h,n)})},20442:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(78389),a=t(31401),i=t(95643),s=t(81086),e=t(19218),r=t(26099),h=new o({Extends:i,Mixins:[a.Alpha,a.BlendMode,a.ComputedSize,a.Depth,a.Flip,a.GetBounds,a.Mask,a.Origin,a.Pipeline,a.PostPipeline,a.Transform,a.Visible,a.ScrollFactor,v,e],initialize:function(l,f,u,d,p,x){i.call(this,l,"TilemapLayer"),this.isTilemap=!0,this.tilemap=f,this.layerIndex=u,this.layer=f.layers[u],this.layer.tilemapLayer=this,this.tileset=[],this.tilesDrawn=0,this.tilesTotal=this.layer.width*this.layer.height,this.culledTiles=[],this.skipCull=!1,this.cullPaddingX=1,this.cullPaddingY=1,this.cullCallback=s.GetCullTilesFunction(this.layer.orientation),this._renderOrder=0,this.gidMap=[],this.tempVec=new r,this.collisionCategory=1,this.collisionMask=1,this.setTilesets(d),this.setAlpha(this.layer.alpha),this.setPosition(p,x),this.setOrigin(0,0),this.setSize(f.tileWidth*this.layer.width,f.tileHeight*this.layer.height),this.initPipeline(),this.initPostPipeline(!1)},setTilesets:function(n){var l=[],f=[],u=this.tilemap;Array.isArray(n)||(n=[n]);for(var d=0;d<n.length;d++){var p=n[d];if(typeof p=="string"&&(p=u.getTileset(p)),p){f.push(p);for(var x=p.firstgid,E=0;E<p.total;E++)l[x+E]=p}}this.gidMap=l,this.tileset=f},setRenderOrder:function(n){var l=["right-down","left-down","right-up","left-up"];return typeof n=="string"&&(n=l.indexOf(n)),n>=0&&n<4&&(this._renderOrder=n),this},calculateFacesAt:function(n,l){return s.CalculateFacesAt(n,l,this.layer),this},calculateFacesWithin:function(n,l,f,u){return s.CalculateFacesWithin(n,l,f,u,this.layer),this},createFromTiles:function(n,l,f,u,d){return s.CreateFromTiles(n,l,f,u,d,this.layer)},cull:function(n){return this.cullCallback(this.layer,n,this.culledTiles,this._renderOrder)},copy:function(n,l,f,u,d,p,x){return s.Copy(n,l,f,u,d,p,x,this.layer),this},fill:function(n,l,f,u,d,p){return s.Fill(n,l,f,u,d,p,this.layer),this},filterTiles:function(n,l,f,u,d,p,x){return s.FilterTiles(n,l,f,u,d,p,x,this.layer)},findByIndex:function(n,l,f){return s.FindByIndex(n,l,f,this.layer)},findTile:function(n,l,f,u,d,p,x){return s.FindTile(n,l,f,u,d,p,x,this.layer)},forEachTile:function(n,l,f,u,d,p,x){return s.ForEachTile(n,l,f,u,d,p,x,this.layer),this},setTint:function(n,l,f,u,d,p){n===void 0&&(n=16777215);var x=function(E){E.tint=n,E.tintFill=!1};return this.forEachTile(x,this,l,f,u,d,p)},setTintFill:function(n,l,f,u,d,p){n===void 0&&(n=16777215);var x=function(E){E.tint=n,E.tintFill=!0};return this.forEachTile(x,this,l,f,u,d,p)},getTileAt:function(n,l,f){return s.GetTileAt(n,l,f,this.layer)},getTileAtWorldXY:function(n,l,f,u){return s.GetTileAtWorldXY(n,l,f,u,this.layer)},getIsoTileAtWorldXY:function(n,l,f,u,d){f===void 0&&(f=!0);var p=this.tempVec;return s.IsometricWorldToTileXY(n,l,!0,p,d,this.layer,f),this.getTileAt(p.x,p.y,u)},getTilesWithin:function(n,l,f,u,d){return s.GetTilesWithin(n,l,f,u,d,this.layer)},getTilesWithinShape:function(n,l,f){return s.GetTilesWithinShape(n,l,f,this.layer)},getTilesWithinWorldXY:function(n,l,f,u,d,p){return s.GetTilesWithinWorldXY(n,l,f,u,d,p,this.layer)},hasTileAt:function(n,l){return s.HasTileAt(n,l,this.layer)},hasTileAtWorldXY:function(n,l,f){return s.HasTileAtWorldXY(n,l,f,this.layer)},putTileAt:function(n,l,f,u){return s.PutTileAt(n,l,f,u,this.layer)},putTileAtWorldXY:function(n,l,f,u,d){return s.PutTileAtWorldXY(n,l,f,u,d,this.layer)},putTilesAt:function(n,l,f,u){return s.PutTilesAt(n,l,f,u,this.layer),this},randomize:function(n,l,f,u,d){return s.Randomize(n,l,f,u,d,this.layer),this},removeTileAt:function(n,l,f,u){return s.RemoveTileAt(n,l,f,u,this.layer)},removeTileAtWorldXY:function(n,l,f,u,d){return s.RemoveTileAtWorldXY(n,l,f,u,d,this.layer)},renderDebug:function(n,l){return s.RenderDebug(n,l,this.layer),this},replaceByIndex:function(n,l,f,u,d,p){return s.ReplaceByIndex(n,l,f,u,d,p,this.layer),this},setSkipCull:function(n){return n===void 0&&(n=!0),this.skipCull=n,this},setCullPadding:function(n,l){return n===void 0&&(n=1),l===void 0&&(l=1),this.cullPaddingX=n,this.cullPaddingY=l,this},setCollision:function(n,l,f,u){return s.SetCollision(n,l,f,this.layer,u),this},setCollisionBetween:function(n,l,f,u){return s.SetCollisionBetween(n,l,f,u,this.layer),this},setCollisionByProperty:function(n,l,f){return s.SetCollisionByProperty(n,l,f,this.layer),this},setCollisionByExclusion:function(n,l,f){return s.SetCollisionByExclusion(n,l,f,this.layer),this},setCollisionFromCollisionGroup:function(n,l){return s.SetCollisionFromCollisionGroup(n,l,this.layer),this},setTileIndexCallback:function(n,l,f){return s.SetTileIndexCallback(n,l,f,this.layer),this},setTileLocationCallback:function(n,l,f,u,d,p){return s.SetTileLocationCallback(n,l,f,u,d,p,this.layer),this},shuffle:function(n,l,f,u){return s.Shuffle(n,l,f,u,this.layer),this},swapByIndex:function(n,l,f,u,d,p){return s.SwapByIndex(n,l,f,u,d,p,this.layer),this},tileToWorldX:function(n,l){return this.tilemap.tileToWorldX(n,l,this)},tileToWorldY:function(n,l){return this.tilemap.tileToWorldY(n,l,this)},tileToWorldXY:function(n,l,f,u){return this.tilemap.tileToWorldXY(n,l,f,u,this)},getTileCorners:function(n,l,f){return this.tilemap.getTileCorners(n,l,f,this)},weightedRandomize:function(n,l,f,u,d){return s.WeightedRandomize(l,f,u,d,n,this.layer),this},worldToTileX:function(n,l,f){return this.tilemap.worldToTileX(n,l,f,this)},worldToTileY:function(n,l,f){return this.tilemap.worldToTileY(n,l,f,this)},worldToTileXY:function(n,l,f,u,d){return this.tilemap.worldToTileXY(n,l,f,u,d,this)},destroy:function(n){n===void 0&&(n=!0),this.tilemap&&(this.layer.tilemapLayer===this&&(this.layer.tilemapLayer=void 0),n&&this.tilemap.removeLayer(this),this.tilemap=void 0,this.layer=void 0,this.culledTiles.length=0,this.cullCallback=null,this.gidMap=[],this.tileset=[],i.prototype.destroy.call(this))}});c.exports=h},16153:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(61340),v=new o,a=new o,i=new o,s=function(e,r,h,n){var l=r.cull(h),f=l.length,u=h.alpha*r.alpha;if(!(f===0||u<=0)){var d=v,p=a,x=i;p.applyITRS(r.x,r.y,r.rotation,r.scaleX,r.scaleY),d.copyFrom(h.matrix);var E=e.currentContext,T=r.gidMap;E.save(),n?(d.multiplyWithOffset(n,-h.scrollX*r.scrollFactorX,-h.scrollY*r.scrollFactorY),p.e=r.x,p.f=r.y,d.multiply(p,x),x.copyToContext(E)):(p.e-=h.scrollX*r.scrollFactorX,p.f-=h.scrollY*r.scrollFactorY,p.copyToContext(E)),(!e.antialias||r.scaleX>1||r.scaleY>1)&&(E.imageSmoothingEnabled=!1);for(var C=0;C<f;C++){var A=l[C],M=T[A.index];if(M){var R=M.image.getSourceImage(),O=M.getTileTextureCoordinates(A.index),L=M.tileWidth,b=M.tileHeight;if(!(O===null||L===0||b===0)){var N=L*.5,I=b*.5;O.x+=M.tileOffset.x,O.y+=M.tileOffset.y,E.save(),E.translate(A.pixelX+N,A.pixelY+I),A.rotation!==0&&E.rotate(A.rotation),(A.flipX||A.flipY)&&E.scale(A.flipX?-1:1,A.flipY?-1:1),E.globalAlpha=u*A.alpha,E.drawImage(R,O.x,O.y,L,b,-N,-I,L,b),E.restore()}}}E.restore()}};c.exports=s},19218:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(29747),v=o,a=o;v=t(99558),a=t(16153),c.exports={renderWebGL:v,renderCanvas:a}},99558:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(70554),v=function(a,i,s){var e=i.cull(s),r=e.length,h=s.alpha*i.alpha;if(!(r===0||h<=0)){var n=i.gidMap,l=a.pipelines.set(i.pipeline,i),f=o.getTintAppendFloatAlpha,u=i.scrollFactorX,d=i.scrollFactorY,p=i.x,x=i.y,E=i.scaleX,T=i.scaleY;a.pipelines.preBatch(i);for(var C=0;C<r;C++){var A=e[C],M=n[A.index];if(M){var R=M.getTileTextureCoordinates(A.index),O=M.tileWidth,L=M.tileHeight;if(!(!R||O===0||L===0)){var b=O*.5,N=L*.5,I=M.glTexture,G=l.setTexture2D(I,i),X=O,$=L,J=R.x,z=R.y,Y=M.tileOffset.x,D=M.tileOffset.y,B=f(A.tint,h*A.alpha);l.batchTexture(i,I,I.width,I.height,p+A.pixelX*E+(b*E-Y),x+A.pixelY*T+(N*T-D),O,L,E,T,A.rotation,A.flipX,A.flipY,u,d,b,N,J,z,X,$,B,B,B,B,A.tintFill,0,0,s,null,!0,G,!0)}}}a.pipelines.postBatch(i)}};c.exports=v},33629:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(26099),a=new o({initialize:function(s,e,r,h,n,l,f,u,d){(r===void 0||r<=0)&&(r=32),(h===void 0||h<=0)&&(h=32),n===void 0&&(n=0),l===void 0&&(l=0),f===void 0&&(f={}),u===void 0&&(u={}),this.name=s,this.firstgid=e,this.tileWidth=r,this.tileHeight=h,this.tileMargin=n,this.tileSpacing=l,this.tileProperties=f,this.tileData=u,this.tileOffset=new v,d!==void 0&&this.tileOffset.set(d.x,d.y),this.image=null,this.glTexture=null,this.rows=0,this.columns=0,this.total=0,this.texCoordinates=[]},getTileProperties:function(i){return this.containsTileIndex(i)?this.tileProperties[i-this.firstgid]:null},getTileData:function(i){return this.containsTileIndex(i)?this.tileData[i-this.firstgid]:null},getTileCollisionGroup:function(i){var s=this.getTileData(i);return s&&s.objectgroup?s.objectgroup:null},containsTileIndex:function(i){return i>=this.firstgid&&i<this.firstgid+this.total},getTileTextureCoordinates:function(i){return this.containsTileIndex(i)?this.texCoordinates[i-this.firstgid]:null},setImage:function(i){this.image=i;var s=i.get(),e=i.getFrameBounds();return this.glTexture=s.source.glTexture,s.width>e.width||s.height>e.height?this.updateTileData(s.width,s.height):this.updateTileData(e.width,e.height,e.x,e.y),this},setTileSize:function(i,s){return i!==void 0&&(this.tileWidth=i),s!==void 0&&(this.tileHeight=s),this.image&&this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},setSpacing:function(i,s){return i!==void 0&&(this.tileMargin=i),s!==void 0&&(this.tileSpacing=s),this.image&&this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},updateTileData:function(i,s,e,r){e===void 0&&(e=0),r===void 0&&(r=0);var h=(s-this.tileMargin*2+this.tileSpacing)/(this.tileHeight+this.tileSpacing),n=(i-this.tileMargin*2+this.tileSpacing)/(this.tileWidth+this.tileSpacing);(h%1!==0||n%1!==0)&&console.warn("Image tile area not tile size multiple in: "+this.name),h=Math.floor(h),n=Math.floor(n),this.rows=h,this.columns=n,this.total=h*n,this.texCoordinates.length=0;for(var l=this.tileMargin+e,f=this.tileMargin+r,u=0;u<this.rows;u++){for(var d=0;d<this.columns;d++)this.texCoordinates.push({x:l,y:f}),l+=this.tileWidth+this.tileSpacing;l=this.tileMargin+e,f+=this.tileHeight+this.tileSpacing}return this}});c.exports=a},72023:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(7423),v=function(a,i,s){var e=o(a,i,!0,s),r=o(a,i-1,!0,s),h=o(a,i+1,!0,s),n=o(a-1,i,!0,s),l=o(a+1,i,!0,s),f=e&&e.collides;return f&&(e.faceTop=!0,e.faceBottom=!0,e.faceLeft=!0,e.faceRight=!0),r&&r.collides&&(f&&(e.faceTop=!1),r.faceBottom=!f),h&&h.collides&&(f&&(e.faceBottom=!1),h.faceTop=!f),n&&n.collides&&(f&&(e.faceLeft=!1),n.faceRight=!f),l&&l.collides&&(f&&(e.faceRight=!1),l.faceLeft=!f),e&&!e.collides&&e.resetFaces(),e};c.exports=v},42573:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(7423),v=t(7386),a=function(i,s,e,r,h){for(var n=null,l=null,f=null,u=null,d=v(i,s,e,r,null,h),p=0;p<d.length;p++){var x=d[p];x&&(x.collides?(n=o(x.x,x.y-1,!0,h),l=o(x.x,x.y+1,!0,h),f=o(x.x-1,x.y,!0,h),u=o(x.x+1,x.y,!0,h),x.faceTop=!(n&&n.collides),x.faceBottom=!(l&&l.collides),x.faceLeft=!(f&&f.collides),x.faceRight=!(u&&u.collides)):x.resetFaces())}};c.exports=a},33528:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(26099),v=new o,a=function(i,s,e,r){var h=e.tilemapLayer,n=h.cullPaddingX,l=h.cullPaddingY,f=h.tilemap.tileToWorldXY(i,s,v,r,h);return f.x>r.worldView.x+h.scaleX*e.tileWidth*(-n-.5)&&f.x<r.worldView.right+h.scaleX*e.tileWidth*(n-.5)&&f.y>r.worldView.y+h.scaleY*e.tileHeight*(-l-1)&&f.y<r.worldView.bottom+h.scaleY*e.tileHeight*(l-.5)};c.exports=a},1785:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(42573),v=t(7386),a=t(62991),i=t(23029),s=function(e,r,h,n,l,f,u,d){u===void 0&&(u=!0);var p=v(e,r,h,n,null,d),x=[];p.forEach(function(O){var L=new i(O.layer,O.index,O.x,O.y,O.width,O.height,O.baseWidth,O.baseHeight);L.copy(O),x.push(L)});for(var E=l-e,T=f-r,C=0;C<x.length;C++){var A=x[C],M=A.x+E,R=A.y+T;a(M,R,d)&&d.data[R][M]&&(A.x=M,A.y=R,A.updatePixelXY(),d.data[R][M]=A)}u&&o(l-1,f-1,h+2,n+2,d),p.length=0,x.length=0};c.exports=s},78419:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(62644),v=t(7386),a=t(27987),i=function(s,e,r,h,n,l){r||(r={}),Array.isArray(s)||(s=[s]);var f=l.tilemapLayer;h||(h=f.scene),n||(n=h.cameras.main);var u=l.width,d=l.height,p=v(0,0,u,d,null,l),x=[],E,T=function(R,O,L){for(var b=0;b<L.length;b++){var N=L[b];R.hasOwnProperty(N)||(R[N]=O[N])}};for(E=0;E<p.length;E++){var C=p[E],A=o(r);if(s.indexOf(C.index)!==-1){var M=f.tileToWorldXY(C.x,C.y,void 0,n,l);A.x=M.x,A.y=M.y,T(A,C,["rotation","flipX","flipY","alpha","visible","tint"]),A.hasOwnProperty("origin")||(A.x+=C.width*.5,A.y+=C.height*.5),A.hasOwnProperty("useSpriteSheet")&&(A.key=C.tileset.image,A.frame=C.index-1),x.push(h.make.sprite(A))}}if(Array.isArray(e))for(E=0;E<s.length;E++)a(s[E],e[E],0,0,u,d,l);else if(e!==null)for(E=0;E<s.length;E++)a(s[E],e,0,0,u,d,l);return x};c.exports=i},19545:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(87841),v=t(63448),a=t(56583),i=new o,s=function(e,r){var h=e.tilemapLayer.tilemap,n=e.tilemapLayer,l=Math.floor(h.tileWidth*n.scaleX),f=Math.floor(h.tileHeight*n.scaleY),u=a(r.worldView.x-n.x,l,0,!0)-n.cullPaddingX,d=v(r.worldView.right-n.x,l,0,!0)+n.cullPaddingX,p=a(r.worldView.y-n.y,f,0,!0)-n.cullPaddingY,x=v(r.worldView.bottom-n.y,f,0,!0)+n.cullPaddingY;return i.setTo(u,p,d-u,x-p)};c.exports=s},30003:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(19545),v=t(32483),a=function(i,s,e,r){e===void 0&&(e=[]),r===void 0&&(r=0),e.length=0;var h=i.tilemapLayer,n=o(i,s);return(h.skipCull||h.scrollFactorX!==1||h.scrollFactorY!==1)&&(n.left=0,n.right=i.width,n.top=0,n.bottom=i.height),v(i,n,r,e),e};c.exports=a},35137:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(7386),v=t(42573),a=t(20576),i=function(s,e,r,h,n,l,f){for(var u=f.collideIndexes.indexOf(s)!==-1,d=o(e,r,h,n,null,f),p=0;p<d.length;p++)d[p].index=s,a(d[p],u);l&&v(e-1,r-1,h+2,n+2,f)};c.exports=i},40253:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(7386),v=function(a,i,s,e,r,h,n,l){var f=o(s,e,r,h,n,l);return f.filter(a,i)};c.exports=v},52692:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o,v,a){o===void 0&&(o=0),v===void 0&&(v=!1);var i=0,s,e,r;if(v){for(e=a.height-1;e>=0;e--)for(s=a.width-1;s>=0;s--)if(r=a.data[e][s],r&&r.index===t){if(i===o)return r;i+=1}}else for(e=0;e<a.height;e++)for(s=0;s<a.width;s++)if(r=a.data[e][s],r&&r.index===t){if(i===o)return r;i+=1}return null};c.exports=g},66151:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(7386),v=function(a,i,s,e,r,h,n,l){var f=o(s,e,r,h,n,l);return f.find(a,i)||null};c.exports=v},97560:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(7386),v=function(a,i,s,e,r,h,n,l){var f=o(s,e,r,h,n,l);f.forEach(a,i)};c.exports=v},43305:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(91907),v=t(30003),a=t(9474),i=t(14018),s=t(29747),e=t(54503),r=function(h){return h===o.ORTHOGONAL?v:h===o.HEXAGONAL?a:h===o.STAGGERED?e:h===o.ISOMETRIC?i:s};c.exports=r},7423:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(62991),v=function(a,i,s,e){if(s===void 0&&(s=!1),o(a,i,e)){var r=e.data[i][a]||null;return r?r.index===-1?s?r:null:r:null}else return null};c.exports=v},60540:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(7423),v=t(26099),a=new v,i=function(s,e,r,h,n){return n.tilemapLayer.worldToTileXY(s,e,!0,a,h),o(a.x,a.y,r,n)};c.exports=i},55826:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(26099),v=function(a,i,s,e){var r=e.baseTileWidth,h=e.baseTileHeight,n=e.tilemapLayer,l=0,f=0;n&&(s||(s=n.scene.cameras.main),l=n.x+s.scrollX*(1-n.scrollFactorX),f=n.y+s.scrollY*(1-n.scrollFactorY),r*=n.scaleX,h*=n.scaleY);var u=l+a*r,d=f+i*h;return[new o(u,d),new o(u+r,d),new o(u+r,d+h),new o(u,d+h)]};c.exports=v},11758:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(91907),v=t(27229),a=t(29747),i=t(55826),s=function(e){return e===o.ORTHOGONAL?i:e===o.ISOMETRIC?a:e===o.HEXAGONAL?v:(e===o.STAGGERED,a)};c.exports=s},39167:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(91907),v=t(29747),a=t(97281),i=function(s){return s===o.ORTHOGONAL?a:v};c.exports=i},62e3:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(91907),v=t(19951),a=t(14127),i=t(29747),s=t(97202),e=t(70326),r=function(h){return h===o.ORTHOGONAL?e:h===o.ISOMETRIC?a:h===o.HEXAGONAL?v:h===o.STAGGERED?s:i};c.exports=r},5984:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(91907),v=t(29747),a=t(28054),i=t(29650),s=function(e){return e===o.ORTHOGONAL?i:e===o.STAGGERED?a:v};c.exports=s},7386:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(95540),v=function(a,i,s,e,r,h){a===void 0&&(a=0),i===void 0&&(i=0),s===void 0&&(s=h.width),e===void 0&&(e=h.height),r||(r={});var n=o(r,"isNotEmpty",!1),l=o(r,"isColliding",!1),f=o(r,"hasInterestingFace",!1);a<0&&(s+=a,a=0),i<0&&(e+=i,i=0),a+s>h.width&&(s=Math.max(h.width-a,0)),i+e>h.height&&(e=Math.max(h.height-i,0));for(var u=[],d=i;d<i+e;d++)for(var p=a;p<a+s;p++){var x=h.data[d][p];if(x!==null){if(n&&x.index===-1||l&&!x.collides||f&&!x.hasInterestingFace)continue;u.push(x)}}return u};c.exports=v},91141:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(55738),v=t(7386),a=t(91865),i=t(29747),s=t(26099),e=function(f,u){return a.RectangleToTriangle(u,f)},r=new s,h=new s,n=new s,l=function(f,u,d,p){if(f===void 0)return[];var x=i;f instanceof o.Circle?x=a.CircleToRectangle:f instanceof o.Rectangle?x=a.RectangleToRectangle:f instanceof o.Triangle?x=e:f instanceof o.Line&&(x=a.LineToRectangle),p.tilemapLayer.worldToTileXY(f.left,f.top,!0,h,d);var E=h.x,T=h.y;p.tilemapLayer.worldToTileXY(f.right,f.bottom,!1,n,d);var C=Math.ceil(n.x),A=Math.ceil(n.y),M=Math.max(C-E,1),R=Math.max(A-T,1),O=v(E,T,M,R,u,p),L=p.tileWidth,b=p.tileHeight;p.tilemapLayer&&(L*=p.tilemapLayer.scaleX,b*=p.tilemapLayer.scaleY);for(var N=[],I=new o.Rectangle(0,0,L,b),G=0;G<O.length;G++){var X=O[G];p.tilemapLayer.tileToWorldXY(X.x,X.y,r,d),I.x=r.x,I.y=r.y,x(f,I)&&N.push(X)}return N};c.exports=l},96523:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(7386),v=t(26099),a=new v,i=new v,s=function(e,r,h,n,l,f,u){var d=u.tilemapLayer.tilemap._convert.WorldToTileXY;d(e,r,!0,a,f,u);var p=a.x,x=a.y;d(e+h,r+n,!1,i,f,u);var E=Math.ceil(i.x),T=Math.ceil(i.y);return o(p,x,E-p,T-x,l,u)};c.exports=s},96113:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(91907),v=t(20242),a=t(10095),i=function(s){return s===o.ORTHOGONAL?a:v};c.exports=i},16926:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(91907),v=t(86625),a=t(96897),i=t(29747),s=t(15108),e=t(85896),r=function(h){return h===o.ORTHOGONAL?e:h===o.ISOMETRIC?a:h===o.HEXAGONAL?v:h===o.STAGGERED?s:i};c.exports=r},55762:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(91907),v=t(20242),a=t(51900),i=t(63288),s=function(e){return e===o.ORTHOGONAL?i:e===o.STAGGERED?a:v};c.exports=s},45091:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(62991),v=function(a,i,s){if(o(a,i,s)){var e=s.data[i][a];return e!==null&&e.index>-1}else return!1};c.exports=v},24152:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(45091),v=t(26099),a=new v,i=function(s,e,r,h){h.tilemapLayer.worldToTileXY(s,e,!0,a,r);var n=a.x,l=a.y;return o(n,l,h)};c.exports=i},90454:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(63448),v=t(56583),a=function(i,s){var e=i.tilemapLayer.tilemap,r=i.tilemapLayer,h=Math.floor(e.tileWidth*r.scaleX),n=Math.floor(e.tileHeight*r.scaleY),l=i.hexSideLength,f,u,d,p;if(i.staggerAxis==="y"){var x=(n-l)/2+l;f=v(s.worldView.x-r.x,h,0,!0)-r.cullPaddingX,u=o(s.worldView.right-r.x,h,0,!0)+r.cullPaddingX,d=v(s.worldView.y-r.y,x,0,!0)-r.cullPaddingY,p=o(s.worldView.bottom-r.y,x,0,!0)+r.cullPaddingY}else{var E=(h-l)/2+l;f=v(s.worldView.x-r.x,E,0,!0)-r.cullPaddingX,u=o(s.worldView.right-r.x,E,0,!0)+r.cullPaddingX,d=v(s.worldView.y-r.y,n,0,!0)-r.cullPaddingY,p=o(s.worldView.bottom-r.y,n,0,!0)+r.cullPaddingY}return{left:f,right:u,top:d,bottom:p}};c.exports=a},9474:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(90454),v=t(32483),a=function(i,s,e,r){e===void 0&&(e=[]),r===void 0&&(r=0),e.length=0;var h=i.tilemapLayer,n=o(i,s);return h.skipCull&&h.scrollFactorX===1&&h.scrollFactorY===1&&(n.left=0,n.right=i.width,n.top=0,n.bottom=i.height),v(i,n,r,e),e};c.exports=a},27229:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(19951),v=t(26099),a=new v,i=function(s,e,r,h){var n=h.baseTileWidth,l=h.baseTileHeight,f=h.tilemapLayer;f&&(n*=f.scaleX,l*=f.scaleY);var u=o(s,e,a,r,h),d=[],p=.5773502691896257,x,E;h.staggerAxis==="y"?(x=p*n,E=l/2):(x=n/2,E=p*l);for(var T=0;T<6;T++){var C=2*Math.PI*(.5-T)/6;d.push(new v(u.x+x*Math.cos(C),u.y+E*Math.sin(C)))}return d};c.exports=i},19951:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(26099),v=function(a,i,s,e,r){s||(s=new o);var h=r.baseTileWidth,n=r.baseTileHeight,l=r.tilemapLayer,f=0,u=0;l&&(e||(e=l.scene.cameras.main),f=l.x+e.scrollX*(1-l.scrollFactorX),u=l.y+e.scrollY*(1-l.scrollFactorY),h*=l.scaleX,n*=l.scaleY);var d=h/2,p=n/2,x,E;return r.staggerAxis==="y"?(x=f+h*a+h,E=u+1.5*i*p+p,i%2===0&&(this.staggerIndex==="odd"?x-=d:x+=d)):this.staggerAxis==="x"&&this.staggerIndex==="odd"&&(x=f+1.5*a*d+d,E=u+n*a+n,a%2===0&&(this.staggerIndex==="odd"?E-=p:E+=p)),s.set(x,E)};c.exports=v},86625:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(26099),v=function(a,i,s,e,r,h){e||(e=new o);var n=h.baseTileWidth,l=h.baseTileHeight,f=h.tilemapLayer;f&&(r||(r=f.scene.cameras.main),a=a-(f.x+r.scrollX*(1-f.scrollFactorX)),i=i-(f.y+r.scrollY*(1-f.scrollFactorY)),n*=f.scaleX,l*=f.scaleY);var u=.5773502691896257,d=-.3333333333333333,p=0,x=.6666666666666666,E=n/2,T=l/2,C,A,M,R,O;h.staggerAxis==="y"?(C=(a-E)/(u*n),A=(i-T)/T,M=u*C+d*A,R=p*C+x*A):(C=(a-E)/E,A=(i-T)/(u*l),M=d*C+u*A,R=x*C+p*A),O=-M-R;var L=Math.round(M),b=Math.round(R),N=Math.round(O),I=Math.abs(L-M),G=Math.abs(b-R),X=Math.abs(N-O);I>G&&I>X?L=-b-N:G>X&&(b=-L-N);var $,J=b;return h.staggerIndex==="odd"?$=J%2===0?b/2+L:b/2+L-.5:$=J%2===0?b/2+L:b/2+L+.5,e.set($,J)};c.exports=v},62991:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o,v){return t>=0&&t<v.width&&o>=0&&o<v.height};c.exports=g},14018:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(33528),v=function(a,i,s,e){s===void 0&&(s=[]),e===void 0&&(e=0),s.length=0;var r=a.tilemapLayer,h=a.data,n=a.width,l=a.height,f=r.skipCull,u=0,d=n,p=0,x=l,E,T,C;if(e===0)for(T=p;T<x;T++)for(E=u;E<d;E++)C=h[T][E],!(!C||C.index===-1||!C.visible||C.alpha===0)&&(!f&&!o(E,T,a,i)||s.push(C));else if(e===1)for(T=p;T<x;T++)for(E=d;E>=u;E--)C=h[T][E],!(!C||C.index===-1||!C.visible||C.alpha===0)&&(!f&&!o(E,T,a,i)||s.push(C));else if(e===2)for(T=x;T>=p;T--)for(E=u;E<d;E++)C=h[T][E],!(!C||C.index===-1||!C.visible||C.alpha===0)&&(!f&&!o(E,T,a,i)||s.push(C));else if(e===3)for(T=x;T>=p;T--)for(E=d;E>=u;E--)C=h[T][E],!(!C||C.index===-1||!C.visible||C.alpha===0)&&(!f&&!o(E,T,a,i)||s.push(C));return r.tilesDrawn=s.length,r.tilesTotal=n*l,s};c.exports=v},14127:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(26099),v=function(a,i,s,e,r){s||(s=new o);var h=r.baseTileWidth,n=r.baseTileHeight,l=r.tilemapLayer,f=0,u=0;l&&(e||(e=l.scene.cameras.main),f=l.x+e.scrollX*(1-l.scrollFactorX),h*=l.scaleX,u=l.y+e.scrollY*(1-l.scrollFactorY),n*=l.scaleY);var d=f+(a-i)*(h/2),p=u+(a+i)*(n/2);return s.set(d,p)};c.exports=v},96897:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(26099),v=function(a,i,s,e,r,h,n){e||(e=new o);var l=h.baseTileWidth,f=h.baseTileHeight,u=h.tilemapLayer;u&&(r||(r=u.scene.cameras.main),i=i-(u.y+r.scrollY*(1-u.scrollFactorY)),f*=u.scaleY,a=a-(u.x+r.scrollX*(1-u.scrollFactorX)),l*=u.scaleX);var d=l/2,p=f/2;a=a-d,n||(i=i-f);var x=.5*(a/d+i/p),E=.5*(-a/d+i/p);return s&&(x=Math.floor(x),E=Math.floor(E)),e.set(x,E)};c.exports=v},71558:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(23029),v=t(62991),a=t(72023),i=t(20576),s=function(e,r,h,n,l){if(n===void 0&&(n=!0),!v(r,h,l))return null;var f,u=l.data[h][r],d=u&&u.collides;e instanceof o?(l.data[h][r]===null&&(l.data[h][r]=new o(l,e.index,r,h,l.tileWidth,l.tileHeight)),l.data[h][r].copy(e)):(f=e,l.data[h][r]===null?l.data[h][r]=new o(l,f,r,h,l.tileWidth,l.tileHeight):l.data[h][r].index=f);var p=l.data[h][r],x=l.collideIndexes.indexOf(p.index)!==-1;if(f=e instanceof o?e.index:e,f===-1)p.width=l.tileWidth,p.height=l.tileHeight;else{var E=l.tilemapLayer.tilemap,T=E.tiles,C=T[f][2],A=E.tilesets[C];p.width=A.tileWidth,p.height=A.tileHeight}return i(p,x),n&&d!==p.collides&&a(r,h,l),p};c.exports=s},26303:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(71558),v=t(26099),a=new v,i=function(s,e,r,h,n,l){return l.tilemapLayer.worldToTileXY(e,r,!0,a,n,l),o(s,a.x,a.y,h,l)};c.exports=i},14051:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(42573),v=t(71558),a=function(i,s,e,r,h){if(r===void 0&&(r=!0),!Array.isArray(i))return null;Array.isArray(i[0])||(i=[i]);for(var n=i.length,l=i[0].length,f=0;f<n;f++)for(var u=0;u<l;u++){var d=i[f][u];v(d,s+u,e+f,!1,h)}r&&o(s-1,e-1,l+2,n+2,h)};c.exports=a},77389:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(7386),v=t(26546),a=function(i,s,e,r,h,n){var l,f=o(i,s,e,r,{},n);if(!h)for(h=[],l=0;l<f.length;l++)h.indexOf(f[l].index)===-1&&h.push(f[l].index);for(l=0;l<f.length;l++)f[l].index=v(h)};c.exports=a},63557:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(23029),v=t(62991),a=t(72023),i=function(s,e,r,h,n){if(r===void 0&&(r=!0),h===void 0&&(h=!0),!v(s,e,n))return null;var l=n.data[e][s];if(l)n.data[e][s]=r?null:new o(n,-1,s,e,n.tileWidth,n.tileHeight);else return null;return h&&l&&l.collides&&a(s,e,n),l};c.exports=i},94178:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(63557),v=t(26099),a=new v,i=function(s,e,r,h,n,l){return l.tilemapLayer.worldToTileXY(s,e,!0,a,n,l),o(a.x,a.y,r,h,l)};c.exports=i},15533:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(7386),v=t(3956),a=new v(105,210,231,150),i=new v(243,134,48,200),s=new v(40,39,37,150),e=function(r,h,n){h===void 0&&(h={});var l=h.tileColor!==void 0?h.tileColor:a,f=h.collidingTileColor!==void 0?h.collidingTileColor:i,u=h.faceColor!==void 0?h.faceColor:s,d=o(0,0,n.width,n.height,null,n);r.translateCanvas(n.tilemapLayer.x,n.tilemapLayer.y),r.scaleCanvas(n.tilemapLayer.scaleX,n.tilemapLayer.scaleY);for(var p=0;p<d.length;p++){var x=d[p],E=x.width,T=x.height,C=x.pixelX,A=x.pixelY,M=x.collides?f:l;M!==null&&(r.fillStyle(M.color,M.alpha/255),r.fillRect(C,A,E,T)),C+=1,A+=1,E-=2,T-=2,u!==null&&(r.lineStyle(1,u.color,u.alpha/255),x.faceTop&&r.lineBetween(C,A,C+E,A),x.faceRight&&r.lineBetween(C+E,A,C+E,A+T),x.faceBottom&&r.lineBetween(C,A+T,C+E,A+T),x.faceLeft&&r.lineBetween(C,A,C,A+T))}};c.exports=e},27987:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(7386),v=function(a,i,s,e,r,h,n){for(var l=o(s,e,r,h,null,n),f=0;f<l.length;f++)l[f]&&l[f].index===a&&(l[f].index=i)};c.exports=v},32483:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o,v,a){var i=t.data,s=t.width,e=t.height,r=t.tilemapLayer,h=Math.max(0,o.left),n=Math.min(s,o.right),l=Math.max(0,o.top),f=Math.min(e,o.bottom),u,d,p;if(v===0)for(d=l;d<f;d++)for(u=h;i[d]&&u<n;u++)p=i[d][u],!(!p||p.index===-1||!p.visible||p.alpha===0)&&a.push(p);else if(v===1)for(d=l;d<f;d++)for(u=n;i[d]&&u>=h;u--)p=i[d][u],!(!p||p.index===-1||!p.visible||p.alpha===0)&&a.push(p);else if(v===2)for(d=f;d>=l;d--)for(u=h;i[d]&&u<n;u++)p=i[d][u],!(!p||p.index===-1||!p.visible||p.alpha===0)&&a.push(p);else if(v===3)for(d=f;d>=l;d--)for(u=n;i[d]&&u>=h;u--)p=i[d][u],!(!p||p.index===-1||!p.visible||p.alpha===0)&&a.push(p);return r.tilesDrawn=a.length,r.tilesTotal=s*e,a};c.exports=g},57068:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(20576),v=t(42573),a=t(9589),i=function(s,e,r,h,n){e===void 0&&(e=!0),r===void 0&&(r=!0),n===void 0&&(n=!0),Array.isArray(s)||(s=[s]);for(var l=0;l<s.length;l++)a(s[l],e,h);if(n)for(var f=0;f<h.height;f++)for(var u=0;u<h.width;u++){var d=h.data[f][u];d&&s.indexOf(d.index)!==-1&&o(d,e)}r&&v(0,0,h.width,h.height,h)};c.exports=i},37266:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(20576),v=t(42573),a=t(9589),i=function(s,e,r,h,n,l){if(r===void 0&&(r=!0),h===void 0&&(h=!0),l===void 0&&(l=!0),!(s>e)){for(var f=s;f<=e;f++)a(f,r,n);if(l)for(var u=0;u<n.height;u++)for(var d=0;d<n.width;d++){var p=n.data[u][d];p&&p.index>=s&&p.index<=e&&o(p,r)}h&&v(0,0,n.width,n.height,n)}};c.exports=i},75661:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(20576),v=t(42573),a=t(9589),i=function(s,e,r,h){e===void 0&&(e=!0),r===void 0&&(r=!0),Array.isArray(s)||(s=[s]);for(var n=0;n<h.height;n++)for(var l=0;l<h.width;l++){var f=h.data[n][l];f&&s.indexOf(f.index)===-1&&(o(f,e),a(f.index,e,h))}r&&v(0,0,h.width,h.height,h)};c.exports=i},64740:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(20576),v=t(42573),a=t(97022),i=function(s,e,r,h){e===void 0&&(e=!0),r===void 0&&(r=!0);for(var n=0;n<h.height;n++)for(var l=0;l<h.width;l++){var f=h.data[n][l];if(f){for(var u in s)if(a(f.properties,u)){var d=s[u];Array.isArray(d)||(d=[d]);for(var p=0;p<d.length;p++)f.properties[u]===d[p]&&o(f,e)}}}r&&v(0,0,h.width,h.height,h)};c.exports=i},63307:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(20576),v=t(42573),a=function(i,s,e){i===void 0&&(i=!0),s===void 0&&(s=!0);for(var r=0;r<e.height;r++)for(var h=0;h<e.width;h++){var n=e.data[r][h];if(n){var l=n.getCollisionGroup();l&&l.objects&&l.objects.length>0&&o(n,i)}}s&&v(0,0,e.width,e.height,e)};c.exports=a},9589:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o,v){var a=v.collideIndexes.indexOf(t);o&&a===-1?v.collideIndexes.push(t):!o&&a!==-1&&v.collideIndexes.splice(a,1)};c.exports=g},20576:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o){o?t.setCollision(!0,!0,!0,!0,!1):t.resetCollision(!1)};c.exports=g},79583:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o,v,a){if(typeof t=="number")a.callbacks[t]=o!==null?{callback:o,callbackContext:v}:void 0;else for(var i=0,s=t.length;i<s;i++)a.callbacks[t[i]]=o!==null?{callback:o,callbackContext:v}:void 0};c.exports=g},93254:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(7386),v=function(a,i,s,e,r,h,n){for(var l=o(a,i,s,e,null,n),f=0;f<l.length;f++)l[f].setCollisionCallback(r,h)};c.exports=v},32903:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(7386),v=t(33680),a=function(i,s,e,r,h){var n=o(i,s,e,r,null,h),l=n.map(function(u){return u.index});v(l);for(var f=0;f<n.length;f++)n[f].index=l[f]};c.exports=a},61325:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(63448),v=t(56583),a=function(i,s){var e=i.tilemapLayer.tilemap,r=i.tilemapLayer,h=Math.floor(e.tileWidth*r.scaleX),n=Math.floor(e.tileHeight*r.scaleY),l=v(s.worldView.x-r.x,h,0,!0)-r.cullPaddingX,f=o(s.worldView.right-r.x,h,0,!0)+r.cullPaddingX,u=v(s.worldView.y-r.y,n/2,0,!0)-r.cullPaddingY,d=o(s.worldView.bottom-r.y,n/2,0,!0)+r.cullPaddingY;return{left:l,right:f,top:u,bottom:d}};c.exports=a},54503:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(61325),v=t(32483),a=function(i,s,e,r){e===void 0&&(e=[]),r===void 0&&(r=0),e.length=0;var h=i.tilemapLayer,n=o(i,s);return h.skipCull&&h.scrollFactorX===1&&h.scrollFactorY===1&&(n.left=0,n.right=i.width,n.top=0,n.bottom=i.height),v(i,n,r,e),e};c.exports=a},97202:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(26099),v=function(a,i,s,e,r){s||(s=new o);var h=r.baseTileWidth,n=r.baseTileHeight,l=r.tilemapLayer,f=0,u=0;l&&(e||(e=l.scene.cameras.main),f=l.x+e.scrollX*(1-l.scrollFactorX),h*=l.scaleX,u=l.y+e.scrollY*(1-l.scrollFactorY),n*=l.scaleY);var d=f+a*h+i%2*(h/2),p=u+i*(n/2);return s.set(d,p)};c.exports=v},28054:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o,v){var a=v.baseTileHeight,i=v.tilemapLayer,s=0;return i&&(o===void 0&&(o=i.scene.cameras.main),s=i.y+o.scrollY*(1-i.scrollFactorY),a*=i.scaleY),s+t*(a/2)+a};c.exports=g},15108:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(26099),v=function(a,i,s,e,r,h){e||(e=new o);var n=h.baseTileWidth,l=h.baseTileHeight,f=h.tilemapLayer;f&&(r||(r=f.scene.cameras.main),i=i-(f.y+r.scrollY*(1-f.scrollFactorY)),l*=f.scaleY,a=a-(f.x+r.scrollX*(1-f.scrollFactorX)),n*=f.scaleX);var u=s?Math.floor(i/(l/2)):i/(l/2),d=s?Math.floor((a+u%2*.5*n)/n):(a+u%2*.5*n)/n;return e.set(d,u)};c.exports=v},51900:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o,v,a){var i=a.baseTileHeight,s=a.tilemapLayer;return s&&(v||(v=s.scene.cameras.main),t=t-(s.y+v.scrollY*(1-s.scrollFactorY)),i*=s.scaleY),o?Math.floor(t/(i/2)):t/(i/2)};c.exports=g},86560:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(7386),v=function(a,i,s,e,r,h,n){for(var l=o(s,e,r,h,null,n),f=0;f<l.length;f++)l[f]&&(l[f].index===a?l[f].index=i:l[f].index===i&&(l[f].index=a))};c.exports=v},97281:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o,v){var a=v.baseTileWidth,i=v.tilemapLayer,s=0;return i&&(o||(o=i.scene.cameras.main),s=i.x+o.scrollX*(1-i.scrollFactorX),a*=i.scaleX),s+t*a};c.exports=g},70326:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(97281),v=t(29650),a=t(26099),i=function(s,e,r,h,n){return r||(r=new a(0,0)),r.x=o(s,h,n),r.y=v(e,h,n),r};c.exports=i},29650:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o,v){var a=v.baseTileHeight,i=v.tilemapLayer,s=0;return i&&(o||(o=i.scene.cameras.main),s=i.y+o.scrollY*(1-i.scrollFactorY),a*=i.scaleY),s+t*a};c.exports=g},77366:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(7386),v=t(75508),a=function(i,s,e,r,h,n){if(h){var l,f=o(i,s,e,r,null,n),u=0;for(l=0;l<h.length;l++)u+=h[l].weight;if(!(u<=0))for(l=0;l<f.length;l++){for(var d=v.RND.frac()*u,p=0,x=-1,E=0;E<h.length;E++)if(p+=h[E].weight,d<=p){var T=h[E].index;x=Array.isArray(T)?T[Math.floor(v.RND.frac()*T.length)]:T;break}f[l].index=x}}};c.exports=a},10095:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(85896),v=t(26099),a=new v,i=function(s,e,r,h){return o(s,0,e,a,r,h),a.x};c.exports=i},85896:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(26099),v=function(a,i,s,e,r,h){s===void 0&&(s=!0),e||(e=new o);var n=h.baseTileWidth,l=h.baseTileHeight,f=h.tilemapLayer;f&&(r||(r=f.scene.cameras.main),a=a-(f.x+r.scrollX*(1-f.scrollFactorX)),i=i-(f.y+r.scrollY*(1-f.scrollFactorY)),n*=f.scaleX,l*=f.scaleY);var u=a/n,d=i/l;return s&&(u=Math.floor(u),d=Math.floor(d)),e.set(u,d)};c.exports=v},63288:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(85896),v=t(26099),a=new v,i=function(s,e,r,h){return o(0,s,e,a,r,h),a.y};c.exports=i},81086:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={CalculateFacesAt:t(72023),CalculateFacesWithin:t(42573),CheckIsoBounds:t(33528),Copy:t(1785),CreateFromTiles:t(78419),CullBounds:t(19545),CullTiles:t(30003),Fill:t(35137),FilterTiles:t(40253),FindByIndex:t(52692),FindTile:t(66151),ForEachTile:t(97560),GetCullTilesFunction:t(43305),GetTileAt:t(7423),GetTileAtWorldXY:t(60540),GetTileCorners:t(55826),GetTileCornersFunction:t(11758),GetTilesWithin:t(7386),GetTilesWithinShape:t(91141),GetTilesWithinWorldXY:t(96523),GetTileToWorldXFunction:t(39167),GetTileToWorldXYFunction:t(62e3),GetTileToWorldYFunction:t(5984),GetWorldToTileXFunction:t(96113),GetWorldToTileXYFunction:t(16926),GetWorldToTileYFunction:t(55762),HasTileAt:t(45091),HasTileAtWorldXY:t(24152),HexagonalCullBounds:t(90454),HexagonalCullTiles:t(9474),HexagonalGetTileCorners:t(27229),HexagonalTileToWorldXY:t(19951),HexagonalWorldToTileXY:t(86625),IsInLayerBounds:t(62991),IsometricCullTiles:t(14018),IsometricTileToWorldXY:t(14127),IsometricWorldToTileXY:t(96897),PutTileAt:t(71558),PutTileAtWorldXY:t(26303),PutTilesAt:t(14051),Randomize:t(77389),RemoveTileAt:t(63557),RemoveTileAtWorldXY:t(94178),RenderDebug:t(15533),ReplaceByIndex:t(27987),RunCull:t(32483),SetCollision:t(57068),SetCollisionBetween:t(37266),SetCollisionByExclusion:t(75661),SetCollisionByProperty:t(64740),SetCollisionFromCollisionGroup:t(63307),SetLayerCollisionIndex:t(9589),SetTileCollision:t(20576),SetTileIndexCallback:t(79583),SetTileLocationCallback:t(93254),Shuffle:t(32903),StaggeredCullBounds:t(61325),StaggeredCullTiles:t(54503),StaggeredTileToWorldXY:t(97202),StaggeredTileToWorldY:t(28054),StaggeredWorldToTileXY:t(15108),StaggeredWorldToTileY:t(51900),SwapByIndex:t(86560),TileToWorldX:t(97281),TileToWorldXY:t(70326),TileToWorldY:t(29650),WeightedRandomize:t(77366),WorldToTileX:t(10095),WorldToTileXY:t(85896),WorldToTileY:t(63288)}},91907:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={ORTHOGONAL:0,ISOMETRIC:1,STAGGERED:2,HEXAGONAL:3}},21829:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o={ORIENTATION:t(91907)};c.exports=o},62501:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(79291),v=t(21829),a={Components:t(81086),Parsers:t(57442),Formats:t(80341),ImageCollection:t(16536),ParseToTilemap:t(31989),Tile:t(23029),Tilemap:t(49075),TilemapCreator:t(45939),TilemapFactory:t(46029),Tileset:t(33629),TilemapLayer:t(20442),Orientation:t(91907),LayerData:t(14977),MapData:t(87010),ObjectLayer:t(48700)};a=o(!1,a,v.ORIENTATION),c.exports=a},14977:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(91907),a=t(95540),i=new o({initialize:function(e){e===void 0&&(e={}),this.name=a(e,"name","layer"),this.id=a(e,"id",0),this.x=a(e,"x",0),this.y=a(e,"y",0),this.width=a(e,"width",0),this.height=a(e,"height",0),this.tileWidth=a(e,"tileWidth",0),this.tileHeight=a(e,"tileHeight",0),this.baseTileWidth=a(e,"baseTileWidth",this.tileWidth),this.baseTileHeight=a(e,"baseTileHeight",this.tileHeight),this.orientation=a(e,"orientation",v.ORTHOGONAL),this.widthInPixels=a(e,"widthInPixels",this.width*this.baseTileWidth),this.heightInPixels=a(e,"heightInPixels",this.height*this.baseTileHeight),this.alpha=a(e,"alpha",1),this.visible=a(e,"visible",!0),this.properties=a(e,"properties",[]),this.indexes=a(e,"indexes",[]),this.collideIndexes=a(e,"collideIndexes",[]),this.callbacks=a(e,"callbacks",[]),this.bodies=a(e,"bodies",[]),this.data=a(e,"data",[]),this.tilemapLayer=a(e,"tilemapLayer",null),this.hexSideLength=a(e,"hexSideLength",0),this.staggerAxis=a(e,"staggerAxis","y"),this.staggerIndex=a(e,"staggerIndex","odd")}});c.exports=i},87010:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(91907),a=t(95540),i=new o({initialize:function(e){e===void 0&&(e={}),this.name=a(e,"name","map"),this.width=a(e,"width",0),this.height=a(e,"height",0),this.infinite=a(e,"infinite",!1),this.tileWidth=a(e,"tileWidth",0),this.tileHeight=a(e,"tileHeight",0),this.widthInPixels=a(e,"widthInPixels",this.width*this.tileWidth),this.heightInPixels=a(e,"heightInPixels",this.height*this.tileHeight),this.format=a(e,"format",null),this.orientation=a(e,"orientation",v.ORTHOGONAL),this.renderOrder=a(e,"renderOrder","right-down"),this.version=a(e,"version","1"),this.properties=a(e,"properties",{}),this.layers=a(e,"layers",[]),this.images=a(e,"images",[]),this.objects=a(e,"objects",[]),Array.isArray(this.objects)||(this.objects=[]),this.collision=a(e,"collision",{}),this.tilesets=a(e,"tilesets",[]),this.imageCollections=a(e,"imageCollections",[]),this.tiles=a(e,"tiles",[]),this.hexSideLength=a(e,"hexSideLength",0),this.staggerAxis=a(e,"staggerAxis","y"),this.staggerIndex=a(e,"staggerIndex","odd")}});c.exports=i},48700:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(95540),a=new o({initialize:function(s){s===void 0&&(s={}),this.name=v(s,"name","object layer"),this.id=v(s,"id",0),this.opacity=v(s,"opacity",1),this.properties=v(s,"properties",{}),this.propertyTypes=v(s,"propertytypes",{}),this.type=v(s,"type","objectgroup"),this.visible=v(s,"visible",!0),this.objects=v(s,"objects",[]),Array.isArray(this.objects)||(this.objects=[])}});c.exports=a},6641:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(91907),v=function(a){return a=a.toLowerCase(),a==="isometric"?o.ISOMETRIC:a==="staggered"?o.STAGGERED:a==="hexagonal"?o.HEXAGONAL:o.ORTHOGONAL};c.exports=v},46177:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(80341),v=t(2342),a=t(82593),i=t(46594),s=t(87021),e=function(r,h,n,l,f,u){var d;switch(h){case o.ARRAY_2D:d=v(r,n,l,f,u);break;case o.CSV:d=a(r,n,l,f,u);break;case o.TILED_JSON:d=i(r,n,u);break;case o.WELTMEISTER:d=s(r,n,u);break;default:console.warn("Unrecognized tilemap data format: "+h),d=null}return d};c.exports=e},2342:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(80341),v=t(14977),a=t(87010),i=t(23029),s=function(e,r,h,n,l){for(var f=new v({tileWidth:h,tileHeight:n}),u=new a({name:e,tileWidth:h,tileHeight:n,format:o.ARRAY_2D,layers:[f]}),d=[],p=r.length,x=0,E=0;E<r.length;E++){d[E]=[];for(var T=r[E],C=0;C<T.length;C++){var A=parseInt(T[C],10);isNaN(A)||A===-1?d[E][C]=l?null:new i(f,-1,C,E,h,n):d[E][C]=new i(f,A,C,E,h,n)}x===0&&(x=T.length)}return u.width=f.width=x,u.height=f.height=p,u.widthInPixels=f.widthInPixels=x*h,u.heightInPixels=f.heightInPixels=p*n,f.data=d,u};c.exports=s},82593:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(80341),v=t(2342),a=function(i,s,e,r,h){var n=s.trim().split(`
`).map(function(f){return f.split(",")}),l=v(i,n,e,r,h);return l.format=o.CSV,l};c.exports=a},6656:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(14977),v=t(23029),a=function(i,s){for(var e=[],r=0;r<i.layer.length;r++){for(var h=i.layer[r],n=new o({name:h.name,width:h.width,height:h.height,tileWidth:h.tilesize,tileHeight:h.tilesize,visible:h.visible===1}),l=[],f=[],u=0;u<h.data.length;u++){for(var d=0;d<h.data[u].length;d++){var p=h.data[u][d]-1,x;p>-1?x=new v(n,p,d,u,h.tilesize,h.tilesize):x=s?null:new v(n,-1,d,u,h.tilesize,h.tilesize),l.push(x)}f.push(l),l=[]}n.data=f,e.push(n)}return e};c.exports=a},96483:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(33629),v=function(a){for(var i=[],s=[],e=0;e<a.layer.length;e++){var r=a.layer[e],h=r.tilesetName;h!==""&&s.indexOf(h)===-1&&(s.push(h),i.push(new o(h,0,r.tilesize,r.tilesize,0,0)))}return i};c.exports=v},87021:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(80341),v=t(87010),a=t(6656),i=t(96483),s=function(e,r,h){if(r.layer.length===0)return console.warn("No layers found in the Weltmeister map: "+e),null;for(var n=0,l=0,f=0;f<r.layer.length;f++)r.layer[f].width>n&&(n=r.layer[f].width),r.layer[f].height>l&&(l=r.layer[f].height);var u=new v({width:n,height:l,name:e,tileWidth:r.layer[0].tilesize,tileHeight:r.layer[0].tilesize,format:o.WELTMEISTER});return u.layers=a(r,h),u.tilesets=i(r),u};c.exports=s},52833:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={ParseTileLayers:t(6656),ParseTilesets:t(96483),ParseWeltmeister:t(87021)}},57442:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={FromOrientationString:t(6641),Parse:t(46177),Parse2DArray:t(2342),ParseCSV:t(82593),Impact:t(52833),Tiled:t(96761)}},51233:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(79291),v=function(a){for(var i,s,e,r,h,n=0;n<a.layers.length;n++){i=a.layers[n],r=null;for(var l=0;l<i.data.length;l++){h=i.data[l];for(var f=0;f<h.length;f++)s=h[f],!(s===null||s.index<0)&&(e=a.tiles[s.index][2],r=a.tilesets[e],s.width=r.tileWidth,s.height=r.tileHeight,r.tileProperties&&r.tileProperties[s.index-r.firstgid]&&(s.properties=o(s.properties,r.tileProperties[s.index-r.firstgid])))}}};c.exports=v},41868:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t){for(var o=window.atob(t),v=o.length,a=new Array(v/4),i=0;i<v;i+=4)a[i/4]=(o.charCodeAt(i)|o.charCodeAt(i+1)<<8|o.charCodeAt(i+2)<<16|o.charCodeAt(i+3)<<24)>>>0;return a};c.exports=g},84101:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(33629),v=function(a){var i,s,e=[];for(i=0;i<a.imageCollections.length;i++)for(var r=a.imageCollections[i],h=r.images,n=0;n<h.length;n++){var l=h[n];s=new o(l.image,l.gid,r.imageWidth,r.imageHeight,0,0),s.updateTileData(r.imageWidth,r.imageHeight),a.tilesets.push(s)}for(i=0;i<a.tilesets.length;i++){s=a.tilesets[i];for(var f=s.tileMargin,u=s.tileMargin,d=0,p=0,x=0,E=s.firstgid;E<s.firstgid+s.total&&(e[E]=[f,u,i],f+=s.tileWidth+s.tileSpacing,d++,!(d===s.total||(p++,p===s.columns&&(f=s.tileMargin,u+=s.tileHeight+s.tileSpacing,p=0,x++,x===s.rows))));E++);}return e};c.exports=v},79677:(c,g,t)=>{/**
 * @author       Seth Berrier <berriers@uwstout.edu>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(95540),v=function(a,i,s){if(!i)return{i:0,layers:a.layers,name:"",opacity:1,visible:!0,x:0,y:0};var e=i.x+o(i,"startx",0)*a.tilewidth+o(i,"offsetx",0),r=i.y+o(i,"starty",0)*a.tileheight+o(i,"offsety",0);return{i:0,layers:i.layers,name:s.name+i.name+"/",opacity:s.opacity*i.opacity,visible:s.visible&&i.visible,x:s.x+e,y:s.y+r}};c.exports=v},29920:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=2147483648,t=1073741824,o=536870912,v=function(a){var i=!!(a&g),s=!!(a&t),e=!!(a&o);a=a&536870911;var r=0,h=!1;return i&&s&&e?(r=Math.PI/2,h=!0):i&&s&&!e?(r=Math.PI,h=!1):i&&!s&&e?(r=Math.PI/2,h=!1):i&&!s&&!e?(r=0,h=!0):!i&&s&&e?(r=3*Math.PI/2,h=!1):!i&&s&&!e?(r=Math.PI,h=!0):!i&&!s&&e?(r=3*Math.PI/2,h=!0):!i&&!s&&!e&&(r=0,h=!1),{gid:a,flippedHorizontal:i,flippedVertical:s,flippedAntiDiagonal:e,rotation:r,flipped:h}};c.exports=v},12635:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(95540),v=t(79677),a=function(i){for(var s=[],e=[],r=v(i);r.i<r.layers.length||e.length>0;){if(r.i>=r.layers.length){if(e.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}r=e.pop();continue}var h=r.layers[r.i];if(r.i++,h.type!=="imagelayer"){if(h.type==="group"){var n=v(i,h,r);e.push(r),r=n}continue}var l=o(h,"offsetx",0)+o(h,"startx",0),f=o(h,"offsety",0)+o(h,"starty",0);s.push({name:r.name+h.name,image:h.image,x:r.x+l+h.x,y:r.y+f+h.y,alpha:r.opacity*h.opacity,visible:r.visible&&h.visible,properties:o(h,"properties",{})})}return s};c.exports=a},46594:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(51233),v=t(84101),a=t(91907),i=t(62644),s=t(80341),e=t(6641),r=t(87010),h=t(12635),n=t(22611),l=t(28200),f=t(24619),u=function(d,p,x){var E=i(p),T=new r({width:E.width,height:E.height,name:d,tileWidth:E.tilewidth,tileHeight:E.tileheight,orientation:e(E.orientation),format:s.TILED_JSON,version:E.version,properties:E.properties,renderOrder:E.renderorder,infinite:E.infinite});T.orientation===a.HEXAGONAL&&(T.hexSideLength=E.hexsidelength,T.staggerAxis=E.staggeraxis,T.staggerIndex=E.staggerindex),T.layers=l(E,x),T.images=h(E);var C=f(E);return T.tilesets=C.tilesets,T.imageCollections=C.imageCollections,T.objects=n(E),T.tiles=v(T),o(T),T};c.exports=u},52205:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(18254),v=t(29920),a=function(e){return{x:e.x,y:e.y}},i=["id","name","type","rotation","properties","visible","x","y","width","height"],s=function(e,r,h){r===void 0&&(r=0),h===void 0&&(h=0);var n=o(e,i);if(n.x+=r,n.y+=h,e.gid){var l=v(e.gid);n.gid=l.gid,n.flippedHorizontal=l.flippedHorizontal,n.flippedVertical=l.flippedVertical,n.flippedAntiDiagonal=l.flippedAntiDiagonal}else e.polyline?n.polyline=e.polyline.map(a):e.polygon?n.polygon=e.polygon.map(a):e.ellipse?n.ellipse=e.ellipse:e.text?n.text=e.text:e.point?n.point=!0:n.rectangle=!0;return n};c.exports=s},22611:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(95540),v=t(52205),a=t(48700),i=t(79677),s=function(e){for(var r=[],h=[],n=i(e);n.i<n.layers.length||h.length>0;){if(n.i>=n.layers.length){if(h.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}n=h.pop();continue}var l=n.layers[n.i];if(n.i++,l.opacity*=n.opacity,l.visible=n.visible&&l.visible,l.type!=="objectgroup"){if(l.type==="group"){var f=i(e,l,n);h.push(n),n=f}continue}l.name=n.name+l.name;for(var u=n.x+o(l,"startx",0)+o(l,"offsetx",0),d=n.y+o(l,"starty",0)+o(l,"offsety",0),p=[],x=0;x<l.objects.length;x++){var E=v(l.objects[x],u,d);p.push(E)}var T=new a(l);T.objects=p,r.push(T)}return r};c.exports=s},28200:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(41868),v=t(91907),a=t(79677),i=t(6641),s=t(95540),e=t(14977),r=t(29920),h=t(23029),n=function(l,f){for(var u=s(l,"infinite",!1),d=[],p=[],x=a(l);x.i<x.layers.length||p.length>0;){if(x.i>=x.layers.length){if(p.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}x=p.pop();continue}var E=x.layers[x.i];if(x.i++,E.type!=="tilelayer"){if(E.type==="group"){var T=a(l,E,x);p.push(x),x=T}continue}if(E.compression){console.warn("TilemapParser.parseTiledJSON - Layer compression is unsupported, skipping layer '"+E.name+"'");continue}else if(E.encoding&&E.encoding==="base64"){if(E.chunks)for(var C=0;C<E.chunks.length;C++)E.chunks[C].data=o(E.chunks[C].data);E.data&&(E.data=o(E.data)),delete E.encoding}var A,M,R,O,L=[],b=0;if(u){var N=s(E,"startx",0)+E.x,I=s(E,"starty",0)+E.y;A=new e({name:x.name+E.name,id:E.id,x:x.x+s(E,"offsetx",0)+N*l.tilewidth,y:x.y+s(E,"offsety",0)+I*l.tileheight,width:E.width,height:E.height,tileWidth:l.tilewidth,tileHeight:l.tileheight,alpha:x.opacity*E.opacity,visible:x.visible&&E.visible,properties:s(E,"properties",[]),orientation:i(l.orientation)}),A.orientation===v.HEXAGONAL&&(A.hexSideLength=l.hexsidelength,A.staggerAxis=l.staggeraxis,A.staggerIndex=l.staggerindex);for(var G=0;G<E.height;G++){L[G]=[null];for(var X=0;X<E.width;X++)L[G][X]=null}for(G=0,_=E.chunks.length;G<_;G++)for(var $=E.chunks[G],J=$.x-N,z=$.y-I,Y=0,D=0,B=$.data.length;D<B;D++){var U=b+J,H=Y+z;M=r($.data[D]),M.gid>0?(R=new h(A,M.gid,U,H,l.tilewidth,l.tileheight),R.rotation=M.rotation,R.flipX=M.flipped,L[H][U]=R):(O=f?null:new h(A,-1,U,H,l.tilewidth,l.tileheight),L[H][U]=O),b++,b===$.width&&(Y++,b=0)}}else{A=new e({name:x.name+E.name,id:E.id,x:x.x+s(E,"offsetx",0)+E.x,y:x.y+s(E,"offsety",0)+E.y,width:E.width,height:E.height,tileWidth:l.tilewidth,tileHeight:l.tileheight,alpha:x.opacity*E.opacity,visible:x.visible&&E.visible,properties:s(E,"properties",[]),orientation:i(l.orientation)}),A.orientation===v.HEXAGONAL&&(A.hexSideLength=l.hexsidelength,A.staggerAxis=l.staggeraxis,A.staggerIndex=l.staggerindex);for(var j=[],q=0,_=E.data.length;q<_;q++)M=r(E.data[q]),M.gid>0?(R=new h(A,M.gid,b,L.length,l.tilewidth,l.tileheight),R.rotation=M.rotation,R.flipX=M.flipped,j.push(R)):(O=f?null:new h(A,-1,b,L.length,l.tilewidth,l.tileheight),j.push(O)),b++,b===E.width&&(L.push(j),b=0,j=[])}A.data=L,d.push(A)}return d};c.exports=n},24619:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(33629),v=t(16536),a=t(52205),i=t(57880),s=function(e){for(var r=[],h=[],n=null,l,f=0;f<e.tilesets.length;f++){var u=e.tilesets[f];if(u.source)console.warn("External tilesets unsupported. Use Embed Tileset and re-export");else if(u.image){var d=new o(u.name,u.firstgid,u.tilewidth,u.tileheight,u.margin,u.spacing,void 0,void 0,u.tileoffset);if(e.version>1){var p=void 0,x=void 0;if(Array.isArray(u.tiles)){p=p||{},x=x||{};for(var E=0;E<u.tiles.length;E++){var T=u.tiles[E];if(T.properties){var C={};T.properties.forEach(function(G){C[G.name]=G.value}),x[T.id]=C}if(T.objectgroup&&((p[T.id]||(p[T.id]={})).objectgroup=T.objectgroup,T.objectgroup.objects)){var A=T.objectgroup.objects.map(function(G){return a(G)});p[T.id].objectgroup.objects=A}T.animation&&((p[T.id]||(p[T.id]={})).animation=T.animation),T.type&&((p[T.id]||(p[T.id]={})).type=T.type)}}Array.isArray(u.wangsets)&&(p=p||{},x=x||{},i(u.wangsets,p)),p&&(d.tileData=p,d.tileProperties=x)}else if(u.tileproperties&&(d.tileProperties=u.tileproperties),u.tiles){d.tileData=u.tiles;for(l in d.tileData){var M=d.tileData[l].objectgroup;if(M&&M.objects){var R=M.objects.map(function(G){return a(G)});d.tileData[l].objectgroup.objects=R}}}d.updateTileData(u.imagewidth,u.imageheight),r.push(d)}else{var O=new v(u.name,u.firstgid,u.tilewidth,u.tileheight,u.margin,u.spacing,u.properties),L=0;for(E=0;E<u.tiles.length;E++){T=u.tiles[E];var b=T.image,N=parseInt(T.id,10),I=u.firstgid+N;O.addImage(I,b),L=Math.max(N,L)}O.maxId=L,h.push(O)}n&&(n.lastgid=u.firstgid-1),n=u}return{tilesets:r,imageCollections:h}};c.exports=s},57880:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o){for(var v=0;v<t.length;v++){var a=t[v],i=v;if(a.name&&a.name!==""&&(i=a.name),Array.isArray(a.wangtiles)&&a.wangtiles.length>0){var s={},e={},r,h,n;if(Array.isArray(a.edgecolors))for(r=0;r<a.edgecolors.length;r++)n=1+r,h=a.edgecolors[r],h.name!==""&&(s[n]=h.name);if(Array.isArray(a.cornercolors))for(r=0;r<a.cornercolors.length;r++)n=1+r,h=a.cornercolors[r],h.name!==""&&(e[n]=h.name);if(Array.isArray(a.colors))for(r=0;r<a.colors.length;r++)h=a.colors[r],n=1+r,h.name!==""&&(s[n]=e[n]=h.name);for(var l=[s,e,s,e,s,e,s,e],f=0;f<a.wangtiles.length;f++){var u=a.wangtiles[f],d=o[u.tileid]||(o[u.tileid]={});d=d.wangid||(d.wangid={});for(var p=[],x=0;x<Math.min(l.length,u.wangid.length);x++){if(h=u.wangid[x],h===0){p.push(void 0);continue}var E=l[x][h];if(E!==void 0){p.push(E);continue}p.push(h)}d[i]=p}}}};c.exports=g},96761:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={AssignTileProperties:t(51233),Base64Decode:t(41868),BuildTilesetIndex:t(84101),CreateGroupLayer:t(79677),ParseGID:t(29920),ParseImageLayers:t(12635),ParseJSONTiled:t(46594),ParseObject:t(52205),ParseObjectLayers:t(22611),ParseTileLayers:t(28200),ParseTilesets:t(24619)}},33385:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(37277),a=t(44594),i=t(94880),s=t(72905),e=new o({initialize:function(h){this.scene=h,this.systems=h.sys,this.now=0,this.startTime=0,this.timeScale=1,this.paused=!1,this._active=[],this._pendingInsertion=[],this._pendingRemoval=[],h.sys.events.once(a.BOOT,this.boot,this),h.sys.events.on(a.START,this.start,this)},boot:function(){this.now=this.systems.game.loop.time,this.systems.events.once(a.DESTROY,this.destroy,this)},start:function(){this.startTime=this.systems.game.loop.time;var r=this.systems.events;r.on(a.PRE_UPDATE,this.preUpdate,this),r.on(a.UPDATE,this.update,this),r.once(a.SHUTDOWN,this.shutdown,this)},addEvent:function(r){var h;return r instanceof i?(h=r,this.removeEvent(h),h.elapsed=h.startAt,h.hasDispatched=!1,h.repeatCount=h.repeat===-1||h.loop?999999999999:h.repeat):h=new i(r),this._pendingInsertion.push(h),h},delayedCall:function(r,h,n,l){return this.addEvent({delay:r,callback:h,args:n,callbackScope:l})},clearPendingEvents:function(){return this._pendingInsertion=[],this},removeEvent:function(r){Array.isArray(r)||(r=[r]);for(var h=0;h<r.length;h++){var n=r[h];s(this._pendingRemoval,n),s(this._pendingInsertion,n),s(this._active,n)}return this},removeAllEvents:function(){return this._pendingRemoval=this._pendingRemoval.concat(this._active),this},preUpdate:function(){var r=this._pendingRemoval.length,h=this._pendingInsertion.length;if(!(r===0&&h===0)){var n,l;for(n=0;n<r;n++){l=this._pendingRemoval[n];var f=this._active.indexOf(l);f>-1&&this._active.splice(f,1),l.destroy()}for(n=0;n<h;n++)l=this._pendingInsertion[n],this._active.push(l);this._pendingRemoval.length=0,this._pendingInsertion.length=0}},update:function(r,h){if(this.now=r,!this.paused){h*=this.timeScale;for(var n=0;n<this._active.length;n++){var l=this._active[n];if(!l.paused&&(l.elapsed+=h*l.timeScale,l.elapsed>=l.delay)){var f=l.elapsed-l.delay;if(l.elapsed=l.delay,!l.hasDispatched&&l.callback&&(l.hasDispatched=!0,l.callback.apply(l.callbackScope,l.args)),l.repeatCount>0){if(l.repeatCount--,f>=l.delay)for(;f>=l.delay&&l.repeatCount>0;)l.callback&&l.callback.apply(l.callbackScope,l.args),f-=l.delay,l.repeatCount--;l.elapsed=f,l.hasDispatched=!1}else l.hasDispatched&&this._pendingRemoval.push(l)}}}},shutdown:function(){var r;for(r=0;r<this._pendingInsertion.length;r++)this._pendingInsertion[r].destroy();for(r=0;r<this._active.length;r++)this._active[r].destroy();for(r=0;r<this._pendingRemoval.length;r++)this._pendingRemoval[r].destroy();this._active.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0;var h=this.systems.events;h.off(a.PRE_UPDATE,this.preUpdate,this),h.off(a.UPDATE,this.update,this),h.off(a.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.scene.sys.events.off(a.START,this.start,this),this.scene=null,this.systems=null}});v.register("Clock",e,"time"),c.exports=e},96120:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(50792),a=t(39429),i=t(95540),s=t(44594),e=t(89809),r=new o({Extends:v,initialize:function(n,l){v.call(this),this.scene=n,this.systems=n.sys,this.elapsed=0,this.paused=!0,this.complete=!1,this.totalComplete=0,this.loop=0,this.iteration=0,this.events=[];var f=this.systems.events;f.on(s.PRE_UPDATE,this.preUpdate,this),f.on(s.UPDATE,this.update,this),f.once(s.SHUTDOWN,this.destroy,this),l&&this.add(l)},preUpdate:function(h,n){this.paused||(this.elapsed+=n)},update:function(){if(!(this.paused||this.complete)){var h,n=this.events,l=!1,f=this.systems,u;for(h=0;h<n.length;h++){var d=n[h];if(!d.complete&&d.time<=this.elapsed){if(d.complete=!0,this.totalComplete++,u=d.target?d.target:this,d.if&&!d.if.call(u,d))continue;if(d.once&&(l=!0),d.set&&d.target)for(var p in d.set)d.target[p]=d.set[p];this.iteration&&d.repeat++,d.loop&&d.repeat&&d.loop.call(u),d.tween&&f.tweens.add(d.tween),d.sound&&(typeof d.sound=="string"?f.sound.play(d.sound):f.sound.play(d.sound.key,d.sound.config)),d.event&&this.emit(d.event,u),d.run&&d.run.call(u),d.stop&&this.stop()}}if(l)for(h=0;h<n.length;h++)n[h].complete&&n[h].once&&(n.splice(h,1),h--);this.totalComplete>=n.length&&(this.loop!==0&&(this.loop===-1||this.loop>this.iteration)?(this.iteration++,this.reset(!0)):this.complete=!0),this.complete&&this.emit(e.COMPLETE,this)}},play:function(h){return h===void 0&&(h=!0),this.paused=!1,this.complete=!1,this.totalComplete=0,h&&this.reset(),this},pause:function(){return this.paused=!0,this},repeat:function(h){return(h===void 0||h===!0)&&(h=-1),h===!1&&(h=0),this.loop=h,this},resume:function(){return this.paused=!1,this},stop:function(){return this.paused=!0,this.complete=!0,this},reset:function(h){h===void 0&&(h=!1),this.elapsed=0,h||(this.iteration=0);for(var n=0;n<this.events.length;n++)this.events[n].complete=!1,h||(this.events[n].repeat=0);return this.play(!1)},add:function(h){Array.isArray(h)||(h=[h]);var n=this.events,l=0;n.length>0&&(l=n[n.length-1].time);for(var f=0;f<h.length;f++){var u=h[f],d=i(u,"at",0),p=i(u,"in",null);p!==null&&(d=this.elapsed+p);var x=i(u,"from",null);x!==null&&(d=l+x),n.push({complete:!1,time:d,repeat:0,if:i(u,"if",null),run:i(u,"run",null),loop:i(u,"loop",null),event:i(u,"event",null),target:i(u,"target",null),set:i(u,"set",null),tween:i(u,"tween",null),sound:i(u,"sound",null),once:i(u,"once",!1),stop:i(u,"stop",!1)}),l=d}return this.complete=!1,this},clear:function(){return this.events=[],this.elapsed=0,this.paused=!0,this},isPlaying:function(){return!this.paused&&!this.complete},getProgress:function(){var h=Math.min(this.totalComplete,this.events.length);return h/this.events.length},destroy:function(){var h=this.systems.events;h.off(s.PRE_UPDATE,this.preUpdate,this),h.off(s.UPDATE,this.update,this),h.off(s.SHUTDOWN,this.destroy,this),this.scene=null,this.systems=null,this.events=[]}});a.register("timeline",function(h){return new r(this.scene,h)}),c.exports=r},94880:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(95540),a=new o({initialize:function(s){this.delay=0,this.repeat=0,this.repeatCount=0,this.loop=!1,this.callback,this.callbackScope,this.args,this.timeScale=1,this.startAt=0,this.elapsed=0,this.paused=!1,this.hasDispatched=!1,this.reset(s)},reset:function(i){if(this.delay=v(i,"delay",0),this.repeat=v(i,"repeat",0),this.loop=v(i,"loop",!1),this.callback=v(i,"callback",void 0),this.callbackScope=v(i,"callbackScope",this),this.args=v(i,"args",[]),this.timeScale=v(i,"timeScale",1),this.startAt=v(i,"startAt",0),this.paused=v(i,"paused",!1),this.elapsed=this.startAt,this.hasDispatched=!1,this.repeatCount=this.repeat===-1||this.loop?999999999999:this.repeat,this.delay===0&&(this.repeat>0||this.loop))throw new Error("TimerEvent infinite loop created via zero delay");return this},getProgress:function(){return this.elapsed/this.delay},getOverallProgress:function(){if(this.repeat>0){var i=this.delay+this.delay*this.repeat,s=this.elapsed+this.delay*(this.repeat-this.repeatCount);return s/i}else return this.getProgress()},getRepeatCount:function(){return this.repeatCount},getElapsed:function(){return this.elapsed},getElapsedSeconds:function(){return this.elapsed*.001},getRemaining:function(){return this.delay-this.elapsed},getRemainingSeconds:function(){return this.getRemaining()*.001},getOverallRemaining:function(){return this.delay*(1+this.repeatCount)-this.elapsed},getOverallRemainingSeconds:function(){return this.getOverallRemaining()*.001},remove:function(i){i===void 0&&(i=!1),this.elapsed=this.delay,this.hasDispatched=!i,this.repeatCount=0},destroy:function(){this.callback=void 0,this.callbackScope=void 0,this.args=[]}});c.exports=a},35945:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="complete"},89809:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={COMPLETE:t(35945)}},90291:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Clock:t(33385),Events:t(89809),Timeline:t(96120),TimerEvent:t(94880)}},40382:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(72905),v=t(83419),a=t(43491),i=t(88032),s=t(37277),e=t(44594),r=t(93109),h=t(86081),n=t(8357),l=t(43960),f=t(26012),u=new v({initialize:function(p){this.scene=p,this.events=p.sys.events,this.timeScale=1,this.paused=!1,this.processing=!1,this.tweens=[],this.time=0,this.startTime=0,this.nextTime=0,this.prevTime=0,this.maxLag=500,this.lagSkip=33,this.gap=1e3/240,this.events.once(e.BOOT,this.boot,this),this.events.on(e.START,this.start,this)},boot:function(){this.events.once(e.DESTROY,this.destroy,this)},start:function(){this.timeScale=1,this.paused=!1,this.startTime=Date.now(),this.prevTime=this.startTime,this.nextTime=this.gap,this.events.on(e.UPDATE,this.update,this),this.events.once(e.SHUTDOWN,this.shutdown,this)},create:function(d){Array.isArray(d)||(d=[d]);for(var p=[],x=0;x<d.length;x++){var E=d[x];E instanceof h||E instanceof l?p.push(E):Array.isArray(E.tweens)?p.push(f(this,E)):p.push(n(this,E))}return p.length===1?p[0]:p},add:function(d){var p=d,x=this.tweens;return p instanceof h||p instanceof l||(Array.isArray(p.tweens)?p=f(this,p):p=n(this,p)),x.push(p.reset()),p},addMultiple:function(d){for(var p,x=[],E=this.tweens,T=0;T<d.length;T++)p=d[T],p instanceof h||p instanceof l||(Array.isArray(p.tweens)?p=f(this,p):p=n(this,p)),E.push(p.reset()),x.push(p);return x},chain:function(d){var p=f(this,d);return this.tweens.push(p.init()),p},getChainedTweens:function(d){return d.getChainedTweens()},has:function(d){return this.tweens.indexOf(d)>-1},existing:function(d){return this.has(d)||this.tweens.push(d.reset()),this},addCounter:function(d){var p=i(this,d);return this.tweens.push(p.reset()),p},stagger:function(d,p){return r(d,p)},setLagSmooth:function(d,p){return d===void 0&&(d=1/1e-8),p===void 0&&(p=0),this.maxLag=d,this.lagSkip=Math.min(p,this.maxLag),this},setFps:function(d){return d===void 0&&(d=240),this.gap=1e3/d,this.nextTime=this.time*1e3+this.gap,this},getDelta:function(d){var p=Date.now()-this.prevTime;p>this.maxLag&&(this.startTime+=p-this.lagSkip),this.prevTime+=p;var x=this.prevTime-this.startTime,E=x-this.nextTime,T=x-this.time*1e3;return E>0||d?(x/=1e3,this.time=x,this.nextTime+=E+(E>=this.gap?4:this.gap-E)):T=0,T},tick:function(){return this.step(!0),this},update:function(){this.paused||this.step(!1)},step:function(d){d===void 0&&(d=!1);var p=this.getDelta(d);if(!(p<=0)){this.processing=!0;var x,E,T=[],C=this.tweens;for(x=0;x<C.length;x++)E=C[x],E.update(p)&&T.push(E);var A=T.length;if(A&&C.length>0){for(x=0;x<A;x++){E=T[x];var M=C.indexOf(E);M>-1&&(E.isPendingRemove()||E.isDestroyed())&&(C.splice(M,1),E.destroy())}T.length=0}this.processing=!1}},remove:function(d){return this.processing?d.setPendingRemoveState():(o(this.tweens,d),d.setRemovedState()),this},reset:function(d){return this.existing(d),d.seek(),d.setActiveState(),this},makeActive:function(d){return this.existing(d),d.setActiveState(),this},each:function(d,p){var x,E=[null];for(x=1;x<arguments.length;x++)E.push(arguments[x]);return this.tweens.forEach(function(T){E[0]=T,d.apply(p,E)}),this},getTweens:function(){return this.tweens.slice()},getTweensOf:function(d){var p=[],x=this.tweens;Array.isArray(d)?d=a(d):d=[d];for(var E=d.length,T=0;T<x.length;T++)for(var C=x[T],A=0;A<E;A++)!C.isDestroyed()&&C.hasTarget(d[A])&&p.push(C);return p},getGlobalTimeScale:function(){return this.timeScale},setGlobalTimeScale:function(d){return this.timeScale=d,this},isTweening:function(d){for(var p=this.tweens,x,E=0;E<p.length;E++)if(x=p[E],x.isPlaying()&&x.hasTarget(d))return!0;return!1},killAll:function(){for(var d=this.processing?this.getTweens():this.tweens,p=0;p<d.length;p++)d[p].destroy();return this.processing||(d.length=0),this},killTweensOf:function(d){for(var p=this.getTweensOf(d),x=0;x<p.length;x++)p[x].destroy();return this},pauseAll:function(){return this.paused=!0,this},resumeAll:function(){return this.paused=!1,this},shutdown:function(){this.killAll(),this.tweens=[],this.events.off(e.UPDATE,this.update,this),this.events.off(e.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(e.START,this.start,this),this.scene=null,this.events=null}});s.register("TweenManager",u,"tweens"),c.exports=u},57355:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o,v){return t&&t.hasOwnProperty(o)?t[o]:v};c.exports=g},6113:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(62640),v=t(35355),a=function(i,s){var e=o.Power0;if(typeof i=="string")if(o.hasOwnProperty(i))e=o[i];else{var r="";if(i.indexOf(".")){r=i.substring(i.indexOf(".")+1);var h=r.toLowerCase();h==="in"?r="easeIn":h==="out"?r="easeOut":h==="inout"&&(r="easeInOut")}i=v(i.substring(0,i.indexOf(".")+1)+r),o.hasOwnProperty(i)&&(e=o[i])}else typeof i=="function"&&(e=i);if(!s)return e;var n=s.slice(0);return n.unshift(0),function(l){return n[0]=l,e.apply(this,n)}};c.exports=a},91389:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(89318),v=t(77259),a=t(28392),i={bezier:o,catmull:v,catmullrom:v,linear:a},s=function(e){if(e===null)return null;var r=i.linear;return typeof e=="string"?i.hasOwnProperty(e)&&(r=i[e]):typeof e=="function"&&(r=e),r};c.exports=s},55292:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o,v){var a;if(t.hasOwnProperty(o)){var i=typeof t[o];i==="function"?a=function(s,e,r,h,n,l){return t[o](s,e,r,h,n,l)}:a=function(){return t[o]}}else typeof v=="function"?a=v:a=function(){return v};return a};c.exports=g},82985:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(81076),v=function(a){var i,s=[];if(a.hasOwnProperty("props"))for(i in a.props)i.substring(0,1)!=="_"&&s.push({key:i,value:a.props[i]});else for(i in a)o.indexOf(i)===-1&&i.substring(0,1)!=="_"&&s.push({key:i,value:a[i]});return s};c.exports=v},62329:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(35154),v=function(a){var i=o(a,"targets",null);return i===null||(typeof i=="function"&&(i=i.call()),Array.isArray(i)||(i=[i])),i};c.exports=v},17777:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(30976),v=t(99472);function a(h){return!!h.getActive&&typeof h.getActive=="function"}function i(h){return!!h.getStart&&typeof h.getStart=="function"}function s(h){return!!h.getEnd&&typeof h.getEnd=="function"}function e(h){return i(h)||s(h)||a(h)}var r=function(h,n){var l,f=function($,J,z){return z},u=function($,J,z){return z},d=null,p=typeof n;if(p==="number")f=function(){return n};else if(Array.isArray(n))u=function(){return n[0]},f=function(){return n[n.length-1]};else if(p==="string"){var x=n.toLowerCase(),E=x.substring(0,6)==="random",T=x.substring(0,3)==="int";if(E||T){var C=x.indexOf("("),A=x.indexOf(")"),M=x.indexOf(",");if(C&&A&&M){var R=parseFloat(x.substring(C+1,M)),O=parseFloat(x.substring(M+1,A));E?f=function(){return v(R,O)}:f=function(){return o(R,O)}}else throw new Error("invalid random() format")}else{x=x[0];var L=parseFloat(n.substr(2));switch(x){case"+":f=function($,J,z){return z+L};break;case"-":f=function($,J,z){return z-L};break;case"*":f=function($,J,z){return z*L};break;case"/":f=function($,J,z){return z/L};break;default:f=function(){return parseFloat(n)}}}}else if(p==="function")f=n;else if(p==="object")if(e(n))a(n)&&(d=n.getActive),s(n)&&(f=n.getEnd),i(n)&&(u=n.getStart);else if(n.hasOwnProperty("value"))l=r(h,n.value);else{var b=n.hasOwnProperty("to"),N=n.hasOwnProperty("from"),I=n.hasOwnProperty("start");if(b&&(N||I)){if(l=r(h,n.to),I){var G=r(h,n.start);l.getActive=G.getEnd}if(N){var X=r(h,n.from);l.getStart=X.getEnd}}}return l||(l={getActive:d,getEnd:f,getStart:u}),l};c.exports=r},88032:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(70402),v=t(69902),a=t(23568),i=t(57355),s=t(6113),e=t(55292),r=t(35154),h=t(17777),n=t(269),l=t(86081),f=function(u,d,p){if(d instanceof l)return d.parent=u,d;p===void 0?p=v:p=n(v,p);var x=r(d,"from",0),E=r(d,"to",1),T=[{value:x}],C=r(d,"delay",p.delay),A=r(d,"easeParams",p.easeParams),M=r(d,"ease",p.ease),R=h("value",E),O=new l(u,T),L=O.add(0,"value",R.getEnd,R.getStart,R.getActive,s(r(d,"ease",M),r(d,"easeParams",A)),e(d,"delay",C),r(d,"duration",p.duration),i(d,"yoyo",p.yoyo),r(d,"hold",p.hold),r(d,"repeat",p.repeat),r(d,"repeatDelay",p.repeatDelay),!1,!1);L.start=x,L.current=x,O.completeDelay=a(d,"completeDelay",0),O.loop=Math.round(a(d,"loop",0)),O.loopDelay=Math.round(a(d,"loopDelay",0)),O.paused=i(d,"paused",!1),O.persist=i(d,"persist",!1),O.callbackScope=r(d,"callbackScope",O);for(var b=o.TYPES,N=0;N<b.length;N++){var I=b[N],G=r(d,I,!1);if(G){var X=r(d,I+"Params",[]);O.setCallback(I,G,X)}}return O};c.exports=f},93109:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(6113),v=t(35154),a=t(36383),i=function(s,e){e===void 0&&(e={});var r,h=v(e,"start",0),n=v(e,"ease",null),l=v(e,"grid",null),f=v(e,"from",0),u=f==="first",d=f==="center",p=f==="last",x=typeof f=="number",E=Array.isArray(s),T=parseFloat(E?s[0]:s),C=E?parseFloat(s[1]):0,A=Math.max(T,C);if(E&&(h+=T),l){var M=l[0],R=l[1],O=0,L=0,b=0,N=0,I=[];p?(O=M-1,L=R-1):x?(O=f%M,L=Math.floor(f/M)):d&&(O=(M-1)/2,L=(R-1)/2);for(var G=a.MIN_SAFE_INTEGER,X=0;X<R;X++){I[X]=[];for(var $=0;$<M;$++){b=O-$,N=L-X;var J=Math.sqrt(b*b+N*N);J>G&&(G=J),I[X][$]=J}}}var z=n?o(n):null;return l?r=function(Y,D,B,U){var H=0,j=U%M,q=Math.floor(U/M);j>=0&&j<M&&q>=0&&q<R&&(H=I[q][j]);var _;if(E){var st=C-T;z?_=H/G*st*z(H/G):_=H/G*st}else z?_=H*T*z(H/G):_=H*T;return _+h}:r=function(Y,D,B,U,H){H--;var j;u?j=U:d?j=Math.abs(H/2-U):p?j=H-U:x&&(j=Math.abs(f-U));var q;if(E){var _;d?_=(C-T)/H*(j*2):_=(C-T)/H*j,z?q=_*z(j/H):q=_}else z?q=H*A*z(j/H):q=j*T;return q+h},r};c.exports=i},8357:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(70402),v=t(69902),a=t(23568),i=t(57355),s=t(6113),e=t(91389),r=t(55292),h=t(82985),n=t(62329),l=t(35154),f=t(17777),u=t(269),d=t(86081),p=function(x,E,T){if(E instanceof d)return E.parent=x,E;T===void 0?T=v:T=u(v,T);var C=n(E);!C&&T.targets&&(C=T.targets);for(var A=h(E),M=l(E,"delay",T.delay),R=l(E,"duration",T.duration),O=l(E,"easeParams",T.easeParams),L=l(E,"ease",T.ease),b=l(E,"hold",T.hold),N=l(E,"repeat",T.repeat),I=l(E,"repeatDelay",T.repeatDelay),G=i(E,"yoyo",T.yoyo),X=i(E,"flipX",T.flipX),$=i(E,"flipY",T.flipY),J=l(E,"interpolation",T.interpolation),z=function(ct,pt,Tt,mt){if(Tt==="texture"){var wt=mt,Nt=void 0;Array.isArray(mt)?(wt=mt[0],Nt=mt[1]):mt.hasOwnProperty("value")?(wt=mt.value,Array.isArray(mt.value)?(wt=mt.value[0],Nt=mt.value[1]):typeof mt.value=="string"&&(wt=mt.value)):typeof mt=="string"&&(wt=mt),ct.addFrame(pt,wt,Nt,r(mt,"delay",M),l(mt,"duration",R),l(mt,"hold",b),l(mt,"repeat",N),l(mt,"repeatDelay",I),i(mt,"flipX",X),i(mt,"flipY",$))}else{var zt=f(Tt,mt),Ot=e(l(mt,"interpolation",J));ct.add(pt,Tt,zt.getEnd,zt.getStart,zt.getActive,s(l(mt,"ease",L),l(mt,"easeParams",O)),r(mt,"delay",M),l(mt,"duration",R),i(mt,"yoyo",G),l(mt,"hold",b),l(mt,"repeat",N),l(mt,"repeatDelay",I),i(mt,"flipX",X),i(mt,"flipY",$),Ot,Ot?mt:null)}},Y=new d(x,C),D=0;D<A.length;D++)for(var B=A[D].key,U=A[D].value,H=0;H<C.length;H++)B==="scale"&&!C[H].hasOwnProperty("scale")?(z(Y,H,"scaleX",U),z(Y,H,"scaleY",U)):z(Y,H,B,U);Y.completeDelay=a(E,"completeDelay",0),Y.loop=Math.round(a(E,"loop",0)),Y.loopDelay=Math.round(a(E,"loopDelay",0)),Y.paused=i(E,"paused",!1),Y.persist=i(E,"persist",!1),Y.callbackScope=l(E,"callbackScope",Y);for(var j=o.TYPES,q=0;q<j.length;q++){var _=j[q],st=l(E,_,!1);if(st){var ut=l(E,_+"Params",[]);Y.setCallback(_,st,ut)}}return Y};c.exports=p},26012:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(70402),v=t(23568),a=t(57355),i=t(62329),s=t(35154),e=t(8357),r=t(43960),h=function(n,l){if(l instanceof r)return l.parent=n,l;var f=new r(n);f.startDelay=s(l,"delay",0),f.completeDelay=v(l,"completeDelay",0),f.loop=Math.round(v(l,"loop",s(l,"repeat",0))),f.loopDelay=Math.round(v(l,"loopDelay",s(l,"repeatDelay",0))),f.paused=a(l,"paused",!1),f.persist=a(l,"persist",!1),f.callbackScope=s(l,"callbackScope",f);var u,d=o.TYPES;for(u=0;u<d.length;u++){var p=d[u],x=s(l,p,!1);if(x){var E=s(l,p+"Params",[]);f.setCallback(p,x,E)}}var T=s(l,"tweens",null);if(Array.isArray(T)){var C=[],A=i(l),M=void 0;for(A&&(M={targets:A}),u=0;u<T.length;u++)C.push(e(f,T[u],M));f.add(C)}return f};c.exports=h},30231:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={GetBoolean:t(57355),GetEaseFunction:t(6113),GetInterpolationFunction:t(91389),GetNewValue:t(55292),GetProps:t(82985),GetTargets:t(62329),GetValueOp:t(17777),NumberTweenBuilder:t(88032),StaggerBuilder:t(93109),TweenBuilder:t(8357)}},73685:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="active"},98540:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="complete"},67233:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="loop"},2859:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pause"},98336:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="repeat"},25764:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="resume"},32193:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="start"},84371:c=>{/**
 * @author       samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="stop"},70766:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="update"},55659:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="yoyo"},842:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={TWEEN_ACTIVE:t(73685),TWEEN_COMPLETE:t(98540),TWEEN_LOOP:t(67233),TWEEN_PAUSE:t(2859),TWEEN_RESUME:t(25764),TWEEN_REPEAT:t(98336),TWEEN_START:t(32193),TWEEN_STOP:t(84371),TWEEN_UPDATE:t(70766),TWEEN_YOYO:t(55659)}},43066:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o={States:t(86353),Builders:t(30231),Events:t(842),TweenManager:t(40382),Tween:t(86081),TweenData:t(48177),TweenFrameData:t(42220),BaseTween:t(70402),TweenChain:t(43960)};c.exports=o},70402:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(50792),a=t(842),i=t(86353),s=new o({Extends:v,initialize:function(r){v.call(this),this.parent=r,this.data=[],this.totalData=0,this.startDelay=0,this.hasStarted=!1,this.timeScale=1,this.loop=0,this.loopDelay=0,this.loopCounter=0,this.completeDelay=0,this.countdown=0,this.state=i.PENDING,this.paused=!1,this.callbacks={onActive:null,onComplete:null,onLoop:null,onPause:null,onRepeat:null,onResume:null,onStart:null,onStop:null,onUpdate:null,onYoyo:null},this.callbackScope,this.persist=!1},setTimeScale:function(e){return this.timeScale=e,this},getTimeScale:function(){return this.timeScale},isPlaying:function(){return!this.paused&&this.isActive()},isPaused:function(){return this.paused},pause:function(){return this.paused||(this.paused=!0,this.dispatchEvent(a.TWEEN_PAUSE,"onPause")),this},resume:function(){return this.paused&&(this.paused=!1,this.dispatchEvent(a.TWEEN_RESUME,"onResume")),this},makeActive:function(){this.parent.makeActive(this),this.dispatchEvent(a.TWEEN_ACTIVE,"onActive")},onCompleteHandler:function(){this.setPendingRemoveState(),this.dispatchEvent(a.TWEEN_COMPLETE,"onComplete")},complete:function(e){return e===void 0&&(e=0),e?(this.setCompleteDelayState(),this.countdown=e):this.onCompleteHandler(),this},completeAfterLoop:function(e){return e===void 0&&(e=0),this.loopCounter>e&&(this.loopCounter=e),this},remove:function(){return this.parent&&this.parent.remove(this),this},stop:function(){return this.parent&&!this.isRemoved()&&!this.isPendingRemove()&&!this.isDestroyed()&&(this.dispatchEvent(a.TWEEN_STOP,"onStop"),this.setPendingRemoveState()),this},updateLoopCountdown:function(e){this.countdown-=e,this.countdown<=0&&(this.setActiveState(),this.dispatchEvent(a.TWEEN_LOOP,"onLoop"))},updateStartCountdown:function(e){return this.countdown-=e,this.countdown<=0&&(this.hasStarted=!0,this.setActiveState(),this.dispatchEvent(a.TWEEN_START,"onStart"),e=0),e},updateCompleteDelay:function(e){this.countdown-=e,this.countdown<=0&&this.onCompleteHandler()},setCallback:function(e,r,h){return h===void 0&&(h=[]),this.callbacks.hasOwnProperty(e)&&(this.callbacks[e]={func:r,params:h}),this},setPendingState:function(){this.state=i.PENDING},setActiveState:function(){this.state=i.ACTIVE},setLoopDelayState:function(){this.state=i.LOOP_DELAY},setCompleteDelayState:function(){this.state=i.COMPLETE_DELAY},setStartDelayState:function(){this.state=i.START_DELAY,this.countdown=this.startDelay,this.hasStarted=!1},setPendingRemoveState:function(){this.state=i.PENDING_REMOVE},setRemovedState:function(){this.state=i.REMOVED},setFinishedState:function(){this.state=i.FINISHED},setDestroyedState:function(){this.state=i.DESTROYED},isPending:function(){return this.state===i.PENDING},isActive:function(){return this.state===i.ACTIVE},isLoopDelayed:function(){return this.state===i.LOOP_DELAY},isCompleteDelayed:function(){return this.state===i.COMPLETE_DELAY},isStartDelayed:function(){return this.state===i.START_DELAY},isPendingRemove:function(){return this.state===i.PENDING_REMOVE},isRemoved:function(){return this.state===i.REMOVED},isFinished:function(){return this.state===i.FINISHED},isDestroyed:function(){return this.state===i.DESTROYED},destroy:function(){this.data&&this.data.forEach(function(e){e.destroy()}),this.removeAllListeners(),this.callbacks=null,this.data=null,this.parent=null,this.setDestroyedState()}});s.TYPES=["onActive","onComplete","onLoop","onPause","onRepeat","onResume","onStart","onStop","onUpdate","onYoyo"],c.exports=s},95042:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),v=t(842),a=t(86353),i=new o({initialize:function(e,r,h,n,l,f,u,d,p,x){this.tween=e,this.targetIndex=r,this.duration=n,this.totalDuration=0,this.delay=0,this.getDelay=h,this.yoyo=l,this.hold=f,this.repeat=u,this.repeatDelay=d,this.repeatCounter=0,this.flipX=p,this.flipY=x,this.progress=0,this.elapsed=0,this.state=0,this.isCountdown=!1},getTarget:function(){return this.tween.targets[this.targetIndex]},setTargetValue:function(s){s===void 0&&(s=this.current),this.tween.targets[this.targetIndex][this.key]=s},setCreatedState:function(){this.state=a.CREATED,this.isCountdown=!1},setDelayState:function(){this.state=a.DELAY,this.isCountdown=!0},setPendingRenderState:function(){this.state=a.PENDING_RENDER,this.isCountdown=!1},setPlayingForwardState:function(){this.state=a.PLAYING_FORWARD,this.isCountdown=!1},setPlayingBackwardState:function(){this.state=a.PLAYING_BACKWARD,this.isCountdown=!1},setHoldState:function(){this.state=a.HOLD_DELAY,this.isCountdown=!0},setRepeatState:function(){this.state=a.REPEAT_DELAY,this.isCountdown=!0},setCompleteState:function(){this.state=a.COMPLETE,this.isCountdown=!1},isCreated:function(){return this.state===a.CREATED},isDelayed:function(){return this.state===a.DELAY},isPendingRender:function(){return this.state===a.PENDING_RENDER},isPlayingForward:function(){return this.state===a.PLAYING_FORWARD},isPlayingBackward:function(){return this.state===a.PLAYING_BACKWARD},isHolding:function(){return this.state===a.HOLD_DELAY},isRepeating:function(){return this.state===a.REPEAT_DELAY},isComplete:function(){return this.state===a.COMPLETE},setStateFromEnd:function(s){this.yoyo?this.onRepeat(s,!0,!0):this.repeatCounter>0?this.onRepeat(s,!0,!1):this.setCompleteState()},setStateFromStart:function(s){this.repeatCounter>0?this.onRepeat(s,!1):this.setCompleteState()},reset:function(){var s=this.tween,e=s.totalTargets,r=this.targetIndex,h=s.targets[r],n=this.key;this.progress=0,this.elapsed=0,this.delay=this.getDelay(h,n,0,r,e,s),this.repeatCounter=this.repeat===-1?a.MAX:this.repeat,this.setPendingRenderState();var l=this.duration+this.hold;this.yoyo&&(l+=this.duration);var f=l+this.repeatDelay;this.totalDuration=this.delay+l,this.repeat===-1?(this.totalDuration+=f*a.MAX,s.isInfinite=!0):this.repeat>0&&(this.totalDuration+=f*this.repeat),this.totalDuration>s.duration&&(s.duration=this.totalDuration),this.delay<s.startDelay&&(s.startDelay=this.delay),this.delay>0&&(this.elapsed=this.delay,this.setDelayState())},onRepeat:function(s,e,r){var h=this.tween,n=h.totalTargets,l=this.targetIndex,f=h.targets[l],u=this.key,d=u!=="texture";if(this.elapsed=s,this.progress=s/this.duration,this.flipX&&f.toggleFlipX(),this.flipY&&f.toggleFlipY(),d&&(e||r)&&(this.start=this.getStartValue(f,u,this.start,l,n,h)),r){this.setPlayingBackwardState(),this.dispatchEvent(v.TWEEN_YOYO,"onYoyo");return}this.repeatCounter--,d&&(this.end=this.getEndValue(f,u,this.start,l,n,h)),this.repeatDelay>0?(this.elapsed=this.repeatDelay-s,d&&(this.current=this.start,f[u]=this.current),this.setRepeatState()):(this.setPlayingForwardState(),this.dispatchEvent(v.TWEEN_REPEAT,"onRepeat"))},destroy:function(){this.tween=null,this.getDelay=null,this.setCompleteState()}});c.exports=i},69902:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g={targets:null,delay:0,duration:1e3,ease:"Power0",easeParams:null,hold:0,repeat:0,repeatDelay:0,yoyo:!1,flipX:!1,flipY:!1,persist:!1,interpolation:null};c.exports=g},81076:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports=["callbackScope","completeDelay","delay","duration","ease","easeParams","flipX","flipY","hold","interpolation","loop","loopDelay","onActive","onActiveParams","onComplete","onCompleteParams","onLoop","onLoopParams","onPause","onPauseParams","onRepeat","onRepeatParams","onResume","onResumeParams","onStart","onStartParams","onStop","onStopParams","onUpdate","onUpdateParams","onYoyo","onYoyoParams","paused","persist","props","repeat","repeatDelay","targets","yoyo"]},86081:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(70402),v=t(83419),a=t(842),i=t(44603),s=t(39429),e=t(36383),r=t(86353),h=t(48177),n=t(42220),l=new v({Extends:o,initialize:function(u,d){o.call(this,u),this.targets=d,this.totalTargets=d.length,this.isSeeking=!1,this.isInfinite=!1,this.elapsed=0,this.totalElapsed=0,this.duration=0,this.progress=0,this.totalDuration=0,this.totalProgress=0},add:function(f,u,d,p,x,E,T,C,A,M,R,O,L,b,N,I){var G=new h(this,f,u,d,p,x,E,T,C,A,M,R,O,L,b,N,I);return this.totalData=this.data.push(G),G},addFrame:function(f,u,d,p,x,E,T,C,A,M){var R=new n(this,f,u,d,p,x,E,T,C,A,M);return this.totalData=this.data.push(R),R},getValue:function(f){f===void 0&&(f=0);var u=null;return this.data&&(u=this.data[f].current),u},hasTarget:function(f){return this.targets&&this.targets.indexOf(f)!==-1},updateTo:function(f,u,d){if(d===void 0&&(d=!1),f!=="texture")for(var p=0;p<this.totalData;p++){var x=this.data[p];x.key===f&&(x.isPlayingForward()||x.isPlayingBackward())&&(x.end=u,d&&(x.start=x.current))}return this},restart:function(){switch(this.state){case r.REMOVED:case r.FINISHED:this.seek(),this.parent.makeActive(this);break;case r.PENDING:case r.PENDING_REMOVE:this.parent.reset(this);break;case r.DESTROYED:console.warn("Cannot restart destroyed Tween",this);break;default:this.seek();break}return this.paused=!1,this.hasStarted=!1,this},nextState:function(){if(this.loopCounter>0)this.elapsed=0,this.progress=0,this.loopCounter--,this.initTweenData(!0),this.loopDelay>0?(this.countdown=this.loopDelay,this.setLoopDelayState()):(this.setActiveState(),this.dispatchEvent(a.TWEEN_LOOP,"onLoop"));else if(this.completeDelay>0)this.countdown=this.completeDelay,this.setCompleteDelayState();else return this.onCompleteHandler(),!0;return!1},onCompleteHandler:function(){this.progress=1,this.totalProgress=1,o.prototype.onCompleteHandler.call(this)},play:function(){return this.isDestroyed()?(console.warn("Cannot play destroyed Tween",this),this):((this.isPendingRemove()||this.isFinished())&&this.seek(),this.paused=!1,this.setActiveState(),this)},seek:function(f,u,d){if(f===void 0&&(f=0),u===void 0&&(u=16.6),d===void 0&&(d=!1),this.isDestroyed())return console.warn("Cannot seek destroyed Tween",this),this;d||(this.isSeeking=!0),this.reset(!0),this.initTweenData(!0),this.setActiveState(),this.dispatchEvent(a.TWEEN_ACTIVE,"onActive");var p=this.paused;if(this.paused=!1,f>0){for(var x=Math.floor(f/u),E=f-x*u,T=0;T<x;T++)this.update(u);E>0&&this.update(E)}return this.paused=p,this.isSeeking=!1,this},initTweenData:function(f){f===void 0&&(f=!1),this.duration=0,this.startDelay=e.MAX_SAFE_INTEGER;for(var u=this.data,d=0;d<this.totalData;d++)u[d].reset(f);this.duration=Math.max(this.duration,.01);var p=this.duration,x=this.completeDelay,E=this.loopCounter,T=this.loopDelay;E>0?this.totalDuration=p+x+(p+T)*E:this.totalDuration=p+x},reset:function(f){return f===void 0&&(f=!1),this.elapsed=0,this.totalElapsed=0,this.progress=0,this.totalProgress=0,this.loopCounter=this.loop,this.loop===-1&&(this.isInfinite=!0,this.loopCounter=r.MAX),f||(this.initTweenData(),this.setActiveState(),this.dispatchEvent(a.TWEEN_ACTIVE,"onActive")),this},update:function(f){if(this.isPendingRemove()||this.isDestroyed())return!0;if(this.paused||this.isFinished())return!1;if(f*=this.timeScale*this.parent.timeScale,this.isLoopDelayed())return this.updateLoopCountdown(f),!1;if(this.isCompleteDelayed())return this.updateCompleteDelay(f),!1;this.hasStarted||(this.startDelay-=f,this.startDelay<=0&&(this.hasStarted=!0,this.dispatchEvent(a.TWEEN_START,"onStart"),f=0));var u=!1;if(this.isActive())for(var d=this.data,p=0;p<this.totalData;p++)d[p].update(f)&&(u=!0);this.elapsed+=f,this.progress=Math.min(this.elapsed/this.duration,1),this.totalElapsed+=f,this.totalProgress=Math.min(this.totalElapsed/this.totalDuration,1),u||this.nextState();var x=this.isPendingRemove();return x&&this.persist&&(this.setFinishedState(),x=!1),x},forward:function(f){return this.update(f),this},rewind:function(f){return this.update(-f),this},dispatchEvent:function(f,u){if(!this.isSeeking){this.emit(f,this,this.targets);var d=this.callbacks[u];d&&d.func.apply(this.callbackScope,[this,this.targets].concat(d.params))}},destroy:function(){o.prototype.destroy.call(this),this.targets=null}});s.register("tween",function(f){return this.scene.sys.tweens.add(f)}),i.register("tween",function(f){return this.scene.sys.tweens.create(f)}),c.exports=l},43960:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(72905),v=t(70402),a=t(83419),i=t(842),s=t(44603),e=t(39429),r=t(86353),h=new a({Extends:v,initialize:function(l){v.call(this,l),this.currentTween=null,this.currentIndex=0},init:function(){return this.loopCounter=this.loop===-1?r.MAX:this.loop,this.setCurrentTween(0),this.startDelay>0&&!this.isStartDelayed()?this.setStartDelayState():this.setActiveState(),this.dispatchEvent(i.TWEEN_ACTIVE,"onActive"),this},add:function(n){var l=this.parent.create(n);Array.isArray(l)||(l=[l]);for(var f=this.data,u=0;u<l.length;u++){var d=l[u];d.parent=this,f.push(d.reset())}return this.totalData=f.length,this},remove:function(n){return o(this.data,n),n.setRemovedState(),n===this.currentTween&&this.nextTween(),this.totalData=this.data.length,this},hasTarget:function(n){for(var l=this.data,f=0;f<this.totalData;f++)if(l[f].hasTarget(n))return!0;return!1},restart:function(){return this.isDestroyed()?(console.warn("Cannot restart destroyed TweenChain",this),this):(this.isRemoved()&&this.parent.makeActive(this),this.resetTweens(),this.paused=!1,this.init())},reset:function(n){return n.seek(),n.setActiveState(),this},makeActive:function(n){return n.reset(),n.setActiveState(),this},nextState:function(){if(this.loopCounter>0)this.loopCounter--,this.resetTweens(),this.loopDelay>0?(this.countdown=this.loopDelay,this.setLoopDelayState()):(this.setActiveState(),this.dispatchEvent(i.TWEEN_LOOP,"onLoop"));else if(this.completeDelay>0)this.countdown=this.completeDelay,this.setCompleteDelayState();else return this.onCompleteHandler(),!0;return!1},play:function(){return this.isDestroyed()?(console.warn("Cannot play destroyed TweenChain",this),this):((this.isPendingRemove()||this.isPending())&&this.resetTweens(),this.paused=!1,this.startDelay>0&&!this.isStartDelayed()?this.setStartDelayState():this.setActiveState(),this)},resetTweens:function(){for(var n=this.data,l=this.totalData,f=0;f<l;f++)n[f].reset(!1);this.currentIndex=0,this.currentTween=n[0]},update:function(n){if(this.isPendingRemove()||this.isDestroyed())return!0;if(this.isFinished()||this.paused)return!1;n*=this.parent.timeScale,this.isLoopDelayed()?this.updateLoopCountdown(n):this.isCompleteDelayed()?this.updateCompleteDelay(n):this.isStartDelayed()&&(n=this.updateStartCountdown(n));var l=!1;return this.isActive()&&this.currentTween&&(this.currentTween.update(n)&&this.nextTween()&&this.nextState(),l=this.isPendingRemove(),l&&this.persist&&(this.setFinishedState(),l=!1)),l},nextTween:function(){return this.currentIndex++,this.currentIndex===this.totalData?!0:(this.setCurrentTween(this.currentIndex),!1)},setCurrentTween:function(n){this.currentIndex=n,this.currentTween=this.data[n],this.currentTween.setActiveState(),this.currentTween.dispatchEvent(i.TWEEN_ACTIVE,"onActive")},dispatchEvent:function(n,l){this.emit(n,this);var f=this.callbacks[l];f&&f.func.apply(this.callbackScope,[this].concat(f.params))},destroy:function(){v.prototype.destroy.call(this),this.currentTween=null}});e.register("tweenchain",function(n){return this.scene.sys.tweens.chain(n)}),s.register("tweenchain",function(n){return this.scene.sys.tweens.create(n)}),c.exports=h},48177:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(95042),v=t(45319),a=t(83419),i=t(842),s=new a({Extends:o,initialize:function(r,h,n,l,f,u,d,p,x,E,T,C,A,M,R,O,L){o.call(this,r,h,p,x,E,T,C,A,M,R),this.key=n,this.getActiveValue=u,this.getEndValue=l,this.getStartValue=f,this.ease=d,this.start=0,this.previous=0,this.current=0,this.end=0,this.interpolation=O,this.interpolationData=L},reset:function(e){o.prototype.reset.call(this);var r=this.tween.targets[this.targetIndex],h=this.key;e&&(r[h]=this.start),this.start=0,this.previous=0,this.current=0,this.end=0,this.getActiveValue&&(r[h]=this.getActiveValue(r,h,0))},update:function(e){var r=this.tween,h=r.totalTargets,n=this.targetIndex,l=r.targets[n],f=this.key;if(!l)return this.setCompleteState(),!1;if(this.isCountdown&&(this.elapsed-=e,this.elapsed<=0&&(this.elapsed=0,e=0,this.isDelayed()?this.setPendingRenderState():this.isRepeating()?(this.setPlayingForwardState(),this.dispatchEvent(i.TWEEN_REPEAT,"onRepeat")):this.isHolding()&&this.setStateFromEnd(0))),this.isPendingRender())return this.start=this.getStartValue(l,f,l[f],n,h,r),this.end=this.getEndValue(l,f,this.start,n,h,r),this.current=this.start,l[f]=this.start,this.setPlayingForwardState(),!0;var u=this.isPlayingForward(),d=this.isPlayingBackward();if(u||d){var p=this.elapsed,x=this.duration,E=0,T=!1;p+=e,p>=x?(E=p-x,p=x,T=!0):p<0&&(p=0);var C=v(p/x,0,1);if(this.elapsed=p,this.progress=C,this.previous=this.current,T)u?(this.current=this.end,l[f]=this.end,this.hold>0?(this.elapsed=this.hold,this.setHoldState()):this.setStateFromEnd(E)):(this.current=this.start,l[f]=this.start,this.setStateFromStart(E));else{u||(C=1-C);var A=this.ease(C);this.interpolation?this.current=this.interpolation(this.interpolationData,A):this.current=this.start+(this.end-this.start)*A,l[f]=this.current}this.dispatchEvent(i.TWEEN_UPDATE,"onUpdate")}return!this.isComplete()},dispatchEvent:function(e,r){var h=this.tween;if(!h.isSeeking){var n=h.targets[this.targetIndex],l=this.key,f=this.current,u=this.previous;h.emit(e,h,l,n,f,u);var d=h.callbacks[r];d&&d.func.apply(h.callbackScope,[h,n,l,f,u].concat(d.params))}},destroy:function(){o.prototype.destroy.call(this),this.getActiveValue=null,this.getEndValue=null,this.getStartValue=null,this.ease=null}});c.exports=s},42220:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(95042),v=t(45319),a=t(83419),i=t(842),s=new a({Extends:o,initialize:function(r,h,n,l,f,u,d,p,x,E,T){o.call(this,r,h,f,u,!1,d,p,x,E,T),this.key="texture",this.startTexture=null,this.endTexture=n,this.startFrame=null,this.endFrame=l,this.yoyo=p!==0},reset:function(e){o.prototype.reset.call(this);var r=this.tween.targets[this.targetIndex];this.startTexture||(this.startTexture=r.texture.key,this.startFrame=r.frame.name),e&&r.setTexture(this.startTexture,this.startFrame)},update:function(e){var r=this.tween,h=this.targetIndex,n=r.targets[h];if(!n)return this.setCompleteState(),!1;if(this.isCountdown&&(this.elapsed-=e,this.elapsed<=0&&(this.elapsed=0,e=0,this.isDelayed()?this.setPendingRenderState():this.isRepeating()?(this.setPlayingForwardState(),this.dispatchEvent(i.TWEEN_REPEAT,"onRepeat")):this.isHolding()&&this.setStateFromEnd(0))),this.isPendingRender())return this.startTexture&&n.setTexture(this.startTexture,this.startFrame),this.setPlayingForwardState(),!0;var l=this.isPlayingForward(),f=this.isPlayingBackward();if(l||f){var u=this.elapsed,d=this.duration,p=0,x=!1;u+=e,u>=d?(p=u-d,u=d,x=!0):u<0&&(u=0);var E=v(u/d,0,1);this.elapsed=u,this.progress=E,x&&(l?(n.setTexture(this.endTexture,this.endFrame),this.hold>0?(this.elapsed=this.hold,this.setHoldState()):this.setStateFromEnd(p)):(n.setTexture(this.startTexture,this.startFrame),this.setStateFromStart(p))),this.dispatchEvent(i.TWEEN_UPDATE,"onUpdate")}return!this.isComplete()},dispatchEvent:function(e,r){var h=this.tween;if(!h.isSeeking){var n=h.targets[this.targetIndex],l=this.key;h.emit(e,h,l,n);var f=h.callbacks[r];f&&f.func.apply(h.callbackScope,[h,n,l].concat(f.params))}},destroy:function(){o.prototype.destroy.call(this),this.startTexture=null,this.endTexture=null,this.startFrame=null,this.endFrame=null}});c.exports=s},86353:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g={CREATED:0,DELAY:2,PENDING_RENDER:4,PLAYING_FORWARD:5,PLAYING_BACKWARD:6,HOLD_DELAY:7,REPEAT_DELAY:8,COMPLETE:9,PENDING:20,ACTIVE:21,LOOP_DELAY:22,COMPLETE_DELAY:23,START_DELAY:24,PENDING_REMOVE:25,REMOVED:26,FINISHED:27,DESTROYED:28,MAX:999999999999};c.exports=g},83419:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function g(s){return!!s.get&&typeof s.get=="function"||!!s.set&&typeof s.set=="function"}function t(s,e,r){var h=r?s[e]:Object.getOwnPropertyDescriptor(s,e);return!r&&h.value&&typeof h.value=="object"&&(h=h.value),h&&g(h)?(typeof h.enumerable>"u"&&(h.enumerable=!0),typeof h.configurable>"u"&&(h.configurable=!0),h):!1}function o(s,e){var r=Object.getOwnPropertyDescriptor(s,e);return r?(r.value&&typeof r.value=="object"&&(r=r.value),r.configurable===!1):!1}function v(s,e,r,h){for(var n in e)if(e.hasOwnProperty(n)){var l=t(e,n,r);if(l!==!1){var f=h||s;if(o(f.prototype,n)){if(i.ignoreFinals)continue;throw new Error("cannot override final property '"+n+"', set Class.ignoreFinals = true to skip")}Object.defineProperty(s.prototype,n,l)}else s.prototype[n]=e[n]}}function a(s,e){if(e){Array.isArray(e)||(e=[e]);for(var r=0;r<e.length;r++)v(s,e[r].prototype||e[r])}}function i(s){s||(s={});var e,r;if(s.initialize){if(typeof s.initialize!="function")throw new Error("initialize must be a function");e=s.initialize,delete s.initialize}else if(s.Extends){var h=s.Extends;e=function(){h.apply(this,arguments)}}else e=function(){};s.Extends?(e.prototype=Object.create(s.Extends.prototype),e.prototype.constructor=e,r=s.Extends,delete s.Extends):e.prototype.constructor=e;var n=null;return s.Mixins&&(n=s.Mixins,delete s.Mixins),a(e,n),v(e,s,!0,r),e}i.extend=v,i.mixin=a,i.ignoreFinals=!1,c.exports=i},29747:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(){};c.exports=g},20242:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(){return null};c.exports=g},71146:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o,v,a,i){if(i===void 0&&(i=t),v>0){var s=v-t.length;if(s<=0)return null}if(!Array.isArray(o))return t.indexOf(o)===-1?(t.push(o),a&&a.call(i,o),o):null;for(var e=o.length-1;e>=0;)t.indexOf(o[e])!==-1&&o.splice(e,1),e--;if(e=o.length,e===0)return null;v>0&&e>s&&(o.splice(s),e=s);for(var r=0;r<e;r++){var h=o[r];t.push(h),a&&a.call(i,h)}return o};c.exports=g},51067:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o,v,a,i,s){if(v===void 0&&(v=0),s===void 0&&(s=t),a>0){var e=a-t.length;if(e<=0)return null}if(!Array.isArray(o))return t.indexOf(o)===-1?(t.splice(v,0,o),i&&i.call(s,o),o):null;for(var r=o.length-1;r>=0;)t.indexOf(o[r])!==-1&&o.pop(),r--;if(r=o.length,r===0)return null;a>0&&r>e&&(o.splice(e),r=e);for(var h=r-1;h>=0;h--){var n=o[h];t.splice(v,0,n),i&&i.call(s,n)}return o};c.exports=g},66905:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o){var v=t.indexOf(o);return v!==-1&&v<t.length&&(t.splice(v,1),t.push(o)),o};c.exports=g},21612:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(82011),v=function(a,i,s,e,r){e===void 0&&(e=0),r===void 0&&(r=a.length);var h=0;if(o(a,e,r))for(var n=e;n<r;n++){var l=a[n];l[i]===s&&h++}return h};c.exports=v},95428:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o,v){var a,i=[null];for(a=3;a<arguments.length;a++)i.push(arguments[a]);for(a=0;a<t.length;a++)i[0]=t[a],o.apply(v,i);return t};c.exports=g},36914:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(82011),v=function(a,i,s,e,r){if(e===void 0&&(e=0),r===void 0&&(r=a.length),o(a,e,r)){var h,n=[null];for(h=5;h<arguments.length;h++)n.push(arguments[h]);for(h=e;h<r;h++)n[0]=a[h],i.apply(s,n)}return a};c.exports=v},81957:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o,v){if(o.length){if(o.length===1)return o[0]}else return NaN;var a=1,i,s;if(v){if(t<o[0][v])return o[0];for(;o[a][v]<t;)a++}else for(;o[a]<t;)a++;return a>o.length&&(a=o.length),v?(i=o[a-1][v],s=o[a][v],s-t<=t-i?o[a]:o[a-1]):(i=o[a-1],s=o[a],s-t<=t-i?s:i)};c.exports=g},43491:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o){o===void 0&&(o=[]);for(var v=0;v<t.length;v++)Array.isArray(t[v])?g(t[v],o):o.push(t[v]);return o};c.exports=g},46710:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(82011),v=function(a,i,s,e,r){e===void 0&&(e=0),r===void 0&&(r=a.length);var h=[];if(o(a,e,r))for(var n=e;n<r;n++){var l=a[n];(!i||i&&s===void 0&&l.hasOwnProperty(i)||i&&s!==void 0&&l[i]===s)&&h.push(l)}return h};c.exports=v},58731:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(82011),v=function(a,i,s,e,r){if(e===void 0&&(e=0),r===void 0&&(r=a.length),o(a,e,r))for(var h=e;h<r;h++){var n=a[h];if(!i||i&&s===void 0&&n.hasOwnProperty(i)||i&&s!==void 0&&n[i]===s)return n}return null};c.exports=v},26546:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o,v){o===void 0&&(o=0),v===void 0&&(v=t.length);var a=o+Math.floor(Math.random()*v);return t[a]===void 0?null:t[a]};c.exports=g},85835:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o,v){if(o===v)return t;var a=t.indexOf(o),i=t.indexOf(v);if(a<0||i<0)throw new Error("Supplied items must be elements of the same array");return a>i||(t.splice(a,1),i===t.length-1?t.push(o):t.splice(i,0,o)),t};c.exports=g},83371:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o,v){if(o===v)return t;var a=t.indexOf(o),i=t.indexOf(v);if(a<0||i<0)throw new Error("Supplied items must be elements of the same array");return a<i||(t.splice(a,1),i===0?t.unshift(o):t.splice(i,0,o)),t};c.exports=g},70864:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o){var v=t.indexOf(o);if(v>0){var a=t[v-1],i=t.indexOf(a);t[v]=a,t[i]=o}return t};c.exports=g},69693:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o,v){var a=t.indexOf(o);if(a===-1||v<0||v>=t.length)throw new Error("Supplied index out of bounds");return a!==v&&(t.splice(a,1),t.splice(v,0,o)),o};c.exports=g},40853:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o){var v=t.indexOf(o);if(v!==-1&&v<t.length-1){var a=t[v+1],i=t.indexOf(a);t[v]=a,t[i]=o}return t};c.exports=g},20283:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o,v,a){var i=[],s,e=!1;if((v||a)&&(e=!0,v||(v=""),a||(a="")),o<t)for(s=t;s>=o;s--)e?i.push(v+s.toString()+a):i.push(s);else for(s=t;s<=o;s++)e?i.push(v+s.toString()+a):i.push(s);return i};c.exports=g},593:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(2284),v=function(a,i,s){a===void 0&&(a=0),i===void 0&&(i=null),s===void 0&&(s=1),i===null&&(i=a,a=0);for(var e=[],r=Math.max(o((i-a)/(s||1)),0),h=0;h<r;h++)e.push(a),a+=s;return e};c.exports=v},43886:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function g(v,a,i){var s=v[a];v[a]=v[i],v[i]=s}function t(v,a){return v<a?-1:v>a?1:0}var o=function(v,a,i,s,e){for(i===void 0&&(i=0),s===void 0&&(s=v.length-1),e===void 0&&(e=t);s>i;){if(s-i>600){var r=s-i+1,h=a-i+1,n=Math.log(r),l=.5*Math.exp(2*n/3),f=.5*Math.sqrt(n*l*(r-l)/r)*(h-r/2<0?-1:1),u=Math.max(i,Math.floor(a-h*l/r+f)),d=Math.min(s,Math.floor(a+(r-h)*l/r+f));o(v,a,u,d,e)}var p=v[a],x=i,E=s;for(g(v,i,a),e(v[s],p)>0&&g(v,i,s);x<E;){for(g(v,x,E),x++,E--;e(v[x],p)<0;)x++;for(;e(v[E],p)>0;)E--}e(v[i],p)===0?g(v,i,E):(E++,g(v,E,s)),E<=a&&(i=E+1),a<=E&&(s=E-1)}};c.exports=o},88492:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(35154),v=t(33680),a=function(s,e,r){for(var h=[],n=0;n<s.length;n++)for(var l=0;l<e.length;l++)for(var f=0;f<r;f++)h.push({a:s[n],b:e[l]});return h},i=function(s,e,r){var h=o(r,"max",0),n=o(r,"qty",1),l=o(r,"random",!1),f=o(r,"randomB",!1),u=o(r,"repeat",0),d=o(r,"yoyo",!1),p=[];if(f&&v(e),u===-1)if(h===0)u=0;else{var x=s.length*e.length*n;d&&(x*=2),u=Math.ceil(h/x)}for(var E=0;E<=u;E++){var T=a(s,e,n);l&&v(T),p=p.concat(T),d&&(T.reverse(),p=p.concat(T))}return h&&p.splice(h),p};c.exports=i},72905:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(19133),v=function(a,i,s,e){e===void 0&&(e=a);var r;if(!Array.isArray(i))return r=a.indexOf(i),r!==-1?(o(a,r),s&&s.call(e,i),i):null;for(var h=i.length-1,n=[];h>=0;){var l=i[h];r=a.indexOf(l),r!==-1&&(o(a,r),n.push(l),s&&s.call(e,l)),h--}return n};c.exports=v},60248:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(19133),v=function(a,i,s,e){if(e===void 0&&(e=a),i<0||i>a.length-1)throw new Error("Index out of bounds");var r=o(a,i);return s&&s.call(e,r),r};c.exports=v},81409:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(82011),v=function(a,i,s,e,r){if(i===void 0&&(i=0),s===void 0&&(s=a.length),r===void 0&&(r=a),o(a,i,s)){var h=s-i,n=a.splice(i,h);if(e)for(var l=0;l<n.length;l++){var f=n[l];e.call(r,f)}return n}else return[]};c.exports=v},31856:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(19133),v=function(a,i,s){i===void 0&&(i=0),s===void 0&&(s=a.length);var e=i+Math.floor(Math.random()*s);return o(a,e)};c.exports=v},42169:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o,v){var a=t.indexOf(o),i=t.indexOf(v);return a!==-1&&i===-1?(t[a]=v,!0):!1};c.exports=g},86003:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o){o===void 0&&(o=1);for(var v=null,a=0;a<o;a++)v=t.shift(),t.push(v);return v};c.exports=g},49498:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o){o===void 0&&(o=1);for(var v=null,a=0;a<o;a++)v=t.pop(),t.unshift(v);return v};c.exports=g},82011:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o,v,a){var i=t.length;if(o<0||o>i||o>=v||v>i){if(a)throw new Error("Range Error: Values outside acceptable range");return!1}else return!0};c.exports=g},89545:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o){var v=t.indexOf(o);return v!==-1&&v>0&&(t.splice(v,1),t.unshift(o)),o};c.exports=g},17810:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(82011),v=function(a,i,s,e,r){if(e===void 0&&(e=0),r===void 0&&(r=a.length),o(a,e,r))for(var h=e;h<r;h++){var n=a[h];n.hasOwnProperty(i)&&(n[i]=s)}return a};c.exports=v},33680:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t){for(var o=t.length-1;o>0;o--){var v=Math.floor(Math.random()*(o+1)),a=t[o];t[o]=t[v],t[v]=a}return t};c.exports=g},90126:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t){var o=/\D/g;return t.sort(function(v,a){return parseInt(v.replace(o,""),10)-parseInt(a.replace(o,""),10)}),t};c.exports=g},19133:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o){if(!(o>=t.length)){for(var v=t.length-1,a=t[o],i=o;i<v;i++)t[i]=t[i+1];return t.length=v,a}};c.exports=g},19186:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Angry Bytes (and contributors)
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(82264);function v(e,r){return String(e).localeCompare(r)}function a(e,r){var h=e.length;if(h<=1)return e;for(var n=new Array(h),l=1;l<h;l*=2){i(e,r,l,n);var f=e;e=n,n=f}return e}function i(e,r,h,n){var l=e.length,f=0,u=h*2,d,p,x,E,T;for(d=0;d<l;d+=u)for(p=d+h,x=p+h,p>l&&(p=l),x>l&&(x=l),E=d,T=p;;)if(E<p&&T<x)r(e[E],e[T])<=0?n[f++]=e[E++]:n[f++]=e[T++];else if(E<p)n[f++]=e[E++];else if(T<x)n[f++]=e[T++];else break}var s=function(e,r){if(r===void 0&&(r=v),!e||e.length<2)return e;if(o.features.stableSort)return e.sort(r);var h=a(e,r);return h!==e&&i(h,null,e.length,e),e};c.exports=s},25630:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o,v){if(o===v)return t;var a=t.indexOf(o),i=t.indexOf(v);if(a<0||i<0)throw new Error("Supplied items must be elements of the same array");return t[a]=v,t[i]=o,t};c.exports=g},37105:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Matrix:t(54915),Add:t(71146),AddAt:t(51067),BringToTop:t(66905),CountAllMatching:t(21612),Each:t(95428),EachInRange:t(36914),FindClosestInSorted:t(81957),Flatten:t(43491),GetAll:t(46710),GetFirst:t(58731),GetRandom:t(26546),MoveDown:t(70864),MoveTo:t(69693),MoveUp:t(40853),MoveAbove:t(85835),MoveBelow:t(83371),NumberArray:t(20283),NumberArrayStep:t(593),QuickSelect:t(43886),Range:t(88492),Remove:t(72905),RemoveAt:t(60248),RemoveBetween:t(81409),RemoveRandomElement:t(31856),Replace:t(42169),RotateLeft:t(86003),RotateRight:t(49498),SafeRange:t(82011),SendToBack:t(89545),SetAll:t(17810),Shuffle:t(33680),SortByDigits:t(90126),SpliceOne:t(19133),StableSort:t(19186),Swap:t(25630)}},86922:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t){if(!Array.isArray(t)||!Array.isArray(t[0]))return!1;for(var o=t[0].length,v=1;v<t.length;v++)if(t[v].length!==o)return!1;return!0};c.exports=g},63362:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(41836),v=t(86922),a=function(i){var s="";if(!v(i))return s;for(var e=0;e<i.length;e++){for(var r=0;r<i[e].length;r++){var h=i[e][r].toString();h!=="undefined"?s+=o(h,2):s+="?",r<i[e].length-1&&(s+=" |")}if(e<i.length-1){s+=`
`;for(var n=0;n<i[e].length;n++)s+="---",n<i[e].length-1&&(s+="+");s+=`
`}}return s};c.exports=a},92598:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t){return t.reverse()};c.exports=g},21224:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t){for(var o=0;o<t.length;o++)t[o].reverse();return t};c.exports=g},98717:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(37829),v=function(a){return o(a,180)};c.exports=v},44657:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(37829),v=function(a,i){i===void 0&&(i=1);for(var s=0;s<i;s++)a=o(a,90);return a};c.exports=v},37829:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(86922),v=t(2429),a=function(i,s){if(s===void 0&&(s=90),!o(i))return null;if(typeof s!="string"&&(s=(s%360+360)%360),s===90||s===-270||s==="rotateLeft")i=v(i),i.reverse();else if(s===-90||s===270||s==="rotateRight")i.reverse(),i=v(i);else if(Math.abs(s)===180||s==="rotate180"){for(var e=0;e<i.length;e++)i[e].reverse();i.reverse()}return i};c.exports=a},92632:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(37829),v=function(a,i){i===void 0&&(i=1);for(var s=0;s<i;s++)a=o(a,-90);return a};c.exports=v},69512:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(86003),v=t(49498),a=function(i,s,e){if(s===void 0&&(s=0),e===void 0&&(e=0),e!==0&&(e<0?o(i,Math.abs(e)):v(i,e)),s!==0)for(var r=0;r<i.length;r++){var h=i[r];s<0?o(h,Math.abs(s)):v(h,s)}return i};c.exports=a},2429:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t){for(var o=t.length,v=t[0].length,a=new Array(v),i=0;i<v;i++){a[i]=new Array(o);for(var s=o-1;s>-1;s--)a[i][s]=t[s][i]}return a};c.exports=g},54915:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={CheckMatrix:t(86922),MatrixToString:t(63362),ReverseColumns:t(92598),ReverseRows:t(21224),Rotate180:t(98717),RotateLeft:t(44657),RotateMatrix:t(37829),RotateRight:t(92632),Translate:t(69512),TransposeMatrix:t(2429)}},71334:c=>{/**
 * @author       Niklas von Hertzen (https://github.com/niklasvh/base64-arraybuffer)
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=function(o,v){for(var a=new Uint8Array(o),i=a.length,s=v?"data:"+v+";base64,":"",e=0;e<i;e+=3)s+=g[a[e]>>2],s+=g[(a[e]&3)<<4|a[e+1]>>4],s+=g[(a[e+1]&15)<<2|a[e+2]>>6],s+=g[a[e+2]&63];return i%3===2?s=s.substring(0,s.length-1)+"=":i%3===1&&(s=s.substring(0,s.length-2)+"=="),s};c.exports=t},53134:c=>{/**
 * @author       Niklas von Hertzen (https://github.com/niklasvh/base64-arraybuffer)
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */for(var g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=new Uint8Array(256),o=0;o<g.length;o++)t[g.charCodeAt(o)]=o;var v=function(a){a=a.substr(a.indexOf(",")+1);var i=a.length,s=i*.75,e=0,r,h,n,l;a[i-1]==="="&&(s--,a[i-2]==="="&&s--);for(var f=new ArrayBuffer(s),u=new Uint8Array(f),d=0;d<i;d+=4)r=t[a.charCodeAt(d)],h=t[a.charCodeAt(d+1)],n=t[a.charCodeAt(d+2)],l=t[a.charCodeAt(d+3)],u[e++]=r<<2|h>>4,u[e++]=(h&15)<<4|n>>2,u[e++]=(n&3)<<6|l&63;return f};c.exports=v},65839:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={ArrayBufferToBase64:t(71334),Base64ToArrayBuffer:t(53134)}},91799:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Array:t(37105),Base64:t(65839),Objects:t(1183),String:t(31749),NOOP:t(29747),NULL:t(20242)}},41786:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t){var o={};for(var v in t)Array.isArray(t[v])?o[v]=t[v].slice(0):o[v]=t[v];return o};c.exports=g},62644:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t){var o,v,a;if(typeof t!="object"||t===null)return t;o=Array.isArray(t)?[]:{};for(a in t)v=t[a],o[a]=g(v);return o};c.exports=g},79291:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(41212),v=function(){var a,i,s,e,r,h,n=arguments[0]||{},l=1,f=arguments.length,u=!1;for(typeof n=="boolean"&&(u=n,n=arguments[1]||{},l=2),f===l&&(n=this,--l);l<f;l++)if((a=arguments[l])!=null)for(i in a)s=n[i],e=a[i],n!==e&&(u&&e&&(o(e)||(r=Array.isArray(e)))?(r?(r=!1,h=s&&Array.isArray(s)?s:[]):h=s&&o(s)?s:{},n[i]=v(u,h,e)):e!==void 0&&(n[i]=e));return n};c.exports=v},23568:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(75508),v=t(35154),a=function(i,s,e){var r=v(i,s,null);if(r===null)return e;if(Array.isArray(r))return o.RND.pick(r);if(typeof r=="object"){if(r.hasOwnProperty("randInt"))return o.RND.integerInRange(r.randInt[0],r.randInt[1]);if(r.hasOwnProperty("randFloat"))return o.RND.realInRange(r.randFloat[0],r.randFloat[1])}else if(typeof r=="function")return r(s);return r};c.exports=a},95540:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o,v){var a=typeof t;return!t||a==="number"||a==="string"?v:t.hasOwnProperty(o)&&t[o]!==void 0?t[o]:v};c.exports=g},82840:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(35154),v=t(45319),a=function(i,s,e,r,h){h===void 0&&(h=e);var n=o(i,s,h);return v(n,e,r)};c.exports=a},35154:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o,v,a){if(!t&&!a||typeof t=="number")return v;if(t&&t.hasOwnProperty(o))return t[o];if(a&&a.hasOwnProperty(o))return a[o];if(o.indexOf(".")!==-1){for(var i=o.split("."),s=t,e=a,r=v,h=v,n=!0,l=!0,f=0;f<i.length;f++)s&&s.hasOwnProperty(i[f])?(r=s[i[f]],s=s[i[f]]):n=!1,e&&e.hasOwnProperty(i[f])?(h=e[i[f]],e=e[i[f]]):l=!1;return n?r:l?h:v}else return v};c.exports=g},69036:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o){for(var v=0;v<o.length;v++)if(!t.hasOwnProperty(o[v]))return!1;return!0};c.exports=g},1985:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o){for(var v=0;v<o.length;v++)if(t.hasOwnProperty(o[v]))return!0;return!1};c.exports=g},97022:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o){return t.hasOwnProperty(o)};c.exports=g},41212:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t){if(!t||typeof t!="object"||t.nodeType||t===t.window)return!1;try{if(t.constructor&&!{}.hasOwnProperty.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch{return!1}return!0};c.exports=g},46975:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(41786),v=function(a,i){var s=o(a);for(var e in i)s.hasOwnProperty(e)||(s[e]=i[e]);return s};c.exports=v},269:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(41786),v=function(a,i){var s=o(a);for(var e in i)s.hasOwnProperty(e)&&(s[e]=i[e]);return s};c.exports=v},18254:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(97022),v=function(a,i){for(var s={},e=0;e<i.length;e++){var r=i[e];o(a,r)&&(s[r]=a[r])}return s};c.exports=v},61622:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o,v){if(!t||typeof t=="number")return!1;if(t.hasOwnProperty(o))return t[o]=v,!0;if(o.indexOf(".")!==-1){for(var a=o.split("."),i=t,s=t,e=0;e<a.length;e++)if(i.hasOwnProperty(a[e]))s=i,i=i[a[e]];else return!1;return s[a[a.length-1]]=v,!0}return!1};c.exports=g},1183:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Clone:t(41786),DeepCopy:t(62644),Extend:t(79291),GetAdvancedValue:t(23568),GetFastValue:t(95540),GetMinMaxValue:t(82840),GetValue:t(35154),HasAll:t(69036),HasAny:t(1985),HasValue:t(97022),IsPlainObject:t(41212),Merge:t(46975),MergeRight:t(269),Pick:t(18254),SetValue:t(61622)}},27902:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o){return t.replace(/%([0-9]+)/g,function(v,a){return o[Number(a)-1]})};c.exports=g},41836:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o,v,a){o===void 0&&(o=0),v===void 0&&(v=" "),a===void 0&&(a=3),t=t.toString();var i=0;if(o+1>=t.length)switch(a){case 1:t=new Array(o+1-t.length).join(v)+t;break;case 3:var s=Math.ceil((i=o-t.length)/2),e=i-s;t=new Array(e+1).join(v)+t+new Array(s+1).join(v);break;default:t=t+new Array(o+1-t.length).join(v);break}return t};c.exports=g},33628:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t,o){return o===0?t.slice(1):t.slice(0,o-1)+t.slice(o)};c.exports=g},27671:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t){return t.split("").reverse().join("")};c.exports=g},45650:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var o=Math.random()*16|0,v=t==="x"?o:o&3|8;return v.toString(16)})};c.exports=g},35355:c=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(t){return t&&t[0].toUpperCase()+t.slice(1)};c.exports=g},31749:(c,g,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Format:t(27902),Pad:t(41836),RemoveAt:t(33628),Reverse:t(27671),UppercaseFirst:t(35355),UUID:t(45650)}}},w={};function P(c){var g=w[c];if(g!==void 0)return g.exports;var t=w[c]={exports:{}};return y[c](t,t.exports,P),t.exports}P.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}();var F=P(85454);return F})())}(Gs)),Gs.exports}var Js=Kl();function jl(){return/iPhone|iPad|iPod/i.test(navigator.userAgent)}function kl(){return/Android/i.test(navigator.userAgent)}function _a(){return kl()||jl()}const Dn=class Dn{constructor(){gt(this,"video");this.video=document.getElementById("video")}static async setup(){if(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)throw Error("No Camrea Available");const m=await navigator.mediaDevices.getUserMedia(Dn.videoConfig);this.defaultCamera=new Dn,this.defaultCamera.video.srcObject=m,await new Promise(P=>{this.defaultCamera.video.onloadedmetadata=()=>{P(this.defaultCamera.video)}}),this.defaultCamera.video.play();const y=this.defaultCamera.video.videoWidth,w=this.defaultCamera.video.videoHeight;return this.defaultCamera.video.width=y,this.defaultCamera.video.height=w,!0}};gt(Dn,"defaultCamera"),gt(Dn,"videoConfig",{audio:!1,video:{facingMode:"user",width:_a()?window.innerHeight:window.innerWidth,height:_a()?window.innerWidth:window.innerHeight,frameRate:{ideal:60}}});let ni=Dn;var Or={},to;function Zl(){return to||(to=1,(function(){var S;function m(W){var k=0;return function(){return k<W.length?{done:!1,value:W[k++]}:{done:!0}}}var y=typeof Object.defineProperties=="function"?Object.defineProperty:function(W,k,Q){return W==Array.prototype||W==Object.prototype||(W[k]=Q.value),W};function w(W){W=[typeof globalThis=="object"&&globalThis,W,typeof window=="object"&&window,typeof self=="object"&&self,typeof Qa=="object"&&Qa];for(var k=0;k<W.length;++k){var Q=W[k];if(Q&&Q.Math==Math)return Q}throw Error("Cannot find global object")}var P=w(this);function F(W,k){if(k)t:{var Q=P;W=W.split(".");for(var ot=0;ot<W.length-1;ot++){var vt=W[ot];if(!(vt in Q))break t;Q=Q[vt]}W=W[W.length-1],ot=Q[W],k=k(ot),k!=ot&&k!=null&&y(Q,W,{configurable:!0,writable:!0,value:k})}}F("Symbol",function(W){function k(Et){if(this instanceof k)throw new TypeError("Symbol is not a constructor");return new Q(ot+(Et||"")+"_"+vt++,Et)}function Q(Et,yt){this.g=Et,y(this,"description",{configurable:!0,writable:!0,value:yt})}if(W)return W;Q.prototype.toString=function(){return this.g};var ot="jscomp_symbol_"+(1e9*Math.random()>>>0)+"_",vt=0;return k}),F("Symbol.iterator",function(W){if(W)return W;W=Symbol("Symbol.iterator");for(var k="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),Q=0;Q<k.length;Q++){var ot=P[k[Q]];typeof ot=="function"&&typeof ot.prototype[W]!="function"&&y(ot.prototype,W,{configurable:!0,writable:!0,value:function(){return c(m(this))}})}return W});function c(W){return W={next:W},W[Symbol.iterator]=function(){return this},W}function g(W){var k=typeof Symbol<"u"&&Symbol.iterator&&W[Symbol.iterator];return k?k.call(W):{next:m(W)}}function t(W){if(!(W instanceof Array)){W=g(W);for(var k,Q=[];!(k=W.next()).done;)Q.push(k.value);W=Q}return W}var o=typeof Object.create=="function"?Object.create:function(W){function k(){}return k.prototype=W,new k},v;if(typeof Object.setPrototypeOf=="function")v=Object.setPrototypeOf;else{var a;t:{var i={a:!0},s={};try{s.__proto__=i,a=s.a;break t}catch{}a=!1}v=a?function(W,k){if(W.__proto__=k,W.__proto__!==k)throw new TypeError(W+" is not extensible");return W}:null}var e=v;function r(W,k){if(W.prototype=o(k.prototype),W.prototype.constructor=W,e)e(W,k);else for(var Q in k)if(Q!="prototype")if(Object.defineProperties){var ot=Object.getOwnPropertyDescriptor(k,Q);ot&&Object.defineProperty(W,Q,ot)}else W[Q]=k[Q];W.ea=k.prototype}function h(){this.l=!1,this.i=null,this.h=void 0,this.g=1,this.s=this.m=0,this.j=null}function n(W){if(W.l)throw new TypeError("Generator is already running");W.l=!0}h.prototype.o=function(W){this.h=W};function l(W,k){W.j={U:k,V:!0},W.g=W.m||W.s}h.prototype.return=function(W){this.j={return:W},this.g=this.s};function f(W,k,Q){return W.g=Q,{value:k}}function u(W){this.g=new h,this.h=W}function d(W,k){n(W.g);var Q=W.g.i;return Q?p(W,"return"in Q?Q.return:function(ot){return{value:ot,done:!0}},k,W.g.return):(W.g.return(k),x(W))}function p(W,k,Q,ot){try{var vt=k.call(W.g.i,Q);if(!(vt instanceof Object))throw new TypeError("Iterator result "+vt+" is not an object");if(!vt.done)return W.g.l=!1,vt;var Et=vt.value}catch(yt){return W.g.i=null,l(W.g,yt),x(W)}return W.g.i=null,ot.call(W.g,Et),x(W)}function x(W){for(;W.g.g;)try{var k=W.h(W.g);if(k)return W.g.l=!1,{value:k.value,done:!1}}catch(Q){W.g.h=void 0,l(W.g,Q)}if(W.g.l=!1,W.g.j){if(k=W.g.j,W.g.j=null,k.V)throw k.U;return{value:k.return,done:!0}}return{value:void 0,done:!0}}function E(W){this.next=function(k){return n(W.g),W.g.i?k=p(W,W.g.i.next,k,W.g.o):(W.g.o(k),k=x(W)),k},this.throw=function(k){return n(W.g),W.g.i?k=p(W,W.g.i.throw,k,W.g.o):(l(W.g,k),k=x(W)),k},this.return=function(k){return d(W,k)},this[Symbol.iterator]=function(){return this}}function T(W,k){return k=new E(new u(k)),e&&W.prototype&&e(k,W.prototype),k}function C(W,k){W instanceof String&&(W+="");var Q=0,ot=!1,vt={next:function(){if(!ot&&Q<W.length){var Et=Q++;return{value:k(Et,W[Et]),done:!1}}return ot=!0,{done:!0,value:void 0}}};return vt[Symbol.iterator]=function(){return vt},vt}var A=typeof Object.assign=="function"?Object.assign:function(W,k){for(var Q=1;Q<arguments.length;Q++){var ot=arguments[Q];if(ot)for(var vt in ot)Object.prototype.hasOwnProperty.call(ot,vt)&&(W[vt]=ot[vt])}return W};F("Object.assign",function(W){return W||A}),F("Promise",function(W){function k(yt){this.h=0,this.i=void 0,this.g=[],this.o=!1;var At=this.j();try{yt(At.resolve,At.reject)}catch(Ft){At.reject(Ft)}}function Q(){this.g=null}function ot(yt){return yt instanceof k?yt:new k(function(At){At(yt)})}if(W)return W;Q.prototype.h=function(yt){if(this.g==null){this.g=[];var At=this;this.i(function(){At.l()})}this.g.push(yt)};var vt=P.setTimeout;Q.prototype.i=function(yt){vt(yt,0)},Q.prototype.l=function(){for(;this.g&&this.g.length;){var yt=this.g;this.g=[];for(var At=0;At<yt.length;++At){var Ft=yt[At];yt[At]=null;try{Ft()}catch(Gt){this.j(Gt)}}}this.g=null},Q.prototype.j=function(yt){this.i(function(){throw yt})},k.prototype.j=function(){function yt(Gt){return function(Yt){Ft||(Ft=!0,Gt.call(At,Yt))}}var At=this,Ft=!1;return{resolve:yt(this.C),reject:yt(this.l)}},k.prototype.C=function(yt){if(yt===this)this.l(new TypeError("A Promise cannot resolve to itself"));else if(yt instanceof k)this.F(yt);else{t:switch(typeof yt){case"object":var At=yt!=null;break t;case"function":At=!0;break t;default:At=!1}At?this.u(yt):this.m(yt)}},k.prototype.u=function(yt){var At=void 0;try{At=yt.then}catch(Ft){this.l(Ft);return}typeof At=="function"?this.G(At,yt):this.m(yt)},k.prototype.l=function(yt){this.s(2,yt)},k.prototype.m=function(yt){this.s(1,yt)},k.prototype.s=function(yt,At){if(this.h!=0)throw Error("Cannot settle("+yt+", "+At+"): Promise already settled in state"+this.h);this.h=yt,this.i=At,this.h===2&&this.D(),this.A()},k.prototype.D=function(){var yt=this;vt(function(){if(yt.B()){var At=P.console;typeof At<"u"&&At.error(yt.i)}},1)},k.prototype.B=function(){if(this.o)return!1;var yt=P.CustomEvent,At=P.Event,Ft=P.dispatchEvent;return typeof Ft>"u"?!0:(typeof yt=="function"?yt=new yt("unhandledrejection",{cancelable:!0}):typeof At=="function"?yt=new At("unhandledrejection",{cancelable:!0}):(yt=P.document.createEvent("CustomEvent"),yt.initCustomEvent("unhandledrejection",!1,!0,yt)),yt.promise=this,yt.reason=this.i,Ft(yt))},k.prototype.A=function(){if(this.g!=null){for(var yt=0;yt<this.g.length;++yt)Et.h(this.g[yt]);this.g=null}};var Et=new Q;return k.prototype.F=function(yt){var At=this.j();yt.J(At.resolve,At.reject)},k.prototype.G=function(yt,At){var Ft=this.j();try{yt.call(At,Ft.resolve,Ft.reject)}catch(Gt){Ft.reject(Gt)}},k.prototype.then=function(yt,At){function Ft(qt,Kt){return typeof qt=="function"?function(Ut){try{Gt(qt(Ut))}catch(V){Yt(V)}}:Kt}var Gt,Yt,ae=new k(function(qt,Kt){Gt=qt,Yt=Kt});return this.J(Ft(yt,Gt),Ft(At,Yt)),ae},k.prototype.catch=function(yt){return this.then(void 0,yt)},k.prototype.J=function(yt,At){function Ft(){switch(Gt.h){case 1:yt(Gt.i);break;case 2:At(Gt.i);break;default:throw Error("Unexpected state: "+Gt.h)}}var Gt=this;this.g==null?Et.h(Ft):this.g.push(Ft),this.o=!0},k.resolve=ot,k.reject=function(yt){return new k(function(At,Ft){Ft(yt)})},k.race=function(yt){return new k(function(At,Ft){for(var Gt=g(yt),Yt=Gt.next();!Yt.done;Yt=Gt.next())ot(Yt.value).J(At,Ft)})},k.all=function(yt){var At=g(yt),Ft=At.next();return Ft.done?ot([]):new k(function(Gt,Yt){function ae(Ut){return function(V){qt[Ut]=V,Kt--,Kt==0&&Gt(qt)}}var qt=[],Kt=0;do qt.push(void 0),Kt++,ot(Ft.value).J(ae(qt.length-1),Yt),Ft=At.next();while(!Ft.done)})},k}),F("Object.is",function(W){return W||function(k,Q){return k===Q?k!==0||1/k===1/Q:k!==k&&Q!==Q}}),F("Array.prototype.includes",function(W){return W||function(k,Q){var ot=this;ot instanceof String&&(ot=String(ot));var vt=ot.length;for(Q=Q||0,0>Q&&(Q=Math.max(Q+vt,0));Q<vt;Q++){var Et=ot[Q];if(Et===k||Object.is(Et,k))return!0}return!1}}),F("String.prototype.includes",function(W){return W||function(k,Q){if(this==null)throw new TypeError("The 'this' value for String.prototype.includes must not be null or undefined");if(k instanceof RegExp)throw new TypeError("First argument to String.prototype.includes must not be a regular expression");return this.indexOf(k,Q||0)!==-1}}),F("Array.prototype.keys",function(W){return W||function(){return C(this,function(k){return k})}});var M=this||self;function R(W,k){W=W.split(".");var Q=M;W[0]in Q||typeof Q.execScript>"u"||Q.execScript("var "+W[0]);for(var ot;W.length&&(ot=W.shift());)W.length||k===void 0?Q[ot]&&Q[ot]!==Object.prototype[ot]?Q=Q[ot]:Q=Q[ot]={}:Q[ot]=k}function O(W,k){return k=String.fromCharCode.apply(null,k),W==null?k:W+k}var L,b=typeof TextDecoder<"u",N,I=typeof TextEncoder<"u";function G(W){if(I)W=(N||(N=new TextEncoder)).encode(W);else{var k=void 0;k=k===void 0?!1:k;for(var Q=0,ot=new Uint8Array(3*W.length),vt=0;vt<W.length;vt++){var Et=W.charCodeAt(vt);if(128>Et)ot[Q++]=Et;else{if(2048>Et)ot[Q++]=Et>>6|192;else{if(55296<=Et&&57343>=Et){if(56319>=Et&&vt<W.length){var yt=W.charCodeAt(++vt);if(56320<=yt&&57343>=yt){Et=1024*(Et-55296)+yt-56320+65536,ot[Q++]=Et>>18|240,ot[Q++]=Et>>12&63|128,ot[Q++]=Et>>6&63|128,ot[Q++]=Et&63|128;continue}else vt--}if(k)throw Error("Found an unpaired surrogate");Et=65533}ot[Q++]=Et>>12|224,ot[Q++]=Et>>6&63|128}ot[Q++]=Et&63|128}}W=ot.subarray(0,Q)}return W}var X={},$=null;function J(W,k){k===void 0&&(k=0),D(),k=X[k];for(var Q=Array(Math.floor(W.length/3)),ot=k[64]||"",vt=0,Et=0;vt<W.length-2;vt+=3){var yt=W[vt],At=W[vt+1],Ft=W[vt+2],Gt=k[yt>>2];yt=k[(yt&3)<<4|At>>4],At=k[(At&15)<<2|Ft>>6],Ft=k[Ft&63],Q[Et++]=Gt+yt+At+Ft}switch(Gt=0,Ft=ot,W.length-vt){case 2:Gt=W[vt+1],Ft=k[(Gt&15)<<2]||ot;case 1:W=W[vt],Q[Et]=k[W>>2]+k[(W&3)<<4|Gt>>4]+Ft+ot}return Q.join("")}function z(W){var k=W.length,Q=3*k/4;Q%3?Q=Math.floor(Q):"=.".indexOf(W[k-1])!=-1&&(Q="=.".indexOf(W[k-2])!=-1?Q-2:Q-1);var ot=new Uint8Array(Q),vt=0;return Y(W,function(Et){ot[vt++]=Et}),ot.subarray(0,vt)}function Y(W,k){function Q(Ft){for(;ot<W.length;){var Gt=W.charAt(ot++),Yt=$[Gt];if(Yt!=null)return Yt;if(!/^[\s\xa0]*$/.test(Gt))throw Error("Unknown base64 encoding at char: "+Gt)}return Ft}D();for(var ot=0;;){var vt=Q(-1),Et=Q(0),yt=Q(64),At=Q(64);if(At===64&&vt===-1)break;k(vt<<2|Et>>4),yt!=64&&(k(Et<<4&240|yt>>2),At!=64&&k(yt<<6&192|At))}}function D(){if(!$){$={};for(var W="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),k=["+/=","+/","-_=","-_.","-_"],Q=0;5>Q;Q++){var ot=W.concat(k[Q].split(""));X[Q]=ot;for(var vt=0;vt<ot.length;vt++){var Et=ot[vt];$[Et]===void 0&&($[Et]=vt)}}}}var B=typeof Uint8Array.prototype.slice=="function",U;function H(W,k,Q){return k===Q?U||(U=new Uint8Array(0)):B?W.slice(k,Q):new Uint8Array(W.subarray(k,Q))}var j=0,q=0;function _(W,k){k=k===void 0?{}:k,k=k.v===void 0?!1:k.v,this.h=null,this.g=this.j=this.l=0,this.m=!1,this.v=k,W&&st(this,W)}function st(W,k){k=k.constructor===Uint8Array?k:k.constructor===ArrayBuffer?new Uint8Array(k):k.constructor===Array?new Uint8Array(k):k.constructor===String?z(k):k instanceof Uint8Array?new Uint8Array(k.buffer,k.byteOffset,k.byteLength):new Uint8Array(0),W.h=k,W.l=0,W.j=W.h.length,W.g=W.l}_.prototype.reset=function(){this.g=this.l};function ut(W){for(var k=128,Q=0,ot=0,vt=0;4>vt&&128<=k;vt++)k=W.h[W.g++],Q|=(k&127)<<7*vt;if(128<=k&&(k=W.h[W.g++],Q|=(k&127)<<28,ot|=(k&127)>>4),128<=k)for(vt=0;5>vt&&128<=k;vt++)k=W.h[W.g++],ot|=(k&127)<<7*vt+3;if(128>k)return W=Q>>>0,k=ot>>>0,(ot=k&2147483648)&&(W=~W+1>>>0,k=~k>>>0,W==0&&(k=k+1>>>0)),W=4294967296*k+(W>>>0),ot?-W:W;W.m=!0}_.prototype.i=function(){var W=this.h,k=W[this.g],Q=k&127;return 128>k?(this.g+=1,Q):(k=W[this.g+1],Q|=(k&127)<<7,128>k?(this.g+=2,Q):(k=W[this.g+2],Q|=(k&127)<<14,128>k?(this.g+=3,Q):(k=W[this.g+3],Q|=(k&127)<<21,128>k?(this.g+=4,Q):(k=W[this.g+4],Q|=(k&15)<<28,128>k?(this.g+=5,Q>>>0):(this.g+=5,128<=W[this.g++]&&128<=W[this.g++]&&128<=W[this.g++]&&128<=W[this.g++]&&this.g++,Q)))))},_.prototype.o=function(){var W=this.h[this.g],k=this.h[this.g+1],Q=this.h[this.g+2],ot=this.h[this.g+3];return this.g+=4,Q=(W<<0|k<<8|Q<<16|ot<<24)>>>0,W=2*(Q>>31)+1,k=Q>>>23&255,Q&=8388607,k==255?Q?NaN:1/0*W:k==0?W*Math.pow(2,-149)*Q:W*Math.pow(2,k-150)*(Q+Math.pow(2,23))};var ct=[];function pt(){this.g=new Uint8Array(64),this.h=0}pt.prototype.push=function(W){if(!(this.h+1<this.g.length)){var k=this.g;this.g=new Uint8Array(Math.ceil(1+2*this.g.length)),this.g.set(k)}this.g[this.h++]=W},pt.prototype.length=function(){return this.h},pt.prototype.end=function(){var W=this.g,k=this.h;return this.h=0,H(W,0,k)};function Tt(W,k){for(;127<k;)W.push(k&127|128),k>>>=7;W.push(k)}function mt(W){var k={},Q=k.N===void 0?!1:k.N;this.o={v:k.v===void 0?!1:k.v},this.N=Q,k=this.o,ct.length?(Q=ct.pop(),k&&(Q.v=k.v),W&&st(Q,W),W=Q):W=new _(W,k),this.g=W,this.m=this.g.g,this.h=this.i=this.l=-1,this.j=!1}mt.prototype.reset=function(){this.g.reset(),this.h=this.l=-1};function wt(W){var k=W.g;if((k=k.g==k.j)||(k=W.j)||(k=W.g,k=k.m||0>k.g||k.g>k.j),k)return!1;W.m=W.g.g,k=W.g.i();var Q=k&7;return Q!=0&&Q!=5&&Q!=1&&Q!=2&&Q!=3&&Q!=4?(W.j=!0,!1):(W.i=k,W.l=k>>>3,W.h=Q,!0)}function Nt(W){switch(W.h){case 0:if(W.h!=0)Nt(W);else{for(W=W.g;W.h[W.g]&128;)W.g++;W.g++}break;case 1:W.h!=1?Nt(W):(W=W.g,W.g+=8);break;case 2:if(W.h!=2)Nt(W);else{var k=W.g.i();W=W.g,W.g+=k}break;case 5:W.h!=5?Nt(W):(W=W.g,W.g+=4);break;case 3:k=W.l;do{if(!wt(W)){W.j=!0;break}if(W.h==4){W.l!=k&&(W.j=!0);break}Nt(W)}while(!0);break;default:W.j=!0}}function zt(W,k,Q){var ot=W.g.j,vt=W.g.i(),Et=W.g.g+vt;if(W.g.j=Et,Q(k,W),Q=Et-W.g.g,Q!==0)throw Error("Message parsing ended unexpectedly. Expected to read "+vt+" bytes, instead read "+(vt-Q)+" bytes, either the data ended unexpectedly or the message misreported its own length");return W.g.g=Et,W.g.j=ot,k}function Ot(W){return W.g.o()}function St(W){var k=W.g.i();W=W.g;var Q=W.g;W.g+=k,W=W.h;var ot;if(b)(ot=L)||(ot=L=new TextDecoder("utf-8",{fatal:!1})),ot=ot.decode(W.subarray(Q,Q+k));else{k=Q+k;for(var vt=[],Et=null,yt,At,Ft;Q<k;)yt=W[Q++],128>yt?vt.push(yt):224>yt?Q>=k?vt.push(65533):(At=W[Q++],194>yt||(At&192)!==128?(Q--,vt.push(65533)):vt.push((yt&31)<<6|At&63)):240>yt?Q>=k-1?vt.push(65533):(At=W[Q++],(At&192)!==128||yt===224&&160>At||yt===237&&160<=At||((ot=W[Q++])&192)!==128?(Q--,vt.push(65533)):vt.push((yt&15)<<12|(At&63)<<6|ot&63)):244>=yt?Q>=k-2?vt.push(65533):(At=W[Q++],(At&192)!==128||(yt<<28)+(At-144)>>30!==0||((ot=W[Q++])&192)!==128||((Ft=W[Q++])&192)!==128?(Q--,vt.push(65533)):(yt=(yt&7)<<18|(At&63)<<12|(ot&63)<<6|Ft&63,yt-=65536,vt.push((yt>>10&1023)+55296,(yt&1023)+56320))):vt.push(65533),8192<=vt.length&&(Et=O(Et,vt),vt.length=0);ot=O(Et,vt)}return ot}function It(W,k,Q){var ot=W.g.i();for(ot=W.g.g+ot;W.g.g<ot;)Q.push(k.call(W.g))}function bt(W,k){W.h==2?It(W,_.prototype.o,k):k.push(Ot(W))}function Xt(){this.h=[],this.i=0,this.g=new pt}function Wt(W,k){k.length!==0&&(W.h.push(k),W.i+=k.length)}function he(W){var k=W.i+W.g.length();if(k===0)return new Uint8Array(0);k=new Uint8Array(k);for(var Q=W.h,ot=Q.length,vt=0,Et=0;Et<ot;Et++){var yt=Q[Et];yt.length!==0&&(k.set(yt,vt),vt+=yt.length)}return Q=W.g,ot=Q.h,ot!==0&&(k.set(Q.g.subarray(0,ot),vt),Q.h=0),W.h=[k],k}function kt(W,k,Q){if(Q!=null){Tt(W.g,8*k+5),W=W.g;var ot=Q;ot=(Q=0>ot?1:0)?-ot:ot,ot===0?0<1/ot?j=q=0:(q=0,j=2147483648):isNaN(ot)?(q=0,j=2147483647):34028234663852886e22<ot?(q=0,j=(Q<<31|2139095040)>>>0):11754943508222875e-54>ot?(ot=Math.round(ot/Math.pow(2,-149)),q=0,j=(Q<<31|ot)>>>0):(k=Math.floor(Math.log(ot)/Math.LN2),ot*=Math.pow(2,-k),ot=Math.round(8388608*ot),16777216<=ot&&++k,q=0,j=(Q<<31|k+127<<23|ot&8388607)>>>0),Q=j,W.push(Q>>>0&255),W.push(Q>>>8&255),W.push(Q>>>16&255),W.push(Q>>>24&255)}}var jt=typeof Uint8Array=="function";function Ht(W,k,Q){if(W!=null)return typeof W=="object"?jt&&W instanceof Uint8Array?Q(W):ve(W,k,Q):k(W)}function ve(W,k,Q){if(Array.isArray(W)){for(var ot=Array(W.length),vt=0;vt<W.length;vt++)ot[vt]=Ht(W[vt],k,Q);return Array.isArray(W)&&W.W&&se(ot),ot}ot={};for(vt in W)ot[vt]=Ht(W[vt],k,Q);return ot}function le(W){return typeof W=="number"?isFinite(W)?W:String(W):W}var Te={W:{value:!0,configurable:!0}};function se(W){return Array.isArray(W)&&!Object.isFrozen(W)&&Object.defineProperties(W,Te),W}var ne;function fe(W,k,Q){var ot=ne;ne=null,W||(W=ot),ot=this.constructor.ca,W||(W=ot?[ot]:[]),this.j=ot?0:-1,this.m=this.g=null,this.h=W;t:{if(ot=this.h.length,W=ot-1,ot&&(ot=this.h[W],!(ot===null||typeof ot!="object"||Array.isArray(ot)||jt&&ot instanceof Uint8Array))){this.l=W-this.j,this.i=ot;break t}k!==void 0&&-1<k?(this.l=Math.max(k,W+1-this.j),this.i=null):this.l=Number.MAX_VALUE}if(Q)for(k=0;k<Q.length;k++)W=Q[k],W<this.l?(W+=this.j,(ot=this.h[W])?se(ot):this.h[W]=Se):(Ie(this),(ot=this.i[W])?se(ot):this.i[W]=Se)}var Se=Object.freeze(se([]));function Ie(W){var k=W.l+W.j;W.h[k]||(W.i=W.h[k]={})}function re(W,k,Q){return k===-1?null:Q!==void 0&&Q||k>=W.l?W.i?W.i[k]:void 0:W.h[k+W.j]}function Be(W,k){var Q=Q===void 0?!1:Q,ot=re(W,k,Q);return ot==null&&(ot=Se),ot===Se&&(ot=se([]),te(W,k,ot,Q)),ot}function Yn(W){var k=Be(W,3);if(W.m||(W.m={}),!W.m[3]){for(var Q=0;Q<k.length;Q++)k[Q]=+k[Q];W.m[3]=!0}return k}function li(W,k,Q){return W=re(W,k),W??Q}function $e(W,k,Q){return W=re(W,k),W=W==null?W:+W,W??(Q===void 0?0:Q)}function te(W,k,Q,ot){ot!==void 0&&ot||k>=W.l?(Ie(W),W.i[k]=Q):W.h[k+W.j]=Q}function xs(W,k,Q){if(Q===-1)return null;if(W.g||(W.g={}),!W.g[Q]){var ot=re(W,Q,!1);ot&&(W.g[Q]=new k(ot))}return W.g[Q]}function Cn(W,k){W.g||(W.g={});var Q=W.g[1];if(!Q){var ot=Be(W,1);Q=[];for(var vt=0;vt<ot.length;vt++)Q[vt]=new k(ot[vt]);W.g[1]=Q}return Q}function Zi(W,k,Q){var ot=ot===void 0?!1:ot;W.g||(W.g={});var vt=Q&&ui(Q);W.g[k]=Q,te(W,k,vt,ot)}function Ji(W,k,Q,ot){var vt=Cn(W,Q);k=k||new Q,W=Be(W,1),ot!=null?(vt.splice(ot,0,k),W.splice(ot,0,ui(k))):(vt.push(k),W.push(ui(k)))}fe.prototype.toJSON=function(){var W=ui(this);return ve(W,le,J)};function ui(W,k){if(W.g)for(var Q in W.g){var ot=W.g[Q];if(Array.isArray(ot))for(var vt=0;vt<ot.length;vt++)ot[vt]&&ui(ot[vt]);else ot&&ui(ot)}return W.h}fe.prototype.toString=function(){return ui(this).toString()};function wn(W,k){if(W=W.o){Wt(k,k.g.end());for(var Q=0;Q<W.length;Q++)Wt(k,W[Q])}}function Ke(W,k){if(k.h==4)return!1;var Q=k.m;return Nt(k),k.N||(k=H(k.g.h,Q,k.g.g),(Q=W.o)?Q.push(k):W.o=[k]),!0}function fi(W){fe.call(this,W,-1,Tr)}r(fi,fe),fi.prototype.getRows=function(){return re(this,1)},fi.prototype.getCols=function(){return re(this,2)},fi.prototype.getPackedDataList=function(){return Yn(this)},fi.prototype.getLayout=function(){return li(this,4,0)};function Ts(W,k){for(;wt(k);)switch(k.i){case 8:var Q=k.g.i();te(W,1,Q);break;case 16:Q=k.g.i(),te(W,2,Q);break;case 29:case 26:bt(k,W.getPackedDataList());break;case 32:Q=ut(k.g),te(W,4,Q);break;default:if(!Ke(W,k))return W}return W}var Tr=[3];function Fe(W,k){var Q=void 0;return new(Q||(Q=Promise))(function(ot,vt){function Et(Ft){try{At(k.next(Ft))}catch(Gt){vt(Gt)}}function yt(Ft){try{At(k.throw(Ft))}catch(Gt){vt(Gt)}}function At(Ft){Ft.done?ot(Ft.value):new Q(function(Gt){Gt(Ft.value)}).then(Et,yt)}At((k=k.apply(W,void 0)).next())})}function di(W){fe.call(this,W)}r(di,fe);function Ss(W,k){for(;wt(k);)switch(k.i){case 8:var Q=k.g.i();te(W,1,Q);break;case 21:Q=Ot(k),te(W,2,Q);break;case 26:Q=St(k),te(W,3,Q);break;case 34:Q=St(k),te(W,4,Q);break;default:if(!Ke(W,k))return W}return W}function An(W){fe.call(this,W,-1,Es)}r(An,fe),An.prototype.addClassification=function(W,k){return Ji(this,W,di,k),this};var Es=[1];function Ni(W){fe.call(this,W)}r(Ni,fe);function Sr(W,k){for(;wt(k);)switch(k.i){case 13:var Q=Ot(k);te(W,1,Q);break;case 21:Q=Ot(k),te(W,2,Q);break;case 29:Q=Ot(k),te(W,3,Q);break;case 37:Q=Ot(k),te(W,4,Q);break;case 45:Q=Ot(k),te(W,5,Q);break;default:if(!Ke(W,k))return W}return W}function Cs(W){fe.call(this,W,-1,As)}r(Cs,fe);function ws(W){t:{var k=new Cs;for(W=new mt(W);wt(W);)switch(W.i){case 10:var Q=zt(W,new Ni,Sr);Ji(k,Q,Ni,void 0);break;default:if(!Ke(k,W))break t}}return k}var As=[1];function Pn(W){fe.call(this,W)}r(Pn,fe);function yi(W){fe.call(this,W,-1,Cr)}r(yi,fe),yi.prototype.getVertexType=function(){return li(this,1,0)},yi.prototype.getPrimitiveType=function(){return li(this,2,0)},yi.prototype.getVertexBufferList=function(){return Yn(this)},yi.prototype.getIndexBufferList=function(){return Be(this,4)};function Er(W,k){for(;wt(k);)switch(k.i){case 8:var Q=ut(k.g);te(W,1,Q);break;case 16:Q=ut(k.g),te(W,2,Q);break;case 29:case 26:bt(k,W.getVertexBufferList());break;case 32:case 34:Q=k;var ot=W.getIndexBufferList();Q.h==2?It(Q,_.prototype.i,ot):ot.push(Q.g.i());break;default:if(!Ke(W,k))return W}return W}var Cr=[3,4];function Mn(W){fe.call(this,W)}r(Mn,fe),Mn.prototype.getMesh=function(){return xs(this,yi,1)},Mn.prototype.getPoseTransformMatrix=function(){return xs(this,fi,2)};function Ps(W){t:{var k=new Mn;for(W=new mt(W);wt(W);)switch(W.i){case 10:var Q=zt(W,new yi,Er);Zi(k,1,Q);break;case 18:Q=zt(W,new fi,Ts),Zi(k,2,Q);break;default:if(!Ke(k,W))break t}}return k}function Hn(W,k,Q){if(Q=W.createShader(Q===0?W.VERTEX_SHADER:W.FRAGMENT_SHADER),W.shaderSource(Q,k),W.compileShader(Q),!W.getShaderParameter(Q,W.COMPILE_STATUS))throw Error(`Could not compile WebGL shader.

`+W.getShaderInfoLog(Q));return Q}function $n(W){return Cn(W,di).map(function(k){return{index:li(k,1,0),Y:$e(k,2),label:re(k,3)!=null?li(k,3,""):void 0,displayName:re(k,4)!=null?li(k,4,""):void 0}})}function Kn(W){return{x:$e(W,1),y:$e(W,2),z:$e(W,3),visibility:re(W,4)!=null?$e(W,4):void 0}}function Qi(W,k){this.h=W,this.g=k,this.l=0}function Ii(W,k,Q){return je(W,k),typeof W.g.canvas.transferToImageBitmap=="function"?Promise.resolve(W.g.canvas.transferToImageBitmap()):Q?Promise.resolve(W.g.canvas):typeof createImageBitmap=="function"?createImageBitmap(W.g.canvas):(W.i===void 0&&(W.i=document.createElement("canvas")),new Promise(function(ot){W.i.height=W.g.canvas.height,W.i.width=W.g.canvas.width,W.i.getContext("2d",{}).drawImage(W.g.canvas,0,0,W.g.canvas.width,W.g.canvas.height),ot(W.i)}))}function je(W,k){var Q=W.g;if(W.m===void 0){var ot=Hn(Q,`
  attribute vec2 aVertex;
  attribute vec2 aTex;
  varying vec2 vTex;
  void main(void) {
    gl_Position = vec4(aVertex, 0.0, 1.0);
    vTex = aTex;
  }`,0),vt=Hn(Q,`
  precision mediump float;
  varying vec2 vTex;
  uniform sampler2D sampler0;
  void main(){
    gl_FragColor = texture2D(sampler0, vTex);
  }`,1),Et=Q.createProgram();if(Q.attachShader(Et,ot),Q.attachShader(Et,vt),Q.linkProgram(Et),!Q.getProgramParameter(Et,Q.LINK_STATUS))throw Error(`Could not compile WebGL program.

`+Q.getProgramInfoLog(Et));ot=W.m=Et,Q.useProgram(ot),vt=Q.getUniformLocation(ot,"sampler0"),W.j={I:Q.getAttribLocation(ot,"aVertex"),H:Q.getAttribLocation(ot,"aTex"),da:vt},W.s=Q.createBuffer(),Q.bindBuffer(Q.ARRAY_BUFFER,W.s),Q.enableVertexAttribArray(W.j.I),Q.vertexAttribPointer(W.j.I,2,Q.FLOAT,!1,0,0),Q.bufferData(Q.ARRAY_BUFFER,new Float32Array([-1,-1,-1,1,1,1,1,-1]),Q.STATIC_DRAW),Q.bindBuffer(Q.ARRAY_BUFFER,null),W.o=Q.createBuffer(),Q.bindBuffer(Q.ARRAY_BUFFER,W.o),Q.enableVertexAttribArray(W.j.H),Q.vertexAttribPointer(W.j.H,2,Q.FLOAT,!1,0,0),Q.bufferData(Q.ARRAY_BUFFER,new Float32Array([0,1,0,0,1,0,1,1]),Q.STATIC_DRAW),Q.bindBuffer(Q.ARRAY_BUFFER,null),Q.uniform1i(vt,0)}ot=W.j,Q.useProgram(W.m),Q.canvas.width=k.width,Q.canvas.height=k.height,Q.viewport(0,0,k.width,k.height),Q.activeTexture(Q.TEXTURE0),W.h.bindTexture2d(k.glName),Q.enableVertexAttribArray(ot.I),Q.bindBuffer(Q.ARRAY_BUFFER,W.s),Q.vertexAttribPointer(ot.I,2,Q.FLOAT,!1,0,0),Q.enableVertexAttribArray(ot.H),Q.bindBuffer(Q.ARRAY_BUFFER,W.o),Q.vertexAttribPointer(ot.H,2,Q.FLOAT,!1,0,0),Q.bindFramebuffer(Q.DRAW_FRAMEBUFFER?Q.DRAW_FRAMEBUFFER:Q.FRAMEBUFFER,null),Q.clearColor(0,0,0,0),Q.clear(Q.COLOR_BUFFER_BIT),Q.colorMask(!0,!0,!0,!0),Q.drawArrays(Q.TRIANGLE_FAN,0,4),Q.disableVertexAttribArray(ot.I),Q.disableVertexAttribArray(ot.H),Q.bindBuffer(Q.ARRAY_BUFFER,null),W.h.bindTexture2d(0)}function wr(W){this.g=W}var Ar=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,9,1,7,0,65,0,253,15,26,11]);function Ms(W,k){return k+W}function jn(W,k){window[W]=k}function Ve(W){var k=document.createElement("script");return k.setAttribute("src",W),k.setAttribute("crossorigin","anonymous"),new Promise(function(Q){k.addEventListener("load",function(){Q()},!1),k.addEventListener("error",function(){Q()},!1),document.body.appendChild(k)})}function Fs(){return Fe(this,function W(){return T(W,function(k){switch(k.g){case 1:return k.m=2,f(k,WebAssembly.instantiate(Ar),4);case 4:k.g=3,k.m=0;break;case 2:return k.m=0,k.j=null,k.return(!1);case 3:return k.return(!0)}})})}function xi(W){if(this.g=W,this.listeners={},this.j={},this.F={},this.m={},this.s={},this.G=this.o=this.R=!0,this.C=Promise.resolve(),this.P="",this.B={},this.locateFile=W&&W.locateFile||Ms,typeof window=="object")var k=window.location.pathname.toString().substring(0,window.location.pathname.toString().lastIndexOf("/"))+"/";else if(typeof location<"u")k=location.pathname.toString().substring(0,location.pathname.toString().lastIndexOf("/"))+"/";else throw Error("solutions can only be loaded on a web page or in a web worker");if(this.S=k,W.options){k=g(Object.keys(W.options));for(var Q=k.next();!Q.done;Q=k.next()){Q=Q.value;var ot=W.options[Q].default;ot!==void 0&&(this.j[Q]=typeof ot=="function"?ot():ot)}}}S=xi.prototype,S.close=function(){return this.i&&this.i.delete(),Promise.resolve()};function Rs(W,k){return W.g.files===void 0?[]:typeof W.g.files=="function"?W.g.files(k):W.g.files}function kn(W){return Fe(W,function k(){var Q=this,ot,vt,Et,yt,At,Ft,Gt,Yt,ae,qt,Kt;return T(k,function(Ut){switch(Ut.g){case 1:return ot=Q,Q.R?(vt=Rs(Q,Q.j),f(Ut,Fs(),2)):Ut.return();case 2:if(Et=Ut.h,typeof window=="object")return jn("createMediapipeSolutionsWasm",{locateFile:Q.locateFile}),jn("createMediapipeSolutionsPackedAssets",{locateFile:Q.locateFile}),Ft=vt.filter(function(V){return V.data!==void 0}),Gt=vt.filter(function(V){return V.data===void 0}),Yt=Promise.all(Ft.map(function(V){var Z=Bi(ot,V.url);if(V.path!==void 0){var tt=V.path;Z=Z.then(function(et){return ot.overrideFile(tt,et),Promise.resolve(et)})}return Z})),ae=Promise.all(Gt.map(function(V){return V.simd===void 0||V.simd&&Et||!V.simd&&!Et?Ve(ot.locateFile(V.url,ot.S)):Promise.resolve()})).then(function(){return Fe(ot,function V(){var Z,tt,et=this;return T(V,function(at){if(at.g==1)return Z=window.createMediapipeSolutionsWasm,tt=window.createMediapipeSolutionsPackedAssets,f(at,Z(tt),2);et.h=at.h,at.g=0})})}),qt=function(){return Fe(ot,function V(){var Z=this;return T(V,function(tt){return Z.g.graph&&Z.g.graph.url?tt=f(tt,Bi(Z,Z.g.graph.url),0):(tt.g=0,tt=void 0),tt})})}(),f(Ut,Promise.all([ae,Yt,qt]),7);if(typeof importScripts!="function")throw Error("solutions can only be loaded on a web page or in a web worker");return yt=vt.filter(function(V){return V.simd===void 0||V.simd&&Et||!V.simd&&!Et}).map(function(V){return ot.locateFile(V.url,ot.S)}),importScripts.apply(null,t(yt)),f(Ut,createMediapipeSolutionsWasm(Module),6);case 6:Q.h=Ut.h,Q.l=new OffscreenCanvas(1,1),Q.h.canvas=Q.l,At=Q.h.GL.createContext(Q.l,{antialias:!1,alpha:!1,ba:typeof WebGL2RenderingContext<"u"?2:1}),Q.h.GL.makeContextCurrent(At),Ut.g=4;break;case 7:if(Q.l=document.createElement("canvas"),Kt=Q.l.getContext("webgl2",{}),!Kt&&(Kt=Q.l.getContext("webgl",{}),!Kt))return alert("Failed to create WebGL canvas context when passing video frame."),Ut.return();Q.D=Kt,Q.h.canvas=Q.l,Q.h.createContext(Q.l,!0,!0,{});case 4:Q.i=new Q.h.SolutionWasm,Q.R=!1,Ut.g=0}})})}function Pr(W){return Fe(W,function k(){var Q=this,ot,vt,Et,yt,At,Ft,Gt,Yt;return T(k,function(ae){if(ae.g==1){if(Q.g.graph&&Q.g.graph.url&&Q.P===Q.g.graph.url)return ae.return();if(Q.o=!0,!Q.g.graph||!Q.g.graph.url){ae.g=2;return}return Q.P=Q.g.graph.url,f(ae,Bi(Q,Q.g.graph.url),3)}for(ae.g!=2&&(ot=ae.h,Q.i.loadGraph(ot)),vt=g(Object.keys(Q.B)),Et=vt.next();!Et.done;Et=vt.next())yt=Et.value,Q.i.overrideFile(yt,Q.B[yt]);if(Q.B={},Q.g.listeners)for(At=g(Q.g.listeners),Ft=At.next();!Ft.done;Ft=At.next())Gt=Ft.value,Fr(Q,Gt);Yt=Q.j,Q.j={},Q.setOptions(Yt),ae.g=0})})}S.reset=function(){return Fe(this,function W(){var k=this;return T(W,function(Q){k.i&&(k.i.reset(),k.m={},k.s={}),Q.g=0})})},S.setOptions=function(W,k){var Q=this;if(k=k||this.g.options){for(var ot=[],vt=[],Et={},yt=g(Object.keys(W)),At=yt.next();!At.done;Et={K:Et.K,L:Et.L},At=yt.next()){var Ft=At.value;Ft in this.j&&this.j[Ft]===W[Ft]||(this.j[Ft]=W[Ft],At=k[Ft],At!==void 0&&(At.onChange&&(Et.K=At.onChange,Et.L=W[Ft],ot.push(function(Gt){return function(){return Fe(Q,function Yt(){var ae,qt=this;return T(Yt,function(Kt){if(Kt.g==1)return f(Kt,Gt.K(Gt.L),2);ae=Kt.h,ae===!0&&(qt.o=!0),Kt.g=0})})}}(Et))),At.graphOptionXref&&(Ft={valueNumber:At.type===1?W[Ft]:0,valueBoolean:At.type===0?W[Ft]:!1,valueString:At.type===2?W[Ft]:""},At=Object.assign(Object.assign(Object.assign({},{calculatorName:"",calculatorIndex:0}),At.graphOptionXref),Ft),vt.push(At))))}(ot.length!==0||vt.length!==0)&&(this.o=!0,this.A=(this.A===void 0?[]:this.A).concat(vt),this.u=(this.u===void 0?[]:this.u).concat(ot))}};function Mr(W){return Fe(W,function k(){var Q=this,ot,vt,Et,yt,At,Ft,Gt;return T(k,function(Yt){switch(Yt.g){case 1:if(!Q.o)return Yt.return();if(!Q.u){Yt.g=2;break}ot=g(Q.u),vt=ot.next();case 3:if(vt.done){Yt.g=5;break}return Et=vt.value,f(Yt,Et(),4);case 4:vt=ot.next(),Yt.g=3;break;case 5:Q.u=void 0;case 2:if(Q.A){for(yt=new Q.h.GraphOptionChangeRequestList,At=g(Q.A),Ft=At.next();!Ft.done;Ft=At.next())Gt=Ft.value,yt.push_back(Gt);Q.i.changeOptions(yt),yt.delete(),Q.A=void 0}Q.o=!1,Yt.g=0}})})}S.initialize=function(){return Fe(this,function W(){var k=this;return T(W,function(Q){return Q.g==1?f(Q,kn(k),2):Q.g!=3?f(Q,Pr(k),3):f(Q,Mr(k),0)})})};function Bi(W,k){return Fe(W,function Q(){var ot=this,vt,Et;return T(Q,function(yt){return k in ot.F?yt.return(ot.F[k]):(vt=ot.locateFile(k,""),Et=fetch(vt).then(function(At){return At.arrayBuffer()}),ot.F[k]=Et,yt.return(Et))})})}S.overrideFile=function(W,k){this.i?this.i.overrideFile(W,k):this.B[W]=k},S.clearOverriddenFiles=function(){this.B={},this.i&&this.i.clearOverriddenFiles()},S.send=function(W,k){return Fe(this,function Q(){var ot=this,vt,Et,yt,At,Ft,Gt,Yt,ae,qt;return T(Q,function(Kt){switch(Kt.g){case 1:return ot.g.inputs?(vt=1e3*(k??performance.now()),f(Kt,ot.C,2)):Kt.return();case 2:return f(Kt,ot.initialize(),3);case 3:for(Et=new ot.h.PacketDataList,yt=g(Object.keys(W)),At=yt.next();!At.done;At=yt.next())if(Ft=At.value,Gt=ot.g.inputs[Ft]){t:{var Ut=ot,V=W[Ft];switch(Gt.type){case"video":var Z=Ut.m[Gt.stream];if(Z||(Z=new Qi(Ut.h,Ut.D),Ut.m[Gt.stream]=Z),Ut=Z,Ut.l===0&&(Ut.l=Ut.h.createTexture()),typeof HTMLVideoElement<"u"&&V instanceof HTMLVideoElement){var tt=V.videoWidth;Z=V.videoHeight}else typeof HTMLImageElement<"u"&&V instanceof HTMLImageElement?(tt=V.naturalWidth,Z=V.naturalHeight):(tt=V.width,Z=V.height);Z={glName:Ut.l,width:tt,height:Z},tt=Ut.g,tt.canvas.width=Z.width,tt.canvas.height=Z.height,tt.activeTexture(tt.TEXTURE0),Ut.h.bindTexture2d(Ut.l),tt.texImage2D(tt.TEXTURE_2D,0,tt.RGBA,tt.RGBA,tt.UNSIGNED_BYTE,V),Ut.h.bindTexture2d(0),Ut=Z;break t;case"detections":for(Z=Ut.m[Gt.stream],Z||(Z=new wr(Ut.h),Ut.m[Gt.stream]=Z),Ut=Z,Ut.data||(Ut.data=new Ut.g.DetectionListData),Ut.data.reset(V.length),Z=0;Z<V.length;++Z){tt=V[Z];var et=Ut.data,at=et.setBoundingBox,nt=Z,ht=tt.T,ft=new Pn;te(ft,1,ht.Z),te(ft,2,ht.$),te(ft,3,ht.height),te(ft,4,ht.width),te(ft,5,ht.rotation),te(ft,6,ht.X);var xt=ht=new Xt;kt(xt,1,re(ft,1)),kt(xt,2,re(ft,2)),kt(xt,3,re(ft,3)),kt(xt,4,re(ft,4)),kt(xt,5,re(ft,5));var Ct=re(ft,6);if(Ct!=null&&Ct!=null){Tt(xt.g,48);var Mt=xt.g,Rt=Ct;Ct=0>Rt,Rt=Math.abs(Rt);var Dt=Rt>>>0;for(Rt=Math.floor((Rt-Dt)/4294967296),Rt>>>=0,Ct&&(Rt=~Rt>>>0,Dt=(~Dt>>>0)+1,4294967295<Dt&&(Dt=0,Rt++,4294967295<Rt&&(Rt=0))),j=Dt,q=Rt,Ct=j,Dt=q;0<Dt||127<Ct;)Mt.push(Ct&127|128),Ct=(Ct>>>7|Dt<<25)>>>0,Dt>>>=7;Mt.push(Ct)}if(wn(ft,xt),ht=he(ht),at.call(et,nt,ht),tt.O)for(et=0;et<tt.O.length;++et)ft=tt.O[et],xt=!!ft.visibility,at=Ut.data,nt=at.addNormalizedLandmark,ht=Z,ft=Object.assign(Object.assign({},ft),{visibility:xt?ft.visibility:0}),xt=new Ni,te(xt,1,ft.x),te(xt,2,ft.y),te(xt,3,ft.z),ft.visibility&&te(xt,4,ft.visibility),Mt=ft=new Xt,kt(Mt,1,re(xt,1)),kt(Mt,2,re(xt,2)),kt(Mt,3,re(xt,3)),kt(Mt,4,re(xt,4)),kt(Mt,5,re(xt,5)),wn(xt,Mt),ft=he(ft),nt.call(at,ht,ft);if(tt.M)for(et=0;et<tt.M.length;++et){if(at=Ut.data,nt=at.addClassification,ht=Z,ft=tt.M[et],xt=new di,te(xt,2,ft.Y),ft.index&&te(xt,1,ft.index),ft.label&&te(xt,3,ft.label),ft.displayName&&te(xt,4,ft.displayName),Mt=ft=new Xt,Dt=re(xt,1),Dt!=null&&Dt!=null)if(Tt(Mt.g,8),Ct=Mt.g,0<=Dt)Tt(Ct,Dt);else{for(Rt=0;9>Rt;Rt++)Ct.push(Dt&127|128),Dt>>=7;Ct.push(1)}kt(Mt,2,re(xt,2)),Ct=re(xt,3),Ct!=null&&(Ct=G(Ct),Tt(Mt.g,26),Tt(Mt.g,Ct.length),Wt(Mt,Mt.g.end()),Wt(Mt,Ct)),Ct=re(xt,4),Ct!=null&&(Ct=G(Ct),Tt(Mt.g,34),Tt(Mt.g,Ct.length),Wt(Mt,Mt.g.end()),Wt(Mt,Ct)),wn(xt,Mt),ft=he(ft),nt.call(at,ht,ft)}}Ut=Ut.data;break t;default:Ut={}}}switch(Yt=Ut,ae=Gt.stream,Gt.type){case"video":Et.pushTexture2d(Object.assign(Object.assign({},Yt),{stream:ae,timestamp:vt}));break;case"detections":qt=Yt,qt.stream=ae,qt.timestamp=vt,Et.pushDetectionList(qt);break;default:throw Error("Unknown input config type: '"+Gt.type+"'")}}return ot.i.send(Et),f(Kt,ot.C,4);case 4:Et.delete(),Kt.g=0}})})};function Ls(W,k,Q){return Fe(W,function ot(){var vt,Et,yt,At,Ft,Gt,Yt=this,ae,qt,Kt,Ut,V,Z,tt,et;return T(ot,function(at){switch(at.g){case 1:if(!Q)return at.return(k);for(vt={},Et=0,yt=g(Object.keys(Q)),At=yt.next();!At.done;At=yt.next())Ft=At.value,Gt=Q[Ft],typeof Gt!="string"&&Gt.type==="texture"&&k[Gt.stream]!==void 0&&++Et;1<Et&&(Yt.G=!1),ae=g(Object.keys(Q)),At=ae.next();case 2:if(At.done){at.g=4;break}if(qt=At.value,Kt=Q[qt],typeof Kt=="string")return tt=vt,et=qt,f(at,Os(Yt,qt,k[Kt]),14);if(Ut=k[Kt.stream],Kt.type==="detection_list"){if(Ut){for(var nt=Ut.getRectList(),ht=Ut.getLandmarksList(),ft=Ut.getClassificationsList(),xt=[],Ct=0;Ct<nt.size();++Ct){var Mt=nt.get(Ct);t:{var Rt=new Pn;for(Mt=new mt(Mt);wt(Mt);)switch(Mt.i){case 13:var Dt=Ot(Mt);te(Rt,1,Dt);break;case 21:Dt=Ot(Mt),te(Rt,2,Dt);break;case 29:Dt=Ot(Mt),te(Rt,3,Dt);break;case 37:Dt=Ot(Mt),te(Rt,4,Dt);break;case 45:Dt=Ot(Mt),te(Rt,5,Dt);break;case 48:Dt=ut(Mt.g),te(Rt,6,Dt);break;default:if(!Ke(Rt,Mt))break t}}Rt={Z:$e(Rt,1),$:$e(Rt,2),height:$e(Rt,3),width:$e(Rt,4),rotation:$e(Rt,5,0),X:li(Rt,6,0)},Mt=Cn(ws(ht.get(Ct)),Ni).map(Kn);var Bt=ft.get(Ct);t:for(Dt=new An,Bt=new mt(Bt);wt(Bt);)switch(Bt.i){case 10:Dt.addClassification(zt(Bt,new di,Ss));break;default:if(!Ke(Dt,Bt))break t}Rt={T:Rt,O:Mt,M:$n(Dt)},xt.push(Rt)}nt=xt}else nt=[];vt[qt]=nt,at.g=7;break}if(Kt.type==="proto_list"){if(Ut){for(nt=Array(Ut.size()),ht=0;ht<Ut.size();ht++)nt[ht]=Ut.get(ht);Ut.delete()}else nt=[];vt[qt]=nt,at.g=7;break}if(Ut===void 0){at.g=3;break}if(Kt.type==="float_list"){vt[qt]=Ut,at.g=7;break}if(Kt.type==="proto"){vt[qt]=Ut,at.g=7;break}if(Kt.type!=="texture")throw Error("Unknown output config type: '"+Kt.type+"'");return V=Yt.s[qt],V||(V=new Qi(Yt.h,Yt.D),Yt.s[qt]=V),f(at,Ii(V,Ut,Yt.G),13);case 13:Z=at.h,vt[qt]=Z;case 7:Kt.transform&&vt[qt]&&(vt[qt]=Kt.transform(vt[qt])),at.g=3;break;case 14:tt[et]=at.h;case 3:At=ae.next(),at.g=2;break;case 4:return at.return(vt)}})})}function Os(W,k,Q){return Fe(W,function ot(){var vt=this,Et;return T(ot,function(yt){return typeof Q=="number"||Q instanceof Uint8Array||Q instanceof vt.h.Uint8BlobList?yt.return(Q):Q instanceof vt.h.Texture2dDataOut?(Et=vt.s[k],Et||(Et=new Qi(vt.h,vt.D),vt.s[k]=Et),yt.return(Ii(Et,Q,vt.G))):yt.return(void 0)})})}function Fr(W,k){for(var Q=k.name||"$",ot=[].concat(t(k.wants)),vt=new W.h.StringList,Et=g(k.wants),yt=Et.next();!yt.done;yt=Et.next())vt.push_back(yt.value);Et=W.h.PacketListener.implement({onResults:function(At){for(var Ft={},Gt=0;Gt<k.wants.length;++Gt)Ft[ot[Gt]]=At.get(Gt);var Yt=W.listeners[Q];Yt&&(W.C=Ls(W,Ft,k.outs).then(function(ae){ae=Yt(ae);for(var qt=0;qt<k.wants.length;++qt){var Kt=Ft[ot[qt]];typeof Kt=="object"&&Kt.hasOwnProperty&&Kt.hasOwnProperty("delete")&&Kt.delete()}ae&&(W.C=ae)}))}}),W.i.attachMultiListener(vt,Et),vt.delete()}S.onResults=function(W,k){this.listeners[k||"$"]=W},R("Solution",xi),R("OptionType",{BOOL:0,NUMBER:1,aa:2,0:"BOOL",1:"NUMBER",2:"STRING"});function Rr(W){W=Ps(W);var k=W.getMesh();if(!k)return W;var Q=new Float32Array(k.getVertexBufferList());k.getVertexBufferList=function(){return Q};var ot=new Uint32Array(k.getIndexBufferList());return k.getIndexBufferList=function(){return ot},W}var Zn={files:[{url:"face_mesh_solution_packed_assets_loader.js"},{simd:!0,url:"face_mesh_solution_simd_wasm_bin.js"},{simd:!1,url:"face_mesh_solution_wasm_bin.js"}],graph:{url:"face_mesh.binarypb"},listeners:[{wants:["multi_face_geometry","image_transformed","multi_face_landmarks"],outs:{image:"image_transformed",multiFaceGeometry:{type:"proto_list",stream:"multi_face_geometry",transform:function(W){return W.map(Rr)}},multiFaceLandmarks:{type:"proto_list",stream:"multi_face_landmarks",transform:function(W){return W.map(function(k){return Cn(ws(k),Ni).map(Kn)})}}}}],inputs:{image:{type:"video",stream:"input_frames_gpu"}},options:{useCpuInference:{type:0,graphOptionXref:{calculatorType:"InferenceCalculator",fieldName:"use_cpu_inference"},default:"iPad Simulator;iPhone Simulator;iPod Simulator;iPad;iPhone;iPod".split(";").includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document},enableFaceGeometry:{type:0,graphOptionXref:{calculatorName:"EnableFaceGeometryConstant",calculatorType:"ConstantSidePacketCalculator",fieldName:"bool_value"}},selfieMode:{type:0,graphOptionXref:{calculatorType:"GlScalerCalculator",calculatorIndex:1,fieldName:"flip_horizontal"}},maxNumFaces:{type:1,graphOptionXref:{calculatorType:"ConstantSidePacketCalculator",calculatorName:"ConstantSidePacketCalculatorNumFaces",fieldName:"int_value"}},refineLandmarks:{type:0,graphOptionXref:{calculatorType:"ConstantSidePacketCalculator",calculatorName:"ConstantSidePacketCalculatorRefineLandmarks",fieldName:"bool_value"}},minDetectionConfidence:{type:1,graphOptionXref:{calculatorType:"TensorsToDetectionsCalculator",calculatorName:"facelandmarkfrontgpu__facedetectionshortrangegpu__facedetectionshortrangecommon__TensorsToDetectionsCalculator",fieldName:"min_score_thresh"}},minTrackingConfidence:{type:1,graphOptionXref:{calculatorType:"ThresholdingCalculator",calculatorName:"facelandmarkfrontgpu__facelandmarkgpu__ThresholdingCalculator",fieldName:"threshold"}},cameraNear:{type:1,graphOptionXref:{calculatorType:"FaceGeometryEnvGeneratorCalculator",fieldName:"near"}},cameraFar:{type:1,graphOptionXref:{calculatorType:"FaceGeometryEnvGeneratorCalculator",fieldName:"far"}},cameraVerticalFovDegrees:{type:1,graphOptionXref:{calculatorType:"FaceGeometryEnvGeneratorCalculator",fieldName:"vertical_fov_degrees"}}}},Jn=[[61,146],[146,91],[91,181],[181,84],[84,17],[17,314],[314,405],[405,321],[321,375],[375,291],[61,185],[185,40],[40,39],[39,37],[37,0],[0,267],[267,269],[269,270],[270,409],[409,291],[78,95],[95,88],[88,178],[178,87],[87,14],[14,317],[317,402],[402,318],[318,324],[324,308],[78,191],[191,80],[80,81],[81,82],[82,13],[13,312],[312,311],[311,310],[310,415],[415,308]],Qn=[[263,249],[249,390],[390,373],[373,374],[374,380],[380,381],[381,382],[382,362],[263,466],[466,388],[388,387],[387,386],[386,385],[385,384],[384,398],[398,362]],qn=[[276,283],[283,282],[282,295],[295,285],[300,293],[293,334],[334,296],[296,336]],_n=[[33,7],[7,163],[163,144],[144,145],[145,153],[153,154],[154,155],[155,133],[33,246],[246,161],[161,160],[160,159],[159,158],[158,157],[157,173],[173,133]],ts=[[46,53],[53,52],[52,65],[65,55],[70,63],[63,105],[105,66],[66,107]],es=[[10,338],[338,297],[297,332],[332,284],[284,251],[251,389],[389,356],[356,454],[454,323],[323,361],[361,288],[288,397],[397,365],[365,379],[379,378],[378,400],[400,377],[377,152],[152,148],[148,176],[176,149],[149,150],[150,136],[136,172],[172,58],[58,132],[132,93],[93,234],[234,127],[127,162],[162,21],[21,54],[54,103],[103,67],[67,109],[109,10]],bs=[].concat(t(Jn),t(Qn),t(qn),t(_n),t(ts),t(es));function Ds(W){W=W||{},W=Object.assign(Object.assign({},Zn),W),this.g=new xi(W)}S=Ds.prototype,S.close=function(){return this.g.close(),Promise.resolve()},S.onResults=function(W){this.g.onResults(W)},S.initialize=function(){return Fe(this,function W(){var k=this;return T(W,function(Q){return f(Q,k.g.initialize(),0)})})},S.reset=function(){this.g.reset()},S.send=function(W){return Fe(this,function k(){var Q=this;return T(k,function(ot){return f(ot,Q.g.send(W),0)})})},S.setOptions=function(W){this.g.setOptions(W)},R("FACE_GEOMETRY",{Layout:{COLUMN_MAJOR:0,ROW_MAJOR:1,0:"COLUMN_MAJOR",1:"ROW_MAJOR"},PrimitiveType:{TRIANGLE:0,0:"TRIANGLE"},VertexType:{VERTEX_PT:0,0:"VERTEX_PT"},DEFAULT_CAMERA_PARAMS:{verticalFovDegrees:63,near:1,far:1e4}}),R("FaceMesh",Ds),R("FACEMESH_LIPS",Jn),R("FACEMESH_LEFT_EYE",Qn),R("FACEMESH_LEFT_EYEBROW",qn),R("FACEMESH_LEFT_IRIS",[[474,475],[475,476],[476,477],[477,474]]),R("FACEMESH_RIGHT_EYE",_n),R("FACEMESH_RIGHT_EYEBROW",ts),R("FACEMESH_RIGHT_IRIS",[[469,470],[470,471],[471,472],[472,469]]),R("FACEMESH_FACE_OVAL",es),R("FACEMESH_CONTOURS",bs),R("FACEMESH_TESSELATION",[[127,34],[34,139],[139,127],[11,0],[0,37],[37,11],[232,231],[231,120],[120,232],[72,37],[37,39],[39,72],[128,121],[121,47],[47,128],[232,121],[121,128],[128,232],[104,69],[69,67],[67,104],[175,171],[171,148],[148,175],[118,50],[50,101],[101,118],[73,39],[39,40],[40,73],[9,151],[151,108],[108,9],[48,115],[115,131],[131,48],[194,204],[204,211],[211,194],[74,40],[40,185],[185,74],[80,42],[42,183],[183,80],[40,92],[92,186],[186,40],[230,229],[229,118],[118,230],[202,212],[212,214],[214,202],[83,18],[18,17],[17,83],[76,61],[61,146],[146,76],[160,29],[29,30],[30,160],[56,157],[157,173],[173,56],[106,204],[204,194],[194,106],[135,214],[214,192],[192,135],[203,165],[165,98],[98,203],[21,71],[71,68],[68,21],[51,45],[45,4],[4,51],[144,24],[24,23],[23,144],[77,146],[146,91],[91,77],[205,50],[50,187],[187,205],[201,200],[200,18],[18,201],[91,106],[106,182],[182,91],[90,91],[91,181],[181,90],[85,84],[84,17],[17,85],[206,203],[203,36],[36,206],[148,171],[171,140],[140,148],[92,40],[40,39],[39,92],[193,189],[189,244],[244,193],[159,158],[158,28],[28,159],[247,246],[246,161],[161,247],[236,3],[3,196],[196,236],[54,68],[68,104],[104,54],[193,168],[168,8],[8,193],[117,228],[228,31],[31,117],[189,193],[193,55],[55,189],[98,97],[97,99],[99,98],[126,47],[47,100],[100,126],[166,79],[79,218],[218,166],[155,154],[154,26],[26,155],[209,49],[49,131],[131,209],[135,136],[136,150],[150,135],[47,126],[126,217],[217,47],[223,52],[52,53],[53,223],[45,51],[51,134],[134,45],[211,170],[170,140],[140,211],[67,69],[69,108],[108,67],[43,106],[106,91],[91,43],[230,119],[119,120],[120,230],[226,130],[130,247],[247,226],[63,53],[53,52],[52,63],[238,20],[20,242],[242,238],[46,70],[70,156],[156,46],[78,62],[62,96],[96,78],[46,53],[53,63],[63,46],[143,34],[34,227],[227,143],[123,117],[117,111],[111,123],[44,125],[125,19],[19,44],[236,134],[134,51],[51,236],[216,206],[206,205],[205,216],[154,153],[153,22],[22,154],[39,37],[37,167],[167,39],[200,201],[201,208],[208,200],[36,142],[142,100],[100,36],[57,212],[212,202],[202,57],[20,60],[60,99],[99,20],[28,158],[158,157],[157,28],[35,226],[226,113],[113,35],[160,159],[159,27],[27,160],[204,202],[202,210],[210,204],[113,225],[225,46],[46,113],[43,202],[202,204],[204,43],[62,76],[76,77],[77,62],[137,123],[123,116],[116,137],[41,38],[38,72],[72,41],[203,129],[129,142],[142,203],[64,98],[98,240],[240,64],[49,102],[102,64],[64,49],[41,73],[73,74],[74,41],[212,216],[216,207],[207,212],[42,74],[74,184],[184,42],[169,170],[170,211],[211,169],[170,149],[149,176],[176,170],[105,66],[66,69],[69,105],[122,6],[6,168],[168,122],[123,147],[147,187],[187,123],[96,77],[77,90],[90,96],[65,55],[55,107],[107,65],[89,90],[90,180],[180,89],[101,100],[100,120],[120,101],[63,105],[105,104],[104,63],[93,137],[137,227],[227,93],[15,86],[86,85],[85,15],[129,102],[102,49],[49,129],[14,87],[87,86],[86,14],[55,8],[8,9],[9,55],[100,47],[47,121],[121,100],[145,23],[23,22],[22,145],[88,89],[89,179],[179,88],[6,122],[122,196],[196,6],[88,95],[95,96],[96,88],[138,172],[172,136],[136,138],[215,58],[58,172],[172,215],[115,48],[48,219],[219,115],[42,80],[80,81],[81,42],[195,3],[3,51],[51,195],[43,146],[146,61],[61,43],[171,175],[175,199],[199,171],[81,82],[82,38],[38,81],[53,46],[46,225],[225,53],[144,163],[163,110],[110,144],[52,65],[65,66],[66,52],[229,228],[228,117],[117,229],[34,127],[127,234],[234,34],[107,108],[108,69],[69,107],[109,108],[108,151],[151,109],[48,64],[64,235],[235,48],[62,78],[78,191],[191,62],[129,209],[209,126],[126,129],[111,35],[35,143],[143,111],[117,123],[123,50],[50,117],[222,65],[65,52],[52,222],[19,125],[125,141],[141,19],[221,55],[55,65],[65,221],[3,195],[195,197],[197,3],[25,7],[7,33],[33,25],[220,237],[237,44],[44,220],[70,71],[71,139],[139,70],[122,193],[193,245],[245,122],[247,130],[130,33],[33,247],[71,21],[21,162],[162,71],[170,169],[169,150],[150,170],[188,174],[174,196],[196,188],[216,186],[186,92],[92,216],[2,97],[97,167],[167,2],[141,125],[125,241],[241,141],[164,167],[167,37],[37,164],[72,38],[38,12],[12,72],[38,82],[82,13],[13,38],[63,68],[68,71],[71,63],[226,35],[35,111],[111,226],[101,50],[50,205],[205,101],[206,92],[92,165],[165,206],[209,198],[198,217],[217,209],[165,167],[167,97],[97,165],[220,115],[115,218],[218,220],[133,112],[112,243],[243,133],[239,238],[238,241],[241,239],[214,135],[135,169],[169,214],[190,173],[173,133],[133,190],[171,208],[208,32],[32,171],[125,44],[44,237],[237,125],[86,87],[87,178],[178,86],[85,86],[86,179],[179,85],[84,85],[85,180],[180,84],[83,84],[84,181],[181,83],[201,83],[83,182],[182,201],[137,93],[93,132],[132,137],[76,62],[62,183],[183,76],[61,76],[76,184],[184,61],[57,61],[61,185],[185,57],[212,57],[57,186],[186,212],[214,207],[207,187],[187,214],[34,143],[143,156],[156,34],[79,239],[239,237],[237,79],[123,137],[137,177],[177,123],[44,1],[1,4],[4,44],[201,194],[194,32],[32,201],[64,102],[102,129],[129,64],[213,215],[215,138],[138,213],[59,166],[166,219],[219,59],[242,99],[99,97],[97,242],[2,94],[94,141],[141,2],[75,59],[59,235],[235,75],[24,110],[110,228],[228,24],[25,130],[130,226],[226,25],[23,24],[24,229],[229,23],[22,23],[23,230],[230,22],[26,22],[22,231],[231,26],[112,26],[26,232],[232,112],[189,190],[190,243],[243,189],[221,56],[56,190],[190,221],[28,56],[56,221],[221,28],[27,28],[28,222],[222,27],[29,27],[27,223],[223,29],[30,29],[29,224],[224,30],[247,30],[30,225],[225,247],[238,79],[79,20],[20,238],[166,59],[59,75],[75,166],[60,75],[75,240],[240,60],[147,177],[177,215],[215,147],[20,79],[79,166],[166,20],[187,147],[147,213],[213,187],[112,233],[233,244],[244,112],[233,128],[128,245],[245,233],[128,114],[114,188],[188,128],[114,217],[217,174],[174,114],[131,115],[115,220],[220,131],[217,198],[198,236],[236,217],[198,131],[131,134],[134,198],[177,132],[132,58],[58,177],[143,35],[35,124],[124,143],[110,163],[163,7],[7,110],[228,110],[110,25],[25,228],[356,389],[389,368],[368,356],[11,302],[302,267],[267,11],[452,350],[350,349],[349,452],[302,303],[303,269],[269,302],[357,343],[343,277],[277,357],[452,453],[453,357],[357,452],[333,332],[332,297],[297,333],[175,152],[152,377],[377,175],[347,348],[348,330],[330,347],[303,304],[304,270],[270,303],[9,336],[336,337],[337,9],[278,279],[279,360],[360,278],[418,262],[262,431],[431,418],[304,408],[408,409],[409,304],[310,415],[415,407],[407,310],[270,409],[409,410],[410,270],[450,348],[348,347],[347,450],[422,430],[430,434],[434,422],[313,314],[314,17],[17,313],[306,307],[307,375],[375,306],[387,388],[388,260],[260,387],[286,414],[414,398],[398,286],[335,406],[406,418],[418,335],[364,367],[367,416],[416,364],[423,358],[358,327],[327,423],[251,284],[284,298],[298,251],[281,5],[5,4],[4,281],[373,374],[374,253],[253,373],[307,320],[320,321],[321,307],[425,427],[427,411],[411,425],[421,313],[313,18],[18,421],[321,405],[405,406],[406,321],[320,404],[404,405],[405,320],[315,16],[16,17],[17,315],[426,425],[425,266],[266,426],[377,400],[400,369],[369,377],[322,391],[391,269],[269,322],[417,465],[465,464],[464,417],[386,257],[257,258],[258,386],[466,260],[260,388],[388,466],[456,399],[399,419],[419,456],[284,332],[332,333],[333,284],[417,285],[285,8],[8,417],[346,340],[340,261],[261,346],[413,441],[441,285],[285,413],[327,460],[460,328],[328,327],[355,371],[371,329],[329,355],[392,439],[439,438],[438,392],[382,341],[341,256],[256,382],[429,420],[420,360],[360,429],[364,394],[394,379],[379,364],[277,343],[343,437],[437,277],[443,444],[444,283],[283,443],[275,440],[440,363],[363,275],[431,262],[262,369],[369,431],[297,338],[338,337],[337,297],[273,375],[375,321],[321,273],[450,451],[451,349],[349,450],[446,342],[342,467],[467,446],[293,334],[334,282],[282,293],[458,461],[461,462],[462,458],[276,353],[353,383],[383,276],[308,324],[324,325],[325,308],[276,300],[300,293],[293,276],[372,345],[345,447],[447,372],[352,345],[345,340],[340,352],[274,1],[1,19],[19,274],[456,248],[248,281],[281,456],[436,427],[427,425],[425,436],[381,256],[256,252],[252,381],[269,391],[391,393],[393,269],[200,199],[199,428],[428,200],[266,330],[330,329],[329,266],[287,273],[273,422],[422,287],[250,462],[462,328],[328,250],[258,286],[286,384],[384,258],[265,353],[353,342],[342,265],[387,259],[259,257],[257,387],[424,431],[431,430],[430,424],[342,353],[353,276],[276,342],[273,335],[335,424],[424,273],[292,325],[325,307],[307,292],[366,447],[447,345],[345,366],[271,303],[303,302],[302,271],[423,266],[266,371],[371,423],[294,455],[455,460],[460,294],[279,278],[278,294],[294,279],[271,272],[272,304],[304,271],[432,434],[434,427],[427,432],[272,407],[407,408],[408,272],[394,430],[430,431],[431,394],[395,369],[369,400],[400,395],[334,333],[333,299],[299,334],[351,417],[417,168],[168,351],[352,280],[280,411],[411,352],[325,319],[319,320],[320,325],[295,296],[296,336],[336,295],[319,403],[403,404],[404,319],[330,348],[348,349],[349,330],[293,298],[298,333],[333,293],[323,454],[454,447],[447,323],[15,16],[16,315],[315,15],[358,429],[429,279],[279,358],[14,15],[15,316],[316,14],[285,336],[336,9],[9,285],[329,349],[349,350],[350,329],[374,380],[380,252],[252,374],[318,402],[402,403],[403,318],[6,197],[197,419],[419,6],[318,319],[319,325],[325,318],[367,364],[364,365],[365,367],[435,367],[367,397],[397,435],[344,438],[438,439],[439,344],[272,271],[271,311],[311,272],[195,5],[5,281],[281,195],[273,287],[287,291],[291,273],[396,428],[428,199],[199,396],[311,271],[271,268],[268,311],[283,444],[444,445],[445,283],[373,254],[254,339],[339,373],[282,334],[334,296],[296,282],[449,347],[347,346],[346,449],[264,447],[447,454],[454,264],[336,296],[296,299],[299,336],[338,10],[10,151],[151,338],[278,439],[439,455],[455,278],[292,407],[407,415],[415,292],[358,371],[371,355],[355,358],[340,345],[345,372],[372,340],[346,347],[347,280],[280,346],[442,443],[443,282],[282,442],[19,94],[94,370],[370,19],[441,442],[442,295],[295,441],[248,419],[419,197],[197,248],[263,255],[255,359],[359,263],[440,275],[275,274],[274,440],[300,383],[383,368],[368,300],[351,412],[412,465],[465,351],[263,467],[467,466],[466,263],[301,368],[368,389],[389,301],[395,378],[378,379],[379,395],[412,351],[351,419],[419,412],[436,426],[426,322],[322,436],[2,164],[164,393],[393,2],[370,462],[462,461],[461,370],[164,0],[0,267],[267,164],[302,11],[11,12],[12,302],[268,12],[12,13],[13,268],[293,300],[300,301],[301,293],[446,261],[261,340],[340,446],[330,266],[266,425],[425,330],[426,423],[423,391],[391,426],[429,355],[355,437],[437,429],[391,327],[327,326],[326,391],[440,457],[457,438],[438,440],[341,382],[382,362],[362,341],[459,457],[457,461],[461,459],[434,430],[430,394],[394,434],[414,463],[463,362],[362,414],[396,369],[369,262],[262,396],[354,461],[461,457],[457,354],[316,403],[403,402],[402,316],[315,404],[404,403],[403,315],[314,405],[405,404],[404,314],[313,406],[406,405],[405,313],[421,418],[418,406],[406,421],[366,401],[401,361],[361,366],[306,408],[408,407],[407,306],[291,409],[409,408],[408,291],[287,410],[410,409],[409,287],[432,436],[436,410],[410,432],[434,416],[416,411],[411,434],[264,368],[368,383],[383,264],[309,438],[438,457],[457,309],[352,376],[376,401],[401,352],[274,275],[275,4],[4,274],[421,428],[428,262],[262,421],[294,327],[327,358],[358,294],[433,416],[416,367],[367,433],[289,455],[455,439],[439,289],[462,370],[370,326],[326,462],[2,326],[326,370],[370,2],[305,460],[460,455],[455,305],[254,449],[449,448],[448,254],[255,261],[261,446],[446,255],[253,450],[450,449],[449,253],[252,451],[451,450],[450,252],[256,452],[452,451],[451,256],[341,453],[453,452],[452,341],[413,464],[464,463],[463,413],[441,413],[413,414],[414,441],[258,442],[442,441],[441,258],[257,443],[443,442],[442,257],[259,444],[444,443],[443,259],[260,445],[445,444],[444,260],[467,342],[342,445],[445,467],[459,458],[458,250],[250,459],[289,392],[392,290],[290,289],[290,328],[328,460],[460,290],[376,433],[433,435],[435,376],[250,290],[290,392],[392,250],[411,416],[416,433],[433,411],[341,463],[463,464],[464,341],[453,464],[464,465],[465,453],[357,465],[465,412],[412,357],[343,412],[412,399],[399,343],[360,363],[363,440],[440,360],[437,399],[399,456],[456,437],[420,456],[456,363],[363,420],[401,435],[435,288],[288,401],[372,383],[383,353],[353,372],[339,255],[255,249],[249,339],[448,261],[261,255],[255,448],[133,243],[243,190],[190,133],[133,155],[155,112],[112,133],[33,246],[246,247],[247,33],[33,130],[130,25],[25,33],[398,384],[384,286],[286,398],[362,398],[398,414],[414,362],[362,463],[463,341],[341,362],[263,359],[359,467],[467,263],[263,249],[249,255],[255,263],[466,467],[467,260],[260,466],[75,60],[60,166],[166,75],[238,239],[239,79],[79,238],[162,127],[127,139],[139,162],[72,11],[11,37],[37,72],[121,232],[232,120],[120,121],[73,72],[72,39],[39,73],[114,128],[128,47],[47,114],[233,232],[232,128],[128,233],[103,104],[104,67],[67,103],[152,175],[175,148],[148,152],[119,118],[118,101],[101,119],[74,73],[73,40],[40,74],[107,9],[9,108],[108,107],[49,48],[48,131],[131,49],[32,194],[194,211],[211,32],[184,74],[74,185],[185,184],[191,80],[80,183],[183,191],[185,40],[40,186],[186,185],[119,230],[230,118],[118,119],[210,202],[202,214],[214,210],[84,83],[83,17],[17,84],[77,76],[76,146],[146,77],[161,160],[160,30],[30,161],[190,56],[56,173],[173,190],[182,106],[106,194],[194,182],[138,135],[135,192],[192,138],[129,203],[203,98],[98,129],[54,21],[21,68],[68,54],[5,51],[51,4],[4,5],[145,144],[144,23],[23,145],[90,77],[77,91],[91,90],[207,205],[205,187],[187,207],[83,201],[201,18],[18,83],[181,91],[91,182],[182,181],[180,90],[90,181],[181,180],[16,85],[85,17],[17,16],[205,206],[206,36],[36,205],[176,148],[148,140],[140,176],[165,92],[92,39],[39,165],[245,193],[193,244],[244,245],[27,159],[159,28],[28,27],[30,247],[247,161],[161,30],[174,236],[236,196],[196,174],[103,54],[54,104],[104,103],[55,193],[193,8],[8,55],[111,117],[117,31],[31,111],[221,189],[189,55],[55,221],[240,98],[98,99],[99,240],[142,126],[126,100],[100,142],[219,166],[166,218],[218,219],[112,155],[155,26],[26,112],[198,209],[209,131],[131,198],[169,135],[135,150],[150,169],[114,47],[47,217],[217,114],[224,223],[223,53],[53,224],[220,45],[45,134],[134,220],[32,211],[211,140],[140,32],[109,67],[67,108],[108,109],[146,43],[43,91],[91,146],[231,230],[230,120],[120,231],[113,226],[226,247],[247,113],[105,63],[63,52],[52,105],[241,238],[238,242],[242,241],[124,46],[46,156],[156,124],[95,78],[78,96],[96,95],[70,46],[46,63],[63,70],[116,143],[143,227],[227,116],[116,123],[123,111],[111,116],[1,44],[44,19],[19,1],[3,236],[236,51],[51,3],[207,216],[216,205],[205,207],[26,154],[154,22],[22,26],[165,39],[39,167],[167,165],[199,200],[200,208],[208,199],[101,36],[36,100],[100,101],[43,57],[57,202],[202,43],[242,20],[20,99],[99,242],[56,28],[28,157],[157,56],[124,35],[35,113],[113,124],[29,160],[160,27],[27,29],[211,204],[204,210],[210,211],[124,113],[113,46],[46,124],[106,43],[43,204],[204,106],[96,62],[62,77],[77,96],[227,137],[137,116],[116,227],[73,41],[41,72],[72,73],[36,203],[203,142],[142,36],[235,64],[64,240],[240,235],[48,49],[49,64],[64,48],[42,41],[41,74],[74,42],[214,212],[212,207],[207,214],[183,42],[42,184],[184,183],[210,169],[169,211],[211,210],[140,170],[170,176],[176,140],[104,105],[105,69],[69,104],[193,122],[122,168],[168,193],[50,123],[123,187],[187,50],[89,96],[96,90],[90,89],[66,65],[65,107],[107,66],[179,89],[89,180],[180,179],[119,101],[101,120],[120,119],[68,63],[63,104],[104,68],[234,93],[93,227],[227,234],[16,15],[15,85],[85,16],[209,129],[129,49],[49,209],[15,14],[14,86],[86,15],[107,55],[55,9],[9,107],[120,100],[100,121],[121,120],[153,145],[145,22],[22,153],[178,88],[88,179],[179,178],[197,6],[6,196],[196,197],[89,88],[88,96],[96,89],[135,138],[138,136],[136,135],[138,215],[215,172],[172,138],[218,115],[115,219],[219,218],[41,42],[42,81],[81,41],[5,195],[195,51],[51,5],[57,43],[43,61],[61,57],[208,171],[171,199],[199,208],[41,81],[81,38],[38,41],[224,53],[53,225],[225,224],[24,144],[144,110],[110,24],[105,52],[52,66],[66,105],[118,229],[229,117],[117,118],[227,34],[34,234],[234,227],[66,107],[107,69],[69,66],[10,109],[109,151],[151,10],[219,48],[48,235],[235,219],[183,62],[62,191],[191,183],[142,129],[129,126],[126,142],[116,111],[111,143],[143,116],[118,117],[117,50],[50,118],[223,222],[222,52],[52,223],[94,19],[19,141],[141,94],[222,221],[221,65],[65,222],[196,3],[3,197],[197,196],[45,220],[220,44],[44,45],[156,70],[70,139],[139,156],[188,122],[122,245],[245,188],[139,71],[71,162],[162,139],[149,170],[170,150],[150,149],[122,188],[188,196],[196,122],[206,216],[216,92],[92,206],[164,2],[2,167],[167,164],[242,141],[141,241],[241,242],[0,164],[164,37],[37,0],[11,72],[72,12],[12,11],[12,38],[38,13],[13,12],[70,63],[63,71],[71,70],[31,226],[226,111],[111,31],[36,101],[101,205],[205,36],[203,206],[206,165],[165,203],[126,209],[209,217],[217,126],[98,165],[165,97],[97,98],[237,220],[220,218],[218,237],[237,239],[239,241],[241,237],[210,214],[214,169],[169,210],[140,171],[171,32],[32,140],[241,125],[125,237],[237,241],[179,86],[86,178],[178,179],[180,85],[85,179],[179,180],[181,84],[84,180],[180,181],[182,83],[83,181],[181,182],[194,201],[201,182],[182,194],[177,137],[137,132],[132,177],[184,76],[76,183],[183,184],[185,61],[61,184],[184,185],[186,57],[57,185],[185,186],[216,212],[212,186],[186,216],[192,214],[214,187],[187,192],[139,34],[34,156],[156,139],[218,79],[79,237],[237,218],[147,123],[123,177],[177,147],[45,44],[44,4],[4,45],[208,201],[201,32],[32,208],[98,64],[64,129],[129,98],[192,213],[213,138],[138,192],[235,59],[59,219],[219,235],[141,242],[242,97],[97,141],[97,2],[2,141],[141,97],[240,75],[75,235],[235,240],[229,24],[24,228],[228,229],[31,25],[25,226],[226,31],[230,23],[23,229],[229,230],[231,22],[22,230],[230,231],[232,26],[26,231],[231,232],[233,112],[112,232],[232,233],[244,189],[189,243],[243,244],[189,221],[221,190],[190,189],[222,28],[28,221],[221,222],[223,27],[27,222],[222,223],[224,29],[29,223],[223,224],[225,30],[30,224],[224,225],[113,247],[247,225],[225,113],[99,60],[60,240],[240,99],[213,147],[147,215],[215,213],[60,20],[20,166],[166,60],[192,187],[187,213],[213,192],[243,112],[112,244],[244,243],[244,233],[233,245],[245,244],[245,128],[128,188],[188,245],[188,114],[114,174],[174,188],[134,131],[131,220],[220,134],[174,217],[217,236],[236,174],[236,198],[198,134],[134,236],[215,177],[177,58],[58,215],[156,143],[143,124],[124,156],[25,110],[110,7],[7,25],[31,228],[228,25],[25,31],[264,356],[356,368],[368,264],[0,11],[11,267],[267,0],[451,452],[452,349],[349,451],[267,302],[302,269],[269,267],[350,357],[357,277],[277,350],[350,452],[452,357],[357,350],[299,333],[333,297],[297,299],[396,175],[175,377],[377,396],[280,347],[347,330],[330,280],[269,303],[303,270],[270,269],[151,9],[9,337],[337,151],[344,278],[278,360],[360,344],[424,418],[418,431],[431,424],[270,304],[304,409],[409,270],[272,310],[310,407],[407,272],[322,270],[270,410],[410,322],[449,450],[450,347],[347,449],[432,422],[422,434],[434,432],[18,313],[313,17],[17,18],[291,306],[306,375],[375,291],[259,387],[387,260],[260,259],[424,335],[335,418],[418,424],[434,364],[364,416],[416,434],[391,423],[423,327],[327,391],[301,251],[251,298],[298,301],[275,281],[281,4],[4,275],[254,373],[373,253],[253,254],[375,307],[307,321],[321,375],[280,425],[425,411],[411,280],[200,421],[421,18],[18,200],[335,321],[321,406],[406,335],[321,320],[320,405],[405,321],[314,315],[315,17],[17,314],[423,426],[426,266],[266,423],[396,377],[377,369],[369,396],[270,322],[322,269],[269,270],[413,417],[417,464],[464,413],[385,386],[386,258],[258,385],[248,456],[456,419],[419,248],[298,284],[284,333],[333,298],[168,417],[417,8],[8,168],[448,346],[346,261],[261,448],[417,413],[413,285],[285,417],[326,327],[327,328],[328,326],[277,355],[355,329],[329,277],[309,392],[392,438],[438,309],[381,382],[382,256],[256,381],[279,429],[429,360],[360,279],[365,364],[364,379],[379,365],[355,277],[277,437],[437,355],[282,443],[443,283],[283,282],[281,275],[275,363],[363,281],[395,431],[431,369],[369,395],[299,297],[297,337],[337,299],[335,273],[273,321],[321,335],[348,450],[450,349],[349,348],[359,446],[446,467],[467,359],[283,293],[293,282],[282,283],[250,458],[458,462],[462,250],[300,276],[276,383],[383,300],[292,308],[308,325],[325,292],[283,276],[276,293],[293,283],[264,372],[372,447],[447,264],[346,352],[352,340],[340,346],[354,274],[274,19],[19,354],[363,456],[456,281],[281,363],[426,436],[436,425],[425,426],[380,381],[381,252],[252,380],[267,269],[269,393],[393,267],[421,200],[200,428],[428,421],[371,266],[266,329],[329,371],[432,287],[287,422],[422,432],[290,250],[250,328],[328,290],[385,258],[258,384],[384,385],[446,265],[265,342],[342,446],[386,387],[387,257],[257,386],[422,424],[424,430],[430,422],[445,342],[342,276],[276,445],[422,273],[273,424],[424,422],[306,292],[292,307],[307,306],[352,366],[366,345],[345,352],[268,271],[271,302],[302,268],[358,423],[423,371],[371,358],[327,294],[294,460],[460,327],[331,279],[279,294],[294,331],[303,271],[271,304],[304,303],[436,432],[432,427],[427,436],[304,272],[272,408],[408,304],[395,394],[394,431],[431,395],[378,395],[395,400],[400,378],[296,334],[334,299],[299,296],[6,351],[351,168],[168,6],[376,352],[352,411],[411,376],[307,325],[325,320],[320,307],[285,295],[295,336],[336,285],[320,319],[319,404],[404,320],[329,330],[330,349],[349,329],[334,293],[293,333],[333,334],[366,323],[323,447],[447,366],[316,15],[15,315],[315,316],[331,358],[358,279],[279,331],[317,14],[14,316],[316,317],[8,285],[285,9],[9,8],[277,329],[329,350],[350,277],[253,374],[374,252],[252,253],[319,318],[318,403],[403,319],[351,6],[6,419],[419,351],[324,318],[318,325],[325,324],[397,367],[367,365],[365,397],[288,435],[435,397],[397,288],[278,344],[344,439],[439,278],[310,272],[272,311],[311,310],[248,195],[195,281],[281,248],[375,273],[273,291],[291,375],[175,396],[396,199],[199,175],[312,311],[311,268],[268,312],[276,283],[283,445],[445,276],[390,373],[373,339],[339,390],[295,282],[282,296],[296,295],[448,449],[449,346],[346,448],[356,264],[264,454],[454,356],[337,336],[336,299],[299,337],[337,338],[338,151],[151,337],[294,278],[278,455],[455,294],[308,292],[292,415],[415,308],[429,358],[358,355],[355,429],[265,340],[340,372],[372,265],[352,346],[346,280],[280,352],[295,442],[442,282],[282,295],[354,19],[19,370],[370,354],[285,441],[441,295],[295,285],[195,248],[248,197],[197,195],[457,440],[440,274],[274,457],[301,300],[300,368],[368,301],[417,351],[351,465],[465,417],[251,301],[301,389],[389,251],[394,395],[395,379],[379,394],[399,412],[412,419],[419,399],[410,436],[436,322],[322,410],[326,2],[2,393],[393,326],[354,370],[370,461],[461,354],[393,164],[164,267],[267,393],[268,302],[302,12],[12,268],[312,268],[268,13],[13,312],[298,293],[293,301],[301,298],[265,446],[446,340],[340,265],[280,330],[330,425],[425,280],[322,426],[426,391],[391,322],[420,429],[429,437],[437,420],[393,391],[391,326],[326,393],[344,440],[440,438],[438,344],[458,459],[459,461],[461,458],[364,434],[434,394],[394,364],[428,396],[396,262],[262,428],[274,354],[354,457],[457,274],[317,316],[316,402],[402,317],[316,315],[315,403],[403,316],[315,314],[314,404],[404,315],[314,313],[313,405],[405,314],[313,421],[421,406],[406,313],[323,366],[366,361],[361,323],[292,306],[306,407],[407,292],[306,291],[291,408],[408,306],[291,287],[287,409],[409,291],[287,432],[432,410],[410,287],[427,434],[434,411],[411,427],[372,264],[264,383],[383,372],[459,309],[309,457],[457,459],[366,352],[352,401],[401,366],[1,274],[274,4],[4,1],[418,421],[421,262],[262,418],[331,294],[294,358],[358,331],[435,433],[433,367],[367,435],[392,289],[289,439],[439,392],[328,462],[462,326],[326,328],[94,2],[2,370],[370,94],[289,305],[305,455],[455,289],[339,254],[254,448],[448,339],[359,255],[255,446],[446,359],[254,253],[253,449],[449,254],[253,252],[252,450],[450,253],[252,256],[256,451],[451,252],[256,341],[341,452],[452,256],[414,413],[413,463],[463,414],[286,441],[441,414],[414,286],[286,258],[258,441],[441,286],[258,257],[257,442],[442,258],[257,259],[259,443],[443,257],[259,260],[260,444],[444,259],[260,467],[467,445],[445,260],[309,459],[459,250],[250,309],[305,289],[289,290],[290,305],[305,290],[290,460],[460,305],[401,376],[376,435],[435,401],[309,250],[250,392],[392,309],[376,411],[411,433],[433,376],[453,341],[341,464],[464,453],[357,453],[453,465],[465,357],[343,357],[357,412],[412,343],[437,343],[343,399],[399,437],[344,360],[360,440],[440,344],[420,437],[437,456],[456,420],[360,420],[420,363],[363,360],[361,401],[401,288],[288,361],[265,372],[372,353],[353,265],[390,339],[339,249],[249,390],[339,448],[448,255],[255,339]]),R("matrixDataToMatrix",function(W){for(var k=W.getCols(),Q=W.getRows(),ot=W.getPackedDataList(),vt=[],Et=0;Et<Q;Et++)vt.push(Array(k));for(Et=0;Et<Q;Et++)for(var yt=0;yt<k;yt++){var At=W.getLayout()===1?Et*k+yt:yt*Q+Et;vt[Et][yt]=ot[At]}return vt}),R("VERSION","0.4.1633559619")}).call(Or)),Or}var Jl=Zl();/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Ql=1e-7,ql=1e-4;class _l{refCount(m){return Xe("refCount")}incRef(m){return Xe("incRef")}timerAvailable(){return!0}time(m){return Xe("time")}read(m){return Xe("read")}readSync(m){return Xe("readSync")}readToGPU(m,y){return Xe("readToGPU")}numDataIds(){return Xe("numDataIds")}disposeData(m,y){return Xe("disposeData")}write(m,y,w){return Xe("write")}move(m,y,w,P,F){return Xe("move")}createTensorFromGPUData(m,y,w){return Xe("createTensorFromGPUData")}memory(){return Xe("memory")}floatPrecision(){return Xe("floatPrecision")}epsilon(){return this.floatPrecision()===32?Ql:ql}dispose(){return Xe("dispose")}}function Xe(S){throw new Error(`'${S}' not yet implemented or not found in the registry. This kernel may not be supported by the tfjs backend you have chosen`)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function rt(S,m){if(!S)throw new Error(typeof m=="string"?m:m())}function ii(S,m,y=""){rt(Ai(S,m),()=>y+` Shapes ${S} and ${m} must match`)}function Vn(S){rt(S!=null,()=>"The input to the tensor constructor must be a non-null value.")}function we(S){if(S.length===0)return 1;let m=S[0];for(let y=1;y<S.length;y++)m*=S[y];return m}function tu(S,m){if(S===m)return!0;if(S==null||m==null||S.length!==m.length)return!1;for(let y=0;y<S.length;y++)if(S[y]!==null&&m[y]!==null&&S[y]!==m[y])return!1;return!0}function Ai(S,m){if(S===m)return!0;if(S==null||m==null||S.length!==m.length)return!1;for(let y=0;y<S.length;y++)if(S[y]!==m[y])return!1;return!0}function hs(S){return S%1===0}function zs(S,m){return m<=S.length?S:S+" ".repeat(m-S.length)}function fr(S,m){const y=m.length;return S=S==null?m.map((w,P)=>P):[].concat(S),rt(S.every(w=>w>=-y&&w<y),()=>`All values in axis param must be in range [-${y}, ${y}) but got axis ${S}`),rt(S.every(w=>hs(w)),()=>`All values in axis param must be integers but got axis ${S}`),S.map(w=>w<0?y+w:w)}function eu(S,m){const y=[],w=[],P=m!=null&&Array.isArray(m)&&m.length===0,F=m==null||P?null:fr(m,S).sort();let c=0;for(let g=0;g<S.length;++g){if(F!=null){if(F[c]===g&&S[g]!==1)throw new Error(`Can't squeeze axis ${g} since its dim '${S[g]}' is not 1`);(F[c]==null||F[c]>g)&&S[g]===1&&(y.push(S[g]),w.push(g)),F[c]<=g&&c++}S[g]!==1&&(y.push(S[g]),w.push(g))}return{newShape:y,keptDims:w}}function iu(S,m){return Zo(S,m)}function Zo(S,m){let y=null;if(S==null||S==="float32")y=new Float32Array(m);else if(S==="int32")y=new Int32Array(m);else if(S==="bool")y=new Uint8Array(m);else if(S==="string")y=new Array(m);else throw new Error(`Unknown data type ${S}`);return y}function nu(S,m){for(let y=0;y<S.length;y++){const w=S[y];if(isNaN(w)||!isFinite(w))throw Error(`A tensor of type ${m} being uploaded contains ${w}.`)}}function su(S){return S==="bool"||S==="complex64"||S==="float32"||S==="int32"||S==="string"}function Zr(S){if(S==="float32"||S==="int32")return 4;if(S==="complex64")return 8;if(S==="bool")return 1;throw new Error(`Unknown dtype ${S}`)}function ru(S){if(S==null)return 0;let m=0;return S.forEach(y=>m+=y.length),m}function Pa(S){return typeof S=="string"||S instanceof String}function au(S){return typeof S=="boolean"}function ou(S){return typeof S=="number"}function dr(S){return Array.isArray(S)?dr(S[0]):S instanceof Float32Array?"float32":S instanceof Int32Array||S instanceof Uint8Array||S instanceof Uint8ClampedArray?"int32":ou(S)?"float32":Pa(S)?"string":au(S)?"bool":"float32"}function Jr(S){return!!(S&&S.constructor&&S.call&&S.apply)}function Ma(S){const m=S.length;if(m<2)return[];const y=new Array(m-1);y[m-2]=S[m-1];for(let w=m-3;w>=0;--w)y[w]=y[w+1]*S[w+1];return y}function Jo(S,m,y,w=!1){const P=new Array;if(m.length===1){const F=m[0]*(w?2:1);for(let c=0;c<F;c++)P[c]=y[S+c]}else{const F=m[0],c=m.slice(1),g=c.reduce((t,o)=>t*o)*(w?2:1);for(let t=0;t<F;t++)P[t]=Jo(S+t*g,c,y,w)}return P}function Qr(S,m,y=!1){if(S.length===0)return m[0];const w=S.reduce((P,F)=>P*F)*(y?2:1);if(w===0)return[];if(w!==m.length)throw new Error(`[${S}] does not match the input size ${m.length}${y?" for a complex tensor":""}.`);return Jo(0,S,m,y)}function Qo(S,m){const y=Fa(S,m);for(let w=0;w<y.length;w++)y[w]=1;return y}function Fa(S,m){if(m==null||m==="float32"||m==="complex64")return new Float32Array(S);if(m==="int32")return new Int32Array(S);if(m==="bool")return new Uint8Array(S);throw new Error(`Unknown data type ${m}`)}function Je(S){S.forEach(m=>{rt(Number.isInteger(m)&&m>=0,()=>`Tensor must have a shape comprised of positive integers but got shape [${S}].`)})}function vn(S){return S&&S.then&&typeof S.then=="function"}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const eo="tfjsflags";class hu{constructor(m){this.global=m,this.flags={},this.flagRegistry={},this.urlFlags={},this.getQueryParams=lu,this.populateURLFlags()}setPlatform(m,y){this.platform!=null&&(ie().getBool("IS_TEST")||ie().getBool("PROD")||console.warn(`Platform ${this.platformName} has already been set. Overwriting the platform with ${m}.`)),this.platformName=m,this.platform=y}registerFlag(m,y,w){if(this.flagRegistry[m]={evaluationFn:y,setHook:w},this.urlFlags[m]!=null){const P=this.urlFlags[m];ie().getBool("IS_TEST")||ie().getBool("PROD")||console.warn(`Setting feature override from URL ${m}: ${P}.`),this.set(m,P)}}async getAsync(m){return m in this.flags?this.flags[m]:(this.flags[m]=await this.evaluateFlag(m),this.flags[m])}get(m){if(m in this.flags)return this.flags[m];const y=this.evaluateFlag(m);if(vn(y))throw new Error(`Flag ${m} cannot be synchronously evaluated. Please use getAsync() instead.`);return this.flags[m]=y,this.flags[m]}getNumber(m){return this.get(m)}getBool(m){return this.get(m)}getString(m){return this.get(m)}getFlags(){return this.flags}get features(){return this.flags}set(m,y){if(this.flagRegistry[m]==null)throw new Error(`Cannot set flag ${m} as it has not been registered.`);this.flags[m]=y,this.flagRegistry[m].setHook!=null&&this.flagRegistry[m].setHook(y)}evaluateFlag(m){if(this.flagRegistry[m]==null)throw new Error(`Cannot evaluate flag '${m}': no evaluation function found.`);return this.flagRegistry[m].evaluationFn()}setFlags(m){this.flags=Object.assign({},m)}reset(){this.flags={},this.urlFlags={},this.populateURLFlags()}populateURLFlags(){if(typeof this.global>"u"||typeof this.global.location>"u"||typeof this.global.location.search>"u")return;const m=this.getQueryParams(this.global.location.search);eo in m&&m[eo].split(",").forEach(w=>{const[P,F]=w.split(":");this.urlFlags[P]=fu(P,F)})}}function lu(S){const m={};return S.replace(/[?&]([^=?&]+)(?:=([^&]*))?/g,(y,...w)=>(uu(m,w[0],w[1]),w.join("="))),m}function uu(S,m,y){S[decodeURIComponent(m)]=decodeURIComponent(y||"")}function fu(S,m){const y=m.toLowerCase();return y==="true"||y==="false"?y==="true":`${+y}`===y?+y:m}function ie(){return qo}let qo=null;function du(S){qo=S}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let br;function _o(){if(br==null){let S;if(typeof window<"u")S=window;else if(typeof global<"u")S=global;else if(typeof process<"u")S=process;else if(typeof self<"u")S=self;else throw new Error("Could not find a global object");br=S}return br}function cu(){const S=_o();return S._tfGlobals==null&&(S._tfGlobals=new Map),S._tfGlobals}function Ra(S,m){const y=cu();if(y.has(S))return y.get(S);{const w=m();return y.set(S,w),y.get(S)}}const vu="Abs",pu="Acos",mu="Acosh",th="Add",gu="AddN",yu="All",xu="Any",Tu="ArgMax",Su="ArgMin",Eu="Asin",Cu="Asinh",wu="Atan",Au="Atanh",Pu="Atan2",Mu="AvgPool",Fu="AvgPool3D",Ru="BatchMatMul",Lu="BatchToSpaceND",Ou="Bincount",bu="BitwiseAnd",Du="BroadcastArgs",eh="Cast",Nu="Ceil",Iu="ClipByValue",Bu="Complex",Gu="ComplexAbs",zu="Concat",Uu="Conv2D",Vu="Conv2DBackpropFilter",Wu="Conv2DBackpropInput",Xu="Conv3D",Yu="Conv3DBackpropInputV2",Hu="Cos",$u="Cosh",Ku="Cumprod",ju="Cumsum",ku="CropAndResize",Zu="DenseBincount",Ju="DepthToSpace",Qu="DepthwiseConv2dNative",qu="DepthwiseConv2dNativeBackpropFilter",_u="DepthwiseConv2dNativeBackpropInput",tf="Diag",ef="Dilation2D",nf="RealDiv",sf="Einsum",rf="Elu",af="Erf",of="Equal",hf="Exp",lf="ExpandDims",uf="Expm1",ff="FFT",df="Fill",cf="FlipLeftRight",vf="Floor",pf="FloorDiv",mf="FusedBatchNorm",gf="GatherV2",yf="GatherNd",xf="Greater",Tf="GreaterEqual",ih="Identity",Sf="IFFT",Ef="Imag",Cf="IsFinite",wf="IsInf",Af="IsNan",Pf="LeakyRelu",Mf="Less",Ff="LessEqual",Rf="LinSpace",Lf="Log",Of="Log1p",bf="LogicalAnd",Df="LogicalNot",Nf="LogicalOr",If="LRN",Bf="Max",Gf="Maximum",zf="MaxPool",Uf="MaxPool3D",Vf="MaxPoolWithArgmax",Wf="Mean",Xf="Min",Yf="Minimum",Hf="MirrorPad",$f="Mod",Kf="Multinomial",jf="Multiply",kf="Neg",Zf="NotEqual",Jf="NonMaxSuppressionV3",Qf="NonMaxSuppressionV4",qf="NonMaxSuppressionV5",_f="OnesLike",td="OneHot",ed="Pack",id="PadV2",nd="Pow",sd="Prelu",rd="Prod",ad="RaggedGather",od="RaggedRange",hd="RaggedTensorToTensor",ld="Range",ud="Real",fd="Reciprocal",dd="Relu",cd="Reshape",vd="ResizeNearestNeighbor",pd="ResizeBilinear",md="Relu6",gd="Reverse",yd="Round",xd="Rsqrt",Td="ScatterNd",Sd="TensorScatterUpdate",Ed="SearchSorted",Cd="Select",wd="Selu",Ad="Slice",Pd="Sin",Md="Sinh",Fd="Sign",Rd="Sigmoid",Ld="Softplus",Od="Sqrt",bd="Sum",Dd="SpaceToBatchND",Nd="SplitV",Id="Softmax",Bd="SparseFillEmptyRows",Gd="SparseReshape",zd="SparseSegmentMean",Ud="SparseSegmentSum",Vd="SparseToDense",Wd="SquaredDifference",Xd="StaticRegexReplace",Yd="StridedSlice",Hd="StringNGrams",$d="StringSplit",Kd="StringToHashBucketFast",jd="Sub",kd="Tan",Zd="Tanh",nh="Tile",Jd="TopK",Qd="Transform",Dr="Transpose",qd="Unique",_d="Unpack",tc="UnsortedSegmentSum",ec="ZerosLike",ic="Step",io="FromPixels",nc="RotateWithOffset",no="_FusedMatMul",so="FusedConv2D",ro="FusedDepthwiseConv2D";/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function is(...S){ie().getBool("IS_TEST")||ie().getBool("PROD")||console.warn(...S)}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const sh=Ra("kernelRegistry",()=>new Map),sc=Ra("gradRegistry",()=>new Map);function qr(S,m){const y=rc(S,m);return sh.get(y)}function ao(S){return sc.get(S)}function oo(S){const m=sh.entries(),y=[];for(;;){const{done:w,value:P}=m.next();if(w)break;const[F,c]=P,[g]=F.split("_");g===S&&y.push(c)}return y}function rc(S,m){return`${m}_${S}`}/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function rh(S){return S instanceof Float32Array||S instanceof Int32Array||S instanceof Uint8Array||S instanceof Uint8ClampedArray}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ac(S,m){return S instanceof Float32Array&&m==="float32"||S instanceof Int32Array&&m==="int32"||S instanceof Uint8Array&&m==="bool"}function ah(S,m){if(m==="string")throw new Error("Cannot convert a string[] to a TypedArray");if(Array.isArray(S)&&(S=ls(S)),ie().getBool("DEBUG")&&nu(S,m),ac(S,m))return S;if(m==null||m==="float32"||m==="complex64")return new Float32Array(S);if(m==="int32")return new Int32Array(S);if(m==="bool"){const y=new Uint8Array(S.length);for(let w=0;w<y.length;++w)Math.round(S[w])!==0&&(y[w]=1);return y}else throw new Error(`Unknown data type ${m}`)}function Qs(){return ie().platform.now()}function oc(S,m="utf-8"){return m=m||"utf-8",ie().platform.encode(S,m)}function ho(S,m="utf-8"){return m=m||"utf-8",ie().platform.decode(S,m)}function ei(S){return ie().platform.isTypedArray!=null?ie().platform.isTypedArray(S):rh(S)}function ls(S,m=[],y=!1){if(m==null&&(m=[]),typeof S=="boolean"||typeof S=="number"||typeof S=="string"||vn(S)||S==null||ei(S)&&y)m.push(S);else if(Array.isArray(S)||ei(S))for(let w=0;w<S.length;++w)ls(S[w],m,y);else{let w=-1;for(const P of Object.keys(S))/^([1-9]+[0-9]*|0)$/.test(P)&&(w=Math.max(w,Number(P)));for(let P=0;P<=w;P++)ls(S[P],m,y)}return m}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class hc{constructor(m,y){this.backendTimer=m,this.logger=y,y==null&&(this.logger=new uc)}profileKernel(m,y,w){let P;const F=()=>{P=w()};let c;const g=Qs();if(this.backendTimer.timerAvailable())c=this.backendTimer.time(F);else{F();for(const o of P)o.dataSync();c=Promise.resolve({kernelMs:Qs()-g})}if(ie().getBool("CHECK_COMPUTATION_FOR_ERRORS"))for(let o=0;o<P.length;o++){const v=P[o];v.data().then(a=>{lc(a,v.dtype,m)})}return{kernelName:m,outputs:P,inputs:y,timeMs:c.then(o=>o.kernelMs),extraInfo:c.then(o=>o.getExtraProfileInfo!=null?o.getExtraProfileInfo():"")}}logKernelProfile(m){const{kernelName:y,outputs:w,timeMs:P,inputs:F,extraInfo:c}=m;w.forEach(g=>{Promise.all([g.data(),P,c]).then(t=>{this.logger.logKernelProfile(y,g,t[0],t[1],F,t[2])})})}}function lc(S,m,y){if(m!=="float32")return!1;for(let w=0;w<S.length;w++){const P=S[w];if(isNaN(P)||!isFinite(P))return console.warn(`Found ${P} in the result of '${y}'`),!0}return!1}class uc{logKernelProfile(m,y,w,P,F,c){const g=typeof P=="number"?zs(`${P}ms`,9):P.error,t=zs(m,25),o=y.rank,v=y.size,a=zs(y.shape.toString(),14);let i="";for(const s in F){const e=F[s];if(e!=null){const r=e.shape||y.shape,h=r.length;i+=`${s}: ${h}D ${h>0?r:""} `}}console.log(`%c${t}	%c${g}	%c${o}D ${a}	%c${v}	%c${i}	%c${c}`,"font-weight:bold","color:red","color:blue","color: orange","color: green","color: steelblue")}}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function fc(S,m,y){const w={},P={};for(let t=0;t<m.length;t++)w[m[t].id]=!0;for(let t=0;t<S.length;t++){const o=S[t],v=o.inputs;for(const a in v){const i=v[a];let s=!1;for(let e=0;e<m.length;e++)if(w[i.id]){o.outputs.forEach(r=>w[r.id]=!0),s=!0,P[o.id]=!0;break}if(s)break}}const F={};F[y.id]=!0;const c={};for(let t=S.length-1;t>=0;t--){const o=S[t],v=o.inputs;for(let a=0;a<o.outputs.length;a++)if(F[o.outputs[a].id]){for(const i in v)F[v[i].id]=!0,c[o.id]=!0;break}}const g=[];for(let t=0;t<S.length;t++){const o=S[t];if(P[o.id]&&c[o.id]){const v={};for(const i in o.inputs){const s=o.inputs[i];w[s.id]&&(v[i]=s)}const a=Object.assign({},o);a.inputs=v,a.outputs=o.outputs,g.push(a)}}return g}function dc(S,m,y,w){for(let P=m.length-1;P>=0;P--){const F=m[P],c=[];if(F.outputs.forEach(t=>{const o=S[t.id];o!=null?c.push(o):c.push(null)}),F.gradient==null)throw new Error(`Cannot compute gradient: gradient function not found for ${F.kernelName}.`);const g=F.gradient(c);for(const t in F.inputs){if(!(t in g))throw new Error(`Cannot backprop through input ${t}. Available gradients found: ${Object.keys(g)}.`);const o=y(()=>g[t]());if(o.dtype!=="float32")throw new Error(`Error in gradient for op ${F.kernelName}. The gradient of input ${t} must have 'float32' dtype, but has '${o.dtype}'`);const v=F.inputs[t];if(!Ai(o.shape,v.shape))throw new Error(`Error in gradient for op ${F.kernelName}. The gradient of input '${t}' has shape '${o.shape}', which does not match the shape of the input '${v.shape}'`);if(S[v.id]==null)S[v.id]=o;else{const a=S[v.id];S[v.id]=w(a,o),a.dispose()}}}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const lo=20,ns=3,Nr=7;function cc(S,m,y,w){const P=Ma(m),F=vc(S,m,y,P),c=m.length,g=Us(S,m,y,P,F),t=["Tensor"];return w&&(t.push(`  dtype: ${y}`),t.push(`  rank: ${c}`),t.push(`  shape: [${m}]`),t.push("  values:")),t.push(g.map(o=>"    "+o).join(`
`)),t.join(`
`)}function vc(S,m,y,w){const P=we(m),F=w[w.length-1],c=new Array(F).fill(0),g=m.length,t=y==="complex64"?as(S):S;if(g>1)for(let o=0;o<P/F;o++){const v=o*F;for(let a=0;a<F;a++)c[a]=Math.max(c[a],rs(t[v+a],0,y).length)}return c}function rs(S,m,y){let w;return Array.isArray(S)?w=`${parseFloat(S[0].toFixed(Nr))} + ${parseFloat(S[1].toFixed(Nr))}j`:Pa(S)?w=`'${S}'`:y==="bool"?w=oh(S):w=parseFloat(S.toFixed(Nr)).toString(),zs(w,m)}function oh(S){return S===0?"false":"true"}function Us(S,m,y,w,P,F=!0){const c=y==="complex64"?2:1,g=m[0],t=m.length;if(t===0){if(y==="complex64"){const r=as(S);return[rs(r[0],0,y)]}return y==="bool"?[oh(S[0])]:[S[0].toString()]}if(t===1){if(g>lo){const h=ns*c;let n=Array.from(S.slice(0,h)),l=Array.from(S.slice((g-ns)*c,g*c));return y==="complex64"&&(n=as(n),l=as(l)),["["+n.map((f,u)=>rs(f,P[u],y)).join(", ")+", ..., "+l.map((f,u)=>rs(f,P[g-ns+u],y)).join(", ")+"]"]}return["["+(y==="complex64"?as(S):Array.from(S)).map((h,n)=>rs(h,P[n],y)).join(", ")+"]"]}const o=m.slice(1),v=w.slice(1),a=w[0]*c,i=[];if(g>lo){for(let r=0;r<ns;r++){const h=r*a,n=h+a;i.push(...Us(S.slice(h,n),o,y,v,P,!1))}i.push("...");for(let r=g-ns;r<g;r++){const h=r*a,n=h+a;i.push(...Us(S.slice(h,n),o,y,v,P,r===g-1))}}else for(let r=0;r<g;r++){const h=r*a,n=h+a;i.push(...Us(S.slice(h,n),o,y,v,P,r===g-1))}const s=t===2?",":"";i[0]="["+(g>0?i[0]+s:"");for(let r=1;r<i.length-1;r++)i[r]=" "+i[r]+s;let e=`,
`;for(let r=2;r<t;r++)e+=`
`;return i[i.length-1]=" "+i[i.length-1]+"]"+(F?"":e),i}function as(S){const m=[];for(let y=0;y<S.length;y+=2)m.push([S[y],S[y+1]]);return m}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class _r{constructor(m,y,w){if(this.dtype=y,this.shape=m.slice(),this.size=we(m),w!=null){const P=w.length;rt(P===this.size,()=>`Length of values '${P}' does not match the size inferred by the shape '${this.size}'.`)}if(y==="complex64")throw new Error("complex64 dtype TensorBuffers are not supported. Please create a TensorBuffer for the real and imaginary parts separately and call tf.complex(real, imag).");this.values=w||Zo(y,this.size),this.strides=Ma(m)}set(m,...y){y.length===0&&(y=[0]),rt(y.length===this.rank,()=>`The number of provided coordinates (${y.length}) must match the rank (${this.rank})`);const w=this.locToIndex(y);this.values[w]=m}get(...m){m.length===0&&(m=[0]);let y=0;for(const P of m){if(P<0||P>=this.shape[y]){const F=`Requested out of range element at ${m}.   Buffer shape=${this.shape}`;throw new Error(F)}y++}let w=m[m.length-1];for(let P=0;P<m.length-1;++P)w+=this.strides[P]*m[P];return this.values[w]}locToIndex(m){if(this.rank===0)return 0;if(this.rank===1)return m[0];let y=m[m.length-1];for(let w=0;w<m.length-1;++w)y+=this.strides[w]*m[w];return y}indexToLoc(m){if(this.rank===0)return[];if(this.rank===1)return[m];const y=new Array(this.shape.length);for(let w=0;w<y.length-1;++w)y[w]=Math.floor(m/this.strides[w]),m-=y[w]*this.strides[w];return y[y.length-1]=m,y}get rank(){return this.shape.length}toTensor(){return si().makeTensor(this.values,this.shape,this.dtype)}}let si=null,Rn=null;function pc(S){si=S}function mc(S){Rn=S}class Ee{constructor(m,y,w,P){this.kept=!1,this.isDisposedInternal=!1,this.shape=m.slice(),this.dtype=y||"float32",this.size=we(m),this.strides=Ma(m),this.dataId=w,this.id=P,this.rankType=this.rank<5?this.rank.toString():"higher"}get rank(){return this.shape.length}async buffer(){const m=await this.data();return Rn.buffer(this.shape,this.dtype,m)}bufferSync(){return Rn.buffer(this.shape,this.dtype,this.dataSync())}async array(){const m=await this.data();return Qr(this.shape,m,this.dtype==="complex64")}arraySync(){return Qr(this.shape,this.dataSync(),this.dtype==="complex64")}async data(){this.throwIfDisposed();const m=si().read(this.dataId);if(this.dtype==="string"){const y=await m;try{return y.map(w=>ho(w))}catch{throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}}return m}dataToGPU(m){return this.throwIfDisposed(),si().readToGPU(this.dataId,m)}dataSync(){this.throwIfDisposed();const m=si().readSync(this.dataId);if(this.dtype==="string")try{return m.map(y=>ho(y))}catch{throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}return m}async bytes(){this.throwIfDisposed();const m=await si().read(this.dataId);return this.dtype==="string"?m:new Uint8Array(m.buffer)}dispose(){this.isDisposed||(this.kerasMask&&this.kerasMask.dispose(),si().disposeTensor(this),this.isDisposedInternal=!0)}get isDisposed(){return this.isDisposedInternal}throwIfDisposed(){if(this.isDisposed)throw new Error("Tensor is disposed.")}print(m=!1){return Rn.print(this,m)}clone(){return this.throwIfDisposed(),Rn.clone(this)}toString(m=!1){const y=this.dataSync();return cc(y,this.shape,this.dtype,m)}cast(m){return this.throwIfDisposed(),Rn.cast(this,m)}variable(m=!0,y,w){return this.throwIfDisposed(),si().makeVariable(this,m,y,w)}}Object.defineProperty(Ee,Symbol.hasInstance,{value:S=>!!S&&S.data!=null&&S.dataSync!=null&&S.throwIfDisposed!=null});function hh(){return Ra("Tensor",()=>Ee)}hh();class qs extends Ee{constructor(m,y,w,P){super(m.shape,m.dtype,m.dataId,P),this.trainable=y,this.name=w}assign(m){if(m.dtype!==this.dtype)throw new Error(`dtype of the new value (${m.dtype}) and previous value (${this.dtype}) must match`);if(!Ai(m.shape,this.shape))throw new Error(`shape of the new value (${m.shape}) and previous value (${this.shape}) must match`);si().disposeTensor(this),this.dataId=m.dataId,si().incRef(this,null)}dispose(){si().disposeVariable(this),this.isDisposedInternal=!0}}Object.defineProperty(qs,Symbol.hasInstance,{value:S=>S instanceof Ee&&S.assign!=null&&S.assign instanceof Function});/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */var uo;(function(S){S.R0="R0",S.R1="R1",S.R2="R2",S.R3="R3",S.R4="R4",S.R5="R5",S.R6="R6"})(uo||(uo={}));var ta;(function(S){S.float32="float32",S.int32="int32",S.bool="int32",S.complex64="complex64"})(ta||(ta={}));var ea;(function(S){S.float32="float32",S.int32="int32",S.bool="bool",S.complex64="complex64"})(ea||(ea={}));var ia;(function(S){S.float32="float32",S.int32="float32",S.bool="float32",S.complex64="complex64"})(ia||(ia={}));var na;(function(S){S.float32="complex64",S.int32="complex64",S.bool="complex64",S.complex64="complex64"})(na||(na={}));const gc={float32:ia,int32:ta,bool:ea,complex64:na};function yc(S,m){if(S==="string"||m==="string"){if(S==="string"&&m==="string")return"string";throw new Error(`Can not upcast ${S} with ${m}`)}return gc[S][m]}function lh(S){return S!=null&&typeof S=="object"&&"texture"in S&&S.texture instanceof WebGLTexture}function uh(S){return typeof GPUBuffer<"u"&&S!=null&&typeof S=="object"&&"buffer"in S&&S.buffer instanceof GPUBuffer}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ce(S,m){if(S.dtype===m.dtype)return[S,m];const y=yc(S.dtype,m.dtype);return[S.cast(y),m.cast(y)]}function xc(S,m){rt(S.dtype===m.dtype,()=>`The dtypes of the first(${S.dtype}) and second(${m.dtype}) input must match`)}function fh(S){const m=[];return dh(S,m,new Set),m}function dh(S,m,y){if(S==null)return;if(S instanceof Ee){m.push(S);return}if(!Tc(S))return;const w=S;for(const P in w){const F=w[P];y.has(F)||(y.add(F),dh(F,m,y))}}function Tc(S){return Array.isArray(S)||typeof S=="object"}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ir(S){return S.kernelName!=null}class fo{constructor(){this.registeredVariables={},this.nextTapeNodeId=0,this.numBytes=0,this.numTensors=0,this.numStringTensors=0,this.numDataBuffers=0,this.gradientDepth=0,this.kernelDepth=0,this.scopeStack=[],this.numDataMovesStack=[],this.nextScopeId=0,this.tensorInfo=new WeakMap,this.profiling=!1,this.activeProfile={newBytes:0,newTensors:0,peakBytes:0,kernels:[],result:null,get kernelNames(){return Array.from(new Set(this.kernels.map(m=>m.name)))}}}dispose(){for(const m in this.registeredVariables)this.registeredVariables[m].dispose()}}class Bn{constructor(m){this.ENV=m,this.registry={},this.registryFactory={},this.pendingBackendInitId=0,this.state=new fo}async ready(){if(this.pendingBackendInit!=null)return this.pendingBackendInit.then(()=>{});if(this.backendInstance!=null)return;const m=this.getSortedBackends();for(let y=0;y<m.length;y++){const w=m[y];if(await this.initializeBackend(w).success){await this.setBackend(w);return}}throw new Error("Could not initialize any backends, all backend initializations failed.")}get backend(){if(this.pendingBackendInit!=null)throw new Error(`Backend '${this.backendName}' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods`);if(this.backendInstance==null){const{name:m,asyncInit:y}=this.initializeBackendsAndReturnBest();if(y)throw new Error(`The highest priority backend '${m}' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods`);this.setBackend(m)}return this.backendInstance}backendNames(){return Object.keys(this.registryFactory)}findBackend(m){if(!(m in this.registry))if(m in this.registryFactory){const{asyncInit:y}=this.initializeBackend(m);if(y)return null}else return null;return this.registry[m]}findBackendFactory(m){return m in this.registryFactory?this.registryFactory[m].factory:null}registerBackend(m,y,w=1){return m in this.registryFactory?(is(`${m} backend was already registered. Reusing existing backend factory.`),!1):(this.registryFactory[m]={factory:y,priority:w},!0)}async setBackend(m){if(this.registryFactory[m]==null)throw new Error(`Backend name '${m}' not found in registry`);if(this.backendName=m,this.registry[m]==null){this.backendInstance=null;const{success:y,asyncInit:w}=this.initializeBackend(m);if(!(w?await y:y))return!1}return this.backendInstance=this.registry[m],this.setupRegisteredKernels(),this.profiler=new hc(this.backendInstance),!0}setupRegisteredKernels(){oo(this.backendName).forEach(y=>{y.setupFunc!=null&&y.setupFunc(this.backendInstance)})}disposeRegisteredKernels(m){oo(m).forEach(w=>{w.disposeFunc!=null&&w.disposeFunc(this.registry[m])})}initializeBackend(m){const y=this.registryFactory[m];if(y==null)throw new Error(`Cannot initialize backend ${m}, no registration found.`);try{const w=y.factory();if(w&&!(w instanceof _l)&&typeof w.then=="function"){const P=++this.pendingBackendInitId,F=w.then(c=>P<this.pendingBackendInitId?!1:(this.registry[m]=c,this.pendingBackendInit=null,!0)).catch(c=>(P<this.pendingBackendInitId||(this.pendingBackendInit=null,is(`Initialization of backend ${m} failed`),is(c.stack||c.message)),!1));return this.pendingBackendInit=F,{success:F,asyncInit:!0}}else return this.registry[m]=w,{success:!0,asyncInit:!1}}catch(w){return is(`Initialization of backend ${m} failed`),is(w.stack||w.message),{success:!1,asyncInit:!1}}}removeBackend(m){if(!(m in this.registryFactory))throw new Error(`${m} backend not found in registry`);this.backendName===m&&this.pendingBackendInit!=null&&this.pendingBackendInitId++,m in this.registry&&(this.disposeRegisteredKernels(m),this.registry[m].dispose(),delete this.registry[m]),delete this.registryFactory[m],this.backendName===m&&(this.pendingBackendInit=null,this.backendName=null,this.backendInstance=null)}getSortedBackends(){if(Object.keys(this.registryFactory).length===0)throw new Error("No backend found in registry.");return Object.keys(this.registryFactory).sort((m,y)=>this.registryFactory[y].priority-this.registryFactory[m].priority)}initializeBackendsAndReturnBest(){const m=this.getSortedBackends();for(let y=0;y<m.length;y++){const w=m[y],{success:P,asyncInit:F}=this.initializeBackend(w);if(F||P)return{name:w,asyncInit:F}}throw new Error("Could not initialize any backends, all backend initializations failed.")}moveData(m,y){const w=this.state.tensorInfo.get(y),P=w.backend,F=this.readSync(y),c=P.refCount(y);P.disposeData(y,!0),w.backend=m,m.move(y,F,w.shape,w.dtype,c),this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack[this.state.numDataMovesStack.length-1]++}tidy(m,y){let w=null;if(y==null){if(typeof m!="function")throw new Error("Please provide a function to tidy()");y=m}else{if(typeof m!="string"&&!(m instanceof String))throw new Error("When calling with two arguments, the first argument to tidy() must be a string");if(typeof y!="function")throw new Error("When calling with two arguments, the 2nd argument to tidy() must be a function");w=m}let P;return this.scopedRun(()=>this.startScope(w),()=>this.endScope(P),()=>(P=y(),P instanceof Promise&&console.error("Cannot return a Promise inside of tidy."),P))}scopedRun(m,y,w){m();try{const P=w();return y(),P}catch(P){throw y(),P}}nextTensorId(){return Bn.nextTensorId++}nextVariableId(){return Bn.nextVariableId++}clone(m){const y=dt.runKernel(ih,{x:m}),w={x:m},P=c=>({x:()=>{const g="float32",t={x:c},o={dtype:g};return dt.runKernel(eh,t,o)}}),F=[];return this.addTapeNode(this.state.activeScope.name,w,[y],P,F,{}),y}runKernel(m,y,w){if(this.backendName==null&&this.backend,!(qr(m,this.backendName)!=null))throw new Error(`Kernel '${m}' not registered for backend '${this.backendName}'`);return this.runKernelFunc({kernelName:m,inputs:y,attrs:w})}shouldCheckForMemLeaks(){return this.ENV.getBool("IS_TEST")}checkKernelForMemLeak(m,y,w){const P=this.backend.numDataIds();let F=0;w.forEach(t=>{F+=t.dtype==="complex64"?3:1});const c=this.state.numDataMovesStack[this.state.numDataMovesStack.length-1],g=P-y-F-c;if(g>0)throw new Error(`Backend '${this.backendName}' has an internal memory leak (${g} data ids) after running '${m}'`)}runKernelFunc(m){let y,w=[];const P=this.isTapeOn(),F=this.state.numBytes,c=this.state.numTensors;this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack.push(0);let g;this.backendName==null&&this.backend;let t;const o=Ir(m)?m.kernelName:this.state.activeScope!=null?this.state.activeScope.name:"";if(Ir(m)){const{kernelName:e,inputs:r,attrs:h}=m;this.backendName==null&&this.backend;const n=qr(e,this.backendName);rt(n!=null,()=>`Cannot find registered kernel '${e}' for backend '${this.backendName}'`),g=()=>{const l=this.backend.numDataIds();t=n.kernelFunc({inputs:r,attrs:h,backend:this.backend});const f=Array.isArray(t)?t:[t];this.shouldCheckForMemLeaks()&&this.checkKernelForMemLeak(e,l,f);const u=f.map(d=>d.rank!=null?d:this.makeTensorFromTensorInfo(d));if(P){const d=this.getTensorsForGradient(e,r,u);w=this.saveTensorsForBackwardMode(d)}return u}}else{const{forwardFunc:e}=m,r=h=>{P&&(w=h.map(n=>this.keep(this.clone(n))))};g=()=>{const h=this.backend.numDataIds();t=this.tidy(()=>e(this.backend,r));const n=Array.isArray(t)?t:[t];return this.shouldCheckForMemLeaks()&&this.checkKernelForMemLeak(o,h,n),n}}const{inputs:v,attrs:a}=m,i=Ir(m)?null:m.backwardsFunc;let s;return this.scopedRun(()=>this.state.kernelDepth++,()=>this.state.kernelDepth--,()=>{!this.ENV.getBool("DEBUG")&&!this.state.profiling?y=g():(s=this.profiler.profileKernel(o,v,()=>g()),this.ENV.getBool("DEBUG")&&this.profiler.logKernelProfile(s),y=s.outputs)}),P&&this.addTapeNode(o,v,y,i,w,a),this.state.profiling&&this.state.activeProfile.kernels.push({name:o,bytesAdded:this.state.numBytes-F,totalBytesSnapshot:this.state.numBytes,tensorsAdded:this.state.numTensors-c,totalTensorsSnapshot:this.state.numTensors,inputShapes:Object.keys(v).map(e=>v[e]!=null?v[e].shape:null),outputShapes:y.map(e=>e.shape),kernelTimeMs:s.timeMs,extraInfo:s.extraInfo}),Array.isArray(t)?y:y[0]}saveTensorsForBackwardMode(m){return m.map(w=>this.keep(this.clone(w)))}getTensorsForGradient(m,y,w){const P=ao(m);if(P!=null){const F=P.inputsToSave||[],c=P.outputsToSave||[];let g;P.saveAllInputs?(rt(Array.isArray(y),()=>"saveAllInputs is true, expected inputs to be an array."),g=Object.keys(y).map(o=>y[o])):g=F.map(o=>y[o]);const t=w.filter((o,v)=>c[v]);return g.concat(t)}return[]}makeTensor(m,y,w,P){if(m==null)throw new Error("Values passed to engine.makeTensor() are null");w=w||"float32",P=P||this.backend;let F=m;w==="string"&&Pa(m[0])&&(F=m.map(t=>oc(t)));const c=P.write(F,y,w),g=new Ee(y,w,c,this.nextTensorId());if(this.trackTensor(g,P),w==="string"){const t=this.state.tensorInfo.get(c),o=ru(F);this.state.numBytes+=o-t.bytes,t.bytes=o}return g}makeTensorFromDataId(m,y,w,P){w=w||"float32";const F={dataId:m,shape:y,dtype:w};return this.makeTensorFromTensorInfo(F,P)}makeTensorFromTensorInfo(m,y){const{dataId:w,shape:P,dtype:F}=m,c=new Ee(P,F,w,this.nextTensorId());return this.trackTensor(c,y),c}makeVariable(m,y=!0,w,P){w=w||this.nextVariableId().toString(),P!=null&&P!==m.dtype&&(m=m.cast(P));const F=new qs(m,y,w,this.nextTensorId());if(this.state.registeredVariables[F.name]!=null)throw new Error(`Variable with name ${F.name} was already registered`);return this.state.registeredVariables[F.name]=F,this.incRef(F,this.backend),F}trackTensor(m,y){this.state.numTensors++,m.dtype==="string"&&this.state.numStringTensors++;let w=0;m.dtype!=="complex64"&&m.dtype!=="string"&&(w=m.size*Zr(m.dtype)),this.state.numBytes+=w,this.state.tensorInfo.has(m.dataId)||(this.state.numDataBuffers++,this.state.tensorInfo.set(m.dataId,{backend:y||this.backend,dtype:m.dtype,shape:m.shape,bytes:w})),m instanceof qs||this.track(m)}incRef(m,y){this.trackTensor(m,y),this.backend.incRef(m.dataId)}removeDataId(m,y){this.state.tensorInfo.has(m)&&this.state.tensorInfo.get(m).backend===y&&(this.state.tensorInfo.delete(m),this.state.numDataBuffers--)}disposeTensor(m){if(!this.state.tensorInfo.has(m.dataId))return;const y=this.state.tensorInfo.get(m.dataId);if(this.state.numTensors--,m.dtype==="string"&&(this.state.numStringTensors--,this.state.numBytes-=y.bytes),m.dtype!=="complex64"&&m.dtype!=="string"){const w=m.size*Zr(m.dtype);this.state.numBytes-=w}y.backend.disposeData(m.dataId)&&this.removeDataId(m.dataId,y.backend)}disposeVariables(){for(const m in this.state.registeredVariables){const y=this.state.registeredVariables[m];this.disposeVariable(y)}}disposeVariable(m){this.disposeTensor(m),this.state.registeredVariables[m.name]!=null&&delete this.state.registeredVariables[m.name]}memory(){const m=this.backend.memory();return m.numTensors=this.state.numTensors,m.numDataBuffers=this.state.numDataBuffers,m.numBytes=this.state.numBytes,this.state.numStringTensors>0&&(m.unreliable=!0,m.reasons==null&&(m.reasons=[]),m.reasons.push("Memory usage by string tensors is approximate (2 bytes per character)")),m}async profile(m){this.state.profiling=!0;const y=this.state.numBytes,w=this.state.numTensors;this.state.activeProfile.kernels=[],this.state.activeProfile.result=await m(),this.state.profiling=!1,this.state.activeProfile.peakBytes=Math.max(...this.state.activeProfile.kernels.map(P=>P.totalBytesSnapshot)),this.state.activeProfile.newBytes=this.state.numBytes-y,this.state.activeProfile.newTensors=this.state.numTensors-w;for(const P of this.state.activeProfile.kernels)P.kernelTimeMs=await P.kernelTimeMs,P.extraInfo=await P.extraInfo;return this.state.activeProfile}isTapeOn(){return this.state.gradientDepth>0&&this.state.kernelDepth===0}addTapeNode(m,y,w,P,F,c){const g={id:this.state.nextTapeNodeId++,kernelName:m,inputs:y,outputs:w,saved:F},t=ao(m);t!=null&&(P=t.gradFunc),P!=null&&(g.gradient=o=>(o=o.map((v,a)=>{if(v==null){const i=w[a],s=Fa(i.size,i.dtype);return this.makeTensor(s,i.shape,i.dtype)}return v}),P(o.length>1?o:o[0],F,c))),this.state.activeTape.push(g)}keep(m){return m.kept=!0,m}startTape(){this.state.gradientDepth===0&&(this.state.activeTape=[]),this.state.gradientDepth++}endTape(){this.state.gradientDepth--}startScope(m){const y={track:[],name:"unnamed scope",id:this.state.nextScopeId++};m&&(y.name=m),this.state.scopeStack.push(y),this.state.activeScope=y}endScope(m){const y=fh(m),w=new Set(y.map(F=>F.id));for(let F=0;F<this.state.activeScope.track.length;F++){const c=this.state.activeScope.track[F];!c.kept&&!w.has(c.id)&&c.dispose()}const P=this.state.scopeStack.pop();this.state.activeScope=this.state.scopeStack.length===0?null:this.state.scopeStack[this.state.scopeStack.length-1],y.forEach(F=>{!F.kept&&F.scopeId===P.id&&this.track(F)})}gradients(m,y,w,P=!1){if(rt(y.length>0,()=>"gradients() received an empty list of xs."),w!=null&&w.dtype!=="float32")throw new Error(`dy must have 'float32' dtype, but has '${w.dtype}'`);const F=this.scopedRun(()=>this.startTape(),()=>this.endTape(),()=>this.tidy("forward",m));rt(F instanceof Ee,()=>"The result y returned by f() must be a tensor.");const c=fc(this.state.activeTape,y,F);if(!P&&c.length===0&&y.length>0)throw new Error("Cannot compute gradient of y=f(x) with respect to x. Make sure that the f you passed encloses all operations that lead from x to y.");return this.tidy("backward",()=>{const g={};g[F.id]=w??Sc(F.shape),dc(g,c,o=>this.tidy(o),Ec);const t=y.map(o=>g[o.id]);return this.state.gradientDepth===0&&(this.state.activeTape.forEach(o=>{for(const v of o.saved)v.dispose()}),this.state.activeTape=null),{value:F,grads:t}})}customGrad(m){return rt(Jr(m),()=>"The f passed in customGrad(f) must be a function."),(...y)=>{rt(y.every(g=>g instanceof Ee),()=>"The args passed in customGrad(f)(x1, x2,...) must all be tensors");let w;const P={};y.forEach((g,t)=>{P[t]=g});const F=(g,t)=>(w=m(...y,t),rt(w.value instanceof Ee,()=>"The function f passed in customGrad(f) must return an object where `obj.value` is a tensor"),rt(Jr(w.gradFunc),()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function."),w.value),c=(g,t)=>{const o=w.gradFunc(g,t),v=Array.isArray(o)?o:[o];rt(v.length===y.length,()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns the same number of tensors as inputs passed to f(...)."),rt(v.every(i=>i instanceof Ee),()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns a list of only tensors.");const a={};return v.forEach((i,s)=>{a[s]=()=>i}),a};return this.runKernelFunc({forwardFunc:F,backwardsFunc:c,inputs:P})}}readSync(m){return this.state.tensorInfo.get(m).backend.readSync(m)}read(m){return this.state.tensorInfo.get(m).backend.read(m)}readToGPU(m,y){return this.state.tensorInfo.get(m).backend.readToGPU(m,y)}async time(m){const y=Qs(),w=await this.backend.time(m);return w.wallMs=Qs()-y,w}track(m){return this.state.activeScope!=null&&(m.scopeId=this.state.activeScope.id,this.state.activeScope.track.push(m)),m}get registeredVariables(){return this.state.registeredVariables}reset(){this.pendingBackendInitId++,this.state.dispose(),this.ENV.reset(),this.state=new fo;for(const m in this.registry)this.disposeRegisteredKernels(m),this.registry[m].dispose(),delete this.registry[m];this.backendName=null,this.backendInstance=null,this.pendingBackendInit=null}}Bn.nextTensorId=0;Bn.nextVariableId=0;function Sc(S){const m=Qo(we(S),"float32");return dt.makeTensor(m,S,"float32")}function ch(){const S=_o();if(S._tfengine==null){const m=new hu(S);S._tfengine=new Bn(m)}return du(S._tfengine.ENV),pc(()=>S._tfengine),S._tfengine}const dt=ch();function Ec(S,m){const y={a:S,b:m};return dt.runKernel(th,y)}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Cc(){return typeof window<"u"&&window.document!=null||typeof WorkerGlobalScope<"u"}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Ue=ie();Ue.registerFlag("DEBUG",()=>!1,S=>{S&&console.warn("Debugging mode is ON. The output of every math call will be downloaded to CPU and checked for NaNs. This significantly impacts performance.")});Ue.registerFlag("IS_BROWSER",()=>Cc());Ue.registerFlag("IS_NODE",()=>typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u");Ue.registerFlag("IS_CHROME",()=>typeof navigator<"u"&&navigator!=null&&navigator.userAgent!=null&&/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor));Ue.registerFlag("IS_SAFARI",()=>typeof navigator<"u"&&navigator!=null&&navigator.userAgent!=null&&/Safari/.test(navigator.userAgent)&&/Apple/.test(navigator.vendor));Ue.registerFlag("PROD",()=>!1);Ue.registerFlag("TENSORLIKE_CHECK_SHAPE_CONSISTENCY",()=>Ue.getBool("DEBUG"));Ue.registerFlag("DEPRECATION_WARNINGS_ENABLED",()=>!0);Ue.registerFlag("IS_TEST",()=>!1);Ue.registerFlag("CHECK_COMPUTATION_FOR_ERRORS",()=>Ue.getBool("DEBUG"));Ue.registerFlag("WRAP_TO_IMAGEBITMAP",()=>!1);Ue.registerFlag("CANVAS2D_WILL_READ_FREQUENTLY_FOR_GPU",()=>!1);Ue.registerFlag("USE_SETTIMEOUTCUSTOM",()=>!1);/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ki(S,m){let y=S;if(ei(S))return m==="string"?[]:[S.length];if(lh(S)){const P=S.channels||"RGBA";return[S.height,S.width*P.length]}else if(uh(S))return[S.buffer.size/(m==null?4:Zr(m))];if(!Array.isArray(S))return[];const w=[];for(;Array.isArray(y)||ei(y)&&m!=="string";)w.push(y.length),y=y[0];return Array.isArray(S)&&ie().getBool("TENSORLIKE_CHECK_SHAPE_CONSISTENCY")&&vh(S,w,[]),w}function vh(S,m,y){if(y=y||[],!Array.isArray(S)&&!ei(S)){rt(m.length===0,()=>`Element arr[${y.join("][")}] is a primitive, but should be an array/TypedArray of ${m[0]} elements`);return}rt(m.length>0,()=>`Element arr[${y.join("][")}] should be a primitive, but is an array of ${S.length} elements`),rt(S.length===m[0],()=>`Element arr[${y.join("][")}] should have ${m[0]} elements, but has ${S.length} elements`);const w=m.slice(1);for(let P=0;P<S.length;++P)vh(S[P],w,y.concat(P))}function co(S,m,y,w){if(S!=="string_or_numeric"){if(S==null)throw new Error("Expected dtype cannot be null.");if(S!=="numeric"&&S!==m||S==="numeric"&&m==="string")throw new Error(`Argument '${y}' passed to '${w}' must be ${S} tensor, but got ${m} tensor`)}}function it(S,m,y,w="numeric"){if(S instanceof hh())return co(w,S.dtype,m,y),S;let P=dr(S);if(P!=="string"&&["bool","int32","float32"].indexOf(w)>=0&&(P=w),co(w,P,m,y),S==null||!ei(S)&&!Array.isArray(S)&&typeof S!="number"&&typeof S!="boolean"&&typeof S!="string"){const t=S==null?"null":S.constructor.name;throw new Error(`Argument '${m}' passed to '${y}' must be a Tensor or TensorLike, but got '${t}'`)}const F=Ki(S,P);!ei(S)&&!Array.isArray(S)&&(S=[S]);const g=P!=="string"?ah(S,P):ls(S,[],!0);return dt.makeTensor(g,F,P)}function _s(S,m,y,w="numeric"){if(!Array.isArray(S))throw new Error(`Argument ${m} passed to ${y} must be a \`Tensor[]\` or \`TensorLike[]\``);return S.map((F,c)=>it(F,`${m}[${c}]`,y,w))}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ph="__op";function lt(S){const m=Object.keys(S);if(m.length!==1)throw new Error(`Please provide an object with a single key (operation name) mapping to a function. Got an object with ${m.length} keys.`);let y=m[0];const w=S[y];y.endsWith("_")&&(y=y.substring(0,y.length-1)),y=y+ph;const P=(...F)=>{dt.startScope(y);try{const c=w(...F);return vn(c)&&console.error("Cannot return a Promise inside of tidy."),dt.endScope(c),c}catch(c){throw dt.endScope(null),c}};return Object.defineProperty(P,"name",{value:y,configurable:!0}),P}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function wc(S,m){const y=it(S,"real","complex"),w=it(m,"imag","complex");ii(y.shape,w.shape,`real and imag shapes, ${y.shape} and ${w.shape}, must match in call to tf.complex().`);const P={real:y,imag:w};return dt.runKernel(Bu,P)}const Yi=lt({complex_:wc});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ji(S,m,y,w){if(w==null)w=dr(S);else if(w==="complex64")throw new Error("Cannot construct a complex64 tensor directly. Please use tf.complex(real, imag).");if(uh(S)||lh(S)){if(w!=="float32"&&w!=="int32")throw new Error(`Creating tensor from GPU data only supports 'float32'|'int32' dtype, while the dtype is ${w}.`);return dt.backend.createTensorFromGPUData(S,m||y,w)}if(!ei(S)&&!Array.isArray(S)&&typeof S!="number"&&typeof S!="boolean"&&typeof S!="string")throw new Error("values passed to tensor(values) must be a number/boolean/string or an array of numbers/booleans/strings, or a TypedArray");if(m!=null){Je(m);const P=we(m),F=we(y);rt(P===F,()=>`Based on the provided shape, [${m}], the tensor should have ${P} values but has ${F}`);for(let c=0;c<y.length;++c){const g=y[c],t=c===y.length-1?g!==we(m.slice(c)):!0;rt(y[c]===m[c]||!t,()=>`Error creating a new Tensor. Inferred shape (${y}) does not match the provided shape (${m}). `)}}return!ei(S)&&!Array.isArray(S)&&(S=[S]),m=m||y,S=w!=="string"?ah(S,w):ls(S,[],!0),dt.makeTensor(S,m,w)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function mi(S,m,y){const w=Ki(S,y);return ji(S,m,w,y)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const pn={float32:4,float16:2,int32:4,uint16:2,uint8:1,bool:1,complex64:8};class oi{static join(m){return new oi(m).slice()}constructor(m){if(this.shards=[],this.previousShardIndex=0,m==null||(m instanceof Array||(m=[m]),m=m.map(w=>ei(w)?w.buffer:w),m.length===0))return;this.bufferUniformSize=m[0].byteLength;let y=0;for(let w=0;w<m.length;w++){const P=m[w];w!==m.length-1&&P.byteLength!==this.bufferUniformSize&&(this.bufferUniformSize=void 0);const F=y+P.byteLength;this.shards.push({buffer:P,start:y,end:F}),y=F}this.shards.length===0&&(this.byteLength=0),this.byteLength=this.shards[this.shards.length-1].end}slice(m=0,y=this.byteLength){if(this.shards.length===0)return new ArrayBuffer(0);if(m=isNaN(Number(m))?0:m,y=isNaN(Number(y))?0:y,m=Math.max(0,m),y=Math.min(this.byteLength,y),y<=m)return new ArrayBuffer(0);const w=this.findShardForByte(m);if(w===-1)throw new Error(`Could not find start shard for byte ${m}`);const P=y-m,F=new ArrayBuffer(P),c=new Uint8Array(F);let g=0;for(let t=w;t<this.shards.length;t++){const o=this.shards[t],a=m+g-o.start,i=g,e=Math.min(y,o.end)-o.start,r=new Uint8Array(o.buffer,a,e-a);if(c.set(r,i),g+=r.length,y<o.end)break}return F}findShardForByte(m){if(this.shards.length===0||m<0||m>=this.byteLength)return-1;if(this.bufferUniformSize!=null)return this.previousShardIndex=Math.floor(m/this.bufferUniformSize),this.previousShardIndex;function y(P){return m<P.start?-1:m>=P.end?1:0}if(y(this.shards[this.previousShardIndex])===0)return this.previousShardIndex;const w=Ac(this.shards,y);return w===-1?-1:(this.previousShardIndex=w,this.previousShardIndex)}}function Ac(S,m){let y=0,w=S.length;for(;y<=w;){const P=Math.floor((w-y)/2)+y,F=m(S[P]);if(F===0)return P;F<0?w=P:y=P+1}return-1}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _t(S,m){return dt.tidy(S,m)}function xe(S){fh(S).forEach(y=>y.dispose())}function vi(S){return dt.keep(S)}function Pc(){return dt.backendName}function Mc(){return dt.backend}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Hi=4;async function Fc(S,m){const y=[],w=[],P=Array.isArray(S)?S.map(c=>c.name):Object.keys(S);for(let c=0;c<P.length;++c){const g=P[c],t=Array.isArray(S)?S[c].tensor:S[g];if(t.dtype!=="float32"&&t.dtype!=="int32"&&t.dtype!=="bool"&&t.dtype!=="string"&&t.dtype!=="complex64")throw new Error(`Unsupported dtype in weight '${g}': ${t.dtype}`);const o={name:g,shape:t.shape,dtype:t.dtype};if(t.dtype==="string"){const v=new Promise(async a=>{const i=await t.bytes(),s=i.reduce((h,n)=>h+n.length,0)+Hi*i.length,e=new Uint8Array(s);let r=0;for(let h=0;h<i.length;h++){const n=i[h],l=new Uint8Array(new Uint32Array([n.length]).buffer);e.set(l,r),r+=Hi,e.set(n,r),r+=n.length}a(e)});w.push(v)}else w.push(t.data());m!=null&&(o.group=m),y.push(o)}const F=await Promise.all(w);return{data:Oc(F),specs:y}}function mh(S,m){const y=new oi(S),w={};let P=0;for(const F of m){const c=Rc(F,(g,t)=>y.slice(P+g,P+t));w[F.name]=gh(F,y.slice(P,P+c)),P+=c}return w}function Rc(S,m){const y=we(S.shape);let w;if("quantization"in S){const P=S.quantization;w=pn[P.dtype]}else if(S.dtype==="string"){let P=0;for(let F=0;F<y;F++)P+=Hi+new Uint32Array(m(P,P+Hi))[0];return P}else w=pn[S.dtype];return y*w}async function Lc(S,m){const y=we(S.shape);let w;if("quantization"in S){const P=S.quantization;w=pn[P.dtype]}else if(S.dtype==="string"){let P=0;for(let F=0;F<y;F++)P+=Hi+new Uint32Array(await m(P,P+Hi))[0];return P}else w=pn[S.dtype];return y*w}function gh(S,m){const y=S.name,w=S.dtype,P=S.shape,F=we(P);let c,g=0;if("quantization"in S){const t=S.quantization;if(t.dtype==="uint8"||t.dtype==="uint16"){if(!("min"in t&&"scale"in t))throw new Error(`Weight ${S.name} with quantization ${t.dtype} doesn't have corresponding metadata min and scale.`)}else if(t.dtype==="float16"){if(w!=="float32")throw new Error(`Weight ${S.name} is quantized with ${t.dtype} which only supports weights of type float32 not ${w}.`)}else throw new Error(`Weight ${S.name} has unknown quantization dtype ${t.dtype}. Supported quantization dtypes are: 'uint8', 'uint16', and 'float16'.`);const o=pn[t.dtype],v=t.dtype==="uint8"?new Uint8Array(m):new Uint16Array(m);if(w==="float32")if(t.dtype==="uint8"||t.dtype==="uint16"){c=new Float32Array(v.length);for(let a=0;a<v.length;a++){const i=v[a];c[a]=i*t.scale+t.min}}else if(t.dtype==="float16")c=zc()(v);else throw new Error(`Unsupported quantization type ${t.dtype} for weight type float32.`);else if(w==="int32"){if(t.dtype!=="uint8"&&t.dtype!=="uint16")throw new Error(`Unsupported quantization type ${t.dtype} for weight type int32.`);c=new Int32Array(v.length);for(let a=0;a<v.length;a++){const i=v[a];c[a]=Math.round(i*t.scale+t.min)}}else throw new Error(`Unsupported dtype in weight '${y}': ${w}`);g+=F*o}else if(w==="string"){const t=we(S.shape);c=[];for(let o=0;o<t;o++){const v=new Uint32Array(m.slice(g,g+Hi))[0];g+=Hi;const a=new Uint8Array(m.slice(g,g+v));c.push(a),g+=v}}else{const t=pn[w];if(w==="float32")c=new Float32Array(m);else if(w==="int32")c=new Int32Array(m);else if(w==="bool")c=new Uint8Array(m);else if(w==="complex64"){c=new Float32Array(m);const o=new Float32Array(c.length/2),v=new Float32Array(c.length/2);for(let e=0;e<o.length;e++)o[e]=c[e*2],v[e]=c[e*2+1];const a=mi(o,P,"float32"),i=mi(v,P,"float32"),s=Yi(a,i);return a.dispose(),i.dispose(),s}else throw new Error(`Unsupported dtype in weight '${y}': ${w}`);g+=F*t}return mi(c,P,w)}async function vo(S,m,y){let w=new Uint8Array(m);for(;w.byteLength<y;){const{done:P,value:F}=await S.read();if(P&&F==null){const g=y-w.byteLength;throw new Error(`Reader is done but ${g} bytes are still expected`)}const c=new Uint8Array(w.length+F.byteLength);c.set(w,0),c.set(new Uint8Array(F),w.length),w=c}return w.buffer}async function yh(S,m){const y={},w=S.getReader();let P=new ArrayBuffer(0);for(const F of m){const c=await Lc(F,async(o,v)=>(P=await vo(w,P,v),P.slice(o,v)));P=await vo(w,P,c);const g=P.slice(0,c);P=P.slice(c);const t=gh(F,g);if(y[F.name]=t,Pc()==="webgpu"){const o=Mc();"uploadToGPU"in o&&we(t.shape)>=ie().get("WEBGPU_CPU_HANDOFF_SIZE_THRESHOLD")&&o.uploadToGPU(t.dataId)}}return y}function Oc(S){if(S===null)throw new Error(`Invalid input value: ${JSON.stringify(S)}`);let m=0;const y=[];S.forEach(F=>{if(m+=F.byteLength,y.push(F.byteLength===F.buffer.byteLength?F:new F.constructor(F)),!(F instanceof Float32Array||F instanceof Int32Array||F instanceof Uint8Array))throw new Error(`Unsupported TypedArray subtype: ${F.constructor.name}`)});const w=new Uint8Array(m);let P=0;return y.forEach(F=>{w.set(new Uint8Array(F.buffer),P),P+=F.byteLength}),w.buffer}const La=typeof Buffer<"u"&&(typeof Blob>"u"||typeof atob>"u"||typeof btoa>"u");function po(S){return La?Buffer.byteLength(S,"utf8"):new Blob([S]).size}function bc(S){if(La)return Buffer.from(S).toString("base64");const m=new Uint8Array(S);let y="";for(let w=0,P=m.length;w<P;w++)y+=String.fromCharCode(m[w]);return btoa(y)}function Dc(S){if(La){const w=Buffer.from(S,"base64");return w.buffer.slice(w.byteOffset,w.byteOffset+w.byteLength)}const m=atob(S),y=new Uint8Array(m.length);for(let w=0;w<m.length;++w)y.set([m.charCodeAt(w)],w);return y.buffer}function Nc(S){return oi.join(S)}function mo(S){const m="/";for(S=S.trim();S.endsWith(m);)S=S.slice(0,S.length-1);const y=S.split(m);return y[y.length-1]}function xh(S,m){const y={modelTopology:S.modelTopology,format:S.format,generatedBy:S.generatedBy,convertedBy:S.convertedBy,weightsManifest:m};return S.signature!=null&&(y.signature=S.signature),S.userDefinedMetadata!=null&&(y.userDefinedMetadata=S.userDefinedMetadata),S.modelInitializer!=null&&(y.modelInitializer=S.modelInitializer),S.initializerSignature!=null&&(y.initializerSignature=S.initializerSignature),S.trainingConfig!=null&&(y.trainingConfig=S.trainingConfig),y}function Th(S,m,y){const w={modelTopology:S.modelTopology,format:S.format,generatedBy:S.generatedBy,convertedBy:S.convertedBy};if(S.trainingConfig!=null&&(w.trainingConfig=S.trainingConfig),S.weightsManifest!=null){if(!m)throw new Error("modelJSON has weightsManifest but weightSpecs is null");if(!y)throw new Error("modelJSON has weightsManifest but weightData is null");w.weightSpecs=m,w.weightData=y}return S.signature!=null&&(w.signature=S.signature),S.userDefinedMetadata!=null&&(w.userDefinedMetadata=S.userDefinedMetadata),S.modelInitializer!=null&&(w.modelInitializer=S.modelInitializer),S.initializerSignature!=null&&(w.initializerSignature=S.initializerSignature),w}async function Oa(S,m){let y,w;return S.weightsManifest!=null&&([y,w]=await m(S.weightsManifest)),Th(S,y,w)}function ms(S){if(S.modelTopology instanceof ArrayBuffer)throw new Error("Expected JSON model topology, received ArrayBuffer.");return{dateSaved:new Date,modelTopologyType:"JSON",modelTopologyBytes:S.modelTopology==null?0:po(JSON.stringify(S.modelTopology)),weightSpecsBytes:S.weightSpecs==null?0:po(JSON.stringify(S.weightSpecs)),weightDataBytes:S.weightData==null?0:new oi(S.weightData).byteLength}}function sa(S){const m=[];for(const y of S)m.push(...y.weights);return m}function Ic(){const S=y=>{let w=y<<13,P=0;for(;(w&8388608)===0;)P-=8388608,w<<=1;return w&=-8388609,P+=947912704,w|P},m=new Uint32Array(2048);m[0]=0;for(let y=1;y<1024;y++)m[y]=S(y);for(let y=1024;y<2048;y++)m[y]=939524096+(y-1024<<13);return m}function Bc(){const S=new Uint32Array(64);S[0]=0,S[31]=1199570944,S[32]=2147483648,S[63]=3347054592;for(let m=1;m<31;m++)S[m]=m<<23;for(let m=33;m<63;m++)S[m]=2147483648+(m-32<<23);return S}function Gc(){const S=new Uint32Array(64);for(let m=0;m<64;m++)S[m]=1024;return S[0]=S[32]=0,S}function zc(){const S=Ic(),m=Bc(),y=Gc();return w=>{const P=new ArrayBuffer(4*w.length),F=new Uint32Array(P);for(let c=0;c<w.length;c++){const g=w[c],t=S[y[g>>10]+(g&1023)]+m[g>>10];F[c]=t}return new Float32Array(P)}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class ye{constructor(){this.saveRouters=[],this.loadRouters=[]}static getInstance(){return ye.instance==null&&(ye.instance=new ye),ye.instance}static registerSaveRouter(m){ye.getInstance().saveRouters.push(m)}static registerLoadRouter(m){ye.getInstance().loadRouters.push(m)}static getSaveHandlers(m){return ye.getHandlers(m,"save")}static getLoadHandlers(m,y){return ye.getHandlers(m,"load",y)}static getHandlers(m,y,w){const P=[];return(y==="load"?ye.getInstance().loadRouters:ye.getInstance().saveRouters).forEach(c=>{const g=c(m,w);g!==null&&P.push(g)}),P}}const Uc=S=>ye.registerSaveRouter(S),Vc=S=>ye.registerLoadRouter(S),Wc=S=>ye.getSaveHandlers(S),Xc=(S,m)=>ye.getLoadHandlers(S,m);/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ra="tensorflowjs",aa=1,on="models_store",Ui="model_info_store";function Sh(){if(!ie().getBool("IS_BROWSER"))throw new Error("Failed to obtain IndexedDB factory because the current environmentis not a web browser.");const S=typeof window>"u"?self:window,m=S.indexedDB||S.mozIndexedDB||S.webkitIndexedDB||S.msIndexedDB||S.shimIndexedDB;if(m==null)throw new Error("The current browser does not appear to support IndexedDB.");return m}function oa(S){const m=S.result;m.createObjectStore(on,{keyPath:"modelPath"}),m.createObjectStore(Ui,{keyPath:"modelPath"})}class mn{constructor(m){if(this.indexedDB=Sh(),m==null||!m)throw new Error("For IndexedDB, modelPath must not be null, undefined or empty.");this.modelPath=m}async save(m){if(m.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");return this.databaseAction(this.modelPath,m)}async load(){return this.databaseAction(this.modelPath)}databaseAction(m,y){return new Promise((w,P)=>{const F=this.indexedDB.open(ra,aa);F.onupgradeneeded=()=>oa(F),F.onsuccess=()=>{const c=F.result;if(y==null){const g=c.transaction(on,"readonly"),o=g.objectStore(on).get(this.modelPath);o.onsuccess=()=>{if(o.result==null)return c.close(),P(new Error(`Cannot find model with path '${this.modelPath}' in IndexedDB.`));w(o.result.modelArtifacts)},o.onerror=v=>(c.close(),P(o.error)),g.oncomplete=()=>c.close()}else{y.weightData=oi.join(y.weightData);const g=ms(y),t=c.transaction(Ui,"readwrite");let o=t.objectStore(Ui),v;try{v=o.put({modelPath:this.modelPath,modelArtifactsInfo:g})}catch(i){return P(i)}let a;v.onsuccess=()=>{a=c.transaction(on,"readwrite");const i=a.objectStore(on);let s;try{s=i.put({modelPath:this.modelPath,modelArtifacts:y,modelArtifactsInfo:g})}catch(e){return P(e)}s.onsuccess=()=>w({modelArtifactsInfo:g}),s.onerror=e=>{o=t.objectStore(Ui);const r=o.delete(this.modelPath);r.onsuccess=()=>(c.close(),P(s.error)),r.onerror=h=>(c.close(),P(s.error))}},v.onerror=i=>(c.close(),P(v.error)),t.oncomplete=()=>{a==null?c.close():a.oncomplete=()=>c.close()}}},F.onerror=c=>P(F.error)})}}mn.URL_SCHEME="indexeddb://";const Eh=S=>ie().getBool("IS_BROWSER")&&!Array.isArray(S)&&S.startsWith(mn.URL_SCHEME)?Yc(S.slice(mn.URL_SCHEME.length)):null;ye.registerSaveRouter(Eh);ye.registerLoadRouter(Eh);function Yc(S){return new mn(S)}function Hc(S){return S.startsWith(mn.URL_SCHEME)?S.slice(mn.URL_SCHEME.length):S}class $c{constructor(){this.indexedDB=Sh()}async listModels(){return new Promise((m,y)=>{const w=this.indexedDB.open(ra,aa);w.onupgradeneeded=()=>oa(w),w.onsuccess=()=>{const P=w.result,F=P.transaction(Ui,"readonly"),g=F.objectStore(Ui).getAll();g.onsuccess=()=>{const t={};for(const o of g.result)t[o.modelPath]=o.modelArtifactsInfo;m(t)},g.onerror=t=>(P.close(),y(g.error)),F.oncomplete=()=>P.close()},w.onerror=P=>y(w.error)})}async removeModel(m){return m=Hc(m),new Promise((y,w)=>{const P=this.indexedDB.open(ra,aa);P.onupgradeneeded=()=>oa(P),P.onsuccess=()=>{const F=P.result,c=F.transaction(Ui,"readwrite"),g=c.objectStore(Ui),t=g.get(m);let o;t.onsuccess=()=>{if(t.result==null)return F.close(),w(new Error(`Cannot find model with path '${m}' in IndexedDB.`));{const v=g.delete(m),a=()=>{o=F.transaction(on,"readwrite");const s=o.objectStore(on).delete(m);s.onsuccess=()=>y(t.result.modelArtifactsInfo),s.onerror=e=>w(t.error)};v.onsuccess=a,v.onerror=i=>(a(),F.close(),w(t.error))}},t.onerror=v=>(F.close(),w(t.error)),c.oncomplete=()=>{o==null?F.close():o.oncomplete=()=>F.close()}},P.onerror=F=>w(P.error)})}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Ei="/",Ln="tensorflowjs_models",Ch="info",Kc="model_topology",jc="weight_specs",kc="weight_data",Zc="model_metadata";function wh(S){return{info:[Ln,S,Ch].join(Ei),topology:[Ln,S,Kc].join(Ei),weightSpecs:[Ln,S,jc].join(Ei),weightData:[Ln,S,kc].join(Ei),modelMetadata:[Ln,S,Zc].join(Ei)}}function Ah(S){for(const m of Object.values(S))window.localStorage.removeItem(m)}function Jc(S){const m=S.split(Ei);if(m.length<3)throw new Error(`Invalid key format: ${S}`);return m.slice(1,m.length-1).join(Ei)}function Qc(S){return S.startsWith(gn.URL_SCHEME)?S.slice(gn.URL_SCHEME.length):S}class gn{constructor(m){if(!ie().getBool("IS_BROWSER")||typeof window>"u"||typeof window.localStorage>"u")throw new Error("The current environment does not support local storage.");if(this.LS=window.localStorage,m==null||!m)throw new Error("For local storage, modelPath must not be null, undefined or empty.");this.modelPath=m,this.keys=wh(this.modelPath)}async save(m){if(m.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");{const y=JSON.stringify(m.modelTopology),w=JSON.stringify(m.weightSpecs),P=ms(m),F=oi.join(m.weightData);try{this.LS.setItem(this.keys.info,JSON.stringify(P)),this.LS.setItem(this.keys.topology,y),this.LS.setItem(this.keys.weightSpecs,w),this.LS.setItem(this.keys.weightData,bc(F));const c={format:m.format,generatedBy:m.generatedBy,convertedBy:m.convertedBy,signature:m.signature!=null?m.signature:void 0,userDefinedMetadata:m.userDefinedMetadata!=null?m.userDefinedMetadata:void 0,modelInitializer:m.modelInitializer!=null?m.modelInitializer:void 0,initializerSignature:m.initializerSignature!=null?m.initializerSignature:void 0,trainingConfig:m.trainingConfig!=null?m.trainingConfig:void 0};return this.LS.setItem(this.keys.modelMetadata,JSON.stringify(c)),{modelArtifactsInfo:P}}catch{throw Ah(this.keys),new Error(`Failed to save model '${this.modelPath}' to local storage: size quota being exceeded is a possible cause of this failure: modelTopologyBytes=${P.modelTopologyBytes}, weightSpecsBytes=${P.weightSpecsBytes}, weightDataBytes=${P.weightDataBytes}.`)}}}async load(){const m=JSON.parse(this.LS.getItem(this.keys.info));if(m==null)throw new Error(`In local storage, there is no model with name '${this.modelPath}'`);if(m.modelTopologyType!=="JSON")throw new Error("BrowserLocalStorage does not support loading non-JSON model topology yet.");const y={},w=JSON.parse(this.LS.getItem(this.keys.topology));if(w==null)throw new Error(`In local storage, the topology of model '${this.modelPath}' is missing.`);y.modelTopology=w;const P=JSON.parse(this.LS.getItem(this.keys.weightSpecs));if(P==null)throw new Error(`In local storage, the weight specs of model '${this.modelPath}' are missing.`);y.weightSpecs=P;const F=this.LS.getItem(this.keys.modelMetadata);if(F!=null){const g=JSON.parse(F);y.format=g.format,y.generatedBy=g.generatedBy,y.convertedBy=g.convertedBy,g.signature!=null&&(y.signature=g.signature),g.userDefinedMetadata!=null&&(y.userDefinedMetadata=g.userDefinedMetadata),g.modelInitializer!=null&&(y.modelInitializer=g.modelInitializer),g.initializerSignature!=null&&(y.initializerSignature=g.initializerSignature),g.trainingConfig!=null&&(y.trainingConfig=g.trainingConfig)}const c=this.LS.getItem(this.keys.weightData);if(c==null)throw new Error(`In local storage, the binary weight values of model '${this.modelPath}' are missing.`);return y.weightData=Dc(c),y}}gn.URL_SCHEME="localstorage://";const Ph=S=>ie().getBool("IS_BROWSER")&&!Array.isArray(S)&&S.startsWith(gn.URL_SCHEME)?qc(S.slice(gn.URL_SCHEME.length)):null;ye.registerSaveRouter(Ph);ye.registerLoadRouter(Ph);function qc(S){return new gn(S)}class _c{constructor(){rt(ie().getBool("IS_BROWSER"),()=>"Current environment is not a web browser"),rt(typeof window>"u"||typeof window.localStorage<"u",()=>"Current browser does not appear to support localStorage"),this.LS=window.localStorage}async listModels(){const m={},y=Ln+Ei,w=Ei+Ch;for(let P=0;P<this.LS.length;++P){const F=this.LS.key(P);if(F.startsWith(y)&&F.endsWith(w)){const c=Jc(F);m[c]=JSON.parse(this.LS.getItem(F))}}return m}async removeModel(m){m=Qc(m);const y=wh(m);if(this.LS.getItem(y.info)==null)throw new Error(`Cannot find model at path '${m}'`);const w=JSON.parse(this.LS.getItem(y.info));return Ah(y),w}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Nn="://";class Ne{constructor(){this.managers={}}static getInstance(){return Ne.instance==null&&(Ne.instance=new Ne),Ne.instance}static registerManager(m,y){rt(m!=null,()=>"scheme must not be undefined or null."),m.endsWith(Nn)&&(m=m.slice(0,m.indexOf(Nn))),rt(m.length>0,()=>"scheme must not be an empty string.");const w=Ne.getInstance();rt(w.managers[m]==null,()=>`A model store manager is already registered for scheme '${m}'.`),w.managers[m]=y}static getManager(m){const y=Ne.getInstance().managers[m];if(y==null)throw new Error(`Cannot find model manager for scheme '${m}'`);return y}static getSchemes(){return Object.keys(Ne.getInstance().managers)}}function Vs(S){if(S.indexOf(Nn)===-1)throw new Error(`The url string provided does not contain a scheme. Supported schemes are: ${Ne.getSchemes().join(",")}`);return{scheme:S.split(Nn)[0],path:S.split(Nn)[1]}}async function Mh(S,m,y=!1){rt(S!==m,()=>`Old path and new path are the same: '${S}'`);const w=ye.getLoadHandlers(S);rt(w.length>0,()=>`Copying failed because no load handler is found for source URL ${S}.`),rt(w.length<2,()=>`Copying failed because more than one (${w.length}) load handlers for source URL ${S}.`);const P=w[0],F=ye.getSaveHandlers(m);rt(F.length>0,()=>`Copying failed because no save handler is found for destination URL ${m}.`),rt(F.length<2,()=>`Copying failed because more than one (${w.length}) save handlers for destination URL ${m}.`);const c=F[0],g=Vs(S).scheme,t=Vs(S).path,o=g===Vs(S).scheme,v=await P.load();y&&o&&await Ne.getManager(g).removeModel(t);const a=await c.save(v);return y&&!o&&await Ne.getManager(g).removeModel(t),a.modelArtifactsInfo}async function tv(){const S=Ne.getSchemes(),m={};for(const y of S){const w=await Ne.getManager(y).listModels();for(const P in w){const F=y+Nn+P;m[F]=w[P]}}return m}async function ev(S){const m=Vs(S);return Ne.getManager(m.scheme).removeModel(m.path)}async function iv(S,m){return Mh(S,m,!1)}async function nv(S,m){return Mh(S,m,!0)}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class sv{constructor(){this.messageName="setTimeoutCustom",this.functionRefs=[],this.handledMessageCount=0,this.hasEventListener=!1}fetch(m,y){return fetch(m,y)}now(){return performance.now()}encode(m,y){if(y!=="utf-8"&&y!=="utf8")throw new Error(`Browser's encoder only supports utf-8, but got ${y}`);return this.textEncoder==null&&(this.textEncoder=new TextEncoder),this.textEncoder.encode(m)}decode(m,y){return new TextDecoder(y).decode(m)}setTimeoutCustom(m,y){if(typeof window>"u"||!ie().getBool("USE_SETTIMEOUTCUSTOM")){setTimeout(m,y);return}this.functionRefs.push(m),setTimeout(()=>{window.postMessage({name:this.messageName,index:this.functionRefs.length-1},"*")},y),this.hasEventListener||(this.hasEventListener=!0,window.addEventListener("message",w=>{if(w.source===window&&w.data.name===this.messageName){w.stopPropagation();const P=this.functionRefs[w.data.index];P(),this.handledMessageCount++,this.handledMessageCount===this.functionRefs.length&&(this.functionRefs=[],this.handledMessageCount=0)}},!0))}isTypedArray(m){return rh(m)}}if(ie().get("IS_BROWSER")){ie().setPlatform("browser",new sv);try{Ne.registerManager(gn.URL_SCHEME,new _c)}catch{}try{Ne.registerManager(mn.URL_SCHEME,new $c)}catch{}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const rv={importFetch:()=>require("node-fetch")};let Br;class av{constructor(){this.util=require("util"),this.textEncoder=new this.util.TextEncoder}fetch(m,y){return ie().global.fetch!=null?ie().global.fetch(m,y):(Br==null&&(Br=rv.importFetch()),Br(m,y))}now(){const m=process.hrtime();return m[0]*1e3+m[1]/1e6}encode(m,y){if(y!=="utf-8"&&y!=="utf8")throw new Error(`Node built-in encoder only supports utf-8, but got ${y}`);return this.textEncoder.encode(m)}decode(m,y){return m.length===0?"":new this.util.TextDecoder(y).decode(m)}isTypedArray(m){return this.util.types.isFloat32Array(m)||this.util.types.isInt32Array(m)||this.util.types.isUint8Array(m)||this.util.types.isUint8ClampedArray(m)}}ie().get("IS_NODE")&&!ie().get("IS_BROWSER")&&ie().setPlatform("node",new av);/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Pi(S,m="float32",y){return m=m||"float32",Je(S),new _r(S,m,y)}/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ov(S,m){const y=it(S,"x","cast");if(!su(m))throw new Error(`Failed to cast to unknown dtype ${m}`);if(m==="string"&&y.dtype!=="string"||m!=="string"&&y.dtype==="string")throw new Error("Only strings can be casted to strings");const w={x:y},P={dtype:m};return dt.runKernel(eh,w,P)}const ge=lt({cast_:ov});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function hv(S){const y={x:it(S,"x","clone","string_or_numeric")};return dt.runKernel(ih,y)}const Vi=lt({clone_:hv});/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Fh(S,m=!1){console.log(S.toString(m))}/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ch();const lv={buffer:Pi,cast:ge,clone:Vi,print:Fh};mc(lv);/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function uv(S,m){let y=it(S,"a","add"),w=it(m,"b","add");[y,w]=Ce(y,w);const P={a:y,b:w};return dt.runKernel(th,P)}const Vt=lt({add_:uv});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function fv(S,m){let y=it(S,"a","floorDiv"),w=it(m,"b","floorDiv");[y,w]=Ce(y,w);const P={a:y,b:w};return dt.runKernel(pf,P)}const Rh=lt({floorDiv_:fv});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function dv(S,m){let y=it(S,"a","div"),w=it(m,"b","div");if([y,w]=Ce(y,w),y.dtype==="int32"&&w.dtype==="int32")return Rh(y,w);const P={a:y,b:w},F={};return dt.runKernel(nf,P,F)}const ee=lt({div_:dv});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function cv(S,m){let y=it(S,"a","mul"),w=it(m,"b","mul");[y,w]=Ce(y,w);const P={a:y,b:w};return dt.runKernel(jf,P)}const Lt=lt({mul_:cv});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function vv(S){const m=it(S,"x","abs");if(m.dtype==="complex64"){const y={x:m};return dt.runKernel(Gu,y)}else{const y={x:m};return dt.runKernel(vu,y)}}const ke=lt({abs_:vv});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function pv(S){const y={x:it(S,"x","acos")};return dt.runKernel(pu,y)}const mv=lt({acos_:pv});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function gv(S){const y={x:it(S,"x","acosh")};return dt.runKernel(mu,y)}const yv=lt({acosh_:gv});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function xv(S){rt(Array.isArray(S),()=>"The argument passed to tf.addN() must be a list of tensors"),rt(S.length>=1,()=>`Must pass at least one tensor to tf.addN(), but got ${S.length}`);const m=S.map((P,F)=>it(P,`tensors${F}`,"addN")),y=m[0];m.forEach(P=>{if(P.dtype!==y.dtype)throw new Error("All tensors passed to tf.addN() must have the same dtype")}),m.forEach(P=>{if(!Ai(P.shape,y.shape))throw new Error("All tensors passed to tf.addN() must have the same shape")});const w=m;return dt.runKernel(gu,w)}const Tv=lt({addN_:xv});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Sv(S,m=null,y=!1){const P={x:it(S,"x","all","bool")},F={axis:m,keepDims:y};return dt.runKernel(yu,P,F)}const Ev=lt({all_:Sv});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Cv(S,m=null,y=!1){const P={x:it(S,"x","any","bool")},F={axis:m,keepDims:y};return dt.runKernel(xu,P,F)}const wv=lt({any_:Cv});/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Av(S,m=0){const w={x:it(S,"x","argMax")},P={axis:m};return dt.runKernel(Tu,w,P)}const Pv=lt({argMax_:Av});/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Mv(S,m=0){const w={x:it(S,"x","argMin")},P={axis:m};return dt.runKernel(Su,w,P)}const Fv=lt({argMin_:Mv});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Rv(S){const y={x:it(S,"x","asin")};return dt.runKernel(Eu,y)}const Lv=lt({asin_:Rv});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ov(S){const y={x:it(S,"x","asinh")};return dt.runKernel(Cu,y)}const bv=lt({asinh_:Ov});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Dv(S){const y={x:it(S,"x","atan")};return dt.runKernel(wu,y)}const Nv=lt({atan_:Dv});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Iv(S,m){let y=it(S,"a","atan2"),w=it(m,"b","atan2");[y,w]=Ce(y,w);const P={a:y,b:w};return dt.runKernel(Pu,P)}const Bv=lt({atan2_:Iv});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Gv(S){const y={x:it(S,"x","atanh")};return dt.runKernel(Au,y)}const zv=lt({atanh_:Gv});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Uv(S,m,y,w,P,F,c="channelsLast"){const[g,t]=us(m);let o;if(c==="channelsLast")o=[g,t,S[3],S[3]];else if(c==="channelsFirst")o=[g,t,S[1],S[1]];else throw new Error(`Unknown dataFormat ${c}`);return ba(S,o,y,w,P,F,!1,c)}function ba(S,m,y,w,P,F,c=!1,g="channelsLast"){let[t,o,v,a]=[-1,-1,-1,-1];if(g==="channelsLast")[t,o,v,a]=S;else if(g==="channelsFirst")[t,a,o,v]=S;else throw new Error(`Unknown dataFormat ${g}`);const[i,s,,e]=m,[r,h]=us(y),[n,l]=us(w),f=ha(i,n),u=ha(s,l),{padInfo:d,outHeight:p,outWidth:x}=Xv(P,o,v,r,h,f,u,F,g),E=c?e*a:e;let T;return g==="channelsFirst"?T=[t,E,p,x]:g==="channelsLast"&&(T=[t,p,x,E]),{batchSize:t,dataFormat:g,inHeight:o,inWidth:v,inChannels:a,outHeight:p,outWidth:x,outChannels:E,padInfo:d,strideHeight:r,strideWidth:h,filterHeight:i,filterWidth:s,effectiveFilterHeight:f,effectiveFilterWidth:u,dilationHeight:n,dilationWidth:l,inShape:S,outShape:T,filterShape:m}}function Vv(S,m,y,w,P){w==null&&(w=Wv(S,m,y));const F=S[0],c=S[1],g=tr((F-m+2*w)/y+1,P),t=tr((c-m+2*w)/y+1,P);return[g,t]}function Wv(S,m,y,w=1){const P=ha(m,w);return Math.floor((S[0]*(y-1)-y+P)/2)}function us(S){return typeof S=="number"?[S,S,S]:S.length===2?[S[0],S[1],1]:S}function ha(S,m){return m<=1?S:S+(S-1)*(m-1)}function Xv(S,m,y,w,P,F,c,g,t){let o,v,a;if(typeof S=="number"){o={top:S,bottom:S,left:S,right:S,type:S===0?"VALID":"NUMBER"};const s=Vv([m,y],F,w,S,g);v=s[0],a=s[1]}else if(S==="same"){v=Math.ceil(m/w),a=Math.ceil(y/P);const i=Math.max(0,(v-1)*w+F-m),s=Math.max(0,(a-1)*P+c-y),e=Math.floor(i/2),r=i-e,h=Math.floor(s/2),n=s-h;o={top:e,bottom:r,left:h,right:n,type:"SAME"}}else if(S==="valid")o={top:0,bottom:0,left:0,right:0,type:"VALID"},v=Math.ceil((m-F+1)/w),a=Math.ceil((y-c+1)/P);else if(typeof S=="object"){const i=t==="channelsLast"?S[1][0]:S[2][0],s=t==="channelsLast"?S[1][1]:S[2][1],e=t==="channelsLast"?S[2][0]:S[3][0],r=t==="channelsLast"?S[2][1]:S[3][1];o={top:i,bottom:s,left:e,right:r,type:i===0&&s===0&&e===0&&r===0?"VALID":"EXPLICIT"},v=tr((m-F+i+s)/w+1,g),a=tr((y-c+e+r)/P+1,g)}else throw Error(`Unknown padding parameter: ${S}`);return{padInfo:o,outHeight:v,outWidth:a}}function tr(S,m){if(!m)return Math.trunc(S);switch(m){case"round":return Math.round(S);case"ceil":return Math.ceil(S);case"floor":return Math.floor(S);default:throw new Error(`Unknown roundingMode ${m}`)}}function er(S){const[m,y,w]=us(S);return m===1&&y===1&&w===1}function ki(S,m){return er(S)||er(m)}function Gn(S){return us(S).every(m=>m>0)}function hi(S,m,y){if(y!=null){if(typeof m=="string")throw Error(`Error in ${S}: pad must be an integer when using dimRoundingMode ${y} but got pad ${m}.`);if(typeof m=="number")rt(hs(m),()=>`Error in ${S}: pad must be an integer when using dimRoundingMode ${y} but got pad ${m}.`);else if(typeof m=="object")m.forEach(w=>{w.forEach(P=>{rt(hs(P),()=>`Error in ${S}: pad must be an integer when using dimRoundingMode ${y} but got pad ${P}.`)})});else throw Error(`Error in ${S}: Unknown padding parameter: ${m}`)}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Yv(S,m){const w={x:it(S,"x","reshape","string_or_numeric")},P={shape:m};return dt.runKernel(cd,w,P)}const Pt=lt({reshape_:Yv});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Hv(S,m,y,w,P){const F=it(S,"x","avgPool","float32"),c=1;rt(ki(y,c),()=>`Error in avgPool: Either strides or dilations must be 1. Got strides ${y} and dilations '${c}'`);let g=F,t=!1;F.rank===3&&(t=!0,g=Pt(F,[1,F.shape[0],F.shape[1],F.shape[2]])),rt(g.rank===4,()=>`Error in avgPool: x must be rank 4 but got rank ${g.rank}.`),hi("avgPool",w,P);const o={x:g},v={filterSize:m,strides:y,pad:w,dimRoundingMode:P};let a=dt.runKernel(Mu,o,v);return a=ge(a,F.dtype),t?Pt(a,[a.shape[1],a.shape[2],a.shape[3]]):a}const Lh=lt({avgPool_:Hv});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $v(S,m,y,w,P,F="NDHWC"){const c=it(S,"x","avgPool3d","float32");let g=c,t=!1;c.rank===4&&(t=!0,g=Pt(c,[1,c.shape[0],c.shape[1],c.shape[2],c.shape[3]])),rt(g.rank===5,()=>`Error in avgPool3d: x must be rank 5 but got rank ${g.rank}.`),rt(F==="NDHWC",()=>`Error in avgPool3d: Only NDHWC is currently supported, but got dataFormat of ${F}`),rt(typeof y=="number"&&y>0||Array.isArray(y)&&y[0]>0&&y[1]>0&&y[2]>0,()=>`Error in avgPool3d: Stride must be > 0, but got '${y}'`),hi("avgPool3d",w,P);const o={x:g},v={filterSize:m,strides:y,pad:w,dimRoundingMode:P,dataFormat:F};let a=dt.runKernel(Fu,o,v);return a=ge(a,g.dtype),t?Pt(a,[a.shape[1],a.shape[2],a.shape[3],a.shape[4]]):a}const Kv=lt({avgPool3d_:$v});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function jv(S,m=0){rt(S.length>=1,()=>"Pass at least one tensor to concat");const y=_s(S,"tensors","concat","string_or_numeric");if(y[0].dtype==="complex64"&&y.forEach(F=>{if(F.dtype!=="complex64")throw new Error(`Cannot concatenate complex64 tensors with a tensor
          with dtype ${F.dtype}. `)}),y.length===1)return Vi(y[0]);const w=y,P={axis:m};return dt.runKernel(zu,w,P)}const Le=lt({concat_:jv});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function kv(S,m,y=!1,w=!1){let P=it(S,"a","matMul"),F=it(m,"b","matMul");[P,F]=Ce(P,F);const c={a:P,b:F},g={transposeA:y,transposeB:w};return dt.runKernel(Ru,c,g)}const de=lt({matMul_:kv});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Zv(S){const y={x:it(S,"x","sigmoid","float32")};return dt.runKernel(Rd,y)}const fn=lt({sigmoid_:Zv});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Jv(S,m,y){const w=it(S,"x","slice","string_or_numeric");if(w.rank===0)throw new Error("Slicing scalar is not possible");const P={x:w},F={begin:m,size:y};return dt.runKernel(Ad,P,F)}const Jt=lt({slice_:Jv});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Qv(S){const y={x:it(S,"x","tanh","float32")};return dt.runKernel(Zd,y)}const la=lt({tanh_:Qv});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function qv(S,m,y,w,P,F){const c=it(S,"forgetBias","basicLSTMCell"),g=it(m,"lstmKernel","basicLSTMCell"),t=it(y,"lstmBias","basicLSTMCell"),o=it(w,"data","basicLSTMCell"),v=it(P,"c","basicLSTMCell"),a=it(F,"h","basicLSTMCell"),i=Le([o,a],1),s=de(i,g),e=Vt(s,t),r=e.shape[0],h=e.shape[1]/4,n=[r,h],l=Jt(e,[0,0],n),f=Jt(e,[0,h],n),u=Jt(e,[0,h*2],n),d=Jt(e,[0,h*3],n),p=Vt(Lt(fn(l),la(f)),Lt(v,fn(Vt(c,u)))),x=Lt(la(p),fn(d));return[p,x]}const _v=lt({basicLSTMCell_:qv});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function tp(S,m,y){const w=it(S,"x","batchToSpaceND"),P=m.reduce((g,t)=>g*t);rt(w.rank>=1+m.length,()=>`input rank is ${w.rank} but should be > than blockShape.length ${m.length}`),rt(y.length===m.length,()=>`crops.length is ${y.length} but should be equal to blockShape.length  ${m.length}`),rt(w.shape[0]%P===0,()=>`input tensor batch is ${w.shape[0]} but is not divisible by the product of the elements of blockShape ${m.join(" * ")} === ${P}`);const F={x:w},c={blockShape:m,crops:y};return dt.runKernel(Lu,F,c)}const Oh=lt({batchToSpaceND_:tp});function ep(S){let m;return S.rank===0||S.rank===1?m=Pt(S,[1,1,1,S.size]):S.rank===2?m=Pt(S,[1,1,S.shape[0],S.shape[1]]):S.rank===3?m=Pt(S,[1,S.shape[0],S.shape[1],S.shape[2]]):m=S,m}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ip(S,m,y,w,P,F){F==null&&(F=.001);const c=it(S,"x","batchNorm"),g=it(m,"mean","batchNorm"),t=it(y,"variance","batchNorm");let o;P!=null&&(o=it(P,"scale","batchNorm"));let v;w!=null&&(v=it(w,"offset","batchNorm")),rt(g.rank===t.rank,()=>"Batch normalization gradient requires mean and variance to have equal ranks."),rt(v==null||g.rank===v.rank,()=>"Batch normalization gradient requires mean and offset to have equal ranks."),rt(o==null||g.rank===o.rank,()=>"Batch normalization gradient requires mean and scale to have equal ranks.");const i={x:ep(c),scale:o,offset:v,mean:g,variance:t},s={varianceEpsilon:F},e=dt.runKernel(mf,i,s);return Pt(e,c.shape)}const cr=lt({batchNorm_:ip});function np(S,m,y,w,P,F){const c=it(S,"x","batchNorm"),g=it(m,"mean","batchNorm"),t=it(y,"variance","batchNorm");let o;P!=null&&(o=it(P,"scale","batchNorm"));let v;return w!=null&&(v=it(w,"offset","batchNorm")),rt(c.rank===2,()=>`Error in batchNorm2D: x must be rank 2 but got rank ${c.rank}.`),rt(g.rank===2||g.rank===1,()=>`Error in batchNorm2D: mean must be rank 2 or rank 1 but got rank ${g.rank}.`),rt(t.rank===2||t.rank===1,()=>`Error in batchNorm2D: variance must be rank 2 or rank 1 but got rank ${t.rank}.`),o!=null&&rt(o.rank===2||o.rank===1,()=>`Error in batchNorm2D: scale must be rank 2 or rank 1 but got rank ${o.rank}.`),v!=null&&rt(v.rank===2||v.rank===1,()=>`Error in batchNorm2D: offset must be rank 2 or rank 1 but got rank ${v.rank}.`),cr(c,g,t,v,o,F)}const sp=lt({batchNorm2d_:np});function rp(S,m,y,w,P,F){const c=it(S,"x","batchNorm"),g=it(m,"mean","batchNorm"),t=it(y,"variance","batchNorm");let o;P!=null&&(o=it(P,"scale","batchNorm"));let v;return w!=null&&(v=it(w,"offset","batchNorm")),rt(c.rank===3,()=>`Error in batchNorm3D: x must be rank 3 but got rank ${c.rank}.`),rt(g.rank===3||g.rank===1,()=>`Error in batchNorm3D: mean must be rank 3 or rank 1 but got rank ${g.rank}.`),rt(t.rank===3||t.rank===1,()=>`Error in batchNorm3D: variance must be rank 3 or rank 1 but got rank ${t.rank}.`),o!=null&&rt(o.rank===3||o.rank===1,()=>`Error in batchNorm3D: scale must be rank 3 or rank 1 but got rank ${o.rank}.`),v!=null&&rt(v.rank===3||v.rank===1,()=>`Error in batchNorm3D: offset must be rank 3 or rank 1 but got rank ${v.rank}.`),cr(c,g,t,v,o,F)}const ap=lt({batchNorm3d_:rp});function op(S,m,y,w,P,F){const c=it(S,"x","batchNorm"),g=it(m,"mean","batchNorm"),t=it(y,"variance","batchNorm");let o;P!=null&&(o=it(P,"scale","batchNorm"));let v;return w!=null&&(v=it(w,"offset","batchNorm")),rt(c.rank===4,()=>`Error in batchNorm4D: x must be rank 4 but got rank ${c.rank}.`),rt(g.rank===4||g.rank===1,()=>`Error in batchNorm4D: mean must be rank 4 or rank 1 but got rank ${g.rank}.`),rt(t.rank===4||t.rank===1,()=>`Error in batchNorm4D: variance must be rank 4 or rank 1 but got rank ${t.rank}.`),o!=null&&rt(o.rank===4||o.rank===1,()=>`Error in batchNorm4D: scale must be rank 4 or rank 1 but got rank ${o.rank}.`),v!=null&&rt(v.rank===4||v.rank===1,()=>`Error in batchNorm4D: offset must be rank 4 or rank 1 but got rank ${v.rank}.`),cr(c,g,t,v,o,F)}const hp=lt({batchNorm4d_:op});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function lp(S,m,y){const w=it(S,"x","bincount"),P=it(m,"weights","bincount");rt(w.dtype==="int32",()=>`Error in bincount: input dtype must be int32, but got ${w.dtype}`),rt(y>=0,()=>`size must be non-negative, but got ${y}.`),rt(P.size===w.size||P.size===0,()=>`Error in bincount: weights must have the same size as input or0-length, but got input shape: ${w.shape}, weights shape: ${P.shape}.`);const F={x:w,weights:P},c={size:y};return dt.runKernel(Ou,F,c)}const bh=lt({bincount_:lp});/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function up(S,m){const y=it(S,"x","bitwiseAnd"),w=it(m,"y","bitwiseAnd");if(!Ai(y.shape,w.shape))throw new Error(`BitwiseAnd: Tensors must have the same shape. x: ${y.shape}, y: ${w.shape}`);if(y.dtype!=="int32"||w.dtype!=="int32")throw new Error(`BitwiseAnd: Only supports 'int32' values in tensor, found type of x: ${y.dtype} and type of y: ${w.dtype}`);const P={a:y,b:w};return dt.runKernel(bu,P)}const fp=lt({bitwiseAnd_:up});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function dp(S,m){const y=it(S,"s0","broadcastArgs","int32"),w=it(m,"s1","broadcastArgs","int32");if(y.rank!==1)throw new Error(`broadcastArgs(): first input must be a vector (rank=1). Has rank ${y.rank}`);if(w.rank!==1)throw new Error(`broadcastArgs(): second input must be a vector (rank=1). Has rank ${w.rank}`);const P={s0:y,s1:w};return dt.runKernel(Du,P)}const cp=lt({broadcastArgs_:dp});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function vp(S,m){let y=it(S,"broadcastTo","x");const w=y.shape;if(Je(m),m.length<y.rank)throw new Error(`broadcastTo(): shape.length=${m.length} < input.rank=${y.rank}.`);if(m.length>y.rank){const o=y.shape.slice();for(;o.length<m.length;)o.unshift(1);y=Pt(y,o)}const P=y.shape,F=Array.from(m);for(let o=m.length-1;o>=0;o--)if(P[o]===m[o])F[o]=1;else if(y.shape[o]!==1)throw new Error(`broadcastTo(): [${w}] cannot be broadcast to [${m}].`);if(F.map((o,v)=>o>1?v:-1).filter(o=>o>=0).length===0)return Vi(y);const g={x:y},t={reps:F};return dt.runKernel(nh,g,t)}const Ws=lt({broadcastTo_:vp});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function pp(S){const y={x:it(S,"x","ceil","float32")};return dt.runKernel(Nu,y)}const mp=lt({ceil_:pp});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function gs(S,m,y){Je(S),y=y||dr(m);const w={shape:S,value:m,dtype:y};return dt.runKernel(df,{},w)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function gp(S,m,y){const w=it(S,"x","clipByValue");if(rt(m<=y,()=>`Error in clip: min (${m}) must be less than or equal to max (${y}).`),m===y)return gs(w.shape,m,w.dtype);const P={x:w},F={clipValueMin:m,clipValueMax:y};return dt.runKernel(Iu,P,F)}const Dh=lt({clipByValue_:gp});function yp(S){return Le(S,0)}const xp=lt({concat1d_:yp});function Tp(S,m){return Le(S,m)}const Sp=lt({concat2d_:Tp});function Ep(S,m){return Le(S,m)}const Cp=lt({concat3d_:Ep});function wp(S,m){return Le(S,m)}const Ap=lt({concat4d_:wp});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Pp(S,m,y,w,P="NHWC",F=[1,1],c){const g=it(S,"x","conv2d","float32"),t=it(m,"filter","conv2d","float32");let o=g,v=!1;g.rank===3&&(v=!0,o=Pt(g,[1,g.shape[0],g.shape[1],g.shape[2]])),rt(o.rank===4,()=>`Error in conv2d: input must be rank 4, but got rank ${o.rank}.`),rt(t.rank===4,()=>`Error in conv2d: filter must be rank 4, but got rank ${t.rank}.`),hi("conv2d",w,c);const a=P==="NHWC"?o.shape[3]:o.shape[1];rt(a===t.shape[2],()=>`Error in conv2d: depth of input (${a}) must match input depth for filter ${t.shape[2]}.`),rt(ki(y,F),()=>`Error in conv2D: Either strides or dilations must be 1. Got strides ${y} and dilations '${F}'`),rt(Gn(F),()=>"Error in conv2D: Dilated rates should be larger than 0."),rt(Gn(y),()=>"Error in conv2D: Strides should be larger than 0.");const i={x:o,filter:t},s={strides:y,pad:w,dataFormat:P,dilations:F,dimRoundingMode:c},e=dt.runKernel(Uu,i,s);return v?Pt(e,[e.shape[1],e.shape[2],e.shape[3]]):e}const vr=lt({conv2d_:Pp});function Mp(S,m,y,w,P="NWC",F=1,c){const g=it(S,"x","conv1d"),t=it(m,"filter","conv1d");let o=g,v=!1;g.rank===2&&(v=!0,o=Pt(g,[1,g.shape[0],g.shape[1]])),rt(o.rank===3,()=>`Error in conv1d: input must be rank 3, but got rank ${o.rank}.`),rt(t.rank===3,()=>`Error in conv1d: filter must be rank 3, but got rank ${t.rank}.`),hi("conv1d",w,c),rt(o.shape[2]===t.shape[1],()=>`Error in conv1d: depth of input (${o.shape[2]}) must match input depth for filter ${t.shape[1]}.`),rt(ki(y,F),()=>`Error in conv1D: Either stride or dilation must be 1. Got stride ${y} and dilation '${F}'`),rt(Gn(F),()=>"Error in conv1D: Dilated rates should be larger than 0."),rt(Gn(y),()=>"Error in conv1D: Stride should be larger than 0."),rt(P==="NWC",()=>`Error in conv1d: got dataFormat of ${P} but only NWC is currently supported.`);const a=Pt(t,[1,t.shape[0],t.shape[1],t.shape[2]]),i=Pt(o,[o.shape[0],1,o.shape[1],o.shape[2]]),h=vr(i,a,[1,y],w,"NHWC",[1,F],c);return v?Pt(h,[h.shape[2],h.shape[3]]):Pt(h,[h.shape[0],h.shape[2],h.shape[3]])}const Fp=lt({conv1d_:Mp});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Rp(S,m,y,w,P,F="NHWC",c){rt(S.length===m.rank,()=>`Length of inShape (${S.length}) and rank of dy (${m.rank}) must match`);let g=S,t=m,o=!1;m.rank===3&&(o=!0,t=Pt(m,[1,m.shape[0],m.shape[1],m.shape[2]]),g=[1,S[0],S[1],S[2]]),rt(g.length===4,()=>`Error in conv2dDerInput: inShape must be length 4, but got length ${g.length}.`),rt(t.rank===4,()=>`Error in conv2dDerInput: dy must be rank 4, but got rank ${t.rank}`),rt(y.rank===4,()=>`Error in conv2dDerInput: filter must be rank 4, but got rank ${y.rank}`);const v=F==="NHWC"?g[3]:g[1],a=F==="NHWC"?t.shape[3]:t.shape[1];rt(v===y.shape[2],()=>`Error in conv2dDerInput: depth of input (${v}) must match input depth for filter ${y.shape[2]}.`),rt(a===y.shape[3],()=>`Error in conv2dDerInput: depth of output (${a}) must match output depth for filter ${y.shape[3]}.`),hi("conv2dDerInput",P,c);const i={dy:t,filter:y},s={strides:w,pad:P,dataFormat:F,dimRoundingMode:c,inputShape:g},e=dt.runKernel(Wu,i,s);return o?Pt(e,[e.shape[1],e.shape[2],e.shape[3]]):e}const Nh=lt({conv2DBackpropInput_:Rp});function Lp(S,m,y,w,P,F){const c=it(S,"x","conv2dTranspose"),g=it(m,"filter","conv2dTranspose");return Nh(y,c,g,w,P,"NHWC",F)}const Op=lt({conv2dTranspose_:Lp});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function bp(S,m,y,w,P="NDHWC",F=[1,1,1]){const c=it(S,"x","conv3d"),g=it(m,"filter","conv3d");let t=c,o=!1;c.rank===4&&(o=!0,t=Pt(c,[1,c.shape[0],c.shape[1],c.shape[2],c.shape[3]])),rt(t.rank===5,()=>`Error in conv3d: input must be rank 5, but got rank ${t.rank}.`),rt(g.rank===5,()=>`Error in conv3d: filter must be rank 5, but got rank ${g.rank}.`),rt(t.shape[4]===g.shape[3],()=>`Error in conv3d: depth of input (${t.shape[4]}) must match input depth for filter ${g.shape[3]}.`),rt(ki(y,F),()=>`Error in conv3D: Either strides or dilations must be 1. Got strides ${y} and dilations '${F}'`),rt(P==="NDHWC",()=>`Error in conv3d: got dataFormat of ${P} but only NDHWC is currently supported.`),rt(Gn(F),()=>"Error in conv3D: Dilated rates should be larger than 0."),rt(Gn(y),()=>"Error in conv3D: Strides should be larger than 0.");const v={x:t,filter:g},a={strides:y,pad:w,dataFormat:P,dilations:F},i=dt.runKernel(Xu,v,a);return o?Pt(i,[i.shape[1],i.shape[2],i.shape[3],i.shape[4]]):i}const Dp=lt({conv3d_:bp});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Np(S,m,y,w,P){rt(S.length===m.rank,()=>`Length of inShape (${S.length}) and rank of dy (${m.rank}) must match`);let F=S,c=m,g=!1;m.rank===4&&(g=!0,c=Pt(m,[1,m.shape[0],m.shape[1],m.shape[2],m.shape[3]]),F=[1,S[0],S[1],S[2],S[3]]);const t=F[4],o=c.shape[4];rt(F.length===5,()=>`Error in conv3dDerInput: inShape must be length 5, but got length ${F.length}.`),rt(c.rank===5,()=>`Error in conv3dDerInput: dy must be rank 5, but got rank ${c.rank}`),rt(y.rank===5,()=>`Error in conv3dDerInput: filter must be rank 5, but got rank ${y.rank}`),rt(t===y.shape[3],()=>`Error in conv3dDerInput: depth of input (${t}) must match input depth for filter ${y.shape[3]}.`),rt(o===y.shape[4],()=>`Error in conv3dDerInput: depth of output (${o}) must match output depth for filter ${y.shape[4]}.`);const v={dy:c,filter:y},a={pad:P,strides:w,inputShape:F},i=dt.runKernel(Yu,v,a);return g?Pt(i,[i.shape[1],i.shape[2],i.shape[3],i.shape[4]]):i}const Ip=lt({conv3DBackpropInput_:Np});function Bp(S,m,y,w,P){const F=it(S,"x","conv3dTranspose"),c=it(m,"filter","conv3dTranspose");return Ip(y,F,c,w,P)}const Gp=lt({conv3dTranspose_:Bp});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function zp(S){const y={x:it(S,"x","cos","float32")};return dt.runKernel(Hu,y)}const Up=lt({cos_:zp});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Vp(S){const y={x:it(S,"x","cosh","float32")};return dt.runKernel($u,y)}const Wp=lt({cosh_:Vp});/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Xp(S,m=0,y=!1,w=!1){const F={x:it(S,"x","cumprod")},c={axis:m,exclusive:y,reverse:w};return dt.runKernel(Ku,F,c)}const Yp=lt({cumprod_:Xp});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Hp(S,m=0,y=!1,w=!1){const F={x:it(S,"x","cumsum")},c={axis:m,exclusive:y,reverse:w};return dt.runKernel(ju,F,c)}const $p=lt({cumsum_:Hp});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Kp(S,m,y,w=!1){const P=it(S,"x","denseBincount"),F=it(m,"weights","denseBincount");rt(P.dtype==="int32",()=>`Error in denseBincount: input dtype must be int32, but got ${P.dtype}`),rt(P.rank<=2,()=>`Error in denseBincount: input must be at most rank 2, but got rank ${P.rank}.`),rt(y>=0,()=>`size must be non-negative, but got ${y}.`),rt(F.size===P.size||F.size===0,()=>`Error in denseBincount: weights must have the same shape as x or 0-length, but got x shape: ${P.shape}, weights shape: ${F.shape}.`);const c={x:P,weights:F},g={size:y,binaryOutput:w};return dt.runKernel(Zu,c,g)}const jp=lt({denseBincount_:Kp});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function kp(S,m,y="NHWC"){const w=it(S,"x","depthToSpace","float32"),P=y==="NHWC"?w.shape[1]:w.shape[2],F=y==="NHWC"?w.shape[2]:w.shape[3],c=y==="NHWC"?w.shape[3]:w.shape[1];rt(m>1,()=>`blockSize should be > 1 for depthToSpace, but was: ${m}`),rt(P*m>=0,()=>`Negative dimension size caused by overflow when multiplying
    ${P} and ${m}  for depthToSpace with input shape
    ${w.shape}`),rt(F*m>=0,()=>`Negative dimension size caused by overflow when multiplying
    ${F} and ${m} for depthToSpace with input shape
        ${w.shape}`),rt(c%(m*m)===0,()=>`Dimension size must be evenly divisible by ${m*m} but is ${c} for depthToSpace with input shape ${w.shape}`);const g={x:w},t={blockSize:m,dataFormat:y};return dt.runKernel(Ju,g,t)}const Zp=lt({depthToSpace_:kp});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Jp(S,m,y,w,P="NHWC",F=[1,1],c){const g=it(S,"x","depthwiseConv2d","float32"),t=it(m,"filter","depthwiseConv2d","float32");let o=g,v=!1;g.rank===3&&(v=!0,o=Pt(g,[1,g.shape[0],g.shape[1],g.shape[2]])),rt(o.rank===4,()=>`Error in depthwiseConv2d: input must be rank 4, but got rank ${o.rank}.`),rt(t.rank===4,()=>`Error in depthwiseConv2d: filter must be rank 4, but got rank ${t.rank}.`);const a=P==="NHWC"?o.shape[3]:o.shape[1];rt(a===t.shape[2],()=>`Error in depthwiseConv2d: number of input channels (${a}) must match the inChannels dimension in filter ${t.shape[2]}.`),hi("depthwiseConv2d",w,c);const i={x:o,filter:t},s={strides:y,pad:w,dataFormat:P,dilations:F,dimRoundingMode:c},e=dt.runKernel(Qu,i,s);return v?Pt(e,[e.shape[1],e.shape[2],e.shape[3]]):e}const Da=lt({depthwiseConv2d_:Jp});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Qp(S){const y={x:it(S,"x","diag")};return dt.runKernel(tf,y)}const qp=lt({diag_:Qp});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _p(S,m,y,w,P=[1,1],F="NHWC"){const c=it(S,"x","dilation2d"),g=it(m,"filter","dilation2d");rt(c.rank===3||c.rank===4,()=>`Error in dilation2d: input must be rank 3 or 4, but got rank ${c.rank}.`),rt(g.rank===3,()=>`Error in dilation2d: filter must be rank 3, but got rank ${g.rank}.`),rt(F==="NHWC",()=>`Error in dilation2d: Only NHWC is currently supported, but got dataFormat of ${F}`);let t=c,o=!1;c.rank===3&&(t=Pt(c,[1,c.shape[0],c.shape[1],c.shape[2]]),o=!0),rt(t.shape[3]===g.shape[2],()=>`Error in dilation2d:  input and filter must have the same depth: ${t.shape[3]} vs ${g.shape[2]}`);const v={x:t,filter:g},a={strides:y,pad:w,dilations:P},i=dt.runKernel(ef,v,a);return o?Pt(i,[i.shape[1],i.shape[2],i.shape[3]]):i}const t0=lt({dilation2d_:_p});/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function e0(S,m){const y=[];for(let w=0;w<m.length;w++){const P=S[S.length-w-1],F=m.length-w-1,c=m[F];(P==null||P===1&&c>1)&&y.unshift(F)}return y}function Me(S,m){const y=Math.max(S.length,m.length),w=new Array(y);for(let P=0;P<y;P++){let F=S[S.length-P-1];F==null&&(F=1);let c=m[m.length-P-1];if(c==null&&(c=1),F===1)w[y-P-1]=c;else if(c===1)w[y-P-1]=F;else if(F!==c){const g=`Operands could not be broadcast together with shapes ${S} and ${m}.`;throw Error(g)}else w[y-P-1]=F}return w}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function i0(S,m){let y=it(S,"a","equal","string_or_numeric"),w=it(m,"b","equal","string_or_numeric");[y,w]=Ce(y,w),Me(y.shape,w.shape);const P={a:y,b:w};return dt.runKernel(of,P)}const Ih=lt({equal_:i0});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function n0(S,m,y){const w=it(m,"a","where"),P=it(y,"b","where"),F=it(S,"condition","where","bool"),c=Me(Me(F.shape,w.shape),P.shape),g=Ws(F,c),t=Ws(w,c),o=Ws(P,c),v={condition:g,t,e:o};return dt.runKernel(Cd,v)}const Wi=lt({where_:n0});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function s0(S){const y={x:it(S,"x","zerosLike")};return dt.runKernel(ec,y)}const Ze=lt({zerosLike_:s0});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function r0(S,m){let y=it(S,"a","div"),w=it(m,"b","div");[y,w]=Ce(y,w);const P=ee(y,w),F=Ze(P),c=Ih(w,F);return Wi(c,F,P)}const a0=lt({divNoNan_:r0});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function o0(S,m){const y=it(S,"t1","dot"),w=it(m,"t2","dot");rt((y.rank===1||y.rank===2)&&(w.rank===1||w.rank===2),()=>`Error in dot: inputs must all be rank 1 or 2, but got ranks ${y.rank} and ${w.rank}.`);const P=y.rank===1?y.size:y.shape[1],F=w.rank===1?w.size:w.shape[0];if(rt(P===F,()=>`Error in dot: inner dimensions of inputs must match, but got ${P} and ${F}.`),y.rank===1&&w.rank===1){const c=Pt(y,[1,-1]),g=Pt(w,[-1,1]),t=de(c,g);return Pt(t,[])}else if(y.rank===1&&w.rank===2){const c=Pt(y,[1,-1]),g=Pt(w,[w.shape[0],w.shape[1]]),t=de(c,g);return Pt(t,[t.size])}else if(y.rank===2&&w.rank===1){const c=Pt(w,[-1,1]),g=de(y,c);return Pt(g,[g.size])}else{const c=Pt(w,[w.shape[0],w.shape[1]]);return de(y,c)}}const h0=lt({dot_:o0});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function l0(S,...m){const y=m.map((P,F)=>it(P,`tensors${F}`,"einsum")),w={equation:S};return dt.runKernel(sf,y,w)}const On=lt({einsum_:l0});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function u0(S){const y={x:it(S,"x","elu","float32")};return dt.runKernel(rf,y)}const Bh=lt({elu_:u0});/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function f0(S,m){const y=it(S,"x","ensureShape","string_or_numeric");if(!tu(y.shape,m))throw new Error(`EnsureShape: Shape of tensor ${y.shape} is not compatible with expected shape ${m}`);return S}const d0=lt({ensureShape_:f0});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function c0(S){let m=it(S,"x","erf");rt(m.dtype==="int32"||m.dtype==="float32",()=>"Input dtype must be `int32` or `float32`."),m.dtype==="int32"&&(m=ge(m,"float32"));const y={x:m};return dt.runKernel(af,y)}const v0=lt({erf_:c0});/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function p0(S,m,y){const w=S.length+m.length,P=[];let F=0,c=0;for(let g=0;g<w;g++)y.indexOf(g)===-1?P.push(S[F++]):P.push(m[c++]);return P}function pr(S,m){const y=m.map(w=>1);return p0(S,y,m)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function m0(S,m=null,y=!1){const P={x:it(S,"x","max")},F={reductionIndices:m,keepDims:y};return dt.runKernel(Bf,P,F)}const In=lt({max_:m0});/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function g0(S,m=null,y=!1){const P={x:it(S,"x","min")},F={axis:m,keepDims:y};return dt.runKernel(Xf,P,F)}const ua=lt({min_:g0});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function y0(S,m){let y=it(S,"base","pow"),w=it(m,"exp","pow");[y,w]=Ce(y,w);const P={a:y,b:w};return dt.runKernel(nd,P)}const fs=lt({pow_:y0});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function oe(S,m){if((ei(S)&&m!=="string"||Array.isArray(S))&&m!=="complex64")throw new Error("Error creating a new Scalar: value must be a primitive (number|boolean|string)");if(m==="string"&&ei(S)&&!(S instanceof Uint8Array))throw new Error("When making a scalar from encoded string, the value must be `Uint8Array`.");return ji(S,[],[],m)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function x0(S){const y={x:it(S,"x","sqrt","float32")};return dt.runKernel(Od,y)}const Mi=lt({sqrt_:x0});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function T0(S){const m=it(S,"x","square"),y={};return dt.runKernel("Square",{x:m},y)}const ri=lt({square_:T0});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function S0(S,m=null,y=!1){let w=it(S,"x","sum");w.dtype==="bool"&&(w=ge(w,"int32"));const P={x:w},F={axis:m,keepDims:y};return dt.runKernel(bd,P,F)}const me=lt({sum_:S0});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function E0(S,m="euclidean",y=null,w=!1){S=it(S,"x","norm");const P=Gh(S,m,y);let F=P.shape;if(w){const c=fr(y,S.shape);F=pr(P.shape,c)}return Pt(P,F)}function Gh(S,m,y=null){if(S.rank===0)return ke(S);if(S.rank!==1&&y===null)return Gh(Pt(S,[-1]),m,y);if(S.rank===1||typeof y=="number"||Array.isArray(y)&&y.length===1){if(m===1)return me(ke(S),y);if(m===1/0)return In(ke(S),y);if(m===-1/0)return ua(ke(S),y);if(m==="euclidean"||m===2)return Mi(me(fs(ke(S),oe(2,"int32")),y));throw new Error(`Error in norm: invalid ord value: ${m}`)}if(Array.isArray(y)&&y.length===2){if(m===1)return In(me(ke(S),y[0]),y[1]-1);if(m===1/0)return In(me(ke(S),y[1]),y[0]);if(m===-1/0)return ua(me(ke(S),y[1]),y[0]);if(m==="fro"||m==="euclidean")return Mi(me(ri(S),y));throw new Error(`Error in norm: invalid ord value: ${m}`)}throw new Error(`Error in norm: invalid axis: ${y}`)}const mr=lt({norm_:E0});/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function C0(S,m=null,y=!1){return mr(S,"euclidean",m,y)}const w0=lt({euclideanNorm_:C0});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function A0(S){const y={x:it(S,"x","exp")};return dt.runKernel(hf,y)}const Fi=lt({exp_:A0});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function P0(S,m=0){const y=it(S,"x","expandDims","string_or_numeric");rt(m<=y.rank,()=>"Axis must be <= rank of the tensor");const w={input:y},P={dim:m};return dt.runKernel(lf,w,P)}const ti=lt({expandDims_:P0});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function M0(S){const y={x:it(S,"x","expm1")};return dt.runKernel(uf,y)}const F0=lt({expm1_:M0});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function R0(S,m){const y=it(S,"x","tile","string_or_numeric");rt(y.rank===m.length,()=>`Error in transpose: rank of input ${y.rank} must match length of reps ${m}.`);const w={x:y},P={reps:m};return dt.runKernel(nh,w,P)}const os=lt({tile_:R0});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function L0(S,m,y,w="float32"){m==null&&(m=S);const P=Pi([S,m],w),F=S<=m?S:m;for(let g=0;g<F;++g)P.set(1,g,g);const c=Pt(P.toTensor(),[S,m]);if(y==null)return c;if(y.length===1)return os(ti(c,0),[y[0],1,1]);if(y.length===2)return os(ti(ti(c,0),0),[y[0],y[1],1,1]);if(y.length===3)return os(ti(ti(ti(c,0),0),0),[y[0],y[1],y[2],1,1]);throw new Error(`eye() currently supports only 1D and 2D batchShapes, but received ${y.length}D.`)}const zh=lt({eye_:L0});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function O0(S){const y={x:it(S,"x","floor","float32")};return dt.runKernel(vf,y)}const Uh=lt({floor_:O0});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function b0(S,m,y=0,w=0){const P=it(S,"x","gather"),F=it(m,"indices","gather","int32"),c={x:P,indices:F},g={axis:y,batchDims:w};return dt.runKernel(gf,c,g)}const Vh=lt({gather_:b0});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function D0(S,m){let y=it(S,"a","greater","string_or_numeric"),w=it(m,"b","greater","string_or_numeric");[y,w]=Ce(y,w),Me(y.shape,w.shape);const P={a:y,b:w};return dt.runKernel(xf,P)}const gr=lt({greater_:D0});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function N0(S,m){let y=it(S,"a","greaterEqual","string_or_numeric"),w=it(m,"b","greaterEqual","string_or_numeric");[y,w]=Ce(y,w),Me(y.shape,w.shape);const P={a:y,b:w};return dt.runKernel(Tf,P)}const Wh=lt({greaterEqual_:N0});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function I0(S){const y={input:it(S,"input","imag")};return dt.runKernel(Ef,y)}const yr=lt({imag_:I0});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function B0(S){const y={x:it(S,"x","isFinite")};return dt.runKernel(Cf,y)}const G0=lt({isFinite_:B0});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function z0(S){const y={x:it(S,"x","isInf")};return dt.runKernel(wf,y)}const U0=lt({isInf_:z0});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function V0(S){const y={x:it(S,"x","isNaN")};return dt.runKernel(Af,y)}const W0=lt({isNaN_:V0});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function X0(S,m=.2){const w={x:it(S,"x","leakyRelu")},P={alpha:m};return dt.runKernel(Pf,w,P)}const Xh=lt({leakyRelu_:X0});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Y0(S,m){let y=it(S,"a","less","string_or_numeric"),w=it(m,"b","less","string_or_numeric");[y,w]=Ce(y,w),Me(y.shape,w.shape);const P={a:y,b:w};return dt.runKernel(Mf,P)}const fa=lt({less_:Y0});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function H0(S,m){let y=it(S,"a","lessEqual","string_or_numeric"),w=it(m,"b","lessEqual","string_or_numeric");[y,w]=Ce(y,w),Me(y.shape,w.shape);const P={a:y,b:w};return dt.runKernel(Ff,P)}const Na=lt({lessEqual_:H0});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $0(S,m,y){if(y<=0)throw new Error("The number of values should be positive.");const w={start:S,stop:m,num:y};return dt.runKernel(Rf,{},w)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function K0(S,m=5,y=1,w=1,P=.5){const F=it(S,"x","localResponseNormalization");rt(F.rank===4||F.rank===3,()=>`Error in localResponseNormalization: x must be rank 3 or 4 but got
               rank ${F.rank}.`),rt(hs(m),()=>`Error in localResponseNormalization: depthRadius must be an integer but got depthRadius ${m}.`);let c=F,g=!1;F.rank===3&&(g=!0,c=Pt(F,[1,F.shape[0],F.shape[1],F.shape[2]]));const t={x:c},o={depthRadius:m,bias:y,alpha:w,beta:P},v=dt.runKernel(If,t,o);return g?Pt(v,[v.shape[1],v.shape[2],v.shape[3]]):v}const j0=lt({localResponseNormalization_:K0});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function k0(S){const y={x:it(S,"x","log","float32")};return dt.runKernel(Lf,y)}const ds=lt({log_:k0});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Z0(S){const y={x:it(S,"x","log1p")};return dt.runKernel(Of,y)}const Yh=lt({log1p_:Z0});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function J0(S,m){rt(Jr(S),()=>"The f passed in variableGrads(f) must be a function"),rt(m==null||Array.isArray(m)&&m.every(o=>o instanceof qs),()=>"The varList passed in variableGrads(f, varList) must be an array of variables");const y=m!=null;if(!y){m=[];for(const o in dt.registeredVariables)m.push(dt.registeredVariables[o])}const w=y?m.filter(o=>!o.trainable):null,P=m.length;m=m.filter(o=>o.trainable),rt(m.length>0,()=>`variableGrads() expects at least one of the input variables to be trainable, but none of the ${P} variables is trainable.`);const F=!0,{value:c,grads:g}=dt.gradients(S,m,null,F);rt(g.some(o=>o!=null),()=>"Cannot find a connection between any variable and the result of the loss function y=f(x). Please make sure the operations that use variables are inside the function f passed to minimize()."),rt(c.rank===0,()=>`The f passed in variableGrads(f) must return a scalar, but it returned a rank-${c.rank} tensor`);const t={};return m.forEach((o,v)=>{g[v]!=null&&(t[o.name]=g[v])}),w!=null&&w.forEach(o=>t[o.name]=null),{value:c,grads:t}}function Ri(S){return dt.customGrad(S)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Q0(S){const y={x:it(S,"x","neg")};return dt.runKernel(kf,y)}const gi=lt({neg_:Q0});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function q0(S){const y={x:it(S,"x","softplus")};return dt.runKernel(Ld,y)}const Hh=lt({softplus_:q0});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _0(S){const m=it(S,"x","logSigmoid");return Ri(w=>({value:gi(Hh(gi(w))),gradFunc:c=>Lt(c,fn(gi(w)))}))(m)}const tm=lt({logSigmoid_:_0});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function em(S,m){let y=it(S,"a","sub"),w=it(m,"b","sub");[y,w]=Ce(y,w);const P={a:y,b:w};return dt.runKernel(jd,P)}const Qt=lt({sub_:em});/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function im(S,m=-1){const y=it(S,"logits","logSoftmax");if(m===-1&&(m=y.rank-1),m!==y.rank-1)throw Error(`Log Softmax along a non-last dimension is not yet supported. Logits was rank ${y.rank} and axis was ${m}`);return Ri((P,F)=>{const g=In(P,m,!0),t=Qt(P,g),o=Qt(ge(t,"float32"),ds(me(Fi(t),m,!0)));return F([o]),{value:o,gradFunc:(a,i)=>{const[s]=i,e=!0,r=Fi(s);return Qt(a,Lt(me(a,m,e),r))}}})(y)}const nm=lt({logSoftmax_:im});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function sm(S,m=null,y=!1){const w=it(S,"x","logSumExp"),P=fr(m,w.shape),F=In(w,P,!0),c=Qt(w,F),g=Fi(c),t=me(g,P),o=ds(t),v=Vt(Pt(F,o.shape),o);if(y){const a=pr(v.shape,P);return Pt(v,a)}return v}const $h=lt({logSumExp_:sm});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function rm(S,m){const y=it(S,"a","logicalAnd","bool"),w=it(m,"b","logicalAnd","bool");Me(y.shape,w.shape);const P={a:y,b:w};return dt.runKernel(bf,P)}const ir=lt({logicalAnd_:rm});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function am(S){const y={x:it(S,"x","logicalNot","bool")};return dt.runKernel(Df,y)}const Kh=lt({logicalNot_:am});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function om(S,m){const y=it(S,"a","logicalOr","bool"),w=it(m,"b","logicalOr","bool");Me(y.shape,w.shape);const P={a:y,b:w};return dt.runKernel(Nf,P)}const jh=lt({logicalOr_:om});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function hm(S,m){const y=it(S,"a","logicalXor","bool"),w=it(m,"b","logicalXor","bool");return Me(y.shape,w.shape),ir(jh(S,m),Kh(ir(S,m)))}const lm=lt({logicalXor_:hm});/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Is=2147483648;function um(S,m,y="left"){const w=it(S,"sortedSequence","searchSorted"),P=it(m,"values","searchSorted"),F=w.shape[w.shape.length-1],c=P.shape[P.shape.length-1],g=Pt(w,[-1,F]),t=Pt(P,[-1,c]);if(g.rank<2)throw new Error("Sorted input argument must be at least 2-dimensional");if(g.shape[0]!==t.shape[0])throw new Error("Leading dimension of 'sortedSequence' and 'values' must match.");if(we(t.shape)>=Is)throw new Error(`values tensor size must less than ${Is}`);if(g.shape[1]>=Is)throw new Error(`trailing dim_size must less than ${Is} for int32 output type, was ${g.shape[1]}`);const o={sortedSequence:g,values:t},v={side:y};return dt.runKernel(Ed,o,v)}const Ia=lt({searchSorted_:um});/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function fm(S,m){return Ia(S,m,"left")}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function dm(S,m,y,w,P){const F=it(S,"x","maxPool"),c=1;let g=F,t=!1;F.rank===3&&(t=!0,g=Pt(F,[1,F.shape[0],F.shape[1],F.shape[2]])),rt(g.rank===4,()=>`Error in maxPool: input must be rank 4 but got rank ${g.rank}.`),rt(ki(y,c),()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${y} and dilations '${c}'`),hi("maxPool",w,P);const o={x:g},v={filterSize:m,strides:y,pad:w,dimRoundingMode:P},a=dt.runKernel(zf,o,v);return t?Pt(a,[a.shape[1],a.shape[2],a.shape[3]]):a}const kh=lt({maxPool_:dm});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function cm(S,m=[1,1,1],y,w,P,F="NDHWC"){const c=it(S,"x","maxPool3d");let g=c,t=!1;c.rank===4&&(t=!0,g=Pt(c,[1,c.shape[0],c.shape[1],c.shape[2],c.shape[3]])),rt(g.rank===5,()=>`Error in maxPool3d: x must be rank 5 but got rank ${g.rank}.`),rt(F==="NDHWC",()=>`Error in maxPool3d: Only NDHWC is currently supported, but got dataFormat of ${F}`),hi("maxPool3d",w,P);const o={x:g},v={filterSize:m,strides:y,pad:w,dimRoundingMode:P,dataFormat:F},a=dt.runKernel(Uf,o,v);return t?Pt(a,[a.shape[1],a.shape[2],a.shape[3],a.shape[4]]):a}const vm=lt({maxPool3d_:cm});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function pm(S,m,y,w,P=!1){const c={x:it(S,"x","maxPoolWithArgmax")},g={filterSize:m,strides:y,pad:w,includeBatchInIndex:P},t=dt.runKernel(Vf,c,g);return{result:t[0],indexes:t[1]}}const mm=lt({maxPoolWithArgmax_:pm});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function gm(S,m){let y=it(S,"a","maximum"),w=it(m,"b","maximum");[y,w]=Ce(y,w),y.dtype==="bool"&&(y=ge(y,"int32"),w=ge(w,"int32")),Me(y.shape,w.shape);const P={a:y,b:w};return dt.runKernel(Gf,P)}const Zh=lt({maximum_:gm});/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ym(S,m=null,y=!1){const P={x:it(S,"x","mean")},F={axis:m,keepDims:y};return dt.runKernel(Wf,P,F)}const nr=lt({mean_:ym});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function zn(S,m="float32"){if(Je(S),m==="complex64"){const w=zn(S,"float32"),P=zn(S,"float32");return Yi(w,P)}const y=Fa(we(S),m);return dt.makeTensor(y,S,m)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function hn(S,m="float32"){if(Je(S),m==="complex64"){const w=hn(S,"float32"),P=zn(S,"float32");return Yi(w,P)}const y=Qo(we(S),m);return dt.makeTensor(y,S,m)}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function xm(S,m,{indexing:y="xy"}={}){if(y!=="xy"&&y!=="ij")throw new TypeError(`${y} is not a valid third argument to meshgrid`);if(S===void 0)return[];let w=it(S,"x","meshgrid",S instanceof Ee?S.dtype:"float32");if(m===void 0)return[w];let P=it(m,"y","meshgrid",m instanceof Ee?m.dtype:"float32");const F=we(w.shape),c=we(P.shape);return y==="xy"?(w=Pt(w,[1,-1]),P=Pt(P,[-1,1]),[de(hn([c,1],w.dtype),w),de(P,hn([1,F],P.dtype))]):(w=Pt(w,[-1,1]),P=Pt(P,[1,-1]),[de(w,hn([1,c],w.dtype)),de(hn([F,1],P.dtype),P)])}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Tm(S,m){let y=it(S,"a","minimum"),w=it(m,"b","minimum");[y,w]=Ce(y,w),y.dtype==="bool"&&(y=ge(y,"int32"),w=ge(w,"int32")),Me(y.shape,w.shape);const P={a:y,b:w};return dt.runKernel(Yf,P)}const sr=lt({minimum_:Tm});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Sm(S,m,y){rt(y==="reflect"||y==="symmetric",()=>`Invalid mode. Mode must be either reflect or symmetric. Got ${y}.`);const w=it(S,"x","mirrorPad");if(w.rank===0)throw new Error("mirrorPad(scalar) is not defined. Pass non-scalar to mirrorPad");rt(m.length===w.rank,()=>`Padding doesn't match input. Must be ${w.rank}. Got ${m.length}.`);const P=y==="reflect"?1:0;for(let g=0;g<w.rank;g++)rt(m[g].length===2,()=>"Invalid number of paddings. Must be length of 2 each."),rt(m[g][0]>=0&&m[g][0]<=w.shape[g]-P&&m[g][1]>=0&&m[g][1]<=w.shape[g]-P,()=>`Padding in dimension ${g} cannot be greater than or equal to ${w.shape[g]-P} or less than 0 for input of shape ${w.shape}`);const F={paddings:m,mode:y},c={x:w};return dt.runKernel(Hf,c,F)}const Em=lt({mirrorPad_:Sm});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Cm(S,m){let y=it(S,"a","mod"),w=it(m,"b","mod");[y,w]=Ce(y,w);const P={a:y,b:w};return dt.runKernel($f,P)}const wm=lt({mod_:Cm});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Am(S,m=null,y=!1){S=it(S,"x","moments");const w=fr(m,S.shape),P=nr(S,w,y);let F=P.shape;y||(F=pr(P.shape,w));const c=ri(Qt(ge(S,"float32"),Pt(P,F))),g=nr(c,w,y);return{mean:P,variance:g}}const Pm=lt({moments_:Am});function Mm(S,m,y,w){const P=it(m,"data","multiRNNCell"),F=_s(y,"c","multiRNNCell"),c=_s(w,"h","multiRNNCell");let g=P;const t=[];for(let a=0;a<S.length;a++){const i=S[a](g,F[a],c[a]);t.push(i[0]),t.push(i[1]),g=i[1]}const o=[],v=[];for(let a=0;a<t.length;a+=2)o.push(t[a]),v.push(t[a+1]);return[o,v]}const Fm=lt({multiRNNCell_:Mm});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Rm(S,m,y,w=!1){const P=it(S,"logits","multinomial"),F=P.size,c=P.rank;if(F<2)throw new Error(`Error in multinomial: you need at least 2 outcomes, but got ${F}.`);if(c>2)throw new Error(`Rank of probabilities must be 1 or 2, but is ${c}`);y=y||Math.random();const t={logits:c===1?Pt(P,[1,-1]):P},o={numSamples:m,seed:y,normalized:w},v=dt.runKernel(Kf,t,o);return c===1?Pt(v,[v.size]):v}const Lm=lt({multinomial_:Rm});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Om(S,m){let y=it(S,"a","notEqual","string_or_numeric"),w=it(m,"b","notEqual","string_or_numeric");[y,w]=Ce(y,w),Me(y.shape,w.shape);const P={a:y,b:w};return dt.runKernel(Zf,P)}const Jh=lt({notEqual_:Om});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function bm(S,m,y=1,w=0,P="int32"){if(m<2)throw new Error(`Error in oneHot: depth must be >=2, but it is ${m}`);const c={indices:it(S,"indices","oneHot","int32")},g={dtype:P,depth:m,onValue:y,offValue:w};return dt.runKernel(td,c,g)}const Dm=lt({oneHot_:bm});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Nm(S){const y={x:it(S,"x","onesLike")};return dt.runKernel(_f,y)}const Im=lt({onesLike_:Nm});function Bm(S,m){const y=it(S,"v1","outerProduct"),w=it(m,"v2","outerProduct");rt(y.rank===1&&w.rank===1,()=>`Error in outerProduct: inputs must be rank 1, but got ranks ${y.rank} and ${w.rank}.`);const P=Pt(y,[-1,1]),F=Pt(w,[1,-1]);return de(P,F)}const Gm=lt({outerProduct_:Bm});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function zm(S,m,y=0){const w=it(S,"x","pad");if(w.rank===0)throw new Error("pad(scalar) is not defined. Pass non-scalar to pad");const P={paddings:m,constantValue:y},F={x:w};return dt.runKernel(id,F,P)}const ys=lt({pad_:zm});function Um(S,m,y=0){return rt(m.length===2,()=>"Invalid number of paddings. Must be length of 2."),ys(S,[m],y)}const Vm=lt({pad1d_:Um});function Wm(S,m,y=0){return rt(m.length===2&&m[0].length===2&&m[1].length===2,()=>"Invalid number of paddings. Must be length of 2 each."),ys(S,m,y)}const Xm=lt({pad2d_:Wm});function Ym(S,m,y=0){return rt(m.length===3&&m[0].length===2&&m[1].length===2&&m[2].length===2,()=>"Invalid number of paddings. Must be length of 2 each."),ys(S,m,y)}const Hm=lt({pad3d_:Ym});function $m(S,m,y=0){return rt(m.length===4&&m[0].length===2&&m[1].length===2&&m[2].length===2&&m[3].length===2,()=>"Invalid number of paddings. Must be length of 2 each."),ys(S,m,y)}const Km=lt({pad4d_:$m});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function jm(S,m,y){const w=it(S,"x","spaceToBatchND");rt(w.rank>=1+m.length,()=>`input rank ${w.rank} should be > than [blockShape] ${m.length}`),rt(y.length===m.length,()=>`paddings.shape[0] ${y.length} must be equal to [blockShape] ${m.length}`),rt(w.shape.reduce((c,g,t)=>t>0&&t<=m.length?c&&(g+y[t-1][0]+y[t-1][1])%m[t-1]===0:c,!0),()=>`input spatial dimensions ${w.shape.slice(1)} with paddings ${y.toString()} must be divisible by blockShapes ${m.toString()}`);const P={x:w},F={blockShape:m,paddings:y};return dt.runKernel(Dd,P,F)}const Qh=lt({spaceToBatchND_:jm});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function km(S,m,y,w,P,F,c){P==null&&(P=[1,1]),F==null&&(F=1),w===0&&(w="valid");const g=it(S,"x","maxPool");let t=g,o=!1;g.rank===3&&(o=!0,t=Pt(g,[1,g.shape[0],g.shape[1],g.shape[2]])),rt(ki(F,P),()=>`Error in pool: Either strides or dilations must be 1. Got strides ${F} and dilations '${P}'`);const v=Uv(t.shape,m,F,P,w),a=[v.dilationHeight,v.dilationWidth];let i;w==="same"?i=Jm([v.filterHeight,v.filterWidth],a):i=[[0,0],[0,0]];const s=a[0]===1&&a[1]===1,[e,r]=Zm([v.inHeight,v.inWidth],a,i),h=s?w:"valid",n=s?t:Qh(t,a,e),f=(y==="avg"?()=>Lh(n,m,F,h,c):()=>kh(n,m,F,h,c))(),u=s?f:Oh(f,a,r);return o?Pt(u,[u.shape[1],u.shape[2],u.shape[3]]):u}function Zm(S,m,y){const w=y.map(v=>v[0]),P=y.map(v=>v[1]),F=S.concat(w,P),c=m.map((v,a)=>(v-F[a]%v)%v),g=P.map((v,a)=>v+c[a]),t=m.map((v,a)=>[w[a],g[a]]),o=m.map((v,a)=>[0,c[a]]);return[t,o]}function Jm(S,m){const w=S.map((c,g)=>c+(c-1)*(m[g]-1)).map(c=>c-1),P=w.map(c=>Math.floor(c/2)),F=w.map((c,g)=>c-P[g]);return w.map((c,g)=>[P[g],F[g]])}const Qm=lt({pool_:km});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function qm(S,m){const y=it(S,"x","prelu"),w=it(m,"alpha","prelu"),P={x:y,alpha:w};return dt.runKernel(sd,P)}const qh=lt({prelu_:qm});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _m(S,m=null,y=!1){let w=it(S,"x","prod");w.dtype==="bool"&&(w=ge(w,"int32"));const P={x:w},F={axis:m,keepDims:y};return dt.runKernel(rd,P,F)}const t1=lt({prod_:_m});/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function e1(S,m,y,w){const P=S.map((v,a)=>it(v,`tensors${a}`,"raggedGather","int32")),F=it(m,"paramsDenseValues","raggedGather"),c=it(y,"indices","raggedGather","int32"),g={paramsNestedSplits:P,paramsDenseValues:F,indices:c},t={outputRaggedRank:w},o=dt.runKernel(ad,g,t);return{outputNestedSplits:o.slice(0,o.length-1),outputDenseValues:o[o.length-1]}}const i1=lt({raggedGather_:e1});/**
 * @license
 * Copyright 2022 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function n1(S,m,y){const w=it(S,"starts","raggedRange"),P=it(m,"limits","raggedRange",w.dtype),F=it(y,"deltas","raggedRange",w.dtype),c={starts:w,limits:P,deltas:F},g=dt.runKernel(od,c);return{rtNestedSplits:g[0],rtDenseValues:g[1]}}const s1=lt({raggedRange_:n1});/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function r1(S,m,y,w,P){const F=it(S,"shape","raggedTensorToTensor","int32"),c=it(m,"values","raggedTensorToTensor"),g=it(y,"defaultValue","raggedTensorToTensor",c.dtype),t=w.map((a,i)=>it(a,`tensors${i}`,"raggedTensorToTensor","int32")),o={shape:F,values:c,defaultValue:g,rowPartitionTensors:t},v={rowPartitionTypes:P};return dt.runKernel(hd,o,v)}const a1=lt({raggedTensorToTensor_:r1});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function o1(S,m,y){Je(S);const w=we(S);let P=null;if(y==null||y==="float32")P=new Float32Array(w);else if(y==="int32")P=new Int32Array(w);else if(y==="bool")P=new Uint8Array(w);else throw new Error(`Unknown data type ${y}`);for(let F=0;F<w;F++)P[F]=m();return dt.makeTensor(P,S,y)}const h1=lt({rand_:o1});var Xs={exports:{}},l1=Xs.exports,go;function u1(){return go||(go=1,function(S){(function(m,y,w){function P(t){var o=this,v=g();o.next=function(){var a=2091639*o.s0+o.c*23283064365386963e-26;return o.s0=o.s1,o.s1=o.s2,o.s2=a-(o.c=a|0)},o.c=1,o.s0=v(" "),o.s1=v(" "),o.s2=v(" "),o.s0-=v(t),o.s0<0&&(o.s0+=1),o.s1-=v(t),o.s1<0&&(o.s1+=1),o.s2-=v(t),o.s2<0&&(o.s2+=1),v=null}function F(t,o){return o.c=t.c,o.s0=t.s0,o.s1=t.s1,o.s2=t.s2,o}function c(t,o){var v=new P(t),a=o&&o.state,i=v.next;return i.int32=function(){return v.next()*4294967296|0},i.double=function(){return i()+(i()*2097152|0)*11102230246251565e-32},i.quick=i,a&&(typeof a=="object"&&F(a,v),i.state=function(){return F(v,{})}),i}function g(){var t=4022871197,o=function(v){v=String(v);for(var a=0;a<v.length;a++){t+=v.charCodeAt(a);var i=.02519603282416938*t;t=i>>>0,i-=t,i*=t,t=i>>>0,i-=t,t+=i*4294967296}return(t>>>0)*23283064365386963e-26};return o}y&&y.exports?y.exports=c:this.alea=c})(l1,S)}(Xs)),Xs.exports}var Ys={exports:{}},f1=Ys.exports,yo;function d1(){return yo||(yo=1,function(S){(function(m,y,w){function P(g){var t=this,o="";t.x=0,t.y=0,t.z=0,t.w=0,t.next=function(){var a=t.x^t.x<<11;return t.x=t.y,t.y=t.z,t.z=t.w,t.w^=t.w>>>19^a^a>>>8},g===(g|0)?t.x=g:o+=g;for(var v=0;v<o.length+64;v++)t.x^=o.charCodeAt(v)|0,t.next()}function F(g,t){return t.x=g.x,t.y=g.y,t.z=g.z,t.w=g.w,t}function c(g,t){var o=new P(g),v=t&&t.state,a=function(){return(o.next()>>>0)/4294967296};return a.double=function(){do var i=o.next()>>>11,s=(o.next()>>>0)/4294967296,e=(i+s)/(1<<21);while(e===0);return e},a.int32=o.next,a.quick=a,v&&(typeof v=="object"&&F(v,o),a.state=function(){return F(o,{})}),a}y&&y.exports?y.exports=c:this.xor128=c})(f1,S)}(Ys)),Ys.exports}var Hs={exports:{}},c1=Hs.exports,xo;function v1(){return xo||(xo=1,function(S){(function(m,y,w){function P(g){var t=this,o="";t.next=function(){var a=t.x^t.x>>>2;return t.x=t.y,t.y=t.z,t.z=t.w,t.w=t.v,(t.d=t.d+362437|0)+(t.v=t.v^t.v<<4^(a^a<<1))|0},t.x=0,t.y=0,t.z=0,t.w=0,t.v=0,g===(g|0)?t.x=g:o+=g;for(var v=0;v<o.length+64;v++)t.x^=o.charCodeAt(v)|0,v==o.length&&(t.d=t.x<<10^t.x>>>4),t.next()}function F(g,t){return t.x=g.x,t.y=g.y,t.z=g.z,t.w=g.w,t.v=g.v,t.d=g.d,t}function c(g,t){var o=new P(g),v=t&&t.state,a=function(){return(o.next()>>>0)/4294967296};return a.double=function(){do var i=o.next()>>>11,s=(o.next()>>>0)/4294967296,e=(i+s)/(1<<21);while(e===0);return e},a.int32=o.next,a.quick=a,v&&(typeof v=="object"&&F(v,o),a.state=function(){return F(o,{})}),a}y&&y.exports?y.exports=c:this.xorwow=c})(c1,S)}(Hs)),Hs.exports}var $s={exports:{}},p1=$s.exports,To;function m1(){return To||(To=1,function(S){(function(m,y,w){function P(g){var t=this;t.next=function(){var v=t.x,a=t.i,i,s;return i=v[a],i^=i>>>7,s=i^i<<24,i=v[a+1&7],s^=i^i>>>10,i=v[a+3&7],s^=i^i>>>3,i=v[a+4&7],s^=i^i<<7,i=v[a+7&7],i=i^i<<13,s^=i^i<<9,v[a]=s,t.i=a+1&7,s};function o(v,a){var i,s=[];if(a===(a|0))s[0]=a;else for(a=""+a,i=0;i<a.length;++i)s[i&7]=s[i&7]<<15^a.charCodeAt(i)+s[i+1&7]<<13;for(;s.length<8;)s.push(0);for(i=0;i<8&&s[i]===0;++i);for(i==8?s[7]=-1:s[i],v.x=s,v.i=0,i=256;i>0;--i)v.next()}o(t,g)}function F(g,t){return t.x=g.x.slice(),t.i=g.i,t}function c(g,t){g==null&&(g=+new Date);var o=new P(g),v=t&&t.state,a=function(){return(o.next()>>>0)/4294967296};return a.double=function(){do var i=o.next()>>>11,s=(o.next()>>>0)/4294967296,e=(i+s)/(1<<21);while(e===0);return e},a.int32=o.next,a.quick=a,v&&(v.x&&F(v,o),a.state=function(){return F(o,{})}),a}y&&y.exports?y.exports=c:this.xorshift7=c})(p1,S)}($s)),$s.exports}var Ks={exports:{}},g1=Ks.exports,So;function y1(){return So||(So=1,function(S){(function(m,y,w){function P(g){var t=this;t.next=function(){var v=t.w,a=t.X,i=t.i,s,e;return t.w=v=v+1640531527|0,e=a[i+34&127],s=a[i=i+1&127],e^=e<<13,s^=s<<17,e^=e>>>15,s^=s>>>12,e=a[i]=e^s,t.i=i,e+(v^v>>>16)|0};function o(v,a){var i,s,e,r,h,n=[],l=128;for(a===(a|0)?(s=a,a=null):(a=a+"\0",s=0,l=Math.max(l,a.length)),e=0,r=-32;r<l;++r)a&&(s^=a.charCodeAt((r+32)%a.length)),r===0&&(h=s),s^=s<<10,s^=s>>>15,s^=s<<4,s^=s>>>13,r>=0&&(h=h+1640531527|0,i=n[r&127]^=s+h,e=i==0?e+1:0);for(e>=128&&(n[(a&&a.length||0)&127]=-1),e=127,r=4*128;r>0;--r)s=n[e+34&127],i=n[e=e+1&127],s^=s<<13,i^=i<<17,s^=s>>>15,i^=i>>>12,n[e]=s^i;v.w=h,v.X=n,v.i=e}o(t,g)}function F(g,t){return t.i=g.i,t.w=g.w,t.X=g.X.slice(),t}function c(g,t){g==null&&(g=+new Date);var o=new P(g),v=t&&t.state,a=function(){return(o.next()>>>0)/4294967296};return a.double=function(){do var i=o.next()>>>11,s=(o.next()>>>0)/4294967296,e=(i+s)/(1<<21);while(e===0);return e},a.int32=o.next,a.quick=a,v&&(v.X&&F(v,o),a.state=function(){return F(o,{})}),a}y&&y.exports?y.exports=c:this.xor4096=c})(g1,S)}(Ks)),Ks.exports}var js={exports:{}},x1=js.exports,Eo;function T1(){return Eo||(Eo=1,function(S){(function(m,y,w){function P(g){var t=this,o="";t.next=function(){var a=t.b,i=t.c,s=t.d,e=t.a;return a=a<<25^a>>>7^i,i=i-s|0,s=s<<24^s>>>8^e,e=e-a|0,t.b=a=a<<20^a>>>12^i,t.c=i=i-s|0,t.d=s<<16^i>>>16^e,t.a=e-a|0},t.a=0,t.b=0,t.c=-1640531527,t.d=1367130551,g===Math.floor(g)?(t.a=g/4294967296|0,t.b=g|0):o+=g;for(var v=0;v<o.length+20;v++)t.b^=o.charCodeAt(v)|0,t.next()}function F(g,t){return t.a=g.a,t.b=g.b,t.c=g.c,t.d=g.d,t}function c(g,t){var o=new P(g),v=t&&t.state,a=function(){return(o.next()>>>0)/4294967296};return a.double=function(){do var i=o.next()>>>11,s=(o.next()>>>0)/4294967296,e=(i+s)/(1<<21);while(e===0);return e},a.int32=o.next,a.quick=a,v&&(typeof v=="object"&&F(v,o),a.state=function(){return F(o,{})}),a}y&&y.exports?y.exports=c:this.tychei=c})(x1,S)}(js)),js.exports}var ks={exports:{}};const S1={},E1=Object.freeze(Object.defineProperty({__proto__:null,default:S1},Symbol.toStringTag,{value:"Module"})),C1=Hl(E1);var w1=ks.exports,Co;function A1(){return Co||(Co=1,function(S){(function(m,y,w){var P=256,F=6,c=52,g="random",t=w.pow(P,F),o=w.pow(2,c),v=o*2,a=P-1,i;function s(u,d,p){var x=[];d=d==!0?{entropy:!0}:d||{};var E=n(h(d.entropy?[u,f(y)]:u??l(),3),x),T=new e(x),C=function(){for(var A=T.g(F),M=t,R=0;A<o;)A=(A+R)*P,M*=P,R=T.g(1);for(;A>=v;)A/=2,M/=2,R>>>=1;return(A+R)/M};return C.int32=function(){return T.g(4)|0},C.quick=function(){return T.g(4)/4294967296},C.double=C,n(f(T.S),y),(d.pass||p||function(A,M,R,O){return O&&(O.S&&r(O,T),A.state=function(){return r(T,{})}),R?(w[g]=A,M):A})(C,E,"global"in d?d.global:this==w,d.state)}function e(u){var d,p=u.length,x=this,E=0,T=x.i=x.j=0,C=x.S=[];for(p||(u=[p++]);E<P;)C[E]=E++;for(E=0;E<P;E++)C[E]=C[T=a&T+u[E%p]+(d=C[E])],C[T]=d;(x.g=function(A){for(var M,R=0,O=x.i,L=x.j,b=x.S;A--;)M=b[O=a&O+1],R=R*P+b[a&(b[O]=b[L=a&L+M])+(b[L]=M)];return x.i=O,x.j=L,R})(P)}function r(u,d){return d.i=u.i,d.j=u.j,d.S=u.S.slice(),d}function h(u,d){var p=[],x=typeof u,E;if(d&&x=="object")for(E in u)try{p.push(h(u[E],d-1))}catch{}return p.length?p:x=="string"?u:u+"\0"}function n(u,d){for(var p=u+"",x,E=0;E<p.length;)d[a&E]=a&(x^=d[a&E]*19)+p.charCodeAt(E++);return f(d)}function l(){try{var u;return i&&(u=i.randomBytes)?u=u(P):(u=new Uint8Array(P),(m.crypto||m.msCrypto).getRandomValues(u)),f(u)}catch{var d=m.navigator,p=d&&d.plugins;return[+new Date,m,p,m.screen,f(y)]}}function f(u){return String.fromCharCode.apply(0,u)}if(n(w.random(),y),S.exports){S.exports=s;try{i=C1}catch{}}else w["seed"+g]=s})(typeof self<"u"?self:w1,[],Math)}(ks)),ks.exports}var Gr,wo;function P1(){if(wo)return Gr;wo=1;var S=u1(),m=d1(),y=v1(),w=m1(),P=y1(),F=T1(),c=A1();return c.alea=S,c.xor128=m,c.xorwow=y,c.xorshift7=w,c.xor4096=P,c.tychei=F,Gr=c,Gr}var Ba=P1();/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Ga{constructor(m,y,w,P,F){this.mean=m,this.stdDev=y,this.dtype=w,this.nextVal=NaN,this.truncated=P,this.truncated&&(this.upper=this.mean+this.stdDev*2,this.lower=this.mean-this.stdDev*2);const c=F||Math.random();this.random=Ba.alea(c.toString())}nextValue(){if(!isNaN(this.nextVal)){const P=this.nextVal;return this.nextVal=NaN,P}let m,y,w=!1;for(;!w;){let P,F,c;do P=2*this.random()-1,F=2*this.random()-1,c=P*P+F*F;while(c>=1||c===0);const g=Math.sqrt(-2*Math.log(c)/c);m=this.mean+this.stdDev*P*g,y=this.mean+this.stdDev*F*g,(!this.truncated||this.isValidTruncated(m))&&(w=!0)}return(!this.truncated||this.isValidTruncated(y))&&(this.nextVal=this.convertValue(y)),this.convertValue(m)}convertValue(m){return this.dtype==null||this.dtype==="float32"?m:Math.round(m)}isValidTruncated(m){return m<=this.upper&&m>=this.lower}}class M1{constructor(m,y,w,P){this.alpha=m,this.beta=1/y,this.dtype=w;const F=P||Math.random();this.randu=Ba.alea(F.toString()),this.randn=new Ga(0,1,w,!1,this.randu()),m<1?this.d=m+2/3:this.d=m-1/3,this.c=1/Math.sqrt(9*this.d)}nextValue(){let m,y,w,P,F,c;for(;;){do P=this.randn.nextValue(),c=1+this.c*P;while(c<=0);if(c*=c*c,m=P*P,y=1-.331*m*m,w=.5*m+this.d*(1-c+Math.log(c)),F=this.randu(),F<y||Math.log(F)<w)break}return c=1/this.beta*this.d*c,this.alpha<1&&(c*=Math.pow(this.randu(),1/this.alpha)),this.convertValue(c)}convertValue(m){return this.dtype==="float32"?m:Math.round(m)}}class F1{constructor(m=0,y=1,w,P){if(this.canReturnFloat=()=>this.dtype==null||this.dtype==="float32",this.min=m,this.range=y-m,this.dtype=w,P==null&&(P=Math.random()),typeof P=="number"&&(P=P.toString()),!this.canReturnFloat()&&this.range<=1)throw new Error(`The difference between ${m} - ${y} <= 1 and dtype is not float`);this.random=Ba.alea(P)}convertValue(m){return this.canReturnFloat()?m:Math.round(m)}nextValue(){return this.convertValue(this.min+this.range*this.random())}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function R1(S,m,y=1,w="float32",P){if(Je(S),y==null&&(y=1),w==null&&(w="float32"),w!=="float32"&&w!=="int32")throw new Error(`Unsupported data type ${w}`);const F=new M1(m,y,w,P),c=Pi(S,w);for(let g=0;g<c.values.length;g++)c.values[g]=F.nextValue();return c.toTensor()}const L1=lt({randomGamma_:R1});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function O1(S,m=0,y=1,w,P){if(Je(S),w!=null&&w==="bool")throw new Error(`Unsupported data type ${w}`);const F=new Ga(m,y,w,!1,P),c=Pi(S,w);for(let g=0;g<c.values.length;g++)c.values[g]=F.nextValue();return c.toTensor()}const _h=lt({randomNormal_:O1});/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function b1(S,m,y){if(m!=null&&m==="bool")throw new Error(`Unsupported data type ${m}`);return _h(S,0,1,m,y)}const D1=lt({randomStandardNormal_:b1});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function N1(S,m=0,y=1,w="float32",P){Je(S);const F=Pi(S,w),c=new F1(m,y,null,P);for(let g=0;g<F.values.length;g++)F.values[g]=c.nextValue();return F.toTensor()}const za=lt({randomUniform_:N1});/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function I1(S,m,y,w){return za(S,m,y,"int32",w)}const B1=lt({randomUniformInt_:I1});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function cs(S,m,y=1,w="float32"){if(y===0)throw new Error("Cannot have a step of zero");const P={start:S,stop:m,step:y,dtype:w};return dt.runKernel(ld,{},P)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function G1(S){const y={input:it(S,"input","real")};return dt.runKernel(ud,y)}const vs=lt({real_:G1});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function z1(S){const y={x:it(S,"x","reciprocal")};return dt.runKernel(fd,y)}const U1=lt({reciprocal_:z1});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function V1(S){const y={x:it(S,"x","relu")};return dt.runKernel(dd,y)}const xr=lt({relu_:V1});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function W1(S){const y={x:it(S,"x","relu6")};return dt.runKernel(md,y)}const tl=lt({relu6_:W1});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function X1(S,m){const w={x:it(S,"x","reverse")},P={dims:m};return dt.runKernel(gd,w,P)}const yn=lt({reverse_:X1});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Y1(S){const m=it(S,"x","reverse");return rt(m.rank===1,()=>`Error in reverse1D: x must be rank 1 but got rank ${m.rank}.`),yn(m,0)}const H1=lt({reverse1d_:Y1});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $1(S,m){const y=it(S,"x","reverse");return rt(y.rank===2,()=>`Error in reverse2D: x must be rank 2 but got rank ${y.rank}.`),yn(y,m)}const K1=lt({reverse2d_:$1});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function j1(S,m){const y=it(S,"x","reverse");return rt(y.rank===3,()=>`Error in reverse3D: x must be rank 3 but got rank ${y.rank}.`),yn(y,m)}const k1=lt({reverse3d_:j1});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Z1(S,m){const y=it(S,"x","reverse");return rt(y.rank===4,()=>`Error in reverse4D: x must be rank 4 but got rank ${y.rank}.`),yn(y,m)}const J1=lt({reverse4d_:Z1});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Q1(S){const y={x:it(S,"x","round")};return dt.runKernel(yd,y)}const el=lt({round_:Q1});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function q1(S){const y={x:it(S,"x","rsqrt","float32")};return dt.runKernel(xd,y)}const _1=lt({rsqrt_:q1});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function tg(S){const y={x:it(S,"x","selu")};return dt.runKernel(wd,y)}const eg=lt({selu_:tg});function ig(S,m,y,w,P,F=[1,1],c="NHWC"){const g=it(S,"x","separableConv2d"),t=it(m,"depthwiseFilter","separableConv2d"),o=it(y,"pointwiseFilter","separableConv2d");let v=g,a=!1;if(g.rank===3&&(a=!0,v=Pt(g,[1,g.shape[0],g.shape[1],g.shape[2]])),c==="NCHW")throw new Error("separableConv2d currently does not support dataFormat NCHW; only NHWC is supported");rt(v.rank===4,()=>`Error in separableConv2d: input must be rank 4, but got rank ${v.rank}.`),rt(t.rank===4,()=>`Error in separableConv2d: depthwise filter must be rank 4, but got rank ${t.rank}.`),rt(o.rank===4,()=>`Error in separableConv2d: pointwise filter must be rank 4, but got rank ${t.rank}.`),rt(o.shape[0]===1,()=>`Error in separableConv2d: the first dimension of pointwise filter  must be 1, but got ${o.shape[0]}.`),rt(o.shape[1]===1,()=>`Error in separableConv2d: the second dimension of pointwise filter must be 1, but got ${o.shape[1]}.`);const i=t.shape[2],s=t.shape[3];rt(o.shape[2]===i*s,()=>`Error in separableConv2d: the third dimension of pointwise filter must be ${i*s}, but got ${o.shape[2]}.`);const e=Da(v,t,w,P,c,F),h=vr(e,o,1,"valid",c);return a?Pt(h,[h.shape[1],h.shape[2],h.shape[3]]):h}const ng=lt({separableConv2d_:ig});/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */async function sg(S,m){const y=it(S,"x","setdiff1d"),w=it(m,"y","setdiff1d");rt(y.dtype===w.dtype,()=>`x and y should have the same dtype, but got x (${y.dtype}) and y (${w.dtype}).`),rt(y.rank===1,()=>`x should be 1D tensor, but got x (${y.shape}).`),rt(w.rank===1,()=>`y should be 1D tensor, but got y (${w.shape}).`);const P=await y.data(),F=await w.data(),c=new Set(F);let g=0;for(let v=0;v<P.length;v++)c.has(P[v])||g++;const t=new _r([g],y.dtype),o=new _r([g],"int32");for(let v=0,a=0;v<P.length;v++)c.has(P[v])||(t.values[a]=P[v],o.values[a]=v,a++);return[t.toTensor(),o.toTensor()]}const rg=sg;/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ag(S){const y={x:it(S,"x","sign")};return dt.runKernel(Fd,y)}const og=lt({sign_:ag});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function hg(S){const y={x:it(S,"x","sin","float32")};return dt.runKernel(Pd,y)}const lg=lt({sin_:hg});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ug(S){const y={x:it(S,"x","sinh")};return dt.runKernel(Md,y)}const fg=lt({sinh_:ug});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function dg(S,m,y){const w=it(S,"x","slice1d");return rt(w.rank===1,()=>`slice1d expects a rank-1 tensor, but got a rank-${w.rank} tensor`),Jt(w,[m],[y])}const cg=lt({slice1d_:dg});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function vg(S,m,y){const w=it(S,"x","slice2d");return rt(w.rank===2,()=>`slice2d expects a rank-2 tensor, but got a rank-${w.rank} tensor`),Jt(w,m,y)}const pg=lt({slice2d_:vg});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function mg(S,m,y){const w=it(S,"x","slice3d");return rt(w.rank===3,()=>`slice3d expects a rank-3 tensor, but got a rank-${w.rank} tensor`),Jt(w,m,y)}const gg=lt({slice3d_:mg});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function yg(S,m,y){const w=it(S,"x","slice4d");return rt(w.rank===4,()=>`slice4d expects a rank-4 tensor, but got a rank-${w.rank} tensor`),Jt(w,m,y)}const xg=lt({slice4d_:yg});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Tg(S,m=-1){const y=it(S,"logits","softmax","float32");if(m===-1&&(m=y.rank-1),m!==y.rank-1)throw Error(`Softmax along a non-last dimension is not yet supported. Logits was rank ${y.rank} and dim was ${m}`);const w={logits:y},P={dim:m};return dt.runKernel(Id,w,P)}const Sg=lt({softmax_:Tg});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Eg(S){rt(S.dtype==="complex64",()=>`The dtype for tf.spectral.fft() must be complex64 but got ${S.dtype}.`);const m={input:S};return dt.runKernel(ff,m)}const Ua=lt({fft_:Eg});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Cg(S){rt(S.dtype==="complex64",()=>`The dtype for tf.spectral.ifft() must be complex64 but got ${S.dtype}.`);const m={input:S};return dt.runKernel(Sf,m)}const rr=lt({ifft_:Cg});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function wg(S){const m=S.shape[S.shape.length-1],y=S.size/m;let w;if(m<=2){const P=Pt(S,[y,m]);w=rr(P)}else{const P=[y,2*(m-1)],F=Pt(vs(S),[y,m]),c=Pt(yr(S),[y,m]),g=yn(Jt(F,[0,1],[y,m-2]),1),t=Lt(yn(Jt(c,[0,1],[y,m-2]),1),oe(-1)),o=Le([F,g],1),v=Le([c,t],1),a=Pt(Yi(o,v),[P[0],P[1]]);w=rr(a)}if(w=vs(w),S.rank===3&&S.shape[0]!==0){const P=w,F=S.shape[0];w=Pt(w,[F,w.shape[0]/F,w.shape[1]]),P.dispose()}return w}const il=lt({irfft_:wg});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ag(S,m,y=0){const P={x:it(S,"x","split")},F={numOrSizeSplits:m,axis:y};return dt.runKernel(Nd,P,F)}const ps=lt({split_:Ag});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Pg(S,m){rt(S.dtype==="float32",()=>`The dtype for rfft() must be real value but got ${S.dtype}`);let y=S.shape[S.shape.length-1];const w=S.size/y;let P;if(m!=null&&m<y){const e=S.shape.map(h=>0),r=S.shape.map(h=>h);r[S.shape.length-1]=m,P=Jt(S,e,r),y=m}else if(m!=null&&m>y){const e=S.shape.map(r=>r);e[S.shape.length-1]=m-y,P=Le([S,zn(e)],S.shape.length-1),y=m}else P=S;const F=Ze(P),c=Pt(Yi(P,F),[w,y]),g=Ua(c),t=Math.floor(y/2)+1,o=vs(g),v=yr(g),a=ps(o,[t,y-t],o.shape.length-1),i=ps(v,[t,y-t],v.shape.length-1),s=P.shape.slice();return s[P.shape.length-1]=t,Pt(Yi(a[0],i[0]),s)}const Va=lt({rfft_:Pg});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Mg(S,m){let y=it(S,"a","squaredDifference"),w=it(m,"b","squaredDifference");[y,w]=Ce(y,w),Me(y.shape,w.shape);const P={a:y,b:w},F={};return dt.runKernel(Wd,P,F)}const nl=lt({squaredDifference_:Mg});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Fg(S,m){const y=it(S,"x","squeeze","string_or_numeric");return Pt(y,eu(y.shape,m).newShape)}const Pe=lt({squeeze_:Fg});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Rg(S,m=0){const y=_s(S,"tensors","stack","string_or_numeric");rt(y.length>=1,()=>"Pass at least one tensor to tf.stack"),y.length>0&&rt(m<=y[0].rank,()=>"Axis must be <= rank of the tensor");const w=y,P={axis:m};return dt.runKernel(ed,w,P)}const Li=lt({stack_:Rg});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Lg(S,m=0){const w={x:it(S,"x","step")},P={alpha:m};return dt.runKernel(ic,w,P)}const sl=lt({step_:Lg});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Og(S,m,y,w,P=0,F=0,c=0,g=0,t=0){const v={x:it(S,"x","stridedSlice","string_or_numeric")},a={begin:m,end:y,strides:w,beginMask:P,endMask:F,ellipsisMask:c,newAxisMask:g,shrinkAxisMask:t};return dt.runKernel(Yd,v,a)}const bg=lt({stridedSlice_:Og});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Dg(S){const y={x:it(S,"x","tan","float32")};return dt.runKernel(kd,y)}const Ng=lt({tan_:Dg});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function De(S,m){Vn(S);const y=Ki(S,m);if(y.length!==1)throw new Error("tensor1d() requires values to be a flat/TypedArray");return ji(S,null,y,m)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Xi(S,m,y){if(Vn(S),m!=null&&m.length!==2)throw new Error("tensor2d() requires shape to have two numbers");const w=Ki(S,y);if(w.length!==2&&w.length!==1)throw new Error("tensor2d() requires values to be number[][] or flat/TypedArray");if(w.length===1&&m==null)throw new Error("tensor2d() requires shape to be provided when `values` are a flat/TypedArray");return ji(S,m,w,y)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function rl(S,m,y){if(Vn(S),m!=null&&m.length!==3)throw new Error("tensor3d() requires shape to have three numbers");const w=Ki(S,y);if(w.length!==3&&w.length!==1)throw new Error("tensor3d() requires values to be number[][][] or flat/TypedArray");if(w.length===1&&m==null)throw new Error("tensor3d() requires shape to be provided when `values` are a flat array");return ji(S,m,w,y)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ig(S,m,y){if(Vn(S),m!=null&&m.length!==4)throw new Error("tensor4d() requires shape to have four numbers");const w=Ki(S,y);if(w.length!==4&&w.length!==1)throw new Error("tensor4d() requires values to be number[][][][] or flat/TypedArray");if(w.length===1&&m==null)throw new Error("tensor4d() requires shape to be provided when `values` are a flat array");return ji(S,m,w,y)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Bg(S,m,y){if(Vn(S),m!=null&&m.length!==5)throw new Error("tensor5d() requires shape to have five numbers");const w=Ki(S,y);if(w.length!==5&&w.length!==1)throw new Error("tensor5d() requires values to be number[][][][][] or flat/TypedArray");if(w.length===1&&m==null)throw new Error("tensor5d() requires shape to be provided when `values` are a flat array");return ji(S,m,w,y)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Gg(S,m,y){if(Vn(S),m!=null&&m.length!==6)throw new Error("tensor6d() requires shape to have six numbers");const w=Ki(S,y);if(w.length!==6&&w.length!==1)throw new Error("tensor6d() requires values to be number[][][][][][] or flat/TypedArray");if(w.length===1&&m==null)throw new Error("tensor6d() requires shape to be provided when `values` are a flat array");return m=m||w,ji(S,m,w,y)}function zg(S,m,y){const w=m.rank>1?m.shape[m.rank-1]:1,P=m.rank>1?m.rank-1:1,F=`Must have updates.shape = indices.shape[:batchDim] + shape[sliceDim:], got updates.shape: ${y.shape}, indices.shape: ${m.shape}, shape: ${S}, sliceDim: ${w}, and batchDim: ${P}.`;if(y.rank<P)throw new Error(F+` update.rank < ${P}. `);if(S.length<w+(y.rank-P))throw new Error(F+` Output shape length < ${w+(y.rank-P)}`);if(y.rank!==P+S.length-w)throw new Error(F+` update.rank != ${P+S.length-w}`);for(let c=0;c<P;++c)if(y.shape[c]!==m.shape[c])throw new Error(F+` updates.shape[${c}] (${y.shape[c]}) != indices.shape[${c}] (${m.shape[c]}).`);for(let c=0;c<y.rank-P;++c)if(y.shape[c+P]!==S[c+w])throw new Error(F+` updates.shape[${c+P}] (${y.shape[c+P]}) != shape[${c+P}] (${S[c+P]})`)}function al(S,m,y){if(m.rank<1)throw new Error(`tf.scatterND() expects the indices to be rank 1 or higher, but the rank was ${m.rank}.`);if(S.rank<1)throw new Error(`tf.scatterND() expects the updates to be rank 1 or higher, but the rank was ${S.rank}.`);if(m.dtype!=="int32")throw new Error(`The dtype of 'indices' should be int32, but got dtype: ${m.dtype}`);if(y.length<1)throw new Error(`Output rank must be greater or equal to 1, but got shape: ${y}`);if(y.length===0){if(m.size===0)throw new Error(`Indices specified for empty output. indices shape: ${m.shape}`);if(S.size===0)throw new Error(`Updates specified for empty output. updates shape: ${S.shape}`)}zg(y,m,S)}/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ug(S,m,y){const w=it(S,"tensor","tensorScatterupdate"),P=it(m,"indices","tensorScatterupdate","int32"),F=it(y,"updates","tensorScatterupdate");if(al(F,P,w.shape),w.dtype!==F.dtype)throw new Error(`tensor and updates must have the same dtype, instead they are ${w.dtype} and ${F.dtype}.`);const c={tensor:w,indices:P,updates:F},g={};return dt.runKernel(Sd,c,g)}const Vg=lt({tensorScatterUpdate_:Ug});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Wg(S,m=1,y=!0){const w=it(S,"x","topk");if(w.rank===0)throw new Error("topk() expects the input to be of rank 1 or higher");const P=w.shape[w.shape.length-1];if(m<0)throw new Error(`'k' passed to topk() must be >= 0 but got ${m}`);if(m>P)throw new Error(`'k' passed to topk() must be <= the last dimension (${P}) but got ${m}`);const F={x:w},c={k:m,sorted:y},[g,t]=dt.runKernel(Jd,F,c);return{values:g,indices:t}}const Xg=lt({topk_:Wg});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Yg(S,m=0,y=1,w,P){if(Je(S),w!=null&&w==="bool")throw new Error("Unsupported data type $ { dtype }");const F=new Ga(m,y,w,!0,P),c=Pi(S,w);for(let g=0;g<c.values.length;g++)c.values[g]=F.nextValue();return c.toTensor()}const Hg=lt({truncatedNormal_:Yg});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $g(S,m=0){const y=it(S,"x","unique","string_or_numeric");rt(y.rank>0,()=>"The input tensor must be at least 1D");const w={x:y},P={axis:m},[F,c]=dt.runKernel(qd,w,P);return{values:F,indices:c}}const Kg=lt({unique_:$g});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function jg(S,m,y){const w=it(S,"x","unsortedSegmentSum"),P=it(m,"segmentIds","unsortedSegmentSum","int32");rt(hs(y),()=>"numSegments must be of dtype int");const F={x:w,segmentIds:P},c={numSegments:y};return dt.runKernel(tc,F,c)}const kg=lt({unsortedSegmentSum_:jg});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Zg(S,m=0){const y=it(S,"x","unstack","string_or_numeric");rt(m>=-y.shape.length&&m<y.shape.length,()=>`Axis = ${m} is not in [-${y.shape.length}, ${y.shape.length})`);const w={value:y},P={axis:m};return dt.runKernel(_d,w,P)}const Sn=lt({unstack_:Zg});/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Jg(S,m){return Ia(S,m,"right")}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Qg(S,m=!0,y,w){return dt.makeVariable(S,m,y,w)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function qg(S,m){const y=[];for(let F=0;F<m.length;F++)m[F]&&y.push(F);const w=Pi(S,"int32"),P=Pi([y.length,S.length],"int32");for(let F=0;F<y.length;F++){const c=w.indexToLoc(y[F]),g=F*S.length;P.values.set(c,g)}return P.toTensor()}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */async function _g(S){const m=it(S,"condition","whereAsync","bool"),y=await m.data(),w=qg(m.shape,y);return S!==m&&m.dispose(),w}const ol=_g;/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */async function t2(S,m,y){const w=it(S,"tensor","boolMask"),P=it(m,"mask","boolMask","bool"),F=y??0,c=P.rank,g=w.shape;rt(c>0,()=>"mask cannot be scalar"),ii(g.slice(F,F+c),P.shape,"mask's shape must match the first K dimensions of tensor's shape,");let t=1;for(let r=F;r<F+c;r++)t*=g[r];const o=g.slice(0,F).concat([t],g.slice(F+c)),v=Pt(w,o),a=Pt(P,[-1]),i=await ol(a),s=Pe(i,[1]),e=Vh(v,s,F);return S!==w&&w.dispose(),m!==P&&P.dispose(),s.dispose(),v.dispose(),a.dispose(),i.dispose(),e}const e2=t2;/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function i2(S,m,y){const w=it(S,"x","transpose");if(m==null&&(m=w.shape.map((c,g)=>g).reverse()),rt(w.rank===m.length,()=>`Error in transpose: rank of input ${w.rank} must match length of perm ${m}.`),m.forEach(c=>{rt(c>=0&&c<w.rank,()=>`All entries in 'perm' must be between 0 and ${w.rank-1} but got ${m}`)}),w.rank<=1)return w.clone();const P={x:w},F={perm:m};return w.dtype==="complex64"?_t(()=>{let c=vs(w),g=yr(w);return c=dt.runKernel(Dr,{x:c},F),g=dt.runKernel(Dr,{x:g},F),y&&(g=gi(g)),Yi(c,g)}):dt.runKernel(Dr,P,F)}const da=lt({transpose_:i2});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function n2(S,m,y,w,P=!0){const F=it(S,"v","movingAverage"),c=it(m,"x","movingAverage"),g=it(y,"decay","movingAverage");xc(F,c),rt(Ai(F.shape,c.shape),()=>"Shape mismatch in v and x");const t=oe(1),o=Qt(t,g);let v=Lt(Qt(c,F),o);if(P){rt(w!=null,()=>"When using zeroDebias: true, step is required.");const a=it(w,"step","movingAverage");v=ee(v,Qt(t,fs(g,a)))}return Vt(F,v)}const s2=lt({movingAverage_:n2});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function r2(S,m,y){Je(y);const w=it(S,"indices","scatterND","int32"),P=it(m,"updates","scatterND");al(P,w,y);const F={indices:w,updates:P},c={shape:y};return dt.runKernel(Td,F,c)}const a2=lt({scatterND_:r2});function o2(S,m,y,w){if(S.dtype!=="int32")throw new Error(`tf.sparseToDense() expects the indices to be int32 type, but the dtype was ${S.dtype}.`);if(S.rank>2)throw new Error(`sparseIndices should be a scalar, vector, or matrix, but got shape ${S.shape}.`);const P=S.rank>0?S.shape[0]:1,F=S.rank>1?S.shape[1]:1;if(y.length!==F)throw new Error(`outputShape has incorrect number of elements:, ${y.length}, should be: ${F}.`);const c=m.size;if(!(m.rank===0||m.rank===1&&c===P))throw new Error(`sparseValues has incorrect shape ${m.shape}, should be [] or [${P}]`);if(m.dtype!==w.dtype)throw new Error("sparseValues.dtype must match defaultValues.dtype")}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function h2(S,m,y,w=0){Je(y);const P=it(S,"sparseIndices","sparseToDense","int32"),F=it(m,"sparseValues","sparseToDense","string_or_numeric"),c=it(w,"defaultValue","sparseToDense",F.dtype);o2(P,F,y,c);const g={sparseIndices:P,sparseValues:F,defaultValue:c},t={outputShape:y};return dt.runKernel(Vd,g,t)}const l2=lt({sparseToDense_:h2});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function u2(S,m){const y=it(m,"indices","gatherND","int32"),P={params:it(S,"x","gatherND","string_or_numeric"),indices:y};return dt.runKernel(yf,P)}const f2=lt({gatherND_:u2});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function d2(S,m){if(m==null)return S.shape.slice();if(Ai(S.shape,m))return m;if(S.shape.length===m.length){const y=[];for(let w=0;w<S.shape.length;w++)m[w]==null&&S.shape[w]!=null?y.push(S.shape[w]):y.push(m[w]);return y}return m}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function c2(S,m,y,w){const P=it(S,"x","dropout");if(rt(P.dtype==="float32",()=>`x has to be a floating point tensor since it's going to be scaled, but got a ${P.dtype} tensor instead.`),rt(m>=0&&m<1,()=>`rate must be a float in the range [0, 1), but got ${m}.`),m===0)return S instanceof Ee?P.clone():P;const F=d2(P,y),c=1-m,g=ee(Uh(Vt(za(F,0,1,"float32",w),c)),c);return Lt(P,g)}const v2=lt({dropout_:c2});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function hl(S){return Math.floor(Math.pow(2,Math.ceil(Math.log(S)/Math.log(2))))}function Wa(S,m,y){const w=1-S%2,P=new Float32Array(S);for(let F=0;F<S;++F){const c=2*Math.PI*F/(S+w-1);P[F]=m-y*Math.cos(c)}return De(P,"float32")}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */async function p2(S,m,y=1){const w=it(S,"predictions","inTopK"),P=it(m,"targets","inTopK");rt(w.rank>1,()=>`inTopK() expects the predictions to be of rank 2 or higher, but got ${w.rank}`),rt(w.rank-1===P.rank,()=>`predictions rank should be 1 larger than targets rank, but got predictions rank ${w.rank} and targets rank ${P.rank}`),ii(w.shape.slice(0,w.shape.length-1),P.shape,"predictions's shape should be align with the targets' shape, except the last dimension.");const F=w.shape[w.shape.length-1];rt(y>0&&y<=F,()=>`'k' passed to inTopK() must be > 0 && <= the predictions last dimension (${F}), but got ${y}`);const c=await w.data(),g=await P.data(),[t,o]=[c.length/F,F],v=iu("bool",t);for(let a=0;a<t;a++){const i=a*o,s=c.subarray(i,i+o),e=[];for(let r=0;r<s.length;r++)e.push({value:s[r],index:r});e.sort((r,h)=>h.value-r.value),v[a]=0;for(let r=0;r<y;r++)if(e[r].index===g[a]){v[a]=1;break}}return S!==w&&w.dispose(),m!==P&&P.dispose(),mi(v,P.shape,"bool")}const m2=p2;/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function g2(S,m,y,w,P,F="NHWC",c){let g=S;S.rank===3&&(g=Pt(S,[1,S.shape[0],S.shape[1],S.shape[2]]));let t=m;t.rank===3&&(t=Pt(m,[1,m.shape[0],m.shape[1],m.shape[2]])),rt(g.rank===4,()=>`Error in conv2dDerFilter: input must be rank 4, but got shape ${g.shape}.`),rt(t.rank===4,()=>`Error in conv2dDerFilter: dy must be rank 4, but got shape ${t.shape}.`),rt(y.length===4,()=>`Error in conv2dDerFilter: filterShape must be length 4, but got ${y}.`);const o=F==="NHWC"?g.shape[3]:g.shape[1],v=F==="NHWC"?t.shape[3]:t.shape[1];rt(o===y[2],()=>`Error in conv2dDerFilter: depth of input ${o}) must match input depth in filter (${y[2]}.`),rt(v===y[3],()=>`Error in conv2dDerFilter: depth of dy (${v}) must match output depth for filter (${y[3]}).`),hi("conv2dDerFilter",P,c);const a={x:g,dy:t},i={strides:w,pad:P,dataFormat:F,dimRoundingMode:c,filterShape:y};return dt.runKernel(Vu,a,i)}const y2=lt({conv2DBackpropFilter_:g2});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Xa(S,m,y){if(y==null||y==="linear")return S;if(y==="relu")return Lt(S,sl(m));throw new Error(`Cannot compute gradient for fused activation ${y}.`)}function Ya(S,m){let y=m;const w=e0(S.shape,m.shape);return w.length>0&&(y=me(y,w)),Pt(y,S.shape)}function Ha(S,m,y,w){if(m==="linear")return S;if(m==="relu")return xr(S);if(m==="elu")return Bh(S);if(m==="relu6")return tl(S);if(m==="prelu")return qh(S,y);if(m==="leakyrelu")return Xh(S,w);if(m==="sigmoid")return fn(S);throw new Error(`Unknown fused activation ${m}.`)}const $a=(S,m)=>!(S>0)||m==="linear";/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function x2({x:S,filter:m,strides:y,pad:w,dataFormat:P="NHWC",dilations:F=[1,1],dimRoundingMode:c,bias:g,activation:t="linear",preluActivationWeights:o,leakyreluAlpha:v}){if(t=t||"linear",$a(dt.state.gradientDepth,t)===!1){rt(P==="NHWC",()=>`Error in fused conv2d: got dataFormat of ${P} but only NHWC is currently supported for the case of gradient depth is 0 and the activation is not linear.`);let p=vr(S,m,y,w,P,F,c);return g!=null&&(p=Vt(p,g)),Ha(p,t,o,v)}const a=it(S,"x","conv2d","float32"),i=it(m,"filter","conv2d","float32");let s=a,e=!1;a.rank===3&&(e=!0,s=Pt(a,[1,a.shape[0],a.shape[1],a.shape[2]])),rt(s.rank===4,()=>`Error in fused conv2d: input must be rank 4, but got rank ${s.rank}.`),rt(i.rank===4,()=>`Error in fused conv2d: filter must be rank 4, but got rank ${i.rank}.`),hi("fused conv2d",w,c);const r=P==="NHWC"?s.shape[3]:s.shape[1];rt(i.shape[2]===r,()=>`Error in conv2d: depth of input (${r}) must match input depth for filter ${i.shape[2]}.`),rt(ki(y,F),()=>`Error in conv2D: Either strides or dilations must be 1. Got strides ${y} and dilations '${F}'`);const h=ba(s.shape,i.shape,y,F,w,c);let n;g!=null&&(n=it(g,"bias","fused conv2d"),[n]=Ce(n,a),P==="NHWC"?Me(h.outShape,n.shape):(rt(n.shape.length<=1,()=>`Error in fused conv2d: only supports scalar or 1-D Tensor bias for NCHW format but got the bias of rank-${n.shape.length}.`),rt(n.shape.length===0||n.shape[0]===h.outChannels||n.shape[0]===1,()=>`Error in fused conv2d: bias shape (${n.shape}) is not compatible with the number of output channels (${h.outChannels})`)));let l;if(o!=null){const p=o.shape;if(rt(p.length<=1||p.length===3,()=>`Error in fused conv2d: only supports scalar, 1-D Tensor or 3-D Tensor PReLU activation weights but got a tensor of rank-${p.length}.`),p.length===1)rt(p[0]===1||p[0]===h.outChannels,()=>`Error in fused conv2d: PReLU activation weights (${p}) is not compatible with the number of output channels (${h.outChannels}).`);else if(p.length===3)try{Me(p,h.outShape)}catch{const E=`Error in fused conv2d: PReLU activation weights (${p}) is not compatible with the output shape of the conv2d (${h.outShape}).`;throw Error(E)}l=it(o,"prelu weights","fused conv2d")}const f=(p,x)=>{rt(P==="NHWC",()=>`Error in gradient of fused conv2D: got dataFormat of ${P} but only NHWC is currently supported.`);const[E,T,C,A]=x,M=Xa(p,C,t);rt(er(F),()=>`Error in gradient of fused conv2D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '${F}'`);const R=Nh(T.shape,M,E,y,w),O=y2(T,M,E.shape,y,w),L=[R,O];if(A!=null){const b=Ya(A,M);L.push(b)}return L},u={x:s,filter:i,bias:n,preluActivationWeights:l},d={strides:y,pad:w,dataFormat:P,dilations:F,dimRoundingMode:c,activation:t,leakyreluAlpha:v};return g==null?Ri((x,E,T)=>{let C=dt.runKernel(so,u,d);return T([E,x,C]),e&&(C=Pt(C,[C.shape[1],C.shape[2],C.shape[3]])),{value:C,gradFunc:f}})(s,i):Ri((x,E,T,C)=>{let A=dt.runKernel(so,u,d);return C([E,x,A,T]),e&&(A=Pt(A,[A.shape[1],A.shape[2],A.shape[3]])),{value:A,gradFunc:f}})(s,i,n)}const T2=lt({fusedConv2d_:x2});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function S2(S,m,y,w,P,F=[1,1],c){let g=S;S.rank===3&&(g=Pt(S,[1,S.shape[0],S.shape[1],S.shape[2]]));let t=m;t.rank===3&&(t=Pt(m,[1,m.shape[0],m.shape[1],m.shape[2]]));const o={x:g,dy:t},v={strides:w,pad:P,dimRoundingMode:c,dilations:F,filterShape:y};return dt.runKernel(qu,o,v)}const E2=lt({depthwiseConv2dNativeBackpropFilter_:S2});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function C2(S,m,y,w,P,F=[1,1],c){let g=m,t=!1;m.rank===3&&(t=!0,g=Pt(m,[1,m.shape[0],m.shape[1],m.shape[2]]));const o={dy:g,filter:y},v={strides:w,pad:P,dimRoundingMode:c,dilations:F,inputShape:S},a=dt.runKernel(_u,o,v);return t?Pt(a,[a.shape[1],a.shape[2],a.shape[3]]):a}const w2=lt({depthwiseConv2dNativeBackpropInput_:C2});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function A2({x:S,filter:m,strides:y,pad:w,dataFormat:P="NHWC",dilations:F=[1,1],dimRoundingMode:c,bias:g,activation:t="linear",preluActivationWeights:o,leakyreluAlpha:v}){if($a(dt.state.gradientDepth,t)===!1){let d=Da(S,m,y,w,P,F,c);return g!=null&&(d=Vt(d,g)),Ha(d,t,o,v)}const a=it(S,"x","depthwiseConv2d","float32"),i=it(m,"filter","depthwiseConv2d","float32");let s=a,e=!1;a.rank===3&&(e=!0,s=Pt(a,[1,a.shape[0],a.shape[1],a.shape[2]])),rt(s.rank===4,()=>`Error in fused depthwiseConv2d: input must be rank 4, but got rank ${s.rank}.`),rt(i.rank===4,()=>`Error in fused depthwiseConv2d: filter must be rank 4, but got rank ${i.rank}.`),rt(s.shape[3]===i.shape[2],()=>`Error in fused depthwiseConv2d: number of input channels (${s.shape[3]}) must match the inChannels dimension in filter ${i.shape[2]}.`),F==null&&(F=[1,1]),rt(ki(y,F),()=>`Error in fused depthwiseConv2d: Either strides or dilations must be 1. Got strides ${y} and dilations '${F}'`),hi("fused depthwiseConv2d",w,c);const r=ba(s.shape,i.shape,y,F,w,c,!0);let h;g!=null&&(h=it(g,"bias","fused conv2d"),[h]=Ce(h,a),Me(r.outShape,h.shape));let n;o!=null&&(n=it(o,"prelu weights","fused depthwiseConv2d"));const l=(d,p)=>{rt(er(F),()=>`Error in gradient of fused depthwiseConv2d: dilation rates greater than 1 are not yet supported. Got dilations '${F}'`);const[x,E,T,C]=p,A=Xa(d,T,t),M=w2(E.shape,A,x,y,w,F,c),R=E2(E,A,x.shape,y,w,F,c);if(C!=null){const O=Ya(h,A);return[M,R,O]}return[M,R]},f={x:s,filter:i,bias:h,preluActivationWeights:n},u={strides:y,pad:w,dataFormat:P,dilations:F,dimRoundingMode:c,activation:t,leakyreluAlpha:v};return g==null?Ri((p,x,E)=>{let T=dt.runKernel(ro,f,u);return E([x,p,T]),e&&(T=Pt(T,[T.shape[1],T.shape[2],T.shape[3]])),{value:T,gradFunc:l}})(s,i):Ri((p,x,E,T)=>{let C=dt.runKernel(ro,f,u);return T([x,p,C,E]),e&&(C=Pt(C,[C.shape[1],C.shape[2],C.shape[3]])),{value:C,gradFunc:l}})(s,i,h)}const P2=lt({fusedDepthwiseConv2d_:A2});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function M2({a:S,b:m,transposeA:y=!1,transposeB:w=!1,bias:P,activation:F="linear",preluActivationWeights:c,leakyreluAlpha:g=.2}){if($a(dt.state.gradientDepth,F)===!1){let A=de(S,m,y,w);return P!=null&&(A=Vt(A,P)),Ha(A,F,c,g)}let t=it(S,"a","fused matMul"),o=it(m,"b","fused matMul");[t,o]=Ce(t,o);const v=y?t.shape[t.rank-2]:t.shape[t.rank-1],a=w?o.shape[o.rank-1]:o.shape[o.rank-2],i=y?t.shape[t.rank-1]:t.shape[t.rank-2],s=w?o.shape[o.rank-2]:o.shape[o.rank-1],e=t.shape.slice(0,-2),r=o.shape.slice(0,-2),h=we(e),n=we(r);rt(v===a,()=>`Error in fused matMul: inner shapes (${v}) and (${a}) of Tensors with shapes ${t.shape} and ${o.shape} and transposeA=${y} and transposeB=${w} must match.`);const f=Me(t.shape.slice(0,-2),o.shape.slice(0,-2)).concat([i,s]),u=y?Pt(t,[h,v,i]):Pt(t,[h,i,v]),d=w?Pt(o,[n,s,a]):Pt(o,[n,a,s]);let p;P!=null&&(p=it(P,"bias","fused matMul"),[p]=Ce(p,t),Me(f,p.shape));let x;c!=null&&(x=it(c,"prelu weights","fused matMul"));const E=(A,M)=>{const[R,O,L,b]=M,N=Xa(Pt(A,L.shape),L,F);let I,G;if(!y&&!w?(I=de(N,O,!1,!0),G=de(R,N,!0,!1)):!y&&w?(I=de(N,O,!1,!1),G=de(N,R,!0,!1)):y&&!w?(I=de(O,N,!1,!0),G=de(R,N,!1,!1)):(I=de(O,N,!0,!0),G=de(N,R,!0,!0)),P!=null){const X=Ya(b,N);return[I,G,X]}else return[I,G]},T={a:u,b:d,bias:p,preluActivationWeights:x},C={transposeA:y,transposeB:w,activation:F,leakyreluAlpha:g};return P==null?Ri((M,R,O)=>{const L=dt.runKernel(no,T,C);return O([M,R,L]),{value:Pt(L,f),gradFunc:E}})(u,d):Ri((M,R,O,L)=>{const b=dt.runKernel(no,T,C);return L([M,R,b,O]),{value:Pt(b,f),gradFunc:E}})(u,d,p)}const F2=lt({fusedMatMul_:M2});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const R2=Object.freeze(Object.defineProperty({__proto__:null,conv2d:T2,depthwiseConv2d:P2,matMul:F2},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function L2(S){return Wa(S,.54,.46)}const O2=lt({hammingWindow_:L2});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function b2(S){return Wa(S,.5,.5)}const ll=lt({hannWindow_:b2});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function D2(S,m,y,w=!1,P=0){let F=0;const c=[];for(;F+m<=S.size;)c.push(Jt(S,F,m)),F+=y;if(w)for(;F<S.size;){const g=F+m-S.size,t=Le([Jt(S,F,m-g),gs([g],P)]);c.push(t),F+=y}return c.length===0?Xi([],[0,m]):Pt(Le(c),[c.length,m])}const ul=lt({frame_:D2});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function N2(S,m,y,w,P=ll){w==null&&(w=hl(m));const F=ul(S,m,y),c=Lt(F,P(m));return Va(c,w)}const I2=lt({stft_:N2});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function B2(S,m,y,w,P="bilinear",F=0){const c=it(S,"image","cropAndResize"),g=it(m,"boxes","cropAndResize","float32"),t=it(y,"boxInd","cropAndResize","int32"),o=g.shape[0];rt(c.rank===4,()=>`Error in cropAndResize: image must be rank 4,but got rank ${c.rank}.`),rt(g.rank===2&&g.shape[1]===4,()=>`Error in cropAndResize: boxes must be have size [${o},4] but had shape ${g.shape}.`),rt(t.rank===1&&t.shape[0]===o,()=>`Error in cropAndResize: boxInd must be have size [${o}] but had shape ${g.shape}.`),rt(w.length===2,()=>`Error in cropAndResize: cropSize must be of length 2, but got length ${w.length}.`),rt(w[0]>=1&&w[1]>=1,()=>`cropSize must be atleast [1,1], but was ${w}`),rt(P==="bilinear"||P==="nearest",()=>`method must be bilinear or nearest, but was ${P}`);const v={image:c,boxes:g,boxInd:t},a={method:P,extrapolationValue:F,cropSize:w};return dt.runKernel(ku,v,a)}const G2=lt({cropAndResize_:B2});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function z2(S){const m=it(S,"image","flipLeftRight","float32");rt(m.rank===4,()=>`Error in flipLeftRight: image must be rank 4,but got rank ${m.rank}.`);const y={image:m};return dt.runKernel(cf,y,{})}const U2=lt({flipLeftRight_:z2});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function V2(S){const m=it(S,"image","grayscaleToRGB"),y=m.rank-1,w=m.shape[y];rt(m.rank>=2,()=>`Error in grayscaleToRGB: images must be at least rank 2, but got rank ${m.rank}.`),rt(w===1,()=>`Error in grayscaleToRGB: last dimension of a grayscale image should be size 1, but got size ${w}.`);const P=new Array(m.rank);return P.fill(1,0,y),P[y]=3,os(m,P)}const W2=lt({grayscaleToRGB_:V2});/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function X2(S){const m=it(S,"image","RGBToGrayscale"),y=m.rank-1,w=m.shape[y];rt(m.rank>=2,()=>`Error in RGBToGrayscale: images must be at least rank 2, but got rank ${m.rank}.`),rt(w===3,()=>`Error in RGBToGrayscale: last dimension of an RGB image should be size 3, but got size ${w}.`);const P=m.dtype,F=ge(m,"float32"),c=De([.2989,.587,.114]);let g;switch(m.rank){case 2:g=On("ij,j->i",F,c);break;case 3:g=On("ijk,k->ij",F,c);break;case 4:g=On("ijkl,l->ijk",F,c);break;case 5:g=On("ijklm,m->ijkl",F,c);break;case 6:g=On("ijklmn,n->ijklm",F,c);break;default:throw new Error("Not a valid tensor rank.")}return g=ti(g,-1),ge(g,P)}const Y2=lt({rgbToGrayscale_:X2});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function H2(S,m,y=0,w=.5){const P=it(S,"image","rotateWithOffset","float32");rt(P.rank===4,()=>`Error in rotateWithOffset: image must be rank 4,but got rank ${P.rank}.`);const F={image:P},c={radians:m,fillValue:y,center:w};return dt.runKernel(nc,F,c)}const $2=lt({rotateWithOffset_:H2});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Wn(S,m,y,w,P,F){w==null&&(w=.5),P==null&&(P=Number.NEGATIVE_INFINITY),F==null&&(F=0);const c=S.shape[0];return y=Math.min(y,c),rt(0<=w&&w<=1,()=>`iouThreshold must be in [0, 1], but was '${w}'`),rt(S.rank===2,()=>`boxes must be a 2D tensor, but was of rank '${S.rank}'`),rt(S.shape[1]===4,()=>`boxes must have 4 columns, but 2nd dimension was ${S.shape[1]}`),rt(m.rank===1,()=>"scores must be a 1D tensor"),rt(m.shape[0]===c,()=>`scores has incompatible shape with boxes. Expected ${c}, but was ${m.shape[0]}`),rt(0<=F&&F<=1,()=>`softNmsSigma must be in [0, 1], but was '${F}'`),{maxOutputSize:y,iouThreshold:w,scoreThreshold:P,softNmsSigma:F}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function K2(S,m,y,w=.5,P=Number.NEGATIVE_INFINITY){const F=it(S,"boxes","nonMaxSuppression","float32"),c=it(m,"scores","nonMaxSuppression","float32"),g=Wn(F,c,y,w,P);y=g.maxOutputSize,w=g.iouThreshold,P=g.scoreThreshold;const t={maxOutputSize:y,iouThreshold:w,scoreThreshold:P};return dt.runKernel(Jf,{boxes:F,scores:c},t)}const j2=lt({nonMaxSuppression_:K2});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function k2(S,m,y){const w=Z2(S,m,y),P=w<0?-(w+1):w;S.splice(P,0,m)}function Z2(S,m,y){return Q2(S,m,y||J2)}function J2(S,m){return S>m?1:S<m?-1:0}function Q2(S,m,y){let w=0,P=S.length,F=0,c=!1;for(;w<P;){F=w+(P-w>>>1);const g=y(m,S[F]);g>0?w=F+1:(P=F,c=!g)}return c?w:-w-1}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function q2(S,m,y,w,P){return Ka(S,m,y,w,P,0)}function _2(S,m,y,w,P,F){return Ka(S,m,y,w,P,0,!1,F,!0)}function ty(S,m,y,w,P,F){return Ka(S,m,y,w,P,F,!0)}function Ka(S,m,y,w,P,F,c=!1,g=!1,t=!1){const o=[];for(let h=0;h<m.length;h++)m[h]>P&&o.push({score:m[h],boxIndex:h,suppressBeginIndex:0});o.sort(Ao);const v=F>0?-.5/F:0,a=[],i=[];for(;a.length<y&&o.length>0;){const h=o.pop(),{score:n,boxIndex:l,suppressBeginIndex:f}=h;if(n<P)break;let u=!1;for(let d=a.length-1;d>=f;--d){const p=ey(S,l,a[d]);if(p>=w){u=!0;break}if(h.score=h.score*iy(w,v,p),h.score<=P)break}h.suppressBeginIndex=a.length,u||(h.score===n?(a.push(l),i.push(h.score)):h.score>P&&k2(o,h,Ao))}const s=a.length,e=y-s;g&&e>0&&(a.push(...new Array(e).fill(0)),i.push(...new Array(e).fill(0)));const r={selectedIndices:a};return c&&(r.selectedScores=i),t&&(r.validOutputs=s),r}function ey(S,m,y){const w=S.subarray(m*4,m*4+4),P=S.subarray(y*4,y*4+4),F=Math.min(w[0],w[2]),c=Math.min(w[1],w[3]),g=Math.max(w[0],w[2]),t=Math.max(w[1],w[3]),o=Math.min(P[0],P[2]),v=Math.min(P[1],P[3]),a=Math.max(P[0],P[2]),i=Math.max(P[1],P[3]),s=(g-F)*(t-c),e=(a-o)*(i-v);if(s<=0||e<=0)return 0;const r=Math.max(F,o),h=Math.max(c,v),n=Math.min(g,a),l=Math.min(t,i),f=Math.max(n-r,0)*Math.max(l-h,0);return f/(s+e-f)}function iy(S,m,y){const w=Math.exp(m*y*y);return y<=S?w:0}function Ao(S,m){return S.score-m.score||S.score===m.score&&m.boxIndex-S.boxIndex}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */async function ny(S,m,y,w=.5,P=Number.NEGATIVE_INFINITY){const F=it(S,"boxes","nonMaxSuppressionAsync"),c=it(m,"scores","nonMaxSuppressionAsync"),g=Wn(F,c,y,w,P);y=g.maxOutputSize,w=g.iouThreshold,P=g.scoreThreshold;const t=await Promise.all([F.data(),c.data()]),o=t[0],v=t[1],{selectedIndices:a}=q2(o,v,y,w,P);return F!==S&&F.dispose(),c!==m&&c.dispose(),De(a,"int32")}const sy=ny;/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ry(S,m,y,w=.5,P=Number.NEGATIVE_INFINITY,F=0){const c=it(S,"boxes","nonMaxSuppression"),g=it(m,"scores","nonMaxSuppression"),t=Wn(c,g,y,w,P,F);y=t.maxOutputSize,w=t.iouThreshold,P=t.scoreThreshold,F=t.softNmsSigma;const o={boxes:c,scores:g},v={maxOutputSize:y,iouThreshold:w,scoreThreshold:P,softNmsSigma:F},a=dt.runKernel(qf,o,v);return{selectedIndices:a[0],selectedScores:a[1]}}const ay=lt({nonMaxSuppressionWithScore_:ry});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */async function oy(S,m,y,w=.5,P=Number.NEGATIVE_INFINITY,F=0){const c=it(S,"boxes","nonMaxSuppressionAsync"),g=it(m,"scores","nonMaxSuppressionAsync"),t=Wn(c,g,y,w,P,F);y=t.maxOutputSize,w=t.iouThreshold,P=t.scoreThreshold,F=t.softNmsSigma;const o=await Promise.all([c.data(),g.data()]),v=o[0],a=o[1],{selectedIndices:i,selectedScores:s}=ty(v,a,y,w,P,F);return c!==S&&c.dispose(),g!==m&&g.dispose(),{selectedIndices:De(i,"int32"),selectedScores:De(s)}}const hy=oy;/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ly(S,m,y,w=.5,P=Number.NEGATIVE_INFINITY,F=!1){const c=it(S,"boxes","nonMaxSuppression"),g=it(m,"scores","nonMaxSuppression"),t=Wn(c,g,y,w,P,null),o=t.maxOutputSize,v=t.iouThreshold,a=t.scoreThreshold,i={boxes:c,scores:g},s={maxOutputSize:o,iouThreshold:v,scoreThreshold:a,padToMaxOutputSize:F},e=dt.runKernel(Qf,i,s);return{selectedIndices:e[0],validOutputs:e[1]}}const uy=lt({nonMaxSuppressionPadded_:ly});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */async function fy(S,m,y,w=.5,P=Number.NEGATIVE_INFINITY,F=!1){const c=it(S,"boxes","nonMaxSuppressionAsync"),g=it(m,"scores","nonMaxSuppressionAsync"),t=Wn(c,g,y,w,P,null),o=t.maxOutputSize,v=t.iouThreshold,a=t.scoreThreshold,[i,s]=await Promise.all([c.data(),g.data()]),{selectedIndices:e,validOutputs:r}=_2(i,s,o,v,a,F);return c!==S&&c.dispose(),g!==m&&g.dispose(),{selectedIndices:De(e,"int32"),validOutputs:oe(r,"int32")}}const dy=fy;/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function cy(S,m,y=!1,w=!1){const P=it(S,"images","resizeBilinear");rt(P.rank===3||P.rank===4,()=>`Error in resizeBilinear: x must be rank 3 or 4, but got rank ${P.rank}.`),rt(m.length===2,()=>`Error in resizeBilinear: new shape must 2D, but got shape ${m}.`),rt(w===!1||y===!1,()=>"Error in resizeBilinear: If halfPixelCenters is true, alignCorners must be false.");let F=P,c=!1;P.rank===3&&(c=!0,F=Pt(P,[1,P.shape[0],P.shape[1],P.shape[2]]));const g={images:F},t={alignCorners:y,halfPixelCenters:w,size:m},o=dt.runKernel(pd,g,t);return c?Pt(o,[o.shape[1],o.shape[2],o.shape[3]]):o}const vy=lt({resizeBilinear_:cy});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function py(S,m,y=!1,w=!1){const P=it(S,"images","resizeNearestNeighbor");rt(P.rank===3||P.rank===4,()=>`Error in resizeNearestNeighbor: x must be rank 3 or 4, but got rank ${P.rank}.`),rt(m.length===2,()=>`Error in resizeNearestNeighbor: new shape must 2D, but got shape ${m}.`),rt(P.dtype==="float32"||P.dtype==="int32",()=>"`images` must have `int32` or `float32` as dtype"),rt(w===!1||y===!1,()=>"Error in resizeNearestNeighbor: If halfPixelCenters is true, alignCorners must be false.");let F=P,c=!1;P.rank===3&&(c=!0,F=Pt(P,[1,P.shape[0],P.shape[1],P.shape[2]]));const g={images:F},t={alignCorners:y,halfPixelCenters:w,size:m},o=dt.runKernel(vd,g,t);return c?Pt(o,[o.shape[1],o.shape[2],o.shape[3]]):o}const my=lt({resizeNearestNeighbor_:py});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function gy(S,m="binary",y=!1,w=.5){const P=it(S,"image","threshold"),F=.2989,c=.587,g=.114,t=P.shape[0]*P.shape[1];let o=Lt(De([w]),255),v,a,i,s;if(rt(P.rank===3,()=>`Error in threshold: image must be rank 3,but got rank ${P.rank}.`),rt(P.shape[2]===3||P.shape[2]===1,()=>`Error in threshold: image color channel must be equal to 3 or 1but got ${P.shape[2]}.`),rt(P.dtype==="int32"||P.dtype==="float32",()=>`Error in dtype: image dtype must be int32 or float32,but got dtype ${P.dtype}.`),rt(m==="otsu"||m==="binary",()=>`Method must be binary or otsu, but was ${m}`),P.shape[2]===3){[v,a,i]=ps(P,[1,1,1],-1);const h=Lt(v,F),n=Lt(a,c),l=Lt(i,g);s=Vt(Vt(h,n),l)}else s=S;if(m==="otsu"){const h=bh(ge(el(s),"int32"),mi([]),256);o=yy(h,t)}const e=y?Na(s,o):gr(s,o);return ge(Lt(e,255),"int32")}function yy(S,m){let y=De([-1]),w=De([0]),P=De([0]),F,c,g,t,o,v;for(let a=0;a<S.size-1;a++){F=Jt(S,0,a+1),c=Jt(S,a+1),o=ee(me(F),m),v=ee(me(c),m);const i=me(Lt(F,cs(0,F.size)));g=ee(i,me(F));const s=gs(c.shape,F.size),e=Vt(cs(0,c.size),s),r=Lt(c,e);t=ee(me(r),me(c));const h=Qt(g,t),n=Qt(g,t),l=Lt(o,v);P=Lt(Lt(l,h),n);const f=gr(P,w);w=Wi(f,P,w),y=Wi(f,De([a]),y)}return y}const xy=lt({threshold_:gy});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ty(S,m,y="nearest",w="constant",P=0,F){const c=it(S,"image","transform","float32"),g=it(m,"transforms","transform","float32");rt(c.rank===4,()=>`Error in transform: image must be rank 4,but got rank ${c.rank}.`),rt(g.rank===2&&(g.shape[0]===c.shape[0]||g.shape[0]===1)&&g.shape[1]===8,()=>"Error in transform: Input transform should be batch x 8 or 1 x 8"),rt(F==null||F.length===2,()=>`Error in transform: outputShape must be [height, width] or null, but got ${F}.`);const t={image:c,transforms:g},o={interpolation:y,fillMode:w,fillValue:P,outputShape:F};return dt.runKernel(Qd,t,o)}const Sy=lt({transform_:Ty});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ey(S,m,y){const w=it(S,"a","bandPart");rt(w.rank>=2,()=>`bandPart(): Rank must be at least 2, got ${w.rank}.`);const P=w.shape,[F,c]=w.shape.slice(-2);let g,t;typeof m=="number"?(rt(m%1===0,()=>`bandPart(): numLower must be an integer, got ${m}.`),rt(m<=F,()=>`bandPart(): numLower (${m}) must not be greater than the number of rows (${F}).`),g=it(m<0?F:m,"numLower","bandPart")):(rt(m.dtype==="int32",()=>"bandPart(): numLower's dtype must be an int32."),g=Wi(fa(m,0),F,sr(m,F))),typeof y=="number"?(rt(y%1===0,()=>`bandPart(): numUpper must be an integer, got ${y}.`),rt(y<=c,()=>`bandPart(): numUpper (${y}) must not be greater than the number of columns (${c}).`),t=it(y<0?c:y,"numUpper","bandPart")):(rt(y.dtype==="int32",()=>"bandPart(): numUpper's dtype must be an int32."),t=Wi(fa(y,0),c,sr(y,c)));const o=Pt(cs(0,F,1,"int32"),[-1,1]),v=cs(0,c,1,"int32"),a=Qt(o,v),i=ir(Na(a,g),Wh(a,gi(t))),s=zn([F,c],w.dtype);return Pt(Li(Sn(Pt(w,[-1,F,c])).map(e=>Wi(i,e,s))),P)}const Cy=lt({bandPart_:Ey});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function wy(S){let m;if(Array.isArray(S)){m=!1,rt(S!=null&&S.length>0,()=>"Gram-Schmidt process: input must not be null, undefined, or empty");const P=S[0].shape[0];for(let F=1;F<S.length;++F)rt(S[F].shape[0]===P,()=>`Gram-Schmidt: Non-unique lengths found in the input vectors: (${S[F].shape[0]} vs. ${P})`)}else m=!0,S=ps(S,S.shape[0],0).map(P=>Pe(P,[0]));rt(S.length<=S[0].shape[0],()=>`Gram-Schmidt: Number of vectors (${S.length}) exceeds number of dimensions (${S[0].shape[0]}).`);const y=[],w=S;for(let P=0;P<S.length;++P)y.push(dt.tidy(()=>{let F=w[P];if(P>0)for(let c=0;c<P;++c){const g=Lt(me(Lt(y[c],F)),y[c]);F=Qt(F,g)}return ee(F,mr(F,"euclidean"))}));return m?Li(y,0):y}const Ay=lt({gramSchmidt_:wy});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Py(S,m=!1){if(rt(S.rank>=2,()=>`qr() requires input tensor to have a rank >= 2, but got rank ${S.rank}`),S.rank===2)return Po(S,m);{const y=S.shape.slice(0,S.shape.length-2).reduce((t,o)=>t*o),w=Sn(Pt(S,[y,S.shape[S.shape.length-2],S.shape[S.shape.length-1]]),0),P=[],F=[];w.forEach(t=>{const[o,v]=Po(t,m);P.push(o),F.push(v)});const c=Pt(Li(P,0),S.shape),g=Pt(Li(F,0),S.shape);return[c,g]}}function Po(S,m=!1){return dt.tidy(()=>{rt(S.shape.length===2,()=>`qr2d() requires a 2D Tensor, but got a ${S.shape.length}D Tensor.`);const y=S.shape[0],w=S.shape[1];let P=zh(y),F=Vi(S);const c=Xi([[1]],[1,1]);let g=Vi(c);const t=y>=w?w:y;for(let o=0;o<t;++o){const v=F,a=g,i=P;[g,F,P]=dt.tidy(()=>{const s=Jt(F,[o,o],[y-o,1]),e=mr(s),r=Jt(F,[o,o],[1,1]),h=Wi(gr(r,0),Xi([[-1]]),Xi([[1]])),n=Qt(r,Lt(h,e)),l=ee(s,n);l.shape[0]===1?g=Vi(c):g=Le([c,Jt(l,[1,0],[l.shape[0]-1,l.shape[1]])],0);const f=gi(ee(de(h,n),e)),u=Jt(F,[o,0],[y-o,w]),d=Lt(f,g),p=da(g);if(o===0)F=Qt(u,de(d,de(p,u)));else{const T=Qt(u,de(d,de(p,u)));F=Le([Jt(F,[0,0],[o,w]),T],0)}const x=da(d),E=Jt(P,[0,o],[y,P.shape[1]-o]);if(o===0)P=Qt(E,de(de(E,g),x));else{const T=Qt(E,de(de(E,g),x));P=Le([Jt(P,[0,0],[y,o]),T],1)}return[g,F,P]}),xe([v,a,i])}return!m&&y>w&&(P=Jt(P,[0,0],[y,w]),F=Jt(F,[0,0],[w,w])),[P,F]})}const My=lt({qr_:Py});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */var ze;(function(S){S[S.NONE=0]="NONE",S[S.MEAN=1]="MEAN",S[S.SUM=2]="SUM",S[S.SUM_BY_NONZERO_WEIGHTS=3]="SUM_BY_NONZERO_WEIGHTS"})(ze||(ze={}));function Fy(S,m,y=ze.SUM_BY_NONZERO_WEIGHTS){const w=it(S,"losses","computeWeightedLoss");let P=null;m!=null&&(P=it(m,"weights","computeWeightedLoss"));const F=P==null?w:Lt(w,P);if(y===ze.NONE)return F;if(y===ze.SUM)return me(F);if(y===ze.MEAN){if(P==null)return nr(F);{const c=w.size/P.size,g=ee(me(F),me(P));return c>1?ee(g,oe(c)):g}}if(y===ze.SUM_BY_NONZERO_WEIGHTS){if(P==null)return ee(me(F),oe(w.size));{const c=Lt(P,hn(w.shape)),g=ge(me(Jh(c,oe(0))),"float32");return ee(me(F),g)}}throw Error(`Unknown reduction: ${y}`)}const Di=lt({computeWeightedLoss_:Fy});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ry(S,m,y,w=ze.SUM_BY_NONZERO_WEIGHTS){const P=it(S,"labels","absoluteDifference"),F=it(m,"predictions","absoluteDifference");let c=null;y!=null&&(c=it(y,"weights","absoluteDifference")),ii(P.shape,F.shape,"Error in absoluteDifference: ");const g=ke(Qt(P,F));return Di(g,c,w)}const Ly=lt({absoluteDifference_:Ry});function Oy(S,m,y,w,P=ze.SUM_BY_NONZERO_WEIGHTS){const F=it(S,"labels","cosineDistance"),c=it(m,"predictions","cosineDistance");let g=null;w!=null&&(g=it(w,"weights","cosineDistance")),ii(F.shape,c.shape,"Error in cosineDistance: ");const t=oe(1),o=Qt(t,me(Lt(F,c),y,!0));return Di(o,g,P)}const by=lt({cosineDistance_:Oy});function Dy(S,m,y,w=ze.SUM_BY_NONZERO_WEIGHTS){let P=it(S,"labels","hingeLoss");const F=it(m,"predictions","hingeLoss");let c=null;y!=null&&(c=it(y,"weights","hingeLoss")),ii(P.shape,F.shape,"Error in hingeLoss: ");const g=oe(1);P=Qt(Lt(oe(2),P),g);const t=xr(Qt(g,Lt(P,F)));return Di(t,c,w)}const Ny=lt({hingeLoss_:Dy});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Iy(S,m,y,w=1,P=ze.SUM_BY_NONZERO_WEIGHTS){const F=it(S,"labels","huberLoss"),c=it(m,"predictions","huberLoss");let g=null;y!=null&&(g=it(y,"weights","huberLoss")),ii(F.shape,c.shape,"Error in huberLoss: ");const t=oe(w),o=ke(Qt(c,F)),v=sr(o,t),a=Qt(o,v),i=Vt(Lt(oe(.5),ri(v)),Lt(t,a));return Di(i,g,P)}const By=lt({huberLoss_:Iy});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Gy(S,m,y,w=1e-7,P=ze.SUM_BY_NONZERO_WEIGHTS){const F=it(S,"labels","logLoss"),c=it(m,"predictions","logLoss");let g=null;y!=null&&(g=it(y,"weights","logLoss")),ii(F.shape,c.shape,"Error in logLoss: ");const t=oe(1),o=oe(w),v=gi(Lt(F,ds(Vt(c,o)))),a=Lt(Qt(t,F),ds(Vt(Qt(t,c),o))),i=Qt(v,a);return Di(i,g,P)}const zy=lt({logLoss_:Gy});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Uy(S,m,y,w=ze.SUM_BY_NONZERO_WEIGHTS){const P=it(S,"labels","meanSquaredError"),F=it(m,"predictions","meanSquaredError");let c=null;y!=null&&(c=it(y,"weights","meanSquaredError")),ii(P.shape,F.shape,"Error in meanSquaredError: ");const g=nl(P,F);return Di(g,c,w)}const Vy=lt({meanSquaredError_:Uy});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Wy(S,m){const y=it(S,"labels","sigmoidCrossEntropyWithLogits"),w=it(m,"logits","sigmoidCrossEntropyWithLogits");ii(y.shape,w.shape,"Error in sigmoidCrossEntropyWithLogits: ");const P=xr(w),F=Lt(w,y),c=Yh(Fi(gi(ke(w))));return Vt(Qt(P,F),c)}function Xy(S,m,y,w=0,P=ze.SUM_BY_NONZERO_WEIGHTS){let F=it(S,"multiClassLabels","sigmoidCrossEntropy");const c=it(m,"logits","sigmoidCrossEntropy");let g=null;if(y!=null&&(g=it(y,"weights","sigmoidCrossEntropy")),ii(F.shape,c.shape,"Error in sigmoidCrossEntropy: "),w>0){const o=oe(w),v=oe(1),a=oe(.5);F=Vt(Lt(F,Qt(v,o)),Lt(a,o))}const t=Wy(F,c);return Di(t,g,P)}const Yy=lt({sigmoidCrossEntropy_:Xy});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Hy(S,m,y=-1){if(y===-1&&(y=m.rank-1),y!==m.rank-1)throw Error(`Softmax cross entropy along a non-last dimension is not yet supported. Labels / logits was rank ${m.rank} and dim was ${y}`);return Ri((P,F,c)=>{const t=$h(F,[y],!0),o=Qt(ge(F,"float32"),t);c([P,o]);const v=gi(Lt(o,P));return{value:me(v,[y]),gradFunc:(s,e)=>{const[r,h]=e,n=pr(s.shape,[y]);return[Lt(Pt(s,n),Qt(ge(r,"float32"),Fi(h))),Lt(Pt(s,n),Qt(Fi(h),ge(r,"float32")))]}}})(S,m)}function $y(S,m,y,w=0,P=ze.SUM_BY_NONZERO_WEIGHTS){let F=it(S,"onehotLabels","softmaxCrossEntropy");const c=it(m,"logits","softmaxCrossEntropy");let g=null;if(y!=null&&(g=it(y,"weights","softmaxCrossEntropy")),ii(F.shape,c.shape,"Error in softmaxCrossEntropy: "),w>0){const o=oe(w),v=oe(1),a=oe(F.shape[1]);F=Vt(Lt(F,Qt(v,o)),ee(o,a))}const t=Hy(F,c);return Di(t,g,P)}const Ky=lt({softmaxCrossEntropy_:$y});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function jy(S,m,y,w){const P=it(S,"indices","sparseFillEmptyRows","int32"),F=it(m,"values","sparseFillEmptyRows"),c=it(y,"denseShape","sparseFillEmptyRows","int32"),g=it(w,"defaultValue","sparseFillEmptyRows",F.dtype);if(P.rank!==2)throw new Error(`Indices should be Tensor2D but received shape
        ${P.shape}`);if(F.rank!==1)throw new Error(`Values should be Tensor1D but received shape ${F.shape}`);if(c.rank!==1)throw new Error(`Dense shape should be Tensor1D but received shape ${c.shape}`);if(g.rank!==0)throw new Error(`Default value should be a scalar but received shape ${g.shape}`);const t={indices:P,values:F,denseShape:c,defaultValue:g},o=dt.runKernel(Bd,t);return{outputIndices:o[0],outputValues:o[1],emptyRowIndicator:o[2],reverseIndexMap:o[3]}}const ky=lt({sparseFillEmptyRows_:jy});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Zy(S,m,y){const w=it(S,"inputIndices","sparseReshape","int32"),P=it(m,"inputShape","sparseReshape","int32"),F=it(y,"newShape","sparseReshape","int32");if(w.rank!==2)throw new Error(`Input indices should be Tensor2D but received shape
        ${w.shape}`);if(P.rank!==1)throw new Error(`Input shape should be Tensor1D but received shape ${P.shape}`);if(F.rank!==1)throw new Error(`New shape should be Tensor1D but received shape ${F.shape}`);const c={inputIndices:w,inputShape:P,newShape:F},g=dt.runKernel(Gd,c);return{outputIndices:g[0],outputShape:g[1]}}const Jy=lt({sparseReshape_:Zy});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Qy(S,m,y){const w=it(S,"data","sparseSegmentMean"),P=it(m,"indices","sparseSegmentMean","int32"),F=it(y,"segmentIds","sparseSegmentMean","int32");if(w.rank<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(P.rank!==1)throw new Error(`Indices should be Tensor1D but received shape
          ${P.shape}`);if(F.rank!==1)throw new Error(`Segment ids should be Tensor1D but received shape
          ${F.shape}`);const c={data:w,indices:P,segmentIds:F};return dt.runKernel(zd,c)}const qy=lt({sparseSegmentMean_:Qy});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _y(S,m,y){const w=it(S,"data","sparseSegmentSum"),P=it(m,"indices","sparseSegmentSum","int32"),F=it(y,"segmentIds","sparseSegmentSum","int32");if(w.rank<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(P.rank!==1)throw new Error(`Indices should be Tensor1D but received shape
         ${P.shape}`);if(F.rank!==1)throw new Error(`Segment ids should be Tensor1D but received shape
         ${F.shape}`);const c={data:w,indices:P,segmentIds:F};return dt.runKernel(Ud,c)}const tx=lt({sparseSegmentSum_:_y});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ex(S,m,y,w,P,F,c,g){const t=it(S,"data","stringNGrams","string");if(t.dtype!=="string")throw new Error("Data must be of datatype string");if(t.shape.length!==1)throw new Error(`Data must be a vector, saw: ${t.shape}`);const o=it(m,"dataSplits","stringNGrams");if(o.dtype!=="int32")throw new Error("Data splits must be of datatype int32");const v={separator:y,nGramWidths:w,leftPad:P,rightPad:F,padWidth:c,preserveShortSequences:g},a={data:t,dataSplits:o},i=dt.runKernel(Hd,a,v);return{nGrams:i[0],nGramsSplits:i[1]}}const ix=lt({stringNGrams_:ex});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function nx(S,m,y=!0){const w=it(S,"input","stringSplit","string"),P=it(m,"delimiter","stringSplit","string");if(w.rank!==1)throw new Error(`Input should be Tensor1D but received shape ${w.shape}`);if(P.rank!==0)throw new Error(`Delimiter should be a scalar but received shape ${P.shape}`);const F={skipEmpty:y},c={input:w,delimiter:P},g=dt.runKernel($d,c,F);return{indices:g[0],values:g[1],shape:g[2]}}const sx=lt({stringSplit_:nx});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function rx(S,m){const y=it(S,"input","stringToHashBucketFast","string"),w={numBuckets:m};if(m<=0)throw new Error("Number of buckets must be at least 1");const P={input:y};return dt.runKernel(Kd,P,w)}const ax=lt({stringToHashBucketFast_:rx});/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ox(S,m,y,w=!0){const P=it(S,"input","staticRegexReplace","string"),F={pattern:m,rewrite:y,replaceGlobal:w};return dt.runKernel(Xd,{x:P},F)}const hx=lt({staticRegexReplace_:ox});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const lx={fft:Ua,ifft:rr,rfft:Va,irfft:il},ux={hammingWindow:O2,hannWindow:ll,frame:ul,stft:I2},Xn={flipLeftRight:U2,grayscaleToRGB:W2,resizeNearestNeighbor:my,resizeBilinear:vy,rgbToGrayscale:Y2,rotateWithOffset:$2,cropAndResize:G2,nonMaxSuppression:j2,nonMaxSuppressionAsync:sy,nonMaxSuppressionWithScore:ay,nonMaxSuppressionWithScoreAsync:hy,nonMaxSuppressionPadded:uy,nonMaxSuppressionPaddedAsync:dy,threshold:xy,transform:Sy},fx={bandPart:Cy,gramSchmidt:Ay,qr:My},dx={absoluteDifference:Ly,computeWeightedLoss:Di,cosineDistance:by,hingeLoss:Ny,huberLoss:By,logLoss:zy,meanSquaredError:Vy,sigmoidCrossEntropy:Yy,softmaxCrossEntropy:Ky},cx={sparseFillEmptyRows:ky,sparseReshape:Jy,sparseSegmentMean:qy,sparseSegmentSum:tx},vx={stringNGrams:ix,stringSplit:sx,stringToHashBucketFast:ax,staticRegexReplace:hx};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const px=new Map,mx=new Map;class gx{getClassName(){return this.constructor.className}static fromConfig(m,y){return new m(y)}}class nn{constructor(){this.classNameMap={}}static getMap(){return nn.instance==null&&(nn.instance=new nn),nn.instance}static register(m){nn.getMap().classNameMap[m.className]=[m,m.fromConfig]}}function yx(S,m,y){rt(S.className!=null,()=>"Class being registered does not have the static className property defined."),rt(typeof S.className=="string",()=>"className is required to be a string, but got type "+typeof S.className),rt(S.className.length>0,()=>"Class being registered has an empty-string as its className, which is disallowed."),typeof m>"u"&&(m="Custom"),typeof y>"u"&&(y=S.className);const w=y,P=m+">"+w;return nn.register(S),px.set(P,S),mx.set(S,P),S}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class En extends gx{minimize(m,y=!1,w){const{value:P,grads:F}=this.computeGradients(m,w);if(w!=null){const c=w.map(g=>({name:g.name,tensor:F[g.name]}));this.applyGradients(c)}else this.applyGradients(F);return xe(F),y?P:(P.dispose(),null)}get iterations(){return this.iterations_==null&&(this.iterations_=0),this.iterations_}incrementIterations(){this.iterations_=this.iterations+1}computeGradients(m,y){return J0(m,y)}dispose(){this.iterations_!=null&&xe(this.iterations_)}async saveIterations(){return this.iterations_==null&&(this.iterations_=0),{name:"iter",tensor:oe(this.iterations_,"int32")}}async getWeights(){throw new Error("getWeights() is not implemented for this optimizer yet.")}async setWeights(m){throw new Error(`setWeights() is not implemented for this optimizer class ${this.getClassName()}`)}async extractIterations(m){return this.iterations_=(await m[0].tensor.data())[0],m.slice(1)}}Object.defineProperty(En,Symbol.hasInstance,{value:S=>S.minimize!=null&&S.computeGradients!=null&&S.applyGradients!=null});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class xx extends En{static get className(){return"Adadelta"}constructor(m,y,w=null){super(),this.learningRate=m,this.rho=y,this.epsilon=w,this.accumulatedGrads=[],this.accumulatedUpdates=[],w==null&&(this.epsilon=dt.backend.epsilon())}applyGradients(m){(Array.isArray(m)?m.map(w=>w.name):Object.keys(m)).forEach((w,P)=>{const F=dt.registeredVariables[w],c=!1;this.accumulatedGrads[P]==null&&(this.accumulatedGrads[P]={originalName:`${w}/accum_grad`,variable:_t(()=>Ze(F).variable(c))}),this.accumulatedUpdates[P]==null&&(this.accumulatedUpdates[P]={originalName:`${w}/accum_var`,variable:_t(()=>Ze(F).variable(c))});const g=Array.isArray(m)?m[P].tensor:m[w];if(g==null)return;const t=this.accumulatedGrads[P].variable,o=this.accumulatedUpdates[P].variable;_t(()=>{const v=Vt(Lt(t,this.rho),Lt(ri(g),1-this.rho)),a=Lt(ee(Mi(Vt(o,this.epsilon)),Mi(Vt(t,this.epsilon))),g),i=Vt(Lt(o,this.rho),Lt(ri(a),1-this.rho));t.assign(v),o.assign(i);const s=Vt(Lt(a,-this.learningRate),F);F.assign(s)})}),this.incrementIterations()}dispose(){this.accumulatedUpdates!=null&&(xe(this.accumulatedGrads.map(m=>m.variable)),xe(this.accumulatedUpdates.map(m=>m.variable)))}async getWeights(){const m=[...this.accumulatedGrads,...this.accumulatedUpdates];return[await this.saveIterations()].concat(m.map(y=>({name:y.originalName,tensor:y.variable})))}async setWeights(m){m=await this.extractIterations(m);const y=m.length/2,w=!1;this.accumulatedGrads=m.slice(0,y).map(P=>({originalName:P.name,variable:P.tensor.variable(w)})),this.accumulatedUpdates=m.slice(y,y*2).map(P=>({originalName:P.name,variable:P.tensor.variable(w)}))}getConfig(){return{learningRate:this.learningRate,rho:this.rho,epsilon:this.epsilon}}static fromConfig(m,y){return new m(y.learningRate,y.rho,y.epsilon)}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Tx extends En{static get className(){return"Adagrad"}constructor(m,y=.1){super(),this.learningRate=m,this.initialAccumulatorValue=y,this.accumulatedGrads=[]}applyGradients(m){(Array.isArray(m)?m.map(w=>w.name):Object.keys(m)).forEach((w,P)=>{const F=dt.registeredVariables[w];this.accumulatedGrads[P]==null&&(this.accumulatedGrads[P]={originalName:`${w}/accumulator`,variable:_t(()=>gs(F.shape,this.initialAccumulatorValue).variable(!1))});const c=Array.isArray(m)?m[P].tensor:m[w];if(c==null)return;const g=this.accumulatedGrads[P].variable;_t(()=>{const t=Vt(g,ri(c));g.assign(t);const o=Vt(Lt(ee(c,Mi(Vt(t,dt.backend.epsilon()))),-this.learningRate),F);F.assign(o)})}),this.incrementIterations()}dispose(){this.accumulatedGrads!=null&&xe(this.accumulatedGrads.map(m=>m.variable))}async getWeights(){return[await this.saveIterations()].concat(this.accumulatedGrads.map(m=>({name:m.originalName,tensor:m.variable})))}async setWeights(m){m=await this.extractIterations(m);const y=!1;this.accumulatedGrads=m.map(w=>({originalName:w.name,variable:w.tensor.variable(y)}))}getConfig(){return{learningRate:this.learningRate,initialAccumulatorValue:this.initialAccumulatorValue}}static fromConfig(m,y){return new m(y.learningRate,y.initialAccumulatorValue)}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Sx extends En{static get className(){return"Adam"}constructor(m,y,w,P=null){super(),this.learningRate=m,this.beta1=y,this.beta2=w,this.epsilon=P,this.accumulatedFirstMoment=[],this.accumulatedSecondMoment=[],_t(()=>{this.accBeta1=oe(y).variable(),this.accBeta2=oe(w).variable()}),P==null&&(this.epsilon=dt.backend.epsilon())}applyGradients(m){const y=Array.isArray(m)?m.map(w=>w.name):Object.keys(m);_t(()=>{const w=Qt(1,this.accBeta1),P=Qt(1,this.accBeta2);y.forEach((F,c)=>{const g=dt.registeredVariables[F],t=!1;this.accumulatedFirstMoment[c]==null&&(this.accumulatedFirstMoment[c]={originalName:`${F}/m`,variable:_t(()=>Ze(g).variable(t))}),this.accumulatedSecondMoment[c]==null&&(this.accumulatedSecondMoment[c]={originalName:`${F}/v`,variable:_t(()=>Ze(g).variable(t))});const o=Array.isArray(m)?m[c].tensor:m[F];if(o==null)return;const v=this.accumulatedFirstMoment[c].variable,a=this.accumulatedSecondMoment[c].variable,i=Vt(Lt(v,this.beta1),Lt(o,1-this.beta1)),s=Vt(Lt(a,this.beta2),Lt(ri(o),1-this.beta2)),e=ee(i,w),r=ee(s,P);v.assign(i),a.assign(s);const h=Vt(Lt(ee(e,Vt(Mi(r),this.epsilon)),-this.learningRate),g);g.assign(h)}),this.accBeta1.assign(Lt(this.accBeta1,this.beta1)),this.accBeta2.assign(Lt(this.accBeta2,this.beta2))}),this.incrementIterations()}dispose(){this.accBeta1.dispose(),this.accBeta2.dispose(),this.accumulatedFirstMoment!=null&&xe(this.accumulatedFirstMoment.map(m=>m.variable)),this.accumulatedSecondMoment!=null&&xe(this.accumulatedSecondMoment.map(m=>m.variable))}async getWeights(){const m=[...this.accumulatedFirstMoment,...this.accumulatedSecondMoment];return[await this.saveIterations()].concat(m.map(y=>({name:y.originalName,tensor:y.variable})))}async setWeights(m){m=await this.extractIterations(m),_t(()=>{this.accBeta1.assign(fs(this.beta1,this.iterations_+1)),this.accBeta2.assign(fs(this.beta2,this.iterations_+1))});const y=m.length/2,w=!1;this.accumulatedFirstMoment=m.slice(0,y).map(P=>({originalName:P.name,variable:P.tensor.variable(w)})),this.accumulatedSecondMoment=m.slice(y,y*2).map(P=>({originalName:P.name,variable:P.tensor.variable(w)}))}getConfig(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon}}static fromConfig(m,y){return new m(y.learningRate,y.beta1,y.beta2,y.epsilon)}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Ex extends En{static get className(){return"Adamax"}constructor(m,y,w,P=null,F=0){super(),this.learningRate=m,this.beta1=y,this.beta2=w,this.epsilon=P,this.decay=F,this.accumulatedFirstMoment=[],this.accumulatedWeightedInfNorm=[],_t(()=>{this.iteration=oe(0).variable(),this.accBeta1=oe(y).variable()}),P==null&&(this.epsilon=dt.backend.epsilon())}applyGradients(m){const y=Array.isArray(m)?m.map(w=>w.name):Object.keys(m);_t(()=>{const w=Qt(1,this.accBeta1),P=ee(-this.learningRate,Vt(Lt(this.iteration,this.decay),1));y.forEach((F,c)=>{const g=dt.registeredVariables[F],t=!1;this.accumulatedFirstMoment[c]==null&&(this.accumulatedFirstMoment[c]={originalName:`${F}/m`,variable:Ze(g).variable(t)}),this.accumulatedWeightedInfNorm[c]==null&&(this.accumulatedWeightedInfNorm[c]={originalName:`${F}/v`,variable:Ze(g).variable(t)});const o=Array.isArray(m)?m[c].tensor:m[F];if(o==null)return;const v=this.accumulatedFirstMoment[c].variable,a=this.accumulatedWeightedInfNorm[c].variable,i=Vt(Lt(v,this.beta1),Lt(o,1-this.beta1)),s=Lt(a,this.beta2),e=ke(o),r=Zh(s,e);v.assign(i),a.assign(r);const h=Vt(Lt(ee(P,w),ee(i,Vt(r,this.epsilon))),g);g.assign(h)}),this.iteration.assign(Vt(this.iteration,1)),this.accBeta1.assign(Lt(this.accBeta1,this.beta1))}),this.incrementIterations()}dispose(){this.accBeta1.dispose(),this.iteration.dispose(),this.accumulatedFirstMoment!=null&&xe(this.accumulatedFirstMoment.map(m=>m.variable)),this.accumulatedWeightedInfNorm!=null&&xe(this.accumulatedWeightedInfNorm.map(m=>m.variable))}async getWeights(){throw new Error("getWeights() is not implemented for Adamax yet.")}async setWeights(m){throw new Error("setWeights() is not implemented for Adamax yet.")}getConfig(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon,decay:this.decay}}static fromConfig(m,y){return new m(y.learningRate,y.beta1,y.beta2,y.epsilon,y.decay)}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class fl extends En{static get className(){return"SGD"}constructor(m){super(),this.learningRate=m,this.setLearningRate(m)}applyGradients(m){(Array.isArray(m)?m.map(w=>w.name):Object.keys(m)).forEach((w,P)=>{const F=Array.isArray(m)?m[P].tensor:m[w];if(F==null)return;const c=dt.registeredVariables[w];_t(()=>{const g=Vt(Lt(this.c,F),c);c.assign(g)})}),this.incrementIterations()}setLearningRate(m){this.learningRate=m,this.c!=null&&this.c.dispose(),this.c=vi(oe(-m))}dispose(){this.c.dispose()}async getWeights(){return[await this.saveIterations()]}async setWeights(m){if(m=await this.extractIterations(m),m.length!==0)throw new Error("SGD optimizer does not have settable weights.")}getConfig(){return{learningRate:this.learningRate}}static fromConfig(m,y){return new m(y.learningRate)}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Cx extends fl{static get className(){return"Momentum"}constructor(m,y,w=!1){super(m),this.learningRate=m,this.momentum=y,this.useNesterov=w,this.accumulations=[],this.m=oe(this.momentum)}applyGradients(m){(Array.isArray(m)?m.map(w=>w.name):Object.keys(m)).forEach((w,P)=>{const F=dt.registeredVariables[w];this.accumulations[P]==null&&(this.accumulations[P]={originalName:`${w}/momentum`,variable:_t(()=>Ze(F).variable(!1))});const c=this.accumulations[P].variable,g=Array.isArray(m)?m[P].tensor:m[w];g!=null&&_t(()=>{let t;const o=Vt(Lt(this.m,c),g);this.useNesterov?t=Vt(Lt(this.c,Vt(g,Lt(o,this.m))),F):t=Vt(Lt(this.c,o),F),c.assign(o),F.assign(t)})}),this.incrementIterations()}dispose(){this.m.dispose(),this.accumulations!=null&&xe(this.accumulations.map(m=>m.variable))}setMomentum(m){this.momentum=m}async getWeights(){return[await this.saveIterations()].concat(this.accumulations.map(m=>({name:m.originalName,tensor:m.variable})))}async setWeights(m){m=await this.extractIterations(m);const y=!1;this.accumulations=m.map(w=>({originalName:w.name,variable:w.tensor.variable(y)}))}getConfig(){return{learningRate:this.learningRate,momentum:this.momentum,useNesterov:this.useNesterov}}static fromConfig(m,y){return new m(y.learningRate,y.momentum,y.useNesterov)}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class wx extends En{static get className(){return"RMSProp"}constructor(m,y=.9,w=0,P=null,F=!1){if(super(),this.learningRate=m,this.decay=y,this.momentum=w,this.epsilon=P,this.accumulatedMeanSquares=[],this.accumulatedMoments=[],this.accumulatedMeanGrads=[],this.centered=F,P==null&&(this.epsilon=dt.backend.epsilon()),m==null)throw new Error("learningRate for RMSPropOptimizer must be defined.")}applyGradients(m){(Array.isArray(m)?m.map(w=>w.name):Object.keys(m)).forEach((w,P)=>{const F=dt.registeredVariables[w],c=!1;this.accumulatedMeanSquares[P]==null&&(this.accumulatedMeanSquares[P]={originalName:`${w}/rms`,variable:_t(()=>Ze(F).variable(c))}),this.accumulatedMoments[P]==null&&(this.accumulatedMoments[P]={originalName:`${w}/momentum`,variable:_t(()=>Ze(F).variable(c))}),this.accumulatedMeanGrads[P]==null&&this.centered&&(this.accumulatedMeanGrads[P]={originalName:`${w}/mg`,variable:_t(()=>Ze(F).variable(c))});const g=Array.isArray(m)?m[P].tensor:m[w];if(g==null)return;const t=this.accumulatedMeanSquares[P].variable,o=this.accumulatedMoments[P].variable;_t(()=>{const v=Vt(Lt(t,this.decay),Lt(ri(g),1-this.decay));if(this.centered){const a=this.accumulatedMeanGrads[P].variable,i=Vt(Lt(a,this.decay),Lt(g,1-this.decay)),s=ee(Lt(g,this.learningRate),Mi(Qt(v,Vt(ri(i),this.epsilon)))),e=Vt(Lt(o,this.momentum),s);t.assign(v),a.assign(i),o.assign(e);const r=Qt(F,e);F.assign(r)}else{const a=Vt(Lt(t,this.decay),Lt(ri(g),1-this.decay)),i=Vt(Lt(o,this.momentum),ee(Lt(g,this.learningRate),Mi(Vt(a,this.epsilon))));t.assign(a),o.assign(i);const s=Qt(F,i);F.assign(s)}})}),this.incrementIterations()}dispose(){this.accumulatedMeanSquares!=null&&xe(this.accumulatedMeanSquares.map(m=>m.variable)),this.accumulatedMeanGrads!=null&&this.centered&&xe(this.accumulatedMeanGrads.map(m=>m.variable)),this.accumulatedMoments!=null&&xe(this.accumulatedMoments.map(m=>m.variable))}async getWeights(){const m=[...this.accumulatedMeanSquares,...this.accumulatedMoments];return this.centered&&m.push(...this.accumulatedMeanGrads),[await this.saveIterations()].concat(m.map(y=>({name:y.originalName,tensor:y.variable})))}async setWeights(m){m=await this.extractIterations(m);const y=this.centered?m.length/3:m.length/2,w=!1;this.accumulatedMeanSquares=m.slice(0,y).map(P=>({originalName:P.name,variable:P.tensor.variable(w)})),this.accumulatedMoments=m.slice(y,y*2).map(P=>({originalName:P.name,variable:P.tensor.variable(w)})),this.centered&&(this.accumulatedMeanGrads=m.slice(y*2,y*3).map(P=>({originalName:P.name,variable:P.tensor.variable(w)})))}getConfig(){return{learningRate:this.learningRate,decay:this.decay,momentum:this.momentum,epsilon:this.epsilon,centered:this.centered}}static fromConfig(m,y){return new m(y.learningRate,y.decay,y.momentum,y.epsilon,y.centered)}}/**
 * @license
 * Copyright 2022 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Ax=[xx,Tx,Sx,Ex,Cx,wx,fl];function Px(){for(const S of Ax)yx(S)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Mx="model",Fx=".json",Rx=".weights.bin";function Mo(S){return new Promise(m=>setTimeout(m)).then(S)}class xn{constructor(m){if(!ie().getBool("IS_BROWSER"))throw new Error("browserDownloads() cannot proceed because the current environment is not a browser.");m.startsWith(xn.URL_SCHEME)&&(m=m.slice(xn.URL_SCHEME.length)),(m==null||m.length===0)&&(m=Mx),this.modelJsonFileName=m+Fx,this.weightDataFileName=m+Rx}async save(m){if(typeof document>"u")throw new Error("Browser downloads are not supported in this environment since `document` is not present");const y=oi.join(m.weightData),w=window.URL.createObjectURL(new Blob([y],{type:"application/octet-stream"}));if(m.modelTopology instanceof ArrayBuffer)throw new Error("BrowserDownloads.save() does not support saving model topology in binary formats yet.");{const P=[{paths:["./"+this.weightDataFileName],weights:m.weightSpecs}],F=xh(m,P),c=window.URL.createObjectURL(new Blob([JSON.stringify(F)],{type:"application/json"})),g=this.modelJsonAnchor==null?document.createElement("a"):this.modelJsonAnchor;if(g.download=this.modelJsonFileName,g.href=c,await Mo(()=>g.dispatchEvent(new MouseEvent("click"))),m.weightData!=null){const t=this.weightDataAnchor==null?document.createElement("a"):this.weightDataAnchor;t.download=this.weightDataFileName,t.href=w,await Mo(()=>t.dispatchEvent(new MouseEvent("click")))}return{modelArtifactsInfo:ms(m)}}}}xn.URL_SCHEME="downloads://";class Lx{constructor(m){if(m==null||m.length<1)throw new Error(`When calling browserFiles, at least 1 file is required, but received ${m}`);this.jsonFile=m[0],this.weightsFiles=m.slice(1)}async load(){return new Promise((m,y)=>{const w=new FileReader;w.onload=P=>{const F=JSON.parse(P.target.result),c=F.modelTopology;if(c==null){y(new Error(`modelTopology field is missing from file ${this.jsonFile.name}`));return}if(F.weightsManifest==null){y(new Error(`weightManifest field is missing from file ${this.jsonFile.name}`));return}if(this.weightsFiles.length===0){m({modelTopology:c});return}const t=Oa(F,o=>this.loadWeights(o));m(t)},w.onerror=P=>y(`Failed to read model topology and weights manifest JSON from file '${this.jsonFile.name}'. BrowserFiles supports loading Keras-style tf.Model artifacts only.`),w.readAsText(this.jsonFile)})}loadWeights(m){const y=[],w=[];for(const c of m)y.push(...c.weights),w.push(...c.paths);const P=this.checkManifestAndWeightFiles(m),F=w.map(c=>this.loadWeightsFile(c,P[c]));return Promise.all(F).then(c=>[y,c])}loadWeightsFile(m,y){return new Promise((w,P)=>{const F=new FileReader;F.onload=c=>{const g=c.target.result;w(g)},F.onerror=c=>P(`Failed to weights data from file of path '${m}'.`),F.readAsArrayBuffer(y)})}checkManifestAndWeightFiles(m){const y=[],w=this.weightsFiles.map(F=>mo(F.name)),P={};for(const F of m)F.paths.forEach(c=>{const g=mo(c);if(y.indexOf(g)!==-1)throw new Error(`Duplicate file basename found in weights manifest: '${g}'`);if(y.push(g),w.indexOf(g)===-1)throw new Error(`Weight file with basename '${g}' is not provided.`);P[c]=this.weightsFiles[w.indexOf(g)]});if(y.length!==this.weightsFiles.length)throw new Error(`Mismatch in the number of files in weights manifest (${y.length}) and the number of weight files provided (${this.weightsFiles.length}).`);return P}}const Ox=S=>ie().getBool("IS_BROWSER")&&!Array.isArray(S)&&S.startsWith(xn.URL_SCHEME)?bx(S.slice(xn.URL_SCHEME.length)):null;ye.registerSaveRouter(Ox);function bx(S="model"){return new xn(S)}function Dx(S){return new Lx(S)}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Fo(S,m,y,w){c(S),y=y??0,w=w??1,g(y,w);let P=0;const F=t=>(t.then(o=>{const v=y+ ++P/S.length*(w-y);return m(v),o}),t);function c(t){rt(t!=null&&Array.isArray(t)&&t.length>0,()=>"promises must be a none empty array")}function g(t,o){rt(t>=0&&t<=1,()=>`Progress fraction must be in range [0, 1], but got startFraction ${t}`),rt(o>=0&&o<=1,()=>`Progress fraction must be in range [0, 1], but got endFraction ${o}`),rt(o>=t,()=>`startFraction must be no more than endFraction, but got startFraction ${t} and endFraction ${o}`)}return Promise.all(S.map(F))}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */async function dl(S,m){m==null&&(m={});const y=m.fetchFunc==null?ie().platform.fetch:m.fetchFunc,w=S.map(a=>y(a,m.requestInit,{isBinary:!0})),g=(m.onProgress==null?await Promise.all(w):await Fo(w,m.onProgress,0,.5)).map(a=>a.arrayBuffer());return m.onProgress==null?await Promise.all(g):await Fo(g,m.onProgress,.5,1)}function Nx(S,m){var y;const w=m.fetchFunc==null?ie().platform.fetch:m.fetchFunc;let P=0,F;return(y=m.onProgress)===null||y===void 0||y.call(m,0),new ReadableStream({pull:async c=>{for(var g;P<S.length;){F||(F=(await w(S[P],m.requestInit,{isBinary:!0})).body.getReader());const{done:t,value:o}=await F.read();if(t){P++,F=void 0,(g=m.onProgress)===null||g===void 0||g.call(m,P/S.length);continue}c.enqueue(o);return}c.close()}})}async function Ix(S,m="",y,w){return cl(c=>dl(c,{requestInit:w}))(S,m,y)}function cl(S){return async(m,y="",w)=>{const P=m.map(()=>!1),F={},c=w!=null?w.map(()=>!1):[],g=[];if(m.forEach((s,e)=>{let r=0;s.weights.forEach(h=>{const n="quantization"in h?h.quantization.dtype:h.dtype,l=pn[n]*we(h.shape),f=()=>{P[e]=!0,F[e]==null&&(F[e]=[]),F[e].push({manifestEntry:h,groupOffset:r,sizeBytes:l})};w!=null?w.forEach((u,d)=>{u===h.name&&(f(),c[d]=!0)}):f(),g.push(h.name),r+=l})}),!c.every(s=>s)){const s=w.filter((e,r)=>!c[r]);throw new Error(`Could not find weights in manifest with names: ${s.join(", ")}. 
Manifest JSON has weights with names: ${g.join(", ")}.`)}const t=P.reduce((s,e,r)=>(e&&s.push(r),s),[]),o=[];t.forEach(s=>{m[s].paths.forEach(e=>{const r=y+(y.endsWith("/")?"":"/")+e;o.push(r)})});const v=await S(o),a={};let i=0;return t.forEach(s=>{const e=m[s].paths.length,r=new oi(v.slice(i,i+e));F[s].forEach(n=>{const l=r.slice(n.groupOffset,n.groupOffset+n.sizeBytes),f=mh(l,[n.manifestEntry]);for(const u in f)a[u]=f[u]}),i+=e}),a}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Bx="application/octet-stream",Gx="application/json";class ja{constructor(m,y){if(this.DEFAULT_METHOD="POST",y==null&&(y={}),this.weightPathPrefix=y.weightPathPrefix,this.weightUrlConverter=y.weightUrlConverter,y.fetchFunc!=null?(rt(typeof y.fetchFunc=="function",()=>"Must pass a function that matches the signature of `fetch` (see https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API)"),this.fetch=y.fetchFunc):this.fetch=ie().platform.fetch,rt(m!=null&&m.length>0,()=>"URL path for http must not be null, undefined or empty."),Array.isArray(m)&&rt(m.length===2,()=>`URL paths for http must have a length of 2, (actual length is ${m.length}).`),this.path=m,y.requestInit!=null&&y.requestInit.body!=null)throw new Error("requestInit is expected to have no pre-existing body, but has one.");this.requestInit=y.requestInit||{},this.loadOptions=y}async save(m){if(m.modelTopology instanceof ArrayBuffer)throw new Error("BrowserHTTPRequest.save() does not support saving model topology in binary formats yet.");const y=Object.assign({method:this.DEFAULT_METHOD},this.requestInit);y.body=new FormData;const w=[{paths:["./model.weights.bin"],weights:m.weightSpecs}],P=xh(m,w);if(y.body.append("model.json",new Blob([JSON.stringify(P)],{type:Gx}),"model.json"),m.weightData!=null){const c=oi.join(m.weightData);y.body.append("model.weights.bin",new Blob([c],{type:Bx}),"model.weights.bin")}const F=await this.fetch(this.path,y);if(F.ok)return{modelArtifactsInfo:ms(m),responses:[F]};throw new Error(`BrowserHTTPRequest.save() failed due to HTTP response status ${F.status}.`)}async loadModelJSON(){const m=await this.fetch(this.path,this.requestInit);if(!m.ok)throw new Error(`Request to ${this.path} failed with status code ${m.status}. Please verify this URL points to the model JSON of the model to load.`);let y;try{y=await m.json()}catch{let c=`Failed to parse model JSON of response from ${this.path}.`;throw this.path.endsWith(".pb")?c+=" Your path contains a .pb file extension. Support for .pb models have been removed in TensorFlow.js 1.0 in favor of .json models. You can re-convert your Python TensorFlow model using the TensorFlow.js 1.0 conversion scripts or you can convert your.pb models with the 'pb2json'NPM script in the tensorflow/tfjs-converter repository.":c+=" Please make sure the server is serving valid JSON for this request.",new Error(c)}const w=y.modelTopology,P=y.weightsManifest;if(w==null&&P==null)throw new Error(`The JSON from HTTP path ${this.path} contains neither model topology or manifest for weights.`);return y}async load(){if(this.loadOptions.streamWeights)return this.loadStream();const m=await this.loadModelJSON();return Oa(m,y=>this.loadWeights(y))}async loadStream(){const m=await this.loadModelJSON(),y=await this.getWeightUrls(m.weightsManifest),w=sa(m.weightsManifest),P=()=>Nx(y,this.loadOptions);return Object.assign(Object.assign({},m),{weightSpecs:w,getWeightStream:P})}async getWeightUrls(m){const y=Array.isArray(this.path)?this.path[1]:this.path,[w,P]=zx(y),F=this.weightPathPrefix||w,c=[],g=[];for(const t of m)for(const o of t.paths)this.weightUrlConverter!=null?g.push(this.weightUrlConverter(o)):c.push(F+o+P);return this.weightUrlConverter&&c.push(...await Promise.all(g)),c}async loadWeights(m){const y=await this.getWeightUrls(m),w=sa(m),P=await dl(y,this.loadOptions);return[w,P]}}ja.URL_SCHEME_REGEX=/^https?:\/\//;function zx(S){const m=S.lastIndexOf("/"),y=S.lastIndexOf("?"),w=S.substring(0,m),P=y>m?S.substring(y):"";return[w+"/",P]}function ca(S){return S.match(ja.URL_SCHEME_REGEX)!=null}const vl=(S,m)=>{if(typeof fetch>"u"&&(m==null||m.fetchFunc==null))return null;{let y=!0;if(Array.isArray(S)?y=S.every(w=>ca(w)):y=ca(S),y)return ka(S,m)}return null};ye.registerSaveRouter(vl);ye.registerLoadRouter(vl);function ka(S,m){return new ja(S,m)}function Ux(S,m){return ka(S,m)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class zr{constructor(m){this.modelArtifacts=m}load(){return this.modelArtifacts}}class pl{constructor(m){this.saveHandler=m}save(m){return this.saveHandler(m)}}class Vx{constructor(m){m.load&&(this.load=()=>Promise.resolve(m.load())),m.save&&(this.save=y=>Promise.resolve(m.save(y)))}}function Wx(S,m,y,w){const P=arguments;return new Vx(ml(...P))}function ml(S,m,y,w){return arguments.length===1?S.modelTopology!=null||S.weightSpecs!=null?new zr(S):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new zr({modelTopology:S})):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new zr({modelTopology:S,weightSpecs:m,weightData:y,trainingConfig:w}))}function Xx(S){return new pl(S)}function Yx(S){return new pl(S)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const gl=Object.freeze(Object.defineProperty({__proto__:null,CompositeArrayBuffer:oi,browserFiles:Dx,browserHTTPRequest:Ux,concatenateArrayBuffers:Nc,copyModel:iv,decodeWeights:mh,decodeWeightsStream:yh,encodeWeights:Fc,fromMemory:Wx,fromMemorySync:ml,getLoadHandlers:Xc,getModelArtifactsForJSON:Oa,getModelArtifactsForJSONSync:Th,getModelArtifactsInfoForJSON:ms,getSaveHandlers:Wc,getWeightSpecs:sa,http:ka,isHTTPScheme:ca,listModels:tv,loadWeights:Ix,moveModel:nv,registerLoadRouter:Vc,registerSaveRouter:Uc,removeModel:ev,weightsLoaderFactory:cl,withSaveHandler:Xx,withSaveHandlerSync:Yx},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let _i;function Hx(S,m=3){if(m>4)throw new Error("Cannot construct Tensor with more than 4 channels from pixels.");if(S==null)throw new Error("pixels passed to tf.browser.fromPixels() can not be null");let y=!1,w=!1,P=!1,F=!1,c=!1,g=!1;if(S.data instanceof Uint8Array)y=!0;else if(typeof ImageData<"u"&&S instanceof ImageData)w=!0;else if(typeof HTMLVideoElement<"u"&&S instanceof HTMLVideoElement)P=!0;else if(typeof HTMLImageElement<"u"&&S instanceof HTMLImageElement)F=!0;else if(S.getContext!=null)c=!0;else if(typeof ImageBitmap<"u"&&S instanceof ImageBitmap)g=!0;else throw new Error(`pixels passed to tf.browser.fromPixels() must be either an HTMLVideoElement, HTMLImageElement, HTMLCanvasElement, ImageData in browser, or OffscreenCanvas, ImageData in webworker or {data: Uint32Array, width: number, height: number}, but was ${S.constructor.name}`);if(qr(io,dt.backendName)!=null){const e={pixels:S},r={numChannels:m};return dt.runKernel(io,e,r)}const[o,v]=P?[S.videoWidth,S.videoHeight]:[S.width,S.height];let a;if(c)a=S.getContext("2d").getImageData(0,0,o,v).data;else if(w||y)a=S.data;else if(F||P||g){if(_i==null)if(typeof document>"u")if(typeof OffscreenCanvas<"u"&&typeof OffscreenCanvasRenderingContext2D<"u")_i=new OffscreenCanvas(1,1).getContext("2d");else throw new Error("Cannot parse input in current context. Reason: OffscreenCanvas Context2D rendering is not supported.");else _i=document.createElement("canvas").getContext("2d",{willReadFrequently:!0});_i.canvas.width=o,_i.canvas.height=v,_i.drawImage(S,0,0,o,v),a=_i.getImageData(0,0,o,v).data}let i;if(m===4)i=new Int32Array(a);else{const e=o*v;i=new Int32Array(e*m);for(let r=0;r<e;r++)for(let h=0;h<m;++h)i[r*m+h]=a[r*4+h]}return rl(i,[v,o,m],"int32")}function $x(S){if(S.rank!==2&&S.rank!==3)throw new Error(`toPixels only supports rank 2 or 3 tensors, got rank ${S.rank}.`);const m=S.rank===2?1:S.shape[2];if(m>4||m===2)throw new Error(`toPixels only supports depth of size 1, 3 or 4 but got ${m}`);if(S.dtype!=="float32"&&S.dtype!=="int32")throw new Error(`Unsupported type for toPixels: ${S.dtype}. Please use float32 or int32 tensors.`)}async function yl(S,m){let y=it(S,"img","toPixels");if(!(S instanceof Ee)){const o=y;y=ge(o,"int32"),o.dispose()}$x(y);const[w,P]=y.shape.slice(0,2),F=y.rank===2?1:y.shape[2],c=await y.data(),g=y.dtype==="float32"?255:1,t=new Uint8ClampedArray(P*w*4);for(let o=0;o<w*P;++o){const v=[0,0,0,255];for(let i=0;i<F;i++){const s=c[o*F+i];if(y.dtype==="float32"){if(s<0||s>1)throw new Error(`Tensor values for a float32 Tensor must be in the range [0 - 1] but encountered ${s}.`)}else if(y.dtype==="int32"&&(s<0||s>255))throw new Error(`Tensor values for a int32 Tensor must be in the range [0 - 255] but encountered ${s}.`);F===1?(v[0]=s*g,v[1]=s*g,v[2]=s*g):v[i]=s*g}const a=o*4;t[a+0]=Math.round(v[0]),t[a+1]=Math.round(v[1]),t[a+2]=Math.round(v[2]),t[a+3]=Math.round(v[3])}return y!==S&&y.dispose(),t}const xl=lt({fromPixels_:Hx});/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Px();/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Kx=ie();Kx.registerFlag("KEEP_INTERMEDIATE_TENSORS",()=>!1,S=>{S&&console.warn("Keep intermediate tensors is ON. This will print the values of all intermediate tensors during model inference. Not all models support this mode. For details, check e2e/benchmarks/ model_config.js. This significantly impacts performance.")});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * =============================================================================
 */var Ye;(function(S){S[S.DT_INVALID=0]="DT_INVALID",S[S.DT_FLOAT=1]="DT_FLOAT",S[S.DT_DOUBLE=2]="DT_DOUBLE",S[S.DT_INT32=3]="DT_INT32",S[S.DT_UINT8=4]="DT_UINT8",S[S.DT_INT16=5]="DT_INT16",S[S.DT_INT8=6]="DT_INT8",S[S.DT_STRING=7]="DT_STRING",S[S.DT_COMPLEX64=8]="DT_COMPLEX64",S[S.DT_INT64=9]="DT_INT64",S[S.DT_BOOL=10]="DT_BOOL",S[S.DT_QINT8=11]="DT_QINT8",S[S.DT_QUINT8=12]="DT_QUINT8",S[S.DT_QINT32=13]="DT_QINT32",S[S.DT_BFLOAT16=14]="DT_BFLOAT16",S[S.DT_QINT16=15]="DT_QINT16",S[S.DT_QUINT16=16]="DT_QUINT16",S[S.DT_UINT16=17]="DT_UINT16",S[S.DT_COMPLEX128=18]="DT_COMPLEX128",S[S.DT_HALF=19]="DT_HALF",S[S.DT_RESOURCE=20]="DT_RESOURCE",S[S.DT_VARIANT=21]="DT_VARIANT",S[S.DT_UINT32=22]="DT_UINT32",S[S.DT_UINT64=23]="DT_UINT64",S[S.DT_FLOAT_REF=101]="DT_FLOAT_REF",S[S.DT_DOUBLE_REF=102]="DT_DOUBLE_REF",S[S.DT_INT32_REF=103]="DT_INT32_REF",S[S.DT_UINT8_REF=104]="DT_UINT8_REF",S[S.DT_INT16_REF=105]="DT_INT16_REF",S[S.DT_INT8_REF=106]="DT_INT8_REF",S[S.DT_STRING_REF=107]="DT_STRING_REF",S[S.DT_COMPLEX64_REF=108]="DT_COMPLEX64_REF",S[S.DT_INT64_REF=109]="DT_INT64_REF",S[S.DT_BOOL_REF=110]="DT_BOOL_REF",S[S.DT_QINT8_REF=111]="DT_QINT8_REF",S[S.DT_QUINT8_REF=112]="DT_QUINT8_REF",S[S.DT_QINT32_REF=113]="DT_QINT32_REF",S[S.DT_BFLOAT16_REF=114]="DT_BFLOAT16_REF",S[S.DT_QINT16_REF=115]="DT_QINT16_REF",S[S.DT_QUINT16_REF=116]="DT_QUINT16_REF",S[S.DT_UINT16_REF=117]="DT_UINT16_REF",S[S.DT_COMPLEX128_REF=118]="DT_COMPLEX128_REF",S[S.DT_HALF_REF=119]="DT_HALF_REF",S[S.DT_RESOURCE_REF=120]="DT_RESOURCE_REF",S[S.DT_VARIANT_REF=121]="DT_VARIANT_REF",S[S.DT_UINT32_REF=122]="DT_UINT32_REF",S[S.DT_UINT64_REF=123]="DT_UINT64_REF"})(Ye||(Ye={}));var Ro;(function(S){(function(m){m[m.LEGACY=0]="LEGACY",m[m.V1=1]="V1",m[m.V2=2]="V2"})(S.CheckpointFormatVersion||(S.CheckpointFormatVersion={}))})(Ro||(Ro={}));/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const jx={};function Tl(S){return jx[S]}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function K(S,m,y,w,P){const F=m.inputParams[S];if(F&&F.inputIndexStart!==void 0){const g=F.inputIndexStart,t=F.inputIndexEnd===0?void 0:F.inputIndexEnd===void 0?g+1:F.inputIndexEnd,o=g<0?m.inputNames.length+g:g;if(F.type==="tensor")return Re(m.inputNames[o],y,w,P);if(F.type==="tensors"){const i=m.inputs.slice(g,t);return m.inputNames.slice(g,t).filter((e,r)=>{var h;return((h=i[r])===null||h===void 0?void 0:h.op)!=="NoOp"}).map(e=>Re(e,y,w,P))}const v=Re(m.inputNames[o],y,w,P),a=v.dataSync();return F.type==="number"?a[0]:Qr(v.shape,a)}const c=m.attrParams[S];return c&&c.value}function Re(S,m,y,w){const[P,F]=He(S,y);if(w!=null){const g=w.getHashTableHandleByName(P);if(g!=null)return g}const c=y.currentContextIds.find(g=>!!m[ar(P,g)]);return c!==void 0?m[ar(P,c)][F]:void 0}function Lo(S,m,y){return m[ar(S,y.currentContextId)]}function Ti(S,m){const[y,w,P]=He(S,m);return[ar(y,m&&m.currentContextId),w,P]}function ar(S,m){return m?`${S}-${m}`:S}function He(S,m){if(S==="")return["",0,void 0];const y=m!=null&&m.parseNodeNameCache!=null;if(y){const F=m.parseNodeNameCache.get(S);if(F!=null)return F}const w=S.split(":");let P;if(w.length===1)P=[S,0,void 0];else{const F=w[0],c=w.length===3?w[1]:void 0,g=Number(w[w.length-1]);P=[F,g,c]}return y&&m.parseNodeNameCache.set(S,P),P}function Zs(S,m,y){let w=K("pad",S,m,y);if(w==="explicit"){w=K("explicitPaddings",S,m,y);const P=[[0,0],[0,0],[0,0],[0,0]];for(let F=0;F<4;F++)P[F][0]=w[F*2],P[F][1]=w[F*2+1];return P}return w}function Si(S){return S.kept?S:Vi(S)}/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const kx=[{tfOpName:"Add",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AddV2",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AddN",category:"arithmetic",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}]},{tfOpName:"BiasAdd",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"Sub",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"RealDiv",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Div",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"DivNoNan",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"FloorDiv",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Mul",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Maximum",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Minimum",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Pow",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SquaredDifference",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Mod",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"FloorMod",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],Zx=Object.freeze(Object.defineProperty({__proto__:null,json:kx},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Jx=[{tfOpName:"Abs",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Acos",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Asin",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atan2",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Ceil",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ClipByValue",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"clipValueMin",type:"number"},{start:2,name:"clipValueMax",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Complex",category:"basic_math",inputs:[{start:0,name:"real",type:"tensor"},{start:1,name:"imag",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ComplexAbs",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cos",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cosh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Elu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Exp",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Floor",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Log",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Imag",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"Tout",name:"outputType",type:"dtype",notSupported:!0}]},{tfOpName:"Neg",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Real",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"Tout",name:"outputType",type:"dtype",notSupported:!0}]},{tfOpName:"Prelu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"alpha",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Relu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Relu6",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Selu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sigmoid",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sin",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sinh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sqrt",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Rsqrt",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Square",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Tan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Tanh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sign",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Round",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Expm1",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Log1p",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Reciprocal",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Softplus",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Asinh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Acosh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atanh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Erf",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LeakyRelu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"alpha",name:"alpha",type:"number",defaultValue:.2},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"IsNan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"IsFinite",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"IsInf",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],Qx=Object.freeze(Object.defineProperty({__proto__:null,json:Jx},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const qx=[{tfOpName:"EmptyTensorList",category:"control",inputs:[{start:0,name:"elementShape",type:"shape"},{start:1,name:"maxNumElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"LoopCond",category:"control",inputs:[{start:0,name:"pred",type:"tensor"}]},{tfOpName:"Switch",category:"control",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"pred",type:"tensor"}]},{tfOpName:"Merge",category:"control",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}]},{tfOpName:"Enter",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"frame_name",name:"frameName",type:"string"},{tfName:"is_constant",name:"isConstant",type:"bool"}]},{tfOpName:"Exit",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"NextIteration",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayV3",category:"control",inputs:[{start:0,name:"size",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"dynamic_size",name:"dynamicSize",type:"bool"},{tfName:"clear_after_read",name:"clearAfterRead",type:"bool"},{tfName:"identical_element_shapes",name:"identicalElementShapes",type:"bool"},{tfName:"tensor_array_name",name:"name",type:"string"}]},{tfOpName:"TensorArrayWriteV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"tensor",type:"tensor"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayReadV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayGatherV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape",name:"elementShape",type:"shape"}]},{tfOpName:"TensorArrayScatterV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"tensor",type:"tensor"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"TensorArrayConcatV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape_except0",name:"elementShapeExcept0",type:"shape",notSupported:!0}]},{tfOpName:"TensorArraySplitV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"tensor",type:"tensor"},{start:2,name:"lengths",type:"number[]"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"TensorArraySizeV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"flowIn",type:"number"}]},{tfOpName:"TensorArrayCloseV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"}]},{tfOpName:"StatelessIf",category:"control",inputs:[{start:0,name:"cond",type:"tensor"},{start:1,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"then_branch",name:"thenBranch",type:"func"},{tfName:"else_branch",name:"elseBranch",type:"func"}]},{tfOpName:"If",category:"control",inputs:[{start:0,name:"cond",type:"tensor"},{start:1,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"then_branch",name:"thenBranch",type:"func"},{tfName:"else_branch",name:"elseBranch",type:"func"}]},{tfOpName:"StatelessWhile",category:"control",inputs:[{start:0,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"cond",name:"cond",type:"func"},{tfName:"body",name:"body",type:"func"}]},{tfOpName:"While",category:"control",inputs:[{start:0,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"cond",name:"cond",type:"func"},{tfName:"body",name:"body",type:"func"}]},{tfOpName:"TensorListScatter",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListScatterV2",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"},{start:3,name:"numElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListGather",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListGetItem",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListSetItem",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"tensor",type:"tensor"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListReserve",category:"control",inputs:[{start:0,name:"elementShape",type:"shape"},{start:1,name:"numElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListFromTensor",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListStack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"},{tfName:"num_elements",name:"numElements",type:"dtype"}]},{tfOpName:"TensorListSplit",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"elementShape",type:"shape"},{start:2,name:"lengths",type:"number[]"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListConcat",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}],attrs:[{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListConcatV2",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}],attrs:[{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListPopBack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListPushBack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"tensor",type:"tensor"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListLength",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}]},{tfOpName:"TensorListResize",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"size",type:"number"}]}],_x=Object.freeze(Object.defineProperty({__proto__:null,json:qx},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const t3=[{tfOpName:"AvgPool",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPool",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[],notSupported:!0},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPoolWithArgmax",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"include_batch_in_index",name:"includeBatchInIndex",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AvgPool3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPool3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Conv1D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"stride",name:"stride",type:"number"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NWC"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"dilation",name:"dilation",type:"number",defaultValue:1}]},{tfOpName:"Conv2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"useCudnnOnGpu",name:"useCudnnOnGpu",type:"bool"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"_FusedConv2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"use_cudnn_on_gpu",name:"useCudnnOnGpu",type:"bool",defaultValue:!0},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]",defaultValue:[1,1,1,1]},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:1e-4},{tfName:"leakyrelu_alpha",name:"leakyreluAlpha",type:"number",defaultValue:.2}]},{tfOpName:"Conv2DBackpropInput",category:"convolution",inputs:[{start:2,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:0,name:"outputShape",type:"number[]"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]",notSupported:!0}]},{tfOpName:"DepthwiseConv2d",category:"convolution",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"DepthwiseConv2dNative",category:"convolution",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"FusedDepthwiseConv2dNative",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]",defaultValue:[1,1,1,1]},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]}]},{tfOpName:"Conv3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"Dilation2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"rates",name:"dilations",type:"number[]"},{tfName:"padding",name:"pad",type:"string"}]}],e3=Object.freeze(Object.defineProperty({__proto__:null,json:t3},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const i3=[{tfOpName:"Fill",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"},{start:1,name:"value",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"LinSpace",category:"creation",inputs:[{start:0,name:"start",type:"number"},{start:1,name:"stop",type:"number"},{start:2,name:"num",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"OneHot",category:"creation",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"depth",type:"number"},{start:2,name:"onValue",type:"number",defaultValue:1},{start:3,name:"offValue",type:"number",defaultValue:0}],attrs:[{tfName:"axis",name:"axis",type:"number",notSupported:!0},{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"Ones",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"OnesLike",category:"creation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"RandomStandardNormal",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"seed",name:"seed",type:"number",defaultValue:0},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"RandomUniform",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"minval",name:"minval",type:"number",defaultValue:0},{tfName:"maxval",name:"maxval",type:"number",defaultValue:1},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"seed",name:"seed",type:"number",defaultValue:0},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"RandomUniformInt",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"minval",name:"minval",type:"number"},{tfName:"maxval",name:"maxval",type:"number"},{tfName:"seed",name:"seed",type:"number",defaultValue:0},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0}]},{tfOpName:"Range",category:"creation",inputs:[{start:0,name:"start",type:"number"},{start:1,name:"stop",type:"number"},{start:2,name:"step",type:"number",defaultValue:0}],attrs:[{tfName:"Tidx",name:"dtype",type:"dtype"}]},{tfOpName:"TruncatedNormal",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"means",name:"mean",type:"number",defaultValue:0},{tfName:"stddev",name:"stdDev",type:"number",defaultValue:1},{tfName:"seed",name:"seed",type:"number"},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"Zeros",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"ZerosLike",category:"creation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"Multinomial",category:"creation",inputs:[{start:0,name:"logits",type:"tensor"},{start:1,name:"numSamples",type:"number"}],attrs:[{tfName:"seed",name:"seed",type:"number"},{tfName:"seed2",name:"seed2",type:"number"},{tfName:"T",name:"dtype",type:"dtype"},{tfName:"output_dtype",name:"output_dtype",type:"dtype"}]}],n3=Object.freeze(Object.defineProperty({__proto__:null,json:i3},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const s3=[{tfOpName:"NonMaxSuppressionV2",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"}]},{tfOpName:"NonMaxSuppressionV3",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"}]},{tfOpName:"NonMaxSuppressionV4",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"T_threshold",name:"threshold",type:"dtype",notSupported:!0},{tfName:"pad_to_max_output_size",name:"padToMaxOutputSize",type:"bool"}]},{tfOpName:"NonMaxSuppressionV5",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"},{start:5,name:"softNmsSigma",type:"number"}]},{tfOpName:"Where",category:"dynamic",inputs:[{start:0,name:"condition",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ListDiff",category:"dynamic",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],r3=Object.freeze(Object.defineProperty({__proto__:null,json:s3},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const a3=[{tfOpName:"LowerBound",category:"evaluation",inputs:[{start:0,name:"sortedSequence",type:"tensor"},{start:1,name:"values",type:"tensor"}]},{tfOpName:"TopKV2",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"k",type:"number"}],attrs:[{tfName:"sorted",name:"sorted",type:"bool"}]},{tfOpName:"UpperBound",category:"evaluation",inputs:[{start:0,name:"sortedSequence",type:"tensor"},{start:1,name:"values",type:"tensor"}]},{tfOpName:"Unique",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"UniqueV2",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]}],o3=Object.freeze(Object.defineProperty({__proto__:null,json:a3},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const h3=[{tfOpName:"PlaceholderWithDefault",category:"graph",inputs:[{start:0,name:"default",type:"tensor"}],attrs:[{tfName:"shape",name:"shape",type:"shape"},{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"Placeholder",category:"graph",attrs:[{tfName:"shape",name:"shape",type:"shape"},{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"Const",category:"graph"},{tfOpName:"Identity",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"IdentityN",category:"graph",inputs:[{start:0,end:0,name:"x",type:"tensors"}]},{tfOpName:"Snapshot",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Rank",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Size",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Shape",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"ShapeN",category:"graph",inputs:[{start:0,end:0,name:"x",type:"tensors"}]},{tfOpName:"Print",category:"graph",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"data",type:"tensors"}],attrs:[{tfName:"message",name:"message",type:"string"},{tfName:"first_n",name:"firstN",type:"number",notSupported:!0},{tfName:"summarize",name:"summarize",type:"number",defaultValue:3}]},{tfOpName:"NoOp",category:"graph",inputs:[]},{tfOpName:"StopGradient",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"FakeQuantWithMinMaxVars",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"min",name:"min",type:"number"},{tfName:"max",name:"max",type:"number"}]}],l3=Object.freeze(Object.defineProperty({__proto__:null,json:h3},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const u3=[{tfOpName:"HashTable",category:"hash_table",inputs:[],attrs:[{tfName:"shared_name",name:"sharedName",type:"string"},{tfName:"use_node_name_sharing",name:"useNodeNameSharing",type:"bool"},{tfName:"key_dtype",name:"keyDType",type:"dtype"},{tfName:"value_dtype",name:"valueDType",type:"dtype"}]},{tfOpName:"HashTableV2",category:"hash_table",inputs:[],attrs:[{tfName:"shared_name",name:"sharedName",type:"string"},{tfName:"use_node_name_sharing",name:"useNodeNameSharing",type:"bool"},{tfName:"key_dtype",name:"keyDType",type:"dtype"},{tfName:"value_dtype",name:"valueDType",type:"dtype"}]},{tfOpName:"LookupTableImport",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableImportV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableFind",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableFindV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableSize",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"}]},{tfOpName:"LookupTableSizeV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"}]},{tfOpName:"InitializeTable",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}]},{tfOpName:"InitializeTableV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}]}],f3=Object.freeze(Object.defineProperty({__proto__:null,json:u3},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const d3=[{tfOpName:"ResizeBilinear",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"size",type:"number[]"}],attrs:[{tfName:"align_corners",name:"alignCorners",type:"bool"},{tfName:"half_pixel_centers",name:"halfPixelCenters",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ResizeNearestNeighbor",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"size",type:"number[]"}],attrs:[{tfName:"align_corners",name:"alignCorners",type:"bool"},{tfName:"half_pixel_centers",name:"halfPixelCenters",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"CropAndResize",category:"image",inputs:[{start:0,name:"image",type:"tensor"},{start:1,name:"boxes",type:"tensor"},{start:2,name:"boxInd",type:"tensor"},{start:3,name:"cropSize",type:"number[]"}],attrs:[{tfName:"method",name:"method",type:"string"},{tfName:"extrapolation_value",name:"extrapolationValue",type:"number"}]},{tfOpName:"ImageProjectiveTransformV3",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"transforms",type:"tensor"},{start:2,name:"outputShape",type:"number[]"},{start:3,name:"fillValue",type:"number"}],attrs:[{tfName:"interpolation",name:"interpolation",type:"string"},{tfName:"fill_mode",name:"fillMode",type:"string"}]}],c3=Object.freeze(Object.defineProperty({__proto__:null,json:d3},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const v3=[{tfOpName:"Equal",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"NotEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Greater",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"GreaterEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Less",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LessEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalAnd",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalNot",category:"logical",inputs:[{start:0,name:"a",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalOr",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Select",category:"logical",inputs:[{start:0,name:"condition",type:"tensor"},{start:1,name:"a",type:"tensor"},{start:2,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SelectV2",category:"logical",inputs:[{start:0,name:"condition",type:"tensor"},{start:1,name:"a",type:"tensor"},{start:2,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BitwiseAnd",category:"logical",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}]}],p3=Object.freeze(Object.defineProperty({__proto__:null,json:v3},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const m3=[{tfOpName:"_FusedMatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:1e-4},{tfName:"transpose_a",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"transpose_b",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"leakyrelu_alpha",name:"leakyreluAlpha",type:"number",defaultValue:.2},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"transpose_a",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"transpose_b",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BatchMatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"adj_x",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"adj_y",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BatchMatMulV2",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"adj_x",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"adj_y",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Transpose",category:"matrices",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"perm",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Einsum",category:"matrices",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}],attrs:[{tfName:"equation",name:"equation",type:"string"},{tfName:"N",name:"n",type:"number",defaultValue:2},{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"MatrixBandPart",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"numLower",type:"tensor"},{start:1,name:"numUpper",type:"tensor"}]}],g3=Object.freeze(Object.defineProperty({__proto__:null,json:m3},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const y3=[{tfOpName:"EuclideanNorm",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool",defaultValue:!1}]},{tfOpName:"FusedBatchNorm",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"FusedBatchNormV2",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"FusedBatchNormV3",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"LRN",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"depth_radius",name:"radius",type:"number",defaultValue:5},{tfName:"bias",name:"bias",type:"number",defaultValue:1},{tfName:"alpha",name:"alpha",type:"number",defaultValue:1},{tfName:"beta",name:"beta",type:"number",defaultValue:.5}]},{tfOpName:"Softmax",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"LogSoftmax",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}]}],x3=Object.freeze(Object.defineProperty({__proto__:null,json:y3},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const T3=[{tfOpName:"Bincount",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"size",type:"number"},{start:2,name:"weights",type:"tensor"}]},{tfOpName:"DenseBincount",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"size",type:"number"},{start:2,name:"weights",type:"tensor"}],attrs:[{tfName:"binary_output",name:"binaryOutput",type:"bool"}]},{tfOpName:"Max",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Mean",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Min",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Sum",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"All",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Any",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"ArgMax",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"ArgMin",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"Prod",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cumprod",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}],attrs:[{tfName:"exclusive",name:"exclusive",type:"bool"},{tfName:"reverse",name:"reverse",type:"bool"}]},{tfOpName:"Cumsum",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}],attrs:[{tfName:"exclusive",name:"exclusive",type:"bool"},{tfName:"reverse",name:"reverse",type:"bool"}]}],S3=Object.freeze(Object.defineProperty({__proto__:null,json:T3},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const E3=[{tfOpName:"ConcatV2",category:"slice_join",inputs:[{start:0,end:-1,name:"tensors",type:"tensors"},{start:-1,name:"axis",type:"number"}],attrs:[{tfName:"N",name:"n",type:"number",defaultValue:2}]},{tfOpName:"Concat",category:"slice_join",inputs:[{start:1,end:0,name:"tensors",type:"tensors"},{start:0,name:"axis",type:"number"}],attrs:[{tfName:"N",name:"n",type:"number",defaultValue:2}]},{tfOpName:"GatherV2",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"axis",type:"number",defaultValue:0}],attrs:[{tfName:"batch_dims",name:"batchDims",type:"number",defaultValue:0}]},{tfOpName:"Gather",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",notSupported:!0}]},{tfOpName:"Reverse",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"dims",type:"bool[]"}]},{tfOpName:"ReverseV2",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}]},{tfOpName:"Slice",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"begin",type:"number[]"},{start:2,name:"size",type:"number[]"}]},{tfOpName:"StridedSlice",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"begin",type:"number[]"},{start:2,name:"end",type:"number[]"},{start:3,name:"strides",type:"number[]"}],attrs:[{tfName:"begin_mask",name:"beginMask",type:"number",defaultValue:0},{tfName:"end_mask",name:"endMask",type:"number",defaultValue:0},{tfName:"new_axis_mask",name:"newAxisMask",type:"number",defaultValue:0},{tfName:"ellipsis_mask",name:"ellipsisMask",type:"number",defaultValue:0},{tfName:"shrink_axis_mask",name:"shrinkAxisMask",type:"number",defaultValue:0}]},{tfOpName:"Pack",category:"slice_join",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}],attrs:[{tfName:"axis",name:"axis",type:"number",defaultValue:0}]},{tfOpName:"Unpack",category:"slice_join",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"axis",name:"axis",type:"number",defaultValue:0},{tfName:"num",name:"num",type:"number",defaultValue:0,notSupported:!0}]},{tfOpName:"Tile",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"reps",type:"number[]"}]},{tfOpName:"Split",category:"slice_join",inputs:[{start:0,name:"axis",type:"number",defaultValue:0},{start:1,name:"x",type:"tensor"}],attrs:[{tfName:"num_split",name:"numOrSizeSplits",type:"number",defaultValue:1}]},{tfOpName:"SplitV",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"numOrSizeSplits",type:"number[]"},{start:2,name:"axis",type:"number",defaultValue:0}]},{tfOpName:"ScatterNd",category:"slice_join",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"values",type:"tensor"},{start:2,name:"shape",type:"number[]"}]},{tfOpName:"GatherNd",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"}]},{tfOpName:"SparseToDense",category:"slice_join",inputs:[{start:0,name:"sparseIndices",type:"tensor"},{start:1,name:"outputShape",type:"number[]"},{start:2,name:"sparseValues",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",defaultValue:!1,notSupported:!0}]},{tfOpName:"TensorScatterUpdate",category:"slice_join",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"values",type:"tensor"}]}],C3=Object.freeze(Object.defineProperty({__proto__:null,json:E3},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const w3=[{tfOpName:"SparseFillEmptyRows",category:"sparse",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"values",type:"tensor"},{start:2,name:"denseShape",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}]},{tfOpName:"SparseReshape",category:"sparse",inputs:[{start:0,name:"inputIndices",type:"tensor"},{start:1,name:"inputShape",type:"tensor"},{start:2,name:"newShape",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SparseSegmentMean",category:"sparse",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"segmentIds",type:"tensor"}]},{tfOpName:"SparseSegmentSum",category:"sparse",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"segmentIds",type:"tensor"}]}],A3=Object.freeze(Object.defineProperty({__proto__:null,json:w3},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const P3=[{tfOpName:"FFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"IFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"RFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"fft_length",type:"number",notSupported:!0}]},{tfOpName:"IRFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"fft_length",type:"number",notSupported:!0}]}],M3=Object.freeze(Object.defineProperty({__proto__:null,json:P3},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const F3=[{tfOpName:"StaticRegexReplace",category:"string",inputs:[{start:0,name:"input",type:"tensor"}],attrs:[{tfName:"pattern",name:"pattern",type:"string"},{tfName:"rewrite",name:"rewrite",type:"string"},{tfName:"replace_global",name:"replaceGlobal",type:"bool"}]},{tfOpName:"StringNGrams",category:"string",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"dataSplits",type:"tensor"}],attrs:[{tfName:"separator",name:"separator",type:"string"},{tfName:"ngram_widths",name:"nGramWidths",type:"number[]"},{tfName:"left_pad",name:"leftPad",type:"string"},{tfName:"right_pad",name:"rightPad",type:"string"},{tfName:"pad_width",name:"padWidth",type:"number"},{tfName:"preserve_short_sequences",name:"preserveShortSequences",type:"bool"}],outputs:["ngrams","ngrams_splits"]},{tfOpName:"StringSplit",category:"string",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"delimiter",type:"tensor"}],attrs:[{tfName:"skip_empty",name:"skipEmpty",type:"bool"}],outputs:["indices","values","shape"]},{tfOpName:"StringToHashBucketFast",category:"string",inputs:[{start:0,name:"input",type:"tensor"}],attrs:[{tfName:"num_buckets",name:"numBuckets",type:"number"}]}],R3=Object.freeze(Object.defineProperty({__proto__:null,json:F3},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const L3=[{tfOpName:"Cast",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"SrcT",name:"sdtype",type:"dtype",notSupported:!0},{tfName:"DstT",name:"dtype",type:"dtype"}]},{tfOpName:"ExpandDims",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"MirrorPad",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"}],attrs:[{tfName:"mode",name:"mode",type:"string"}]},{tfOpName:"Pad",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"}],attrs:[{tfName:"constant_value",name:"constantValue",type:"number",defaultValue:0}]},{tfOpName:"PadV2",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"},{start:2,name:"constantValue",type:"number",defaultValue:0}]},{tfOpName:"Reshape",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}]},{tfOpName:"EnsureShape",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}]},{tfOpName:"Squeeze",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"axis",tfDeprecatedName:"squeeze_dims",name:"axis",type:"number[]"}]},{tfOpName:"SpaceToBatchND",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"blockShape",type:"number[]"},{start:2,name:"paddings",type:"number[]"}]},{tfOpName:"BatchToSpaceND",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"blockShape",type:"number[]"},{start:2,name:"crops",type:"number[]"}]},{tfOpName:"DepthToSpace",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"block_size",name:"blockSize",type:"number"},{tfName:"data_format",name:"dataFormat",type:"string"}]},{tfOpName:"BroadcastTo",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}],attrs:[]},{tfOpName:"BroadcastArgs",category:"transformation",inputs:[{start:0,name:"s0",type:"tensor"},{start:1,name:"s1",type:"tensor"}],attrs:[]}],O3=Object.freeze(Object.defineProperty({__proto__:null,json:L3},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Oo{static get Instance(){return this._instance||(this._instance=new this)}constructor(){const m=[Zx,Qx,_x,e3,n3,r3,o3,l3,f3,c3,p3,g3,x3,S3,C3,A3,M3,R3,O3],y=[].concat(...m.map(w=>w.json));this.opMappers=y.reduce((w,P)=>(w[P.tfOpName]=P,w),{})}transformGraph(m,y={}){const w=m.node,P=[],F=[],c=[],g=w.reduce((r,h)=>(r[h.name]=this.mapNode(h),h.op.startsWith("Placeholder")?P.push(r[h.name]):h.op==="Const"?F.push(r[h.name]):(h.input==null||h.input.length===0)&&c.push(r[h.name]),r),{});let t=[];const o=[];let v={},a={};y!=null&&(v=this.mapSignatureEntries(y.inputs),a=this.mapSignatureEntries(y.outputs));const i=Object.keys(g);i.forEach(r=>{const h=g[r];h.inputNames.forEach((n,l)=>{const[f,,u]=Ti(n),d=g[f];if(d.outputs!=null){const p=d.outputs.indexOf(u);if(p!==-1){const x=`${f}:${p}`;h.inputNames[l]=x}}h.inputs.push(d),d.children.push(h)})}),Object.keys(a).length===0?i.forEach(r=>{const h=g[r];h.children.length===0&&o.push(h)}):Object.keys(a).forEach(r=>{const[h]=Ti(r),n=g[h];n!=null&&(n.signatureKey=a[r],o.push(n))}),Object.keys(v).length>0?Object.keys(v).forEach(r=>{const[h]=Ti(r),n=g[h];n&&(n.signatureKey=v[r],t.push(n))}):t=P;let s={};m.library!=null&&m.library.function!=null&&(s=m.library.function.reduce((r,h)=>(r[h.signature.name]=this.mapFunction(h),r),{}));const e={nodes:g,inputs:t,outputs:o,weights:F,placeholders:P,signature:y,functions:s};return c.length>0&&(e.initNodes=c),e}mapSignatureEntries(m){return Object.keys(m||{}).reduce((y,w)=>(y[m[w].name]=w,y),{})}mapNode(m){const y=Tl(m.op)||this.opMappers[m.op]||{};m.attr==null&&(m.attr={});const w={name:m.name,op:m.op,category:y.category,inputNames:(m.input||[]).map(P=>P.startsWith("^")?P.slice(1):P),inputs:[],children:[],inputParams:{},attrParams:{},rawAttrs:m.attr,outputs:y.outputs};return y.inputs!=null&&(w.inputParams=y.inputs.reduce((P,F)=>(P[F.name]={type:F.type,inputIndexStart:F.start,inputIndexEnd:F.end},P),{})),y.attrs!=null&&(w.attrParams=y.attrs.reduce((P,F)=>{const c=F.type;let g;switch(F.type){case"string":g=va(m.attr,F.tfName,F.defaultValue),g===void 0&&F.tfDeprecatedName&&(g=va(m.attr,F.tfDeprecatedName,F.defaultValue));break;case"string[]":g=Sa(m.attr,F.tfName,F.defaultValue),g===void 0&&F.tfDeprecatedName&&(g=Sa(m.attr,F.tfDeprecatedName,F.defaultValue));break;case"number":g=ma(m.attr,F.tfName,F.defaultValue||0),g===void 0&&F.tfDeprecatedName&&(g=ma(m.attr,F.tfDeprecatedName,F.defaultValue));break;case"number[]":g=Ta(m.attr,F.tfName,F.defaultValue),g===void 0&&F.tfDeprecatedName&&(g=Ta(m.attr,F.tfDeprecatedName,F.defaultValue));break;case"bool":g=pa(m.attr,F.tfName,F.defaultValue),g===void 0&&F.tfDeprecatedName&&(g=pa(m.attr,F.tfDeprecatedName,F.defaultValue));break;case"bool[]":g=Ca(m.attr,F.tfName,F.defaultValue),g===void 0&&F.tfDeprecatedName&&(g=Ca(m.attr,F.tfDeprecatedName,F.defaultValue));break;case"shape":g=xa(m.attr,F.tfName,F.defaultValue),g===void 0&&F.tfDeprecatedName&&(g=xa(m.attr,F.tfDeprecatedName,F.defaultValue));break;case"shape[]":g=Ea(m.attr,F.tfName,F.defaultValue),g===void 0&&F.tfDeprecatedName&&(g=Ea(m.attr,F.tfDeprecatedName,F.defaultValue));break;case"dtype":g=ga(m.attr,F.tfName,F.defaultValue),g===void 0&&F.tfDeprecatedName&&(g=ga(m.attr,F.tfDeprecatedName,F.defaultValue));break;case"dtype[]":g=ya(m.attr,F.tfName,F.defaultValue),g===void 0&&F.tfDeprecatedName&&(g=ya(m.attr,F.tfDeprecatedName,F.defaultValue));break;case"func":g=bo(m.attr,F.tfName,F.defaultValue),g===void 0&&F.tfDeprecatedName&&(g=bo(m.attr,F.tfDeprecatedName,F.defaultValue));break;case"tensor":case"tensors":break;default:throw new Error(`Unsupported param type: ${F.type} for op: ${m.op}`)}return P[F.name]={value:g,type:c},P},{})),w}mapFunction(m){const y=m.nodeDef,w=[],P=[];let F={};y!=null&&(F=y.reduce((a,i)=>(a[i.name]=this.mapNode(i),i.op==="Const"&&P.push(a[i.name]),a),{}));const c=[],g=[];m.signature.inputArg.forEach(a=>{const[i]=Ti(a.name),s={name:i,op:"Placeholder",inputs:[],inputNames:[],category:"graph",inputParams:{},attrParams:{dtype:{value:Za(a.type),type:"dtype"}},children:[]};s.signatureKey=a.name,c.push(s),F[i]=s}),Object.keys(F).forEach(a=>{const i=F[a];i.inputNames.forEach((s,e)=>{const[r,,h]=Ti(s),n=F[r];if(n.outputs!=null){const l=n.outputs.indexOf(h);if(l!==-1){const f=`${r}:${l}`;i.inputNames[e]=f}}i.inputs.push(n),n.children.push(i)})});const o=m.ret;m.signature.outputArg.forEach(a=>{const[i,s]=Ti(o[a.name]),e=F[i];e!=null&&(e.defaultOutput=s,g.push(e))});const v=this.mapArgsToSignature(m);return{nodes:F,inputs:c,outputs:g,weights:P,placeholders:w,signature:v}}mapArgsToSignature(m){return{methodName:m.signature.name,inputs:m.signature.inputArg.reduce((y,w)=>(y[w.name]=this.mapArgToTensorInfo(w),y),{}),outputs:m.signature.outputArg.reduce((y,w)=>(y[w.name]=this.mapArgToTensorInfo(w,m.ret),y),{})}}mapArgToTensorInfo(m,y){let w=m.name;return y!=null&&(w=y[w]),{name:w,dtype:m.type}}}function b3(S){const m=ie().global;if(typeof m.atob<"u")return m.atob(S);if(typeof Buffer<"u")return new Buffer(S,"base64").toString();throw new Error("Unable to decode base64 in this environment. Missing built-in atob() or Buffer()")}function Sl(S,m){const y=Array.isArray(S)?String.fromCharCode.apply(null,S):b3(S);return m?y:y.toLowerCase()}function va(S,m,y,w=!1){const P=S[m];return P!=null?Sl(P.s,w):y}function pa(S,m,y){const w=S[m];return w?w.b:y}function ma(S,m,y){const w=S[m]||{},P=w.i!=null?w.i:w.f!=null?w.f:y;return typeof P=="number"?P:parseInt(P,10)}function Za(S){switch(typeof S=="string"&&(S=Ye[S]),S){case Ye.DT_FLOAT:case Ye.DT_HALF:return"float32";case Ye.DT_INT32:case Ye.DT_INT64:case Ye.DT_INT8:case Ye.DT_UINT8:return"int32";case Ye.DT_BOOL:return"bool";case Ye.DT_DOUBLE:return"float32";case Ye.DT_STRING:return"string";case Ye.DT_COMPLEX64:case Ye.DT_COMPLEX128:return"complex64";default:return null}}function bo(S,m,y){const w=S[m];return w&&w.func?w.func.name:y}function ga(S,m,y){const w=S[m];return w&&w.type?Za(w.type):y}function ya(S,m,y){const w=S[m];return w&&w.list&&w.list.type?w.list.type.map(P=>Za(P)):y}function El(S){if(!S.unknownRank)return S.dim!=null?S.dim.map(m=>typeof m.size=="number"?m.size:parseInt(m.size,10)):[]}function xa(S,m,y){const w=S[m];return w&&w.shape?El(w.shape):y}function Ta(S,m,y){const w=S[m];return w?((w.list.f&&w.list.f.length?w.list.f:w.list.i)||[]).map(P=>typeof P=="number"?P:parseInt(P,10)):y}function Sa(S,m,y,w=!1){const P=S[m];return P&&P.list&&P.list.s?P.list.s.map(F=>Sl(F,w)):y}function Ea(S,m,y){const w=S[m];return w&&w.list&&w.list.shape?w.list.shape.map(P=>El(P)):y}function Ca(S,m,y){const w=S[m];return w&&w.list&&w.list.b?w.list.b:y}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class D3{constructor(m,y,w){this.node=m,this.tensorMap=y,this.context=w,this.inputs=[],this.attrs={},this.inputs=m.inputNames.map(P=>this.getInput(P)),m.rawAttrs!=null&&(this.attrs=Object.keys(m.rawAttrs).reduce((P,F)=>(P[F]=this.getAttr(F),P),{}))}getInput(m){return Re(m,this.tensorMap,this.context)}getAttr(m,y){const w=this.node.rawAttrs[m];if(w.tensor!=null)return Re(m,this.tensorMap,this.context);if(w.i!=null||w.f!=null)return ma(this.node.rawAttrs,m,y);if(w.s!=null)return va(this.node.rawAttrs,m,y);if(w.b!=null)return pa(this.node.rawAttrs,m,y);if(w.shape!=null)return xa(this.node.rawAttrs,m,y);if(w.type!=null)return ga(this.node.rawAttrs,m,y);if(w.list!=null){if(w.list.i!=null||w.list.f!=null)return Ta(this.node.rawAttrs,m,y);if(w.list.s!=null)return Sa(this.node.rawAttrs,m,y);if(w.list.shape!=null)return Ea(this.node.rawAttrs,m,y);if(w.list.b!=null)return Ca(this.node.rawAttrs,m,y);if(w.list.type!=null)return ya(this.node.rawAttrs,m,y)}return y}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Oe=Object.freeze(Object.defineProperty({__proto__:null,OP_SCOPE_SUFFIX:ph,abs:ke,acos:mv,acosh:yv,add:Vt,addN:Tv,all:Ev,any:wv,argMax:Pv,argMin:Fv,asin:Lv,asinh:bv,atan:Nv,atan2:Bv,atanh:zv,avgPool:Lh,avgPool3d:Kv,basicLSTMCell:_v,batchNorm:cr,batchNorm2d:sp,batchNorm3d:ap,batchNorm4d:hp,batchToSpaceND:Oh,bincount:bh,bitwiseAnd:fp,booleanMaskAsync:e2,broadcastArgs:cp,broadcastTo:Ws,buffer:Pi,cast:ge,ceil:mp,clipByValue:Dh,clone:Vi,complex:Yi,concat:Le,concat1d:xp,concat2d:Sp,concat3d:Cp,concat4d:Ap,conv1d:Fp,conv2d:vr,conv2dTranspose:Op,conv3d:Dp,conv3dTranspose:Gp,cos:Up,cosh:Wp,cosineWindow:Wa,cumprod:Yp,cumsum:$p,denseBincount:jp,depthToSpace:Zp,depthwiseConv2d:Da,diag:qp,dilation2d:t0,div:ee,divNoNan:a0,dot:h0,dropout:v2,einsum:On,elu:Bh,enclosingPowerOfTwo:hl,ensureShape:d0,equal:Ih,erf:v0,euclideanNorm:w0,exp:Fi,expandDims:ti,expm1:F0,eye:zh,fft:Ua,fill:gs,floor:Uh,floorDiv:Rh,fused:R2,gather:Vh,gatherND:f2,greater:gr,greaterEqual:Wh,ifft:rr,imag:yr,image:Xn,inTopKAsync:m2,irfft:il,isFinite:G0,isInf:U0,isNaN:W0,leakyRelu:Xh,less:fa,lessEqual:Na,linalg:fx,linspace:$0,localResponseNormalization:j0,log:ds,log1p:Yh,logSigmoid:tm,logSoftmax:nm,logSumExp:$h,logicalAnd:ir,logicalNot:Kh,logicalOr:jh,logicalXor:lm,losses:dx,lowerBound:fm,matMul:de,max:In,maxPool:kh,maxPool3d:vm,maxPoolWithArgmax:mm,maximum:Zh,mean:nr,meshgrid:xm,min:ua,minimum:sr,mirrorPad:Em,mod:wm,moments:Pm,movingAverage:s2,mul:Lt,multiRNNCell:Fm,multinomial:Lm,neg:gi,norm:mr,notEqual:Jh,oneHot:Dm,ones:hn,onesLike:Im,op:lt,outerProduct:Gm,pad:ys,pad1d:Vm,pad2d:Xm,pad3d:Hm,pad4d:Km,pool:Qm,pow:fs,prelu:qh,print:Fh,prod:t1,raggedGather:i1,raggedRange:s1,raggedTensorToTensor:a1,rand:h1,randomGamma:L1,randomNormal:_h,randomStandardNormal:D1,randomUniform:za,randomUniformInt:B1,range:cs,real:vs,reciprocal:U1,relu:xr,relu6:tl,reshape:Pt,reverse:yn,reverse1d:H1,reverse2d:K1,reverse3d:k1,reverse4d:J1,rfft:Va,round:el,rsqrt:_1,scalar:oe,scatterND:a2,searchSorted:Ia,selu:eg,separableConv2d:ng,setdiff1dAsync:rg,sigmoid:fn,sign:og,signal:ux,sin:lg,sinh:fg,slice:Jt,slice1d:cg,slice2d:pg,slice3d:gg,slice4d:xg,softmax:Sg,softplus:Hh,spaceToBatchND:Qh,sparse:cx,sparseToDense:l2,spectral:lx,split:ps,sqrt:Mi,square:ri,squaredDifference:nl,squeeze:Pe,stack:Li,step:sl,stridedSlice:bg,string:vx,sub:Qt,sum:me,tan:Ng,tanh:la,tensor:mi,tensor1d:De,tensor2d:Xi,tensor3d:rl,tensor4d:Ig,tensor5d:Bg,tensor6d:Gg,tensorScatterUpdate:Vg,tile:os,topk:Xg,transpose:da,truncatedNormal:Hg,unique:Kg,unsortedSegmentSum:kg,unstack:Sn,upperBound:Jg,variable:Qg,where:Wi,whereAsync:ol,zeros:zn,zerosLike:Ze},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const N3=(S,m,y,w=Oe)=>{switch(S.op){case"BiasAdd":case"AddV2":case"Add":return[w.add(K("a",S,m,y),K("b",S,m,y))];case"AddN":return[w.addN(K("tensors",S,m,y))];case"FloorMod":case"Mod":return[w.mod(K("a",S,m,y),K("b",S,m,y))];case"Mul":return[w.mul(K("a",S,m,y),K("b",S,m,y))];case"RealDiv":case"Div":return[w.div(K("a",S,m,y),K("b",S,m,y))];case"DivNoNan":return[w.divNoNan(K("a",S,m,y),K("b",S,m,y))];case"FloorDiv":return[w.floorDiv(K("a",S,m,y),K("b",S,m,y))];case"Sub":return[w.sub(K("a",S,m,y),K("b",S,m,y))];case"Minimum":return[w.minimum(K("a",S,m,y),K("b",S,m,y))];case"Maximum":return[w.maximum(K("a",S,m,y),K("b",S,m,y))];case"Pow":return[w.pow(K("a",S,m,y),K("b",S,m,y))];case"SquaredDifference":return[w.squaredDifference(K("a",S,m,y),K("b",S,m,y))];default:throw TypeError(`Node type ${S.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const I3=(S,m,y,w=Oe)=>{switch(S.op){case"Abs":case"ComplexAbs":return[w.abs(K("x",S,m,y))];case"Acos":return[w.acos(K("x",S,m,y))];case"Acosh":return[w.acosh(K("x",S,m,y))];case"Asin":return[w.asin(K("x",S,m,y))];case"Asinh":return[w.asinh(K("x",S,m,y))];case"Atan":return[w.atan(K("x",S,m,y))];case"Atan2":return[w.atan2(K("x",S,m,y),K("y",S,m,y))];case"Atanh":return[w.atanh(K("x",S,m,y))];case"Ceil":return[w.ceil(K("x",S,m,y))];case"Complex":return[w.complex(K("real",S,m,y),K("imag",S,m,y))];case"Cos":return[w.cos(K("x",S,m,y))];case"Cosh":return[w.cosh(K("x",S,m,y))];case"Elu":return[w.elu(K("x",S,m,y))];case"Erf":return[w.erf(K("x",S,m,y))];case"Exp":return[w.exp(K("x",S,m,y))];case"Expm1":return[w.expm1(K("x",S,m,y))];case"Floor":return[w.floor(K("x",S,m,y))];case"Log":return[w.log(K("x",S,m,y))];case"Log1p":return[w.log1p(K("x",S,m,y))];case"Imag":return[w.imag(K("x",S,m,y))];case"Neg":return[w.neg(K("x",S,m,y))];case"Reciprocal":return[w.reciprocal(K("x",S,m,y))];case"Real":return[w.real(K("x",S,m,y))];case"Relu":return[w.relu(K("x",S,m,y))];case"Round":return[w.round(K("x",S,m,y))];case"Selu":return[w.selu(K("x",S,m,y))];case"Sigmoid":return[w.sigmoid(K("x",S,m,y))];case"Sin":return[w.sin(K("x",S,m,y))];case"Sign":return[w.sign(K("x",S,m,y))];case"Sinh":return[w.sinh(K("x",S,m,y))];case"Softplus":return[w.softplus(K("x",S,m,y))];case"Sqrt":return[w.sqrt(K("x",S,m,y))];case"Square":return[w.square(K("x",S,m,y))];case"Tanh":return[w.tanh(K("x",S,m,y))];case"Tan":return[w.tan(K("x",S,m,y))];case"ClipByValue":return[w.clipByValue(K("x",S,m,y),K("clipValueMin",S,m,y),K("clipValueMax",S,m,y))];case"Relu6":return[w.relu6(K("x",S,m,y))];case"Rsqrt":return[w.rsqrt(Re(S.inputNames[0],m,y))];case"LeakyRelu":return[w.leakyRelu(K("x",S,m,y),K("alpha",S,m,y))];case"Prelu":return[w.prelu(K("x",S,m,y),K("alpha",S,m,y))];case"IsNan":return[w.isNaN(Re(S.inputNames[0],m,y))];case"IsInf":return[w.isInf(Re(S.inputNames[0],m,y))];case"IsFinite":return[w.isFinite(Re(S.inputNames[0],m,y))];default:throw TypeError(`Node type ${S.op} is not implemented`)}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function qe(S,m,y=""){if(!(typeof S=="number"||typeof m=="number")){rt(S.length===m.length,()=>y+` Shapes ${S} and ${m} must match`);for(let w=0;w<S.length;w++){const P=S[w],F=m[w];rt(P<0||F<0||P===F,()=>y+` Shapes ${S} and ${m} must match`)}}}function Do(S){return!(typeof S=="number"||S.some(m=>m<0))}function ss(S,m,y){let w=wa(S,y);const P=!Do(w);if(P&&m.length===0)throw new Error(`Tried to calculate elements of an empty list with non-fully-defined elementShape: ${w}`);if(P&&m.forEach(F=>{w=wa(F.shape,w)}),!Do(w))throw new Error(`Non-fully-defined elementShape: ${w}`);return w}function wa(S,m){if(typeof S=="number")return m;if(typeof m=="number")return S;if(S.length!==m.length)throw new Error(`Incompatible ranks during merge: ${S} vs. ${m}`);const y=[];for(let w=0;w<S.length;++w){const P=S[w],F=m[w];if(P>=0&&F>=0&&P!==F)throw new Error(`Incompatible shape during merge: ${S} vs. ${m}`);y[w]=P>=0?P:F}return y}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class B3{constructor(m,y,w,P,F,c,g){this.name=m,this.dtype=y,this.maxSize=w,this.elementShape=P,this.identicalElementShapes=F,this.dynamicSize=c,this.clearAfterRead=g,this.tensors=[],this.closed_=!1,this.idTensor=oe(0),vi(this.idTensor)}get id(){return this.idTensor.id}get closed(){return this.closed_}clearAndClose(m){this.tensors.forEach(y=>{(m==null||!m.has(y.tensor.id))&&y.tensor.dispose()}),this.tensors=[],this.closed_=!0,this.idTensor.dispose()}size(){return this.tensors.length}read(m){if(this.closed_)throw new Error(`TensorArray ${this.name} has already been closed.`);if(m<0||m>=this.size())throw new Error(`Tried to read from index ${m}, but array size is: ${this.size()}`);const y=this.tensors[m];if(y.cleared)throw new Error(`TensorArray ${this.name}: Could not read index ${m} twice because it was cleared after a previous read (perhaps try setting clear_after_read = false?).`);return this.clearAfterRead&&(y.cleared=!0),y.read=!0,y.tensor}readMany(m){return m.map(y=>this.read(y))}write(m,y){if(this.closed_)throw new Error(`TensorArray ${this.name} has already been closed.`);if(m<0||!this.dynamicSize&&m>=this.maxSize)throw new Error(`Tried to write to index ${m}, but array is not resizeable and size is: ${this.maxSize}`);const w=this.tensors[m]||{};if(y.dtype!==this.dtype)throw new Error(`TensorArray ${this.name}: Could not write to TensorArray index ${m},
          because the value dtype is ${y.dtype}, but TensorArray dtype is ${this.dtype}.`);if(this.size()===0&&(this.elementShape==null||this.elementShape.length===0)&&(this.elementShape=y.shape),qe(this.elementShape,y.shape,`TensorArray ${this.name}: Could not write to TensorArray index ${m}.`),w.read)throw new Error(`TensorArray ${this.name}: Could not write to TensorArray index ${m}, because it has already been read.`);if(w.written)throw new Error(`TensorArray ${this.name}: Could not write to TensorArray index ${m}, because it has already been written.`);w.tensor=y,vi(y),w.written=!0,this.tensors[m]=w}writeMany(m,y){if(m.length!==y.length)throw new Error(`TensorArray ${this.name}: could not write multiple tensors,because the index size: ${m.length} is not the same as tensors size: ${y.length}.`);m.forEach((w,P)=>this.write(w,y[P]))}gather(m,y){if(y&&y!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but gather requested dtype ${y}`);if(m)m=m.slice(0,this.size());else{m=[];for(let P=0;P<this.size();P++)m.push(P)}if(m.length===0)return mi([],[0].concat(this.elementShape));const w=this.readMany(m);return qe(this.elementShape,w[0].shape,"TensorArray shape mismatch: "),Li(w,0)}concat(m){if(m&&m!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but concat requested dtype ${m}`);if(this.size()===0)return mi([],[0].concat(this.elementShape));const y=[];for(let P=0;P<this.size();P++)y.push(P);const w=this.readMany(y);return qe(this.elementShape,w[0].shape,`TensorArray shape mismatch: tensor array shape (${this.elementShape}) vs first tensor shape (${w[0].shape})`),Le(w,0)}scatter(m,y){if(y.dtype!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but tensor has dtype ${y.dtype}`);if(m.length!==y.shape[0])throw new Error(`Expected len(indices) == tensor.shape[0], but saw: ${m.length} vs. ${y.shape[0]}`);const w=Math.max(...m);if(!this.dynamicSize&&w>=this.maxSize)throw new Error(`Max index must be < array size (${w}  vs. ${this.maxSize})`);this.writeMany(m,Sn(y,0))}split(m,y){if(y.dtype!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but tensor has dtype ${y.dtype}`);let w=0;const P=m.map(t=>(w+=t,w));if(w!==y.shape[0])throw new Error(`Expected sum of lengths to be equal to
          tensor.shape[0], but sum of lengths is
        ${w}, and tensor's shape is: ${y.shape}`);if(!this.dynamicSize&&m.length!==this.maxSize)throw new Error(`TensorArray's size is not equal to the size of lengths (${this.maxSize} vs. ${m.length}), and the TensorArray is not marked as dynamically resizeable`);const F=w===0?0:y.size/w,c=[];_t(()=>{y=Pt(y,[1,w,F]);for(let t=0;t<m.length;++t){const v=[0,t===0?0:P[t-1],0],a=[1,m[t],F];c[t]=Pt(Jt(y,v,a),this.elementShape)}return c});const g=[];for(let t=0;t<m.length;t++)g[t]=t;this.writeMany(g,c)}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Tn{get id(){return this.idTensor.id}constructor(m,y,w,P=-1){this.tensors=m,this.elementShape=y,this.elementDtype=w,m!=null&&m.forEach(F=>{if(w!==F.dtype)throw new Error(`Invalid data types; op elements ${w}, but list elements ${F.dtype}`);qe(y,F.shape,"TensorList shape mismatch: "),vi(F)}),this.idTensor=oe(0),this.maxNumElements=P,vi(this.idTensor)}copy(){return new Tn([...this.tensors],this.elementShape,this.elementDtype)}clearAndClose(m){this.tensors.forEach(y=>{(m==null||!m.has(y.id))&&y.dispose()}),this.tensors.length=0,this.idTensor.dispose()}size(){return this.tensors.length}stack(m,y,w=-1){if(y!==this.elementDtype)throw new Error(`Invalid data types; op elements ${y}, but list elements ${this.elementDtype}`);if(w!==-1&&this.tensors.length!==w)throw new Error(`Operation expected a list with ${w} elements but got a list with ${this.tensors.length} elements.`);qe(m,this.elementShape,"TensorList shape mismatch: ");const P=ss(this.elementShape,this.tensors,m);return _t(()=>{const F=this.tensors.map(c=>Pt(c,P));return Li(F,0)})}popBack(m,y){if(y!==this.elementDtype)throw new Error(`Invalid data types; op elements ${y}, but list elements ${this.elementDtype}`);if(this.size()===0)throw new Error("Trying to pop from an empty list.");const w=ss(this.elementShape,this.tensors,m),P=this.tensors.pop();return P.kept=!1,qe(P.shape,m,"TensorList shape mismatch: "),Pt(P,w)}pushBack(m){if(m.dtype!==this.elementDtype)throw new Error(`Invalid data types; op elements ${m.dtype}, but list elements ${this.elementDtype}`);if(qe(m.shape,this.elementShape,"TensorList shape mismatch: "),this.maxNumElements===this.size())throw new Error("Trying to push element into a full list.");vi(m),this.tensors.push(m)}resize(m){if(m<0)throw new Error(`TensorListResize expects size to be non-negative. Got: ${m}`);if(this.maxNumElements!==-1&&m>this.maxNumElements)throw new Error(`TensorListResize input size ${m} is greater maxNumElement ${this.maxNumElements}.`);const y=new Tn([],this.elementShape,this.elementDtype,this.maxNumElements);y.tensors.length=m;for(let w=0;w<Math.min(this.tensors.length,m);++w)y.tensors[w]=this.tensors[w];return y}getItem(m,y,w){if(w!==this.elementDtype)throw new Error(`Invalid data types; op elements ${w}, but list elements ${this.elementDtype}`);if(m<0||m>this.tensors.length)throw new Error(`Trying to access element ${m} in a list with ${this.tensors.length} elements.`);if(this.tensors[m]==null)throw new Error(`element at index ${m} is null.`);qe(this.tensors[m].shape,y,"TensorList shape mismatch: ");const P=ss(this.elementShape,this.tensors,y);return Pt(this.tensors[m],P)}setItem(m,y){if(y.dtype!==this.elementDtype)throw new Error(`Invalid data types; op elements ${y.dtype}, but list elements ${this.elementDtype}`);if(m<0||this.maxNumElements!==-1&&m>=this.maxNumElements)throw new Error(`Trying to set element ${m} in a list with max ${this.maxNumElements} elements.`);qe(this.elementShape,y.shape,"TensorList shape mismatch: "),vi(y),this.tensors[m]!=null&&(this.tensors[m].kept=!1),this.tensors[m]=y}gather(m,y,w){if(y!==this.elementDtype)throw new Error(`Invalid data types; op elements ${y}, but list elements ${this.elementDtype}`);qe(this.elementShape,w,"TensorList shape mismatch: "),m=m.slice(0,this.size());const P=ss(this.elementShape,this.tensors,w);return m.length===0?mi([],[0].concat(P)):_t(()=>{const F=m.map(c=>Pt(this.tensors[c],P));return Li(F,0)})}concat(m,y){if(m&&m!==this.elementDtype)throw new Error(`TensorList dtype is ${this.elementDtype} but concat requested dtype ${m}`);qe(this.elementShape,y,"TensorList shape mismatch: ");const w=ss(this.elementShape,this.tensors,y);return this.size()===0?mi([],[0].concat(w)):_t(()=>{const P=this.tensors.map(F=>Pt(F,w));return Le(P,0)})}}function G3(S,m,y){const w=S.dtype;if(S.shape.length<1)throw new Error(`Tensor must be at least a vector, but saw shape: ${S.shape}`);if(S.dtype!==y)throw new Error(`Invalid data types; op elements ${S.dtype}, but list elements ${y}`);const P=S.shape.slice(1);qe(P,m,"TensorList shape mismatch: ");const F=Sn(S);return new Tn(F,m,w)}function z3(S,m,y,w){return new Tn([],S,m,w)}function U3(S,m,y,w){if(m.length!==S.shape[0])throw new Error(`Expected len(indices) == tensor.shape[0], but saw: ${m.length} vs. ${S.shape[0]}`);const P=Math.max(...m);if(w!=null&&w!==-1&&P>=w)throw new Error(`Max index must be < array size (${P}  vs. ${w})`);const F=new Tn([],y,S.dtype,w),c=Sn(S,0);return m.forEach((g,t)=>{F.setItem(g,c[t])}),F}function V3(S,m,y){let w=0;const P=m.map(v=>(w+=v,w));if(w!==S.shape[0])throw new Error(`Expected sum of lengths to be equal to
          tensor.shape[0], but sum of lengths is
        ${w}, and tensor's shape is: ${S.shape}`);const F=S.shape.slice(1),c=wa(F,y),g=w===0?0:S.size/w,t=_t(()=>{const v=[];S=Pt(S,[1,w,g]);for(let a=0;a<m.length;++a){const s=[0,a===0?0:P[a-1],0],e=[1,m[a],g];v[a]=Pt(Jt(S,s,e),c)}return S.dispose(),v}),o=new Tn([],y,S.dtype,m.length);for(let v=0;v<t.length;v++)o.setItem(v,t[v]);return o}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const W3=async(S,m,y)=>{switch(S.op){case"If":case"StatelessIf":{const w=K("thenBranch",S,m,y),P=K("elseBranch",S,m,y),F=K("cond",S,m,y),c=K("args",S,m,y);return(await F.data())[0]?y.functionMap[w].executeFunctionAsync(c,y.tensorArrayMap,y.tensorListMap):y.functionMap[P].executeFunctionAsync(c,y.tensorArrayMap,y.tensorListMap)}case"While":case"StatelessWhile":{const w=K("body",S,m,y),P=K("cond",S,m,y),F=K("args",S,m,y),c=await y.functionMap[P].executeFunctionAsync(F,y.tensorArrayMap,y.tensorListMap),g=F.map(v=>v.id);let t=await c[0].data();c.forEach(v=>{!v.kept&&g.indexOf(v.id)===-1&&v.dispose()});let o=F;for(;t[0];){const v=o;o=await y.functionMap[w].executeFunctionAsync(o,y.tensorArrayMap,y.tensorListMap);const a=o.map(s=>s.id);v.forEach(s=>{!s.kept&&g.indexOf(s.id)===-1&&a.indexOf(s.id)===-1&&s.dispose()});const i=await y.functionMap[P].executeFunctionAsync(o,y.tensorArrayMap,y.tensorListMap);t=await i[0].data(),i.forEach(s=>{!s.kept&&g.indexOf(s.id)===-1&&a.indexOf(s.id)===-1&&s.dispose()})}return o}case"LoopCond":{const w=K("pred",S,m,y);return[Si(w)]}case"Switch":{const w=K("pred",S,m,y);let P=K("data",S,m,y);return P.kept||(P=Si(P)),(await w.data())[0]?[void 0,P]:[P,void 0]}case"Merge":{const w=S.inputNames.find(P=>Re(P,m,y)!==void 0);if(w){const P=Re(w,m,y);return[Si(P)]}return}case"Enter":{const w=K("frameName",S,m,y),P=K("tensor",S,m,y);return y.enterFrame(w),[Si(P)]}case"Exit":{const w=K("tensor",S,m,y);return y.exitFrame(),[Si(w)]}case"NextIteration":{const w=K("tensor",S,m,y);return y.nextIteration(),[Si(w)]}case"TensorArrayV3":{const w=K("size",S,m,y),P=K("dtype",S,m,y),F=K("elementShape",S,m,y),c=K("dynamicSize",S,m,y),g=K("clearAfterRead",S,m,y),t=K("identicalElementShapes",S,m,y),o=K("name",S,m,y),v=new B3(o,P,w,F,t,c,g);return y.addTensorArray(v),[v.idTensor,oe(1)]}case"TensorArrayWriteV3":{const w=K("tensorArrayId",S,m,y),P=K("index",S,m,y),F=K("tensor",S,m,y),c=y.getTensorArray(w.id);return c.write(P,F),[c.idTensor]}case"TensorArrayReadV3":{const w=K("tensorArrayId",S,m,y),P=K("index",S,m,y);return[y.getTensorArray(w.id).read(P)]}case"TensorArrayGatherV3":{const w=K("tensorArrayId",S,m,y),P=K("indices",S,m,y),F=K("dtype",S,m,y);return[y.getTensorArray(w.id).gather(P,F)]}case"TensorArrayScatterV3":{const w=K("tensorArrayId",S,m,y),P=K("indices",S,m,y),F=K("tensor",S,m,y),c=y.getTensorArray(w.id);return c.scatter(P,F),[c.idTensor]}case"TensorArrayConcatV3":{const w=K("tensorArrayId",S,m,y),P=y.getTensorArray(w.id),F=K("dtype",S,m,y);return[P.concat(F)]}case"TensorArraySplitV3":{const w=K("tensorArrayId",S,m,y),P=K("tensor",S,m,y),F=K("lengths",S,m,y),c=y.getTensorArray(w.id);return c.split(F,P),[c.idTensor]}case"TensorArraySizeV3":{const w=K("tensorArrayId",S,m,y),P=y.getTensorArray(w.id);return[oe(P.size(),"int32")]}case"TensorArrayCloseV3":{const w=K("tensorArrayId",S,m,y),P=y.getTensorArray(w.id);return P.clearAndClose(),[P.idTensor]}case"TensorListSetItem":{const w=K("tensorListId",S,m,y),P=K("index",S,m,y),F=K("tensor",S,m,y),c=y.getTensorList(w.id);return c.setItem(P,F),[c.idTensor]}case"TensorListGetItem":{const w=K("tensorListId",S,m,y),P=K("index",S,m,y),F=K("elementShape",S,m,y),c=K("elementDType",S,m,y);return[y.getTensorList(w.id).getItem(P,F,c)]}case"TensorListScatterV2":case"TensorListScatter":{const w=K("indices",S,m,y),P=K("tensor",S,m,y),F=K("elementShape",S,m,y),c=K("numElements",S,m,y),g=U3(P,w,F,c);return y.addTensorList(g),[g.idTensor]}case"TensorListReserve":case"EmptyTensorList":{const w=K("elementShape",S,m,y),P=K("elementDType",S,m,y);let F;S.op==="TensorListReserve"?F="numElements":F="maxNumElements";const c=K(F,S,m,y),g=S.op==="TensorListReserve"?-1:c,t=z3(w,P,c,g);return y.addTensorList(t),[t.idTensor]}case"TensorListGather":{const w=K("tensorListId",S,m,y),P=K("indices",S,m,y),F=K("elementShape",S,m,y),c=K("elementDType",S,m,y);return[y.getTensorList(w.id).gather(P,c,F)]}case"TensorListStack":{const w=K("tensorListId",S,m,y),P=K("elementShape",S,m,y),F=K("elementDType",S,m,y),c=K("numElements",S,m,y);return[y.getTensorList(w.id).stack(P,F,c)]}case"TensorListFromTensor":{const w=K("tensor",S,m,y),P=K("elementShape",S,m,y),F=K("elementDType",S,m,y),c=G3(w,P,F);return y.addTensorList(c),[c.idTensor]}case"TensorListConcat":case"TensorListConcatV2":{const w=K("tensorListId",S,m,y),P=y.getTensorList(w.id),F=K("dtype",S,m,y),c=K("elementShape",S,m,y);return[P.concat(F,c)]}case"TensorListPushBack":{const w=K("tensorListId",S,m,y),P=K("tensor",S,m,y),F=y.getTensorList(w.id);return F.pushBack(P),[F.idTensor]}case"TensorListPopBack":{const w=K("tensorListId",S,m,y),P=K("elementShape",S,m,y),F=K("elementDType",S,m,y);return[y.getTensorList(w.id).popBack(P,F)]}case"TensorListSplit":{const w=K("tensor",S,m,y),P=K("elementShape",S,m,y),F=K("lengths",S,m,y),c=V3(w,F,P);return y.addTensorList(c),[c.idTensor]}case"TensorListLength":{const w=K("tensorListId",S,m,y),P=y.getTensorList(w.id);return[oe(P.size(),"int32")]}case"TensorListResize":{const w=K("tensorListId",S,m,y),P=K("size",S,m,y),c=y.getTensorList(w.id).resize(P);return y.addTensorList(c),[c.idTensor]}default:throw TypeError(`Node type ${S.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function No(S,m,y){const[w,P]=K("fusedOps",S,m,y),F=w==="biasadd",c=!F,g=P==="prelu",t=w==="fusedbatchnorm",o=K("numArgs",S,m,y);if(F){if(g&&o!==2)throw new Error("FusedConv2d and DepthwiseConv2d with BiasAdd and Prelu must have two extra arguments: bias and alpha.");if(!g&&F&&o!==1)throw new Error("FusedConv2d and DepthwiseConv2d with BiasAdd must have one extra argument: bias.")}if(t)throw new Error("FusedConv2d and DepthwiseConv2d with FusedBatchNorm is not supported");const v=K("strides",S,m,y),a=Zs(S,m,y),i=K("dataFormat",S,m,y).toUpperCase(),s=K("dilations",S,m,y);let[e,r]=K("args",S,m,y);c&&(r=e,e=void 0);const h=K("leakyreluAlpha",S,m,y);return{stride:v,pad:a,dataFormat:i,dilations:s,biasArg:e,preluArg:r,activationFunc:P,leakyreluAlpha:h}}const X3=(S,m,y,w=Oe)=>{switch(S.op){case"Conv1D":{const P=K("stride",S,m,y),F=K("pad",S,m,y),c=K("dataFormat",S,m,y).toUpperCase(),g=K("dilation",S,m,y);return[w.conv1d(K("x",S,m,y),K("filter",S,m,y),P,F,c,g)]}case"Conv2D":{const P=K("strides",S,m,y),F=Zs(S,m,y),c=K("dataFormat",S,m,y).toUpperCase(),g=K("dilations",S,m,y);return[w.conv2d(K("x",S,m,y),K("filter",S,m,y),[P[1],P[2]],F,c,[g[1],g[2]])]}case"_FusedConv2D":{const{stride:P,pad:F,dataFormat:c,dilations:g,biasArg:t,preluArg:o,activationFunc:v,leakyreluAlpha:a}=No(S,m,y);return[w.fused.conv2d({x:K("x",S,m,y),filter:K("filter",S,m,y),strides:[P[1],P[2]],pad:F,dataFormat:c,dilations:[g[1],g[2]],bias:t,activation:v,preluActivationWeights:o,leakyreluAlpha:a})]}case"FusedDepthwiseConv2dNative":{const{stride:P,pad:F,dataFormat:c,dilations:g,biasArg:t,preluArg:o,activationFunc:v,leakyreluAlpha:a}=No(S,m,y);return[w.fused.depthwiseConv2d({x:K("x",S,m,y),filter:K("filter",S,m,y),strides:[P[1],P[2]],pad:F,dataFormat:c,dilations:[g[1],g[2]],bias:t,activation:v,preluActivationWeights:o,leakyreluAlpha:a})]}case"Conv2DBackpropInput":case"Conv2dTranspose":{const P=K("outputShape",S,m,y),F=K("strides",S,m,y),c=Zs(S,m,y);return[w.conv2dTranspose(K("x",S,m,y),K("filter",S,m,y),P,[F[1],F[2]],c)]}case"DepthwiseConv2dNative":case"DepthwiseConv2d":{const P=K("strides",S,m,y),F=Zs(S,m,y),c=K("dilations",S,m,y),g=K("dataFormat",S,m,y).toUpperCase();return[w.depthwiseConv2d(K("input",S,m,y),K("filter",S,m,y),[P[1],P[2]],F,g,[c[1],c[2]])]}case"Conv3D":{const P=K("strides",S,m,y),F=K("pad",S,m,y),c=K("dataFormat",S,m,y).toUpperCase(),g=K("dilations",S,m,y);return[w.conv3d(K("x",S,m,y),K("filter",S,m,y),[P[1],P[2],P[3]],F,c,[g[1],g[2],g[3]])]}case"AvgPool":{const P=K("strides",S,m,y),F=K("pad",S,m,y),c=K("kernelSize",S,m,y);return[w.avgPool(K("x",S,m,y),[c[1],c[2]],[P[1],P[2]],F)]}case"MaxPool":{const P=K("strides",S,m,y),F=K("pad",S,m,y),c=K("kernelSize",S,m,y);return[w.maxPool(K("x",S,m,y),[c[1],c[2]],[P[1],P[2]],F)]}case"MaxPoolWithArgmax":{const P=K("strides",S,m,y),F=K("pad",S,m,y),c=K("kernelSize",S,m,y),g=K("includeBatchInIndex",S,m,y),{result:t,indexes:o}=w.maxPoolWithArgmax(K("x",S,m,y),[c[1],c[2]],[P[1],P[2]],F,g);return[t,o]}case"AvgPool3D":{const P=K("strides",S,m,y),F=K("pad",S,m,y),c=K("kernelSize",S,m,y);return[w.avgPool3d(K("x",S,m,y),[c[1],c[2],c[3]],[P[1],P[2],P[3]],F)]}case"MaxPool3D":{const P=K("strides",S,m,y),F=K("pad",S,m,y),c=K("kernelSize",S,m,y);return[w.maxPool3d(K("x",S,m,y),[c[1],c[2],c[3]],[P[1],P[2],P[3]],F)]}case"Dilation2D":{const P=K("strides",S,m,y),F=K("pad",S,m,y),c=K("dilations",S,m,y),g=P[1],t=P[2],o=c[1],v=c[2];return[w.dilation2d(K("x",S,m,y),K("filter",S,m,y),[g,t],F,[o,v],"NHWC")]}default:throw TypeError(`Node type ${S.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Y3=(S,m,y,w=Oe)=>{switch(S.op){case"Fill":{const P=K("shape",S,m,y),F=K("dtype",S,m,y),c=K("value",S,m,y);return[w.fill(P,c,F)]}case"LinSpace":{const P=K("start",S,m,y),F=K("stop",S,m,y),c=K("num",S,m,y);return[w.linspace(P,F,c)]}case"Multinomial":{const P=K("logits",S,m,y),F=K("numSamples",S,m,y),c=K("seed",S,m,y);return[w.multinomial(P,F,c)]}case"OneHot":{const P=K("indices",S,m,y),F=K("depth",S,m,y),c=K("onValue",S,m,y),g=K("offValue",S,m,y),t=K("dtype",S,m,y);return[w.oneHot(P,F,c,g,t)]}case"Ones":return[w.ones(K("shape",S,m,y),K("dtype",S,m,y))];case"OnesLike":return[w.onesLike(K("x",S,m,y))];case"RandomStandardNormal":return[w.randomStandardNormal(K("shape",S,m,y),K("dtype",S,m,y),K("seed",S,m,y))];case"RandomUniform":return[w.randomUniform(K("shape",S,m,y),K("minval",S,m,y),K("maxval",S,m,y),K("dtype",S,m,y))];case"RandomUniformInt":return[w.randomUniformInt(K("shape",S,m,y),K("minval",S,m,y),K("maxval",S,m,y),K("seed",S,m,y))];case"Range":{const P=K("start",S,m,y),F=K("stop",S,m,y),c=K("step",S,m,y);return[w.range(P,F,c,K("dtype",S,m,y))]}case"TruncatedNormal":{const P=K("shape",S,m,y),F=K("mean",S,m,y),c=K("stdDev",S,m,y),g=K("seed",S,m,y);return[w.truncatedNormal(P,F,c,K("dtype",S,m,y),g)]}case"Zeros":return[w.zeros(K("shape",S,m,y),K("dtype",S,m,y))];case"ZerosLike":return[w.zerosLike(K("x",S,m,y))];default:throw TypeError(`Node type ${S.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ur(S,m,y){const w=K("boxes",S,m,y),P=K("scores",S,m,y),F=K("maxOutputSize",S,m,y),c=K("iouThreshold",S,m,y),g=K("scoreThreshold",S,m,y),t=K("softNmsSigma",S,m,y);return{boxes:w,scores:P,maxOutputSize:F,iouThreshold:c,scoreThreshold:g,softNmsSigma:t}}const H3=async(S,m,y,w,P=Oe)=>{switch(S.op){case"NonMaxSuppressionV5":{const{boxes:F,scores:c,maxOutputSize:g,iouThreshold:t,scoreThreshold:o,softNmsSigma:v}=Ur(S,m,y),a=await P.image.nonMaxSuppressionWithScoreAsync(F,c,g,t,o,v);return[a.selectedIndices,a.selectedScores]}case"NonMaxSuppressionV4":{const{boxes:F,scores:c,maxOutputSize:g,iouThreshold:t,scoreThreshold:o}=Ur(S,m,y),v=K("padToMaxOutputSize",S,m,y),a=await P.image.nonMaxSuppressionPaddedAsync(F,c,g,t,o,v);return[a.selectedIndices,a.validOutputs]}case"NonMaxSuppressionV3":case"NonMaxSuppressionV2":{const{boxes:F,scores:c,maxOutputSize:g,iouThreshold:t,scoreThreshold:o}=Ur(S,m,y);return[await P.image.nonMaxSuppressionAsync(F,c,g,t,o)]}case"Where":{const F=P.cast(K("condition",S,m,y),"bool"),c=[await P.whereAsync(F)];return F.dispose(),c}case"ListDiff":return P.setdiff1dAsync(K("x",S,m,y),K("y",S,m,y));default:throw TypeError(`Node type ${S.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const $3=(S,m,y,w=Oe)=>{switch(S.op){case"LowerBound":{const P=K("sortedSequence",S,m,y),F=K("values",S,m,y);return[w.lowerBound(P,F)]}case"TopKV2":{const P=K("x",S,m,y),F=K("k",S,m,y),c=K("sorted",S,m,y),g=w.topk(P,F,c);return[g.values,g.indices]}case"UpperBound":{const P=K("sortedSequence",S,m,y),F=K("values",S,m,y);return[w.upperBound(P,F)]}case"Unique":{const P=K("x",S,m,y),F=w.unique(P);return[F.values,F.indices]}case"UniqueV2":{const P=K("x",S,m,y),F=K("axis",S,m,y),c=w.unique(P,F);return[c.values,c.indices]}default:throw TypeError(`Node type ${S.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const K3=(S,m,y,w=Oe)=>{switch(S.op){case"Const":return m[S.name];case"PlaceholderWithDefault":const P=K("default",S,m,y);return[Re(S.name,m,y)||P];case"Placeholder":return[Re(S.name,m,y)];case"Identity":case"StopGradient":case"FakeQuantWithMinMaxVars":{const v=K("x",S,m,y);return[Si(v)]}case"IdentityN":return K("x",S,m,y).map(v=>Si(v));case"Snapshot":const F=K("x",S,m,y);return[Si(F)];case"Shape":return[w.tensor1d(K("x",S,m,y).shape,"int32")];case"ShapeN":return K("x",S,m,y).map(v=>w.tensor1d(v.shape));case"Size":return[w.scalar(K("x",S,m,y).size,"int32")];case"Rank":return[w.scalar(K("x",S,m,y).rank,"int32")];case"NoOp":return[w.scalar(1)];case"Print":const c=K("x",S,m,y),g=K("data",S,m,y),t=K("message",S,m,y),o=K("summarize",S,m,y);console.warn("The graph has a tf.print() operation,usually used for debugging, which slows down performance."),console.log(t);for(let v=0;v<g.length;v++)console.log(Array.prototype.slice.call(g[v].dataSync()).slice(0,o));return[c];default:throw TypeError(`Node type ${S.op} is not implemented`)}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class j3{get id(){return this.handle.id}constructor(m,y){this.keyDType=m,this.valueDType=y,this.handle=oe(0),this.tensorMap=new Map,vi(this.handle)}clearAndClose(){this.tensorMap.forEach(m=>m.dispose()),this.tensorMap.clear(),this.handle.dispose()}size(){return this.tensorMap.size}tensorSize(){return oe(this.size(),"int32")}async import(m,y){this.checkKeyAndValueTensor(m,y);const w=await m.data();return this.tensorMap.forEach(P=>P.dispose()),this.tensorMap.clear(),_t(()=>{const P=Sn(y),F=w.length,c=P.length;rt(F===c,()=>`The number of elements doesn't match, keys has ${F} elements, the values has ${c} elements.`);for(let g=0;g<F;g++){const t=w[g],o=P[g];vi(o),this.tensorMap.set(t,o)}return this.handle})}async find(m,y){this.checkKeyAndValueTensor(m,y);const w=await m.data();return _t(()=>{const P=[];for(let F=0;F<w.length;F++){const c=w[F],g=this.findWithDefault(c,y);P.push(g)}return Li(P)})}findWithDefault(m,y){const w=this.tensorMap.get(m);return w??y}checkKeyAndValueTensor(m,y){if(m.dtype!==this.keyDType)throw new Error(`Expect key dtype ${this.keyDType}, but got ${m.dtype}`);if(y.dtype!==this.valueDType)throw new Error(`Expect value dtype ${this.valueDType}, but got ${y.dtype}`)}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const k3=async(S,m,y,w)=>{switch(S.op){case"HashTable":case"HashTableV2":{const P=w.getHashTableHandleByName(S.name);if(P!=null)return[P];{const F=K("keyDType",S,m,y),c=K("valueDType",S,m,y),g=new j3(F,c);return w.addHashTable(S.name,g),[g.handle]}}case"InitializeTable":case"InitializeTableV2":case"LookupTableImport":case"LookupTableImportV2":{const P=K("tableHandle",S,m,y,w),F=K("keys",S,m,y),c=K("values",S,m,y);return[await w.getHashTableById(P.id).import(F,c)]}case"LookupTableFind":case"LookupTableFindV2":{const P=K("tableHandle",S,m,y,w),F=K("keys",S,m,y),c=K("defaultValue",S,m,y);return[await w.getHashTableById(P.id).find(F,c)]}case"LookupTableSize":case"LookupTableSizeV2":{const P=K("tableHandle",S,m,y,w);return[w.getHashTableById(P.id).tensorSize()]}default:throw TypeError(`Node type ${S.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Z3=(S,m,y,w=Oe)=>{switch(S.op){case"ResizeBilinear":{const P=K("images",S,m,y),F=K("size",S,m,y),c=K("alignCorners",S,m,y),g=K("halfPixelCenters",S,m,y);return[w.image.resizeBilinear(P,[F[0],F[1]],c,g)]}case"ResizeNearestNeighbor":{const P=K("images",S,m,y),F=K("size",S,m,y),c=K("alignCorners",S,m,y),g=K("halfPixelCenters",S,m,y);return[w.image.resizeNearestNeighbor(P,[F[0],F[1]],c,g)]}case"CropAndResize":{const P=K("image",S,m,y),F=K("boxes",S,m,y),c=K("boxInd",S,m,y),g=K("cropSize",S,m,y),t=K("method",S,m,y),o=K("extrapolationValue",S,m,y);return[w.image.cropAndResize(P,F,c,g,t,o)]}case"ImageProjectiveTransformV3":{const P=K("images",S,m,y),F=K("transforms",S,m,y),c=K("outputShape",S,m,y),g=K("fillValue",S,m,y),t=K("interpolation",S,m,y),o=K("fillMode",S,m,y);return[w.image.transform(P,F,t.toLowerCase(),o.toLowerCase(),g,c)]}default:throw TypeError(`Node type ${S.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const J3=(S,m,y,w=Oe)=>{switch(S.op){case"Equal":return[w.equal(K("a",S,m,y),K("b",S,m,y))];case"NotEqual":return[w.notEqual(K("a",S,m,y),K("b",S,m,y))];case"Greater":return[w.greater(K("a",S,m,y),K("b",S,m,y))];case"GreaterEqual":return[w.greaterEqual(K("a",S,m,y),K("b",S,m,y))];case"Less":return[w.less(K("a",S,m,y),K("b",S,m,y))];case"LessEqual":return[w.lessEqual(K("a",S,m,y),K("b",S,m,y))];case"LogicalAnd":return[w.logicalAnd(K("a",S,m,y),K("b",S,m,y))];case"LogicalNot":return[w.logicalNot(K("a",S,m,y))];case"LogicalOr":return[w.logicalOr(K("a",S,m,y),K("b",S,m,y))];case"Select":case"SelectV2":return[w.where(K("condition",S,m,y),K("a",S,m,y),K("b",S,m,y))];case"BitwiseAnd":return[w.bitwiseAnd(K("a",S,m,y),K("b",S,m,y))];default:throw TypeError(`Node type ${S.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Q3=(S,m,y,w=Oe)=>{switch(S.op){case"BatchMatMul":case"BatchMatMulV2":case"MatMul":return[w.matMul(K("a",S,m,y),K("b",S,m,y),K("transposeA",S,m,y),K("transposeB",S,m,y))];case"Einsum":return[w.einsum(K("equation",S,m,y),...K("tensors",S,m,y))];case"Transpose":return[w.transpose(K("x",S,m,y),K("perm",S,m,y))];case"_FusedMatMul":const[P,F]=K("fusedOps",S,m,y),c=P==="biasadd",g=F==="prelu",t=K("numArgs",S,m,y),o=K("leakyreluAlpha",S,m,y);if(c){if(g&&t!==2)throw new Error("Fused MatMul with BiasAdd and Prelu must have two extra arguments: bias and alpha.");if(!g&&t!==1)throw new Error("Fused MatMul with BiasAdd must have one extra argument: bias.")}const[v,a]=K("args",S,m,y);return[w.fused.matMul({a:K("a",S,m,y),b:K("b",S,m,y),transposeA:K("transposeA",S,m,y),transposeB:K("transposeB",S,m,y),bias:v,activation:F,preluActivationWeights:a,leakyreluAlpha:o})];case"MatrixBandPart":return[w.linalg.bandPart(K("a",S,m,y),K("numLower",S,m,y),K("numUpper",S,m,y))];default:throw TypeError(`Node type ${S.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const q3=(S,m,y,w=Oe)=>{switch(S.op){case"EuclideanNorm":return[w.euclideanNorm(K("x",S,m,y),K("axis",S,m,y),K("keepDims",S,m,y))];case"FusedBatchNorm":case"FusedBatchNormV2":return[w.batchNorm(K("x",S,m,y),K("mean",S,m,y),K("variance",S,m,y),K("offset",S,m,y),K("scale",S,m,y),K("epsilon",S,m,y))];case"FusedBatchNormV3":return[w.batchNorm(K("x",S,m,y),K("mean",S,m,y),K("variance",S,m,y),K("offset",S,m,y),K("scale",S,m,y),K("epsilon",S,m,y))];case"LRN":return[w.localResponseNormalization(K("x",S,m,y),K("radius",S,m,y),K("bias",S,m,y),K("alpha",S,m,y),K("beta",S,m,y))];case"Softmax":return[w.softmax(K("x",S,m,y))];case"LogSoftmax":return[w.logSoftmax(K("x",S,m,y))];default:throw TypeError(`Node type ${S.op} is not implemented`)}};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const _3=(S,m,y,w=Oe)=>{switch(S.op){case"RaggedGather":{const{outputNestedSplits:P,outputDenseValues:F}=w.raggedGather(K("paramsNestedSplits",S,m,y),K("paramsDenseValues",S,m,y),K("indices",S,m,y),K("outputRaggedRank",S,m,y));return P.concat(F)}case"RaggedRange":{const{rtNestedSplits:P,rtDenseValues:F}=w.raggedRange(K("starts",S,m,y),K("limits",S,m,y),K("splits",S,m,y));return[P,F]}case"RaggedTensorToTensor":return[w.raggedTensorToTensor(K("shape",S,m,y),K("values",S,m,y),K("defaultValue",S,m,y),K("rowPartitionTensors",S,m,y),K("rowPartitionTypes",S,m,y))];default:throw TypeError(`Node type ${S.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const t4=(S,m,y,w=Oe)=>{switch(S.op){case"Max":{const g=K("axis",S,m,y),t=K("keepDims",S,m,y);return[w.max(K("x",S,m,y),g,t)]}case"Mean":{const g=K("axis",S,m,y),t=K("keepDims",S,m,y);return[w.mean(K("x",S,m,y),g,t)]}case"Min":{const g=K("axis",S,m,y),t=K("keepDims",S,m,y);return[w.min(K("x",S,m,y),g,t)]}case"Sum":{const g=K("axis",S,m,y),t=K("keepDims",S,m,y);return[w.sum(K("x",S,m,y),g,t)]}case"All":{const g=K("axis",S,m,y),t=K("keepDims",S,m,y);return[w.all(K("x",S,m,y),g,t)]}case"Any":{const g=K("axis",S,m,y),t=K("keepDims",S,m,y);return[w.any(K("x",S,m,y),g,t)]}case"ArgMax":{const g=K("axis",S,m,y);return[w.argMax(K("x",S,m,y),g)]}case"ArgMin":{const g=K("axis",S,m,y);return[w.argMin(K("x",S,m,y),g)]}case"Prod":{const g=K("axis",S,m,y),t=K("keepDims",S,m,y);return[w.prod(K("x",S,m,y),g,t)]}case"Cumprod":{const g=K("axis",S,m,y),t=K("exclusive",S,m,y),o=K("reverse",S,m,y);return[w.cumprod(K("x",S,m,y),g,t,o)]}case"Cumsum":{const g=K("axis",S,m,y),t=K("exclusive",S,m,y),o=K("reverse",S,m,y);return[w.cumsum(K("x",S,m,y),g,t,o)]}case"Bincount":const P=K("x",S,m,y),F=K("weights",S,m,y),c=K("size",S,m,y);return[w.bincount(P,F,c)];case"DenseBincount":{const g=K("x",S,m,y),t=K("weights",S,m,y),o=K("size",S,m,y),v=K("binaryOutput",S,m,y);return[w.denseBincount(g,t,o,v)]}default:throw TypeError(`Node type ${S.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const e4=(S,m,y,w=Oe)=>{switch(S.op){case"ConcatV2":case"Concat":{const P=K("n",S,m,y),F=K("axis",S,m,y);let c=K("tensors",S,m,y);return c=c.slice(0,P),[w.concat(c,F)]}case"Gather":{const P=K("x",S,m,y),F=K("indices",S,m,y);return[w.gather(P,w.cast(F,"int32"),0)]}case"GatherV2":{const P=K("axis",S,m,y),F=K("batchDims",S,m,y),c=K("x",S,m,y),g=K("indices",S,m,y);return[w.gather(c,w.cast(g,"int32"),P,F)]}case"Reverse":{const P=K("dims",S,m,y),F=[];for(let g=0;g<P.length;g++)P[g]&&F.push(g);const c=K("x",S,m,y);return[w.reverse(c,F)]}case"ReverseV2":{const P=K("axis",S,m,y),F=K("x",S,m,y);return[w.reverse(F,P)]}case"Slice":{const P=K("begin",S,m,y),F=K("size",S,m,y);return[w.slice(K("x",S,m,y),P,F)]}case"StridedSlice":{const P=K("begin",S,m,y),F=K("end",S,m,y),c=K("strides",S,m,y),g=K("beginMask",S,m,y),t=K("endMask",S,m,y),o=K("ellipsisMask",S,m,y),v=K("newAxisMask",S,m,y),a=K("shrinkAxisMask",S,m,y),i=K("x",S,m,y);return[w.stridedSlice(i,P,F,c,g,t,o,v,a)]}case"Pack":return _t(()=>{const P=K("axis",S,m,y),F=K("tensors",S,m,y),c=F[0].shape,g=w.squeeze(F[0]).shape,t=F.map(o=>{const v=Ai(o.shape,c);if(!v&&!Ai(w.squeeze(o).shape,g))throw new Error("the input tensors shape does not match");return v?o:w.reshape(o,c)});return[w.stack(t,P)]});case"Unpack":{const P=K("axis",S,m,y),F=K("tensor",S,m,y);return w.unstack(F,P)}case"Tile":{const P=K("reps",S,m,y);return[w.tile(K("x",S,m,y),P)]}case"Split":case"SplitV":{const P=K("axis",S,m,y),F=K("numOrSizeSplits",S,m,y),c=K("x",S,m,y);return w.split(c,F,P)}case"ScatterNd":{const P=K("indices",S,m,y),F=K("values",S,m,y),c=K("shape",S,m,y);return[w.scatterND(P,F,c)]}case"GatherNd":{const P=K("x",S,m,y),F=K("indices",S,m,y);return[w.gatherND(P,F)]}case"SparseToDense":{const P=K("sparseIndices",S,m,y),F=K("outputShape",S,m,y),c=K("sparseValues",S,m,y),g=K("defaultValue",S,m,y);return[w.sparseToDense(P,c,F,c.dtype===g.dtype?g:w.cast(g,c.dtype))]}case"TensorScatterUpdate":{const P=K("indices",S,m,y),F=K("values",S,m,y),c=K("tensor",S,m,y);return[w.tensorScatterUpdate(c,P,F)]}default:throw TypeError(`Node type ${S.op} is not implemented`)}};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const i4=(S,m,y,w=Oe)=>{switch(S.op){case"SparseFillEmptyRows":{const{outputIndices:P,outputValues:F,emptyRowIndicator:c,reverseIndexMap:g}=w.sparse.sparseFillEmptyRows(K("indices",S,m,y),K("values",S,m,y),K("denseShape",S,m,y),K("defaultValue",S,m,y));return[P,F,c,g]}case"SparseReshape":{const{outputIndices:P,outputShape:F}=w.sparse.sparseReshape(K("inputIndices",S,m,y),K("inputShape",S,m,y),K("newShape",S,m,y));return[P,F]}case"SparseSegmentMean":return[w.sparse.sparseSegmentMean(K("data",S,m,y),K("indices",S,m,y),K("segmentIds",S,m,y))];case"SparseSegmentSum":return[w.sparse.sparseSegmentSum(K("data",S,m,y),K("indices",S,m,y),K("segmentIds",S,m,y))];default:throw TypeError(`Node type ${S.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const n4=(S,m,y,w=Oe)=>{switch(S.op){case"FFT":return[w.fft(K("x",S,m,y))];case"IFFT":return[w.ifft(K("x",S,m,y))];case"RFFT":return[w.rfft(K("x",S,m,y))];case"IRFFT":return[w.irfft(K("x",S,m,y))];default:throw TypeError(`Node type ${S.op} is not implemented`)}};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const s4=(S,m,y,w=Oe)=>{switch(S.op){case"StaticRegexReplace":return[w.string.staticRegexReplace(K("input",S,m,y),K("pattern",S,m,y),K("rewrite",S,m,y),K("replaceGlobal",S,m,y))];case"StringNGrams":{const{nGrams:P,nGramsSplits:F}=w.string.stringNGrams(K("data",S,m,y),K("dataSplits",S,m,y),K("separator",S,m,y),K("nGramWidths",S,m,y),K("leftPad",S,m,y),K("rightPad",S,m,y),K("padWidth",S,m,y),K("preserveShortSequences",S,m,y));return[P,F]}case"StringSplit":{const{indices:P,values:F,shape:c}=w.string.stringSplit(K("input",S,m,y),K("delimiter",S,m,y),K("skipEmpty",S,m,y));return[P,F,c]}case"StringToHashBucketFast":return[w.string.stringToHashBucketFast(K("input",S,m,y),K("numBuckets",S,m,y))];default:throw TypeError(`Node type ${S.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const r4=(S,m,y,w=Oe)=>{switch(S.op){case"Cast":return[w.cast(K("x",S,m,y),K("dtype",S,m,y))];case"ExpandDims":{const P=K("axis",S,m,y);return[w.expandDims(K("x",S,m,y),P)]}case"Squeeze":{const P=K("axis",S,m,y);return[w.squeeze(K("x",S,m,y),P)]}case"Reshape":return[w.reshape(K("x",S,m,y),K("shape",S,m,y))];case"EnsureShape":return[w.ensureShape(K("x",S,m,y),K("shape",S,m,y))];case"MirrorPad":return[w.mirrorPad(K("x",S,m,y),K("padding",S,m,y),K("mode",S,m,y))];case"PadV2":case"Pad":return[w.pad(K("x",S,m,y),K("padding",S,m,y),K("constantValue",S,m,y))];case"SpaceToBatchND":{const P=K("blockShape",S,m,y),F=K("paddings",S,m,y);return[w.spaceToBatchND(K("x",S,m,y),P,F)]}case"BatchToSpaceND":{const P=K("blockShape",S,m,y),F=K("crops",S,m,y);return[w.batchToSpaceND(K("x",S,m,y),P,F)]}case"DepthToSpace":{const P=K("blockSize",S,m,y),F=K("dataFormat",S,m,y).toUpperCase();return[w.depthToSpace(K("x",S,m,y),P,F)]}case"BroadcastTo":return[w.broadcastTo(K("x",S,m,y),K("shape",S,m,y))];case"BroadcastArgs":return[w.broadcastArgs(K("s0",S,m,y),K("s1",S,m,y))];default:throw TypeError(`Node type ${S.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Io(S,m,y,w,P=_t){const F=((c,g,t)=>{switch(c.category){case"arithmetic":return P(()=>N3(c,g,t));case"basic_math":return P(()=>I3(c,g,t));case"control":return W3(c,g,t);case"convolution":return P(()=>X3(c,g,t));case"creation":return P(()=>Y3(c,g,t));case"dynamic":return H3(c,g,t);case"evaluation":return P(()=>$3(c,g,t));case"image":return P(()=>Z3(c,g,t));case"graph":return P(()=>K3(c,g,t));case"logical":return P(()=>J3(c,g,t));case"matrices":return P(()=>Q3(c,g,t));case"normalization":return P(()=>q3(c,g,t));case"ragged":return P(()=>_3(c,g,t));case"reduction":return P(()=>t4(c,g,t));case"slice_join":return P(()=>e4(c,g,t));case"sparse":return P(()=>i4(c,g,t));case"spectral":return P(()=>n4(c,g,t));case"string":return P(()=>s4(c,g,t));case"transformation":return P(()=>r4(c,g,t));case"hash_table":return k3(c,g,t,w);case"custom":const o=Tl(c.op);if(o&&o.customExecutor)return o.customExecutor(new D3(c,g,t));throw TypeError(`Custom op ${c.op} is not registered.`);default:throw TypeError(`Unknown op '${c.op}'. File an issue at https://github.com/tensorflow/tfjs/issues so we can add it, or register a custom execution with tf.registerOp()`)}})(S,m,y);return vn(F)?F.then(c=>[].concat(c)):[].concat(F)}class Bo{constructor(m={},y={},w={},P={},F){this.weightMap=m,this.tensorArrayMap=y,this.tensorListMap=w,this.functionMap=P,this.parseNodeNameCache=F,this.rootContext={id:0,frameName:"",iterationId:0},this.contexts=[this.rootContext],this.lastId=0,this.generateCurrentContextIds()}newFrame(m,y){return{id:m,frameName:y,iterationId:0}}set currentContext(m){this.contexts!==m&&(this.contexts=m,this.generateCurrentContextIds())}get currentContext(){return this.contexts}get currentContextId(){return this._currentContextIds[0]}get currentContextIds(){return this._currentContextIds}generateCurrentContextIds(){const m=[];for(let y=0;y<this.contexts.length-1;y++){const w=this.contexts.slice(0,this.contexts.length-y);m.push(this.contextIdforContexts(w))}m.push(""),this._currentContextIds=m}contextIdforContexts(m){return m?m.map(y=>y.id===0&&y.iterationId===0?"":`${y.frameName}-${y.iterationId}`).join("/"):""}enterFrame(m){this.contexts&&(this.lastId++,this.contexts=this.contexts.slice(),this.contexts.push(this.newFrame(this.lastId,m)),this._currentContextIds.unshift(this.contextIdforContexts(this.contexts)))}exitFrame(){if(this.contexts&&this.contexts.length>1)this.contexts=this.contexts.slice(),this.contexts.splice(-1),this.currentContextIds.shift();else throw new Error("Cannot exit frame, the context is empty")}nextIteration(){if(this.contexts&&this.contexts.length>0){this.contexts=this.contexts.slice(),this.lastId++;const m=Object.assign({},this.contexts[this.contexts.length-1]);m.iterationId+=1,m.id=this.lastId,this.contexts.splice(-1,1,m),this._currentContextIds.splice(0,1,this.contextIdforContexts(this.contexts))}else throw new Error("Cannot increase frame iteration, the context is empty")}getWeight(m){return this.weightMap[m]}addTensorArray(m){this.tensorArrayMap[m.id]=m}getTensorArray(m){return this.tensorArrayMap[m]}addTensorList(m){this.tensorListMap[m.id]=m}getTensorList(m){return this.tensorListMap[m]}dispose(m){for(const y in this.tensorArrayMap)this.tensorArrayMap[y].clearAndClose(m);for(const y in this.tensorListMap)this.tensorListMap[y].clearAndClose(m)}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Go(S,m,y,w){const P=new Set,F=[];let c=null,g=null;const t=new Set,o=new Set(Object.keys(S).map(i=>He(i)[0]));w=w||[];const v=new Set(w.map(i=>He(i.name)[0])),a=[...m];for(;a.length>0;){const i=a.pop();if((sn(i)||c4(i)||v4(i))&&c==null&&(c=i,g=c.children.map(s=>s.name).filter(s=>P.has(s))),P.add(i.name),y[i.name]==null&&!o.has(i.name)&&!v.has(i.name)){if(i.inputs.length===0){F.push(i.name);continue}i.inputs.forEach(s=>{t.has(s.name)||(t.add(s.name),a.push(s))})}}return{inputs:S,outputs:m,usedNodes:P,missingInputs:F,dynamicNode:c,syncInputs:g}}function a4(S,m){const{usedNodes:y,inputs:w}=m,P=Object.keys(w).map(h=>He(h)[0]).map(h=>S.nodes[h]),F=S.initNodes||[],c=h=>y.has(typeof h=="string"?h:h.name);function g(h){return[...new Map(h.map(n=>[n.name,n])).values()]}const t=g([...P,...S.weights,...F]).filter(c),o=g([...t,...Object.values(S.nodes)]).filter(c),v=new Map(o.map(h=>[h.name,h])),a={};for(const h of o){a[h.name]=a[h.name]||0;for(const n of h.children)c(n)||(a[n.name]=Number.POSITIVE_INFINITY),a[n.name]=(a[n.name]||0)+1}const i=Object.entries(a).filter(([,h])=>h===0).map(([h])=>h),s=[...i];for(;i.length>0;){const h=i.pop(),n=v.get(h);for(const l of n.children.filter(c))--a[l.name]===0&&(s.push(l.name),i.push(l.name))}const e=s.map(h=>v.get(h)),r=o4(e,t);return h4(r,t),r}function o4(S,m){const y=new Map(S.map(c=>[c.name,c])),w=m.map(c=>c.name),P=new Set(w);for(;w.length>0;){const c=w.pop(),g=y.get(c);for(const t of g.children)!y.has(t.name)||P.has(t.name)||(P.add(t.name),w.push(t.name))}return S.filter(c=>P.has(c.name))}class Bs extends Error{constructor(m){super(`NodesExecutionOrderError: ${m}`)}}function h4(S,m){const y=new Map(S.map((g,t)=>[g.name,t])),w=new Set(m.map(g=>g.name)),P=g=>w.has(typeof g=="string"?g:g.name),F=new Set(S.map(g=>g.name)),c=g=>F.has(typeof g=="string"?g:g.name);for(const g of S){for(const t of g.children.filter(c)){if(!y.has(t.name))throw new Bs(`Child ${t.name} of node ${g.name} is unreachable.`);if(y.get(g.name)>y.get(t.name))throw new Bs(`Node ${g.name} is scheduled to run after its child ${t.name}.`)}if(!P(g))for(const t of g.inputs){if(!y.has(t.name))throw new Bs(`Input ${t.name} of node ${g.name} is unreachable.`);if(y.get(t.name)>y.get(g.name))throw new Bs(`Node ${g.name} is scheduled to run before its input ${t.name}.`)}}}function l4(S){const m=new Map(S.map((g,t)=>[g.name,t])),y=Number.MAX_SAFE_INTEGER,w=S.map((g,t)=>sn(g)?y:t),P=g=>{const t=w[m.get(g.name)];return t??-1},F=S.map((g,t)=>g.children.map(P).reduce((o,v)=>Math.max(o,v),w[t])),c=new Map;for(let g=0;g<S.length;++g){const t=F[g];if(t===y)continue;const o=S[g],v=S[t];c.has(v.name)||c.set(v.name,[]),c.get(v.name).push(o)}return c}const u4=new Set(["Switch","Merge","Enter","Exit","NextIteration","StatelessIf","StatelessWhile","if","While"]),f4=new Set(["NonMaxSuppressionV2","NonMaxSuppressionV3","NonMaxSuppressionV5","Where"]),d4=new Set(["HashTable","HashTableV2","LookupTableImport","LookupTableImportV2","LookupTableFind","LookupTableFindV2","LookupTableSize","LookupTableSizeV2"]);function sn(S){return u4.has(S.op)}function c4(S){return f4.has(S.op)}function v4(S){return d4.has(S.op)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class or{get weightIds(){return this.parent?this.parent.weightIds:this._weightIds}get functionExecutorMap(){return this.parent?this.parent.functionExecutorMap:this._functionExecutorMap}get weightMap(){return this.parent?this.parent.weightMap:this._weightMap}set weightMap(m){const y=Object.keys(m).map(w=>m[w].map(P=>P.id));this._weightIds=[].concat(...y),this._weightMap=m}set resourceManager(m){this._resourceManager=m}get inputs(){return this._inputs.map(m=>({name:m.name,shape:m.attrParams.shape?m.attrParams.shape.value:void 0,dtype:m.attrParams.dtype?m.attrParams.dtype.value:void 0}))}get outputs(){return this._outputs.map(m=>({name:m.name,shape:m.attrParams.shape?m.attrParams.shape.value:void 0,dtype:m.attrParams.dtype?m.attrParams.dtype.value:void 0}))}get inputNodes(){return this._inputs.map(m=>m.signatureKey||m.name)}get outputNodes(){return this._outputs.map(m=>{const y=m.signatureKey||m.name;return m.defaultOutput?`${y}:${m.defaultOutput}`:y})}get functions(){return Object.keys(this._functions).reduce((m,y)=>(m[y]=this._functions[y].signature,m),{})}constructor(m,y){this.graph=m,this.parent=y,this.compiledMap=new Map,this.parseNodeNameCache=new Map,this._weightMap={},this.SEPARATOR=",",this._functions={},this._functionExecutorMap={},this.keepIntermediateTensors=!1,this._outputs=m.outputs,this._inputs=m.inputs,this._initNodes=m.initNodes,this._signature=m.signature,this._functions=m.functions,m.functions!=null&&Object.keys(m.functions).forEach(w=>{this._functionExecutorMap[w]=new or(m.functions[w],this)})}getCompilationKey(m,y){const w=m.map(F=>F.name).sort(),P=y.map(F=>F.name).sort();return w.join(this.SEPARATOR)+"--"+P.join(this.SEPARATOR)}compile(m,y){const w=Go(m,y,this.weightMap,this._initNodes),{missingInputs:P,dynamicNode:F,syncInputs:c}=w;if(F!=null)throw new Error(`This execution contains the node '${F.name}', which has the dynamic op '${F.op}'. Please use model.executeAsync() instead. Alternatively, to avoid the dynamic ops, specify the inputs [${c}]`);if(P.length>0){const o=y.map(a=>a.name),v=Object.keys(m);throw new Error(`Cannot compute the outputs [${o}] from the provided inputs [${v}]. Missing the following inputs: [${P}]`)}const g=a4(this.graph,w),t=l4(g);return{orderedNodes:g,nodeLiveUntilMap:t}}cloneAndKeepTensor(m){if(m==null)return null;const y=m.clone();return vi(y),y}cloneTensorList(m){return m?m.map(w=>this.cloneAndKeepTensor(w)):null}cloneTensorMap(m){return Object.fromEntries(Object.entries(m).map(([y,w])=>[y,this.cloneTensorList(w)]))}execute(m,y){this.disposeIntermediateTensors(),m=this.mapInputs(m);const w=Object.keys(m).sort();this.checkInputs(m),this.checkInputShapeAndType(m),y=this.mapOutputs(y),this.checkOutputs(y);const P=w.map(i=>this.graph.nodes[He(i)[0]]),F=y.map(i=>He(i)[0]),c=new Set(F);let g=F.map(i=>this.graph.nodes[i]);g.length===0&&(g=this._outputs);const t=this.getCompilationKey(P,g);let o=this.compiledMap.get(t);o==null&&(o=this.compile(m,g),this.compiledMap.set(t,o));try{this.keepIntermediateTensors=ie().getBool("KEEP_INTERMEDIATE_TENSORS")}catch(i){this.keepIntermediateTensors=!1,console.warn(i.message)}const v={},a={};return _t(()=>{const i=new Bo(this.weightMap,v,a,this.functionExecutorMap,this.parseNodeNameCache),s=Object.assign({},this.weightMap);this.keepIntermediateTensors&&(this.clonedTensorsMap=this.cloneTensorMap(this.weightMap)),Object.keys(m).forEach(n=>{const[l,f]=He(n,i),u=[];u[f]=m[n],s[l]=u,this.keepIntermediateTensors&&(this.clonedTensorsMap[l]=this.cloneTensorList(u))});const e=this.getFrozenTensorIds(s),{orderedNodes:r,nodeLiveUntilMap:h}=o;for(const n of r){if(s[n.name])continue;const l=Io(n,s,i,this._resourceManager);if(vn(l))throw new Error(`The execution of the op '${n.op}' returned a promise. Please use model.executeAsync() instead.`);s[n.name]=l,this.keepIntermediateTensors&&(this.clonedTensorsMap[n.name]=this.cloneTensorList(l)),this.checkTensorForDisposalWithNodeLiveUntilInfo(n,s,i,e,c,h.get(n.name))}return this.parent==null&&i.dispose(e),y.map(n=>Re(n,s,i))})}getFrozenTensorIds(m){const y=[].concat.apply([],Object.keys(m).map(w=>m[w]).map(w=>w.map(P=>P.id)));return new Set(y)}checkTensorForDisposal(m,y,w,P,F,c,g){if(!(sn(y)||c.has(m))){for(const t of w[m])t!=null&&(g[t.id]=(g[t.id]||0)+y.children.length);for(const t of y.inputs){if(sn(t))continue;const o=Lo(t.name,w,P);if(o!=null)for(const v of o){if(!v||v.kept||F.has(v.id))continue;const a=g[v.id];a===1?(v.dispose(),delete g[v.id]):a!=null&&g[v.id]--}}}}checkTensorForDisposalWithNodeLiveUntilInfo(m,y,w,P,F,c){function g(t){return sn(t)||F.has(t.name)}if(!(sn(m)||c==null))for(const t of c){if(g(t))continue;const o=Lo(t.name,y,w);for(const v of o)!v||v.kept||P.has(v.id)||v.dispose()}}async executeAsync(m,y){return this._executeAsync(m,y)}disposeIntermediateTensors(){this.clonedTensorsMap&&(Object.values(this.clonedTensorsMap).forEach(m=>{for(const y of m)y&&!y.isDisposed&&y.dispose()}),this.clonedTensorsMap=null)}getIntermediateTensors(){return this.clonedTensorsMap}async _executeAsync(m,y,w=!1,P={},F={}){this.disposeIntermediateTensors(),w||(m=this.mapInputs(m),this.checkInputs(m),this.checkInputShapeAndType(m),y=this.mapOutputs(y),this.checkOutputs(y));try{this.keepIntermediateTensors=ie().getBool("KEEP_INTERMEDIATE_TENSORS")}catch(i){this.keepIntermediateTensors=!1,console.warn(i.message)}const c=new Bo(this.weightMap,P,F,this.functionExecutorMap,this.parseNodeNameCache);this.keepIntermediateTensors&&(this.clonedTensorsMap=this.cloneTensorMap(this.weightMap));const g=await this.executeWithControlFlow(m,c,y,w),t=y.map(i=>Re(i,g,c)),o=t.map(i=>i.id),v=Object.keys(m).map(i=>m[i].id),a=new Set([...o,...v,...this.weightIds]);return Object.values(g).forEach(i=>{i.forEach(s=>{s&&!s.isDisposed&&!a.has(s.id)&&s.dispose()})}),this.parent==null&&c.dispose(a),t}async executeFunctionAsync(m,y,w){const P=m.reduce((F,c,g)=>(F[this.inputs[g].name]=c,F),{});return this._executeAsync(P,this.outputNodes,!0,y,w)}async executeWithControlFlow(m,y,w,P){const F=Object.keys(m),c=F.map(u=>this.graph.nodes[He(u)[0]]),g=w.map(u=>He(u)[0]),t=new Set(g);let o=g.map(u=>this.graph.nodes[u]);o.length===0&&(o=this._outputs);const{usedNodes:v,missingInputs:a,dynamicNode:i,syncInputs:s}=Go(m,o,this.weightMap,this._initNodes),e=[...c,...this.graph.weights,...this._initNodes||[]].map(u=>({node:u,contexts:y.currentContext})),r=Object.assign({},this.weightMap);Object.keys(m).forEach(u=>{const[d,p]=He(u),x=[];x[p]=m[u],r[d]=x});const h={},n=this.getFrozenTensorIds(r),l={};for(;e.length>0;){const u=this.processStack(c,e,y,r,l,n,t,h,v);await Promise.all(u)}i==null&&!P&&console.warn("This model execution did not contain any nodes with control flow or dynamic output shapes. You can use model.execute() instead.");const f=o.filter(u=>!sn(u)&&!Re(u.name,r,y)).map(u=>u.name);if(f.length>0){let u="";throw i!=null&&(u=`Alternatively, to avoid the dynamic ops, use model.execute() and specify the inputs [${s}]`),new Error(`Cannot compute the outputs [${f}] from the provided inputs [${F}]. Consider providing the following inputs: [${a}]. ${u}`)}return r}processStack(m,y,w,P,F,c,g,t,o){const v=[];for(;y.length>0;){const a=y.pop();w.currentContext=a.contexts;let i="";if(a.node.op==="Enter"&&K("isConstant",a.node,P,w)&&([i]=Ti(a.node.name,w)),P[a.node.name]==null){const s=Io(a.node,P,w,this._resourceManager);i||([i]=Ti(a.node.name,w));const e=w.currentContext;vn(s)?v.push(s.then(r=>(P[i]=r,this.keepIntermediateTensors&&(this.clonedTensorsMap[i]=this.cloneTensorList(r)),w.currentContext=e,this.checkTensorForDisposal(i,a.node,P,w,c,g,t),this.processChildNodes(a.node,y,w,P,F,o),r))):(P[i]=s,this.keepIntermediateTensors&&(this.clonedTensorsMap[i]=this.cloneTensorList(s)),this.checkTensorForDisposal(i,a.node,P,w,c,g,t),this.processChildNodes(a.node,y,w,P,F,o))}else this.processChildNodes(a.node,y,w,P,F,o)}return v}processChildNodes(m,y,w,P,F,c){m.children.forEach(g=>{const[t]=Ti(g.name,w);F[t]||!c.has(g.name)||(g.op==="Merge"?g.inputNames.some(o=>!!Re(o,P,w))&&(F[t]=!0,y.push({contexts:w.currentContext,node:g})):g.inputNames.every(o=>!!Re(o,P,w))&&(F[t]=!0,y.push({contexts:w.currentContext,node:g})))})}dispose(){Object.keys(this.weightMap).forEach(m=>this.weightMap[m].forEach(y=>y.dispose()))}checkInputShapeAndType(m){Object.keys(m).forEach(y=>{const w=m[y],[P]=He(y),F=this.graph.nodes[P];if(F.attrParams.shape&&F.attrParams.shape.value){const c=F.attrParams.shape.value,g=c.length===w.shape.length&&w.shape.every((t,o)=>c[o]===-1||c[o]===t);rt(g,()=>`The shape of dict['${F.name}'] provided in model.execute(dict) must be [${c}], but was [${w.shape}]`)}F.attrParams.dtype&&F.attrParams.dtype.value&&rt(w.dtype===F.attrParams.dtype.value,()=>`The dtype of dict['${F.name}'] provided in model.execute(dict) must be ${F.attrParams.dtype.value}, but was ${w.dtype}`)})}mapInputs(m){var y,w;const P={};for(const F in m){const c=(w=(y=this._signature)===null||y===void 0?void 0:y.inputs)===null||w===void 0?void 0:w[F];c!=null?P[c.name]=m[F]:P[F]=m[F]}return P}checkInputs(m){const y=Object.keys(m).filter(w=>{const[P]=He(w);return this.graph.nodes[P]==null});if(y.length>0)throw new Error(`The dict provided in model.execute(dict) has keys: [${y}] that are not part of graph`)}mapOutputs(m){return m.map(y=>{var w,P;const F=(P=(w=this._signature)===null||w===void 0?void 0:w.outputs)===null||P===void 0?void 0:P[y];return F!=null?F.name:y},{})}checkOutputs(m){m.forEach(y=>{const[w]=He(y);if(!this.graph.nodes[w])throw new Error(`The output '${y}' is not found in the graph`)})}}class p4{constructor(m={},y={}){this.hashTableNameToHandle=m,this.hashTableMap=y}addHashTable(m,y){this.hashTableNameToHandle[m]=y.handle,this.hashTableMap[y.id]=y}getHashTableHandleByName(m){return this.hashTableNameToHandle[m]}getHashTableById(m){return this.hashTableMap[m]}dispose(){for(const m in this.hashTableMap)this.hashTableMap[m].clearAndClose(),delete this.hashTableMap[m];for(const m in this.hashTableNameToHandle)this.hashTableNameToHandle[m].dispose(),delete this.hashTableNameToHandle[m]}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const m4="?tfjs-format=file",g4="model.json";class y4{get modelVersion(){return this.version}get inputNodes(){return this.executor.inputNodes}get outputNodes(){return this.executor.outputNodes}get inputs(){return this.executor.inputs}get outputs(){return this.executor.outputs}get weights(){return this.executor.weightMap}get metadata(){return this.artifacts.userDefinedMetadata}get modelSignature(){return this.signature}get modelStructuredOutputKeys(){return this.structuredOutputKeys}constructor(m,y={},w=gl){this.modelUrl=m,this.loadOptions=y,this.version="n/a",this.io=w,y==null&&(this.loadOptions={}),this.resourceManager=new p4}findIOHandler(){const m=this.modelUrl;if(m.load!=null)this.handler=m;else if(this.loadOptions.requestInit!=null)this.handler=this.io.browserHTTPRequest(m,this.loadOptions);else{const y=this.io.getLoadHandlers(m,this.loadOptions);if(y.length===0)y.push(this.io.browserHTTPRequest(m,this.loadOptions));else if(y.length>1)throw new Error(`Found more than one (${y.length}) load handlers for URL '${[m]}'`);this.handler=y[0]}}load(){if(this.findIOHandler(),this.handler.load==null)throw new Error("Cannot proceed with model loading because the IOHandler provided does not have the `load` method implemented.");const m=this.handler.load();return vn(m)?m.then(y=>y.getWeightStream==null?this.loadSync(y):this.loadStreaming(y)):this.loadSync(m)}loadSync(m){const y=this.io.decodeWeights(m.weightData,m.weightSpecs);return this.loadWithWeightMap(m,y)}async loadStreaming(m){if(m.getWeightStream==null)throw new Error("Model artifacts missing streamWeights function");const y=await yh(m.getWeightStream(),m.weightSpecs);return this.loadWithWeightMap(m,y)}loadWithWeightMap(m,y){this.artifacts=m;const w=this.artifacts.modelTopology;let P=this.artifacts.signature;if(this.artifacts.userDefinedMetadata!=null){const F=this.artifacts.userDefinedMetadata;F.signature!=null&&(P=F.signature),F.structuredOutputKeys!=null&&(this.structuredOutputKeys=F.structuredOutputKeys)}if(this.signature=P,this.version=`${w.versions.producer}.${w.versions.minConsumer}`,this.executor=new or(Oo.Instance.transformGraph(w,this.signature)),this.executor.weightMap=this.convertTensorMapToTensorsMap(y),this.executor.resourceManager=this.resourceManager,m.modelInitializer!=null&&m.modelInitializer.node!=null){const F=Oo.Instance.transformGraph(m.modelInitializer);this.initializer=new or(F),this.initializer.weightMap=this.executor.weightMap,this.initializer.resourceManager=this.resourceManager,this.initializerSignature=m.initializerSignature}return!0}async save(m,y){if(typeof m=="string"){const w=this.io.getSaveHandlers(m);if(w.length===0)throw new Error(`Cannot find any save handlers for URL '${m}'`);if(w.length>1)throw new Error(`Found more than one (${w.length}) save handlers for URL '${m}'`);m=w[0]}if(m.save==null)throw new Error("GraphModel.save() cannot proceed because the IOHandler provided does not have the `save` attribute defined.");return m.save(this.artifacts)}addStructuredOutputNames(m){if(this.structuredOutputKeys){const y=m instanceof Ee?[m]:m,w={};return y.forEach((P,F)=>w[this.structuredOutputKeys[F]]=P),w}return m}predict(m,y){const w=this.execute(m,this.outputNodes);return this.addStructuredOutputNames(w)}async predictAsync(m,y){const w=await this.executeAsync(m,this.outputNodes);return this.addStructuredOutputNames(w)}normalizeInputs(m){var y;if(!(m instanceof Ee)&&!Array.isArray(m)){const F=(y=this.signature)===null||y===void 0?void 0:y.inputs;if(F!=null)for(const c in F){const g=F[c];g.resourceId!=null&&(m[c]=this.resourceIdToCapturedInput[g.resourceId])}return m}m=Array.isArray(m)?m:[m];const w=Object.keys(this.resourceIdToCapturedInput).length;if(m.length+w!==this.inputNodes.length)throw new Error(`Input tensor count mismatch, the graph model has ${this.inputNodes.length-w} non-resource placeholders, while there are ${m.length} input tensors provided.`);let P=0;return this.inputNodes.reduce((F,c)=>{var g,t,o;const v=(o=(t=(g=this.signature)===null||g===void 0?void 0:g.inputs)===null||t===void 0?void 0:t[c])===null||o===void 0?void 0:o.resourceId;return v!=null?F[c]=this.resourceIdToCapturedInput[v]:F[c]=m[P++],F},{})}normalizeOutputs(m){return m=m||this.outputNodes,Array.isArray(m)?m:[m]}executeInitializerGraph(){return this.initializer==null?[]:this.initializerSignature==null?this.initializer.execute({},[]):this.initializer.execute({},Object.keys(this.initializerSignature.outputs))}async executeInitializerGraphAsync(){return this.initializer==null?[]:this.initializerSignature==null?this.initializer.executeAsync({},[]):this.initializer.executeAsync({},Object.keys(this.initializerSignature.outputs))}setResourceIdToCapturedInput(m){if(this.resourceIdToCapturedInput={},this.initializerSignature){const y=this.initializerSignature.outputs,w=Object.keys(y);for(let P=0;P<w.length;P++){const F=w[P],c=y[F];this.resourceIdToCapturedInput[c.resourceId]=m[P]}}}execute(m,y){this.resourceIdToCapturedInput==null&&this.setResourceIdToCapturedInput(this.executeInitializerGraph()),m=this.normalizeInputs(m),y=this.normalizeOutputs(y);const w=this.executor.execute(m,y);return w.length>1?w:w[0]}async executeAsync(m,y){this.resourceIdToCapturedInput==null&&this.setResourceIdToCapturedInput(await this.executeInitializerGraphAsync()),m=this.normalizeInputs(m),y=this.normalizeOutputs(y);const w=await this.executor.executeAsync(m,y);return w.length>1?w:w[0]}getIntermediateTensors(){return this.executor.getIntermediateTensors()}disposeIntermediateTensors(){this.executor.disposeIntermediateTensors()}convertTensorMapToTensorsMap(m){return Object.keys(m).reduce((y,w)=>(y[w]=[m[w]],y),{})}dispose(){this.executor.dispose(),this.initializer&&(this.initializer.dispose(),this.resourceIdToCapturedInput&&xe(this.resourceIdToCapturedInput)),this.resourceManager.dispose()}}async function Cl(S,m={},y=gl){if(S==null)throw new Error("modelUrl in loadGraphModel() cannot be null. Please provide a url or an IOHandler that loads the model");m==null&&(m={}),m.fromTFHub&&typeof S=="string"&&(S=x4(S));const w=new y4(S,m,y);return await w.load(),w}function x4(S){return S.endsWith("/")||(S=S+"/"),`${S}${g4}${m4}`}/**
    * @license
    * Copyright 2024 Google LLC. All Rights Reserved.
    * Licensed under the Apache License, Version 2.0 (the "License");
    * you may not use this file except in compliance with the License.
    * You may obtain a copy of the License at
    *
    * http://www.apache.org/licenses/LICENSE-2.0
    *
    * Unless required by applicable law or agreed to in writing, software
    * distributed under the License is distributed on an "AS IS" BASIS,
    * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
    * See the License for the specific language governing permissions and
    * limitations under the License.
    * =============================================================================
    */var ai=function(){return ai=Object.assign||function(S){for(var m,y=1,w=arguments.length;y<w;y++)for(var P in m=arguments[y])Object.prototype.hasOwnProperty.call(m,P)&&(S[P]=m[P]);return S},ai.apply(this,arguments)};function Ci(S,m,y,w){return new(y||(y=Promise))(function(P,F){function c(o){try{t(w.next(o))}catch(v){F(v)}}function g(o){try{t(w.throw(o))}catch(v){F(v)}}function t(o){var v;o.done?P(o.value):(v=o.value,v instanceof y?v:new y(function(a){a(v)})).then(c,g)}t((w=w.apply(S,[])).next())})}function wi(S,m){var y,w,P,F,c={label:0,sent:function(){if(1&P[0])throw P[1];return P[1]},trys:[],ops:[]};return F={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(F[Symbol.iterator]=function(){return this}),F;function g(t){return function(o){return function(v){if(y)throw new TypeError("Generator is already executing.");for(;c;)try{if(y=1,w&&(P=2&v[0]?w.return:v[0]?w.throw||((P=w.return)&&P.call(w),0):w.next)&&!(P=P.call(w,v[1])).done)return P;switch(w=0,P&&(v=[2&v[0],P.value]),v[0]){case 0:case 1:P=v;break;case 4:return c.label++,{value:v[1],done:!1};case 5:c.label++,w=v[1],v=[0];continue;case 7:v=c.ops.pop(),c.trys.pop();continue;default:if(P=c.trys,!((P=P.length>0&&P[P.length-1])||v[0]!==6&&v[0]!==2)){c=0;continue}if(v[0]===3&&(!P||v[1]>P[0]&&v[1]<P[3])){c.label=v[1];break}if(v[0]===6&&c.label<P[1]){c.label=P[1],P=v;break}if(P&&c.label<P[2]){c.label=P[2],c.ops.push(v);break}P[2]&&c.ops.pop(),c.trys.pop();continue}v=m.call(S,c)}catch(a){v=[6,a],w=0}finally{y=P=0}if(5&v[0])throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}([t,o])}}}function zi(S){var m=S.map(function(y){return y[0]});return m.push(S[S.length-1][1]),m}var T4={lips:zi([[61,146],[146,91],[91,181],[181,84],[84,17],[17,314],[314,405],[405,321],[321,375],[375,291],[61,185],[185,40],[40,39],[39,37],[37,0],[0,267],[267,269],[269,270],[270,409],[409,291],[78,95],[95,88],[88,178],[178,87],[87,14],[14,317],[317,402],[402,318],[318,324],[324,308],[78,191],[191,80],[80,81],[81,82],[82,13],[13,312],[312,311],[311,310],[310,415],[415,308]]),leftEye:zi([[263,249],[249,390],[390,373],[373,374],[374,380],[380,381],[381,382],[382,362],[263,466],[466,388],[388,387],[387,386],[386,385],[385,384],[384,398],[398,362]]),leftEyebrow:zi([[276,283],[283,282],[282,295],[295,285],[300,293],[293,334],[334,296],[296,336]]),leftIris:zi([[474,475],[475,476],[476,477],[477,474]]),rightEye:zi([[33,7],[7,163],[163,144],[144,145],[145,153],[153,154],[154,155],[155,133],[33,246],[246,161],[161,160],[160,159],[159,158],[158,157],[157,173],[173,133]]),rightEyebrow:zi([[46,53],[53,52],[52,65],[65,55],[70,63],[63,105],[105,66],[66,107]]),rightIris:zi([[469,470],[470,471],[471,472],[472,469]]),faceOval:zi([[10,338],[338,297],[297,332],[332,284],[284,251],[251,389],[389,356],[356,454],[454,323],[323,361],[361,288],[288,397],[397,365],[365,379],[379,378],[378,400],[400,377],[377,152],[152,148],[148,176],[176,149],[149,150],[150,136],[136,172],[172,58],[58,132],[132,93],[93,234],[234,127],[127,162],[162,21],[21,54],[54,103],[103,67],[67,109],[109,10]])},S4=Object.entries(T4).map(function(S){var m=S[0];return S[1].map(function(y){return[y,m]})}).flat(),wl=new Map(S4);function Aa(S){for(var m={locationData:{relativeKeypoints:[]}},y=Number.MAX_SAFE_INTEGER,w=Number.MIN_SAFE_INTEGER,P=Number.MAX_SAFE_INTEGER,F=Number.MIN_SAFE_INTEGER,c=0;c<S.length;++c){var g=S[c];y=Math.min(y,g.x),w=Math.max(w,g.x),P=Math.min(P,g.y),F=Math.max(F,g.y),m.locationData.relativeKeypoints.push({x:g.x,y:g.y})}return m.locationData.relativeBoundingBox={xMin:y,yMin:P,xMax:w,yMax:F,width:w-y,height:F-P},m}var Vr={runtime:"mediapipe",maxFaces:1,refineLandmarks:!1},E4=function(){function S(m){var y=this;this.width=0,this.height=0,this.selfieMode=!1,this.faceMeshSolution=new Jl.FaceMesh({locateFile:function(w,P){return m.solutionPath?m.solutionPath.replace(/\/+$/,"")+"/"+w:P+"/"+w}}),this.faceMeshSolution.setOptions({refineLandmarks:m.refineLandmarks,selfieMode:this.selfieMode,maxNumFaces:m.maxFaces}),this.faceMeshSolution.onResults(function(w){if(y.height=w.image.height,y.width=w.image.width,y.faces=[],w.multiFaceLandmarks!==null)for(var P=w.multiFaceLandmarks,F=0;F<P.length;F++){var c=y.translateOutput(P[F]);y.faces.push({keypoints:c,box:Aa(c).locationData.relativeBoundingBox})}})}return S.prototype.translateOutput=function(m){var y=this;return m.map(function(w,P){var F={x:w.x*y.width,y:w.y*y.height,z:w.z*y.width},c=wl.get(P);return c!=null&&(F.name=c),F})},S.prototype.estimateFaces=function(m,y){return Ci(this,void 0,void 0,function(){var w,P;return wi(this,function(F){switch(F.label){case 0:return y&&y.flipHorizontal&&y.flipHorizontal!==this.selfieMode&&(this.selfieMode=y.flipHorizontal,this.faceMeshSolution.setOptions({selfieMode:this.selfieMode})),m instanceof Ee?(P=ImageData.bind,[4,yl(m)]):[3,2];case 1:return w=new(P.apply(ImageData,[void 0,F.sent(),m.shape[1],m.shape[0]])),[3,3];case 2:w=m,F.label=3;case 3:return m=w,[4,this.faceMeshSolution.send({image:m})];case 4:return F.sent(),[2,this.faces]}})})},S.prototype.dispose=function(){this.faceMeshSolution.close()},S.prototype.reset=function(){this.faceMeshSolution.reset(),this.width=0,this.height=0,this.faces=null,this.selfieMode=!1},S.prototype.initialize=function(){return this.faceMeshSolution.initialize()},S}();function C4(S){return Ci(this,void 0,void 0,function(){var m,y;return wi(this,function(w){switch(w.label){case 0:return m=function(P){if(P==null)return ai({},Vr);var F=ai({},P);return F.runtime="mediapipe",F.maxFaces==null&&(F.maxFaces=Vr.maxFaces),F.refineLandmarks==null&&(F.refineLandmarks=Vr.refineLandmarks),F}(S),[4,(y=new E4(m)).initialize()];case 1:return w.sent(),[2,y]}})})}var Wr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},w4={};(function(){var S;function m(V){var Z=0;return function(){return Z<V.length?{done:!1,value:V[Z++]}:{done:!0}}}var y=typeof Object.defineProperties=="function"?Object.defineProperty:function(V,Z,tt){return V==Array.prototype||V==Object.prototype||(V[Z]=tt.value),V},w=function(V){V=[typeof globalThis=="object"&&globalThis,V,typeof window=="object"&&window,typeof self=="object"&&self,typeof Wr=="object"&&Wr];for(var Z=0;Z<V.length;++Z){var tt=V[Z];if(tt&&tt.Math==Math)return tt}throw Error("Cannot find global object")}(this);function P(V,Z){if(Z)t:{var tt=w;V=V.split(".");for(var et=0;et<V.length-1;et++){var at=V[et];if(!(at in tt))break t;tt=tt[at]}(Z=Z(et=tt[V=V[V.length-1]]))!=et&&Z!=null&&y(tt,V,{configurable:!0,writable:!0,value:Z})}}function F(V){return(V={next:V})[Symbol.iterator]=function(){return this},V}function c(V){var Z=typeof Symbol<"u"&&Symbol.iterator&&V[Symbol.iterator];return Z?Z.call(V):{next:m(V)}}function g(V){if(!(V instanceof Array)){V=c(V);for(var Z,tt=[];!(Z=V.next()).done;)tt.push(Z.value);V=tt}return V}P("Symbol",function(V){function Z(at,nt){this.g=at,y(this,"description",{configurable:!0,writable:!0,value:nt})}if(V)return V;Z.prototype.toString=function(){return this.g};var tt="jscomp_symbol_"+(1e9*Math.random()>>>0)+"_",et=0;return function at(nt){if(this instanceof at)throw new TypeError("Symbol is not a constructor");return new Z(tt+(nt||"")+"_"+et++,nt)}}),P("Symbol.iterator",function(V){if(V)return V;V=Symbol("Symbol.iterator");for(var Z="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),tt=0;tt<Z.length;tt++){var et=w[Z[tt]];typeof et=="function"&&typeof et.prototype[V]!="function"&&y(et.prototype,V,{configurable:!0,writable:!0,value:function(){return F(m(this))}})}return V});var t,o=typeof Object.create=="function"?Object.create:function(V){function Z(){}return Z.prototype=V,new Z};if(typeof Object.setPrototypeOf=="function")t=Object.setPrototypeOf;else{var v;t:{var a={};try{a.__proto__={a:!0},v=a.a;break t}catch{}v=!1}t=v?function(V,Z){if(V.__proto__=Z,V.__proto__!==Z)throw new TypeError(V+" is not extensible");return V}:null}var i=t;function s(V,Z){if(V.prototype=o(Z.prototype),V.prototype.constructor=V,i)i(V,Z);else for(var tt in Z)if(tt!="prototype")if(Object.defineProperties){var et=Object.getOwnPropertyDescriptor(Z,tt);et&&Object.defineProperty(V,tt,et)}else V[tt]=Z[tt];V.na=Z.prototype}function e(){this.l=!1,this.i=null,this.h=void 0,this.g=1,this.u=this.o=0,this.j=null}function r(V){if(V.l)throw new TypeError("Generator is already running");V.l=!0}function h(V,Z){V.j={da:Z,ea:!0},V.g=V.o||V.u}function n(V,Z,tt){return V.g=tt,{value:Z}}function l(V){this.g=new e,this.h=V}function f(V,Z,tt,et){try{var at=Z.call(V.g.i,tt);if(!(at instanceof Object))throw new TypeError("Iterator result "+at+" is not an object");if(!at.done)return V.g.l=!1,at;var nt=at.value}catch(ht){return V.g.i=null,h(V.g,ht),u(V)}return V.g.i=null,et.call(V.g,nt),u(V)}function u(V){for(;V.g.g;)try{var Z=V.h(V.g);if(Z)return V.g.l=!1,{value:Z.value,done:!1}}catch(tt){V.g.h=void 0,h(V.g,tt)}if(V.g.l=!1,V.g.j){if(Z=V.g.j,V.g.j=null,Z.ea)throw Z.da;return{value:Z.return,done:!0}}return{value:void 0,done:!0}}function d(V){this.next=function(Z){return r(V.g),V.g.i?Z=f(V,V.g.i.next,Z,V.g.s):(V.g.s(Z),Z=u(V)),Z},this.throw=function(Z){return r(V.g),V.g.i?Z=f(V,V.g.i.throw,Z,V.g.s):(h(V.g,Z),Z=u(V)),Z},this.return=function(Z){return function(tt,et){r(tt.g);var at=tt.g.i;return at?f(tt,"return"in at?at.return:function(nt){return{value:nt,done:!0}},et,tt.g.return):(tt.g.return(et),u(tt))}(V,Z)},this[Symbol.iterator]=function(){return this}}function p(V){return function(Z){function tt(at){return Z.next(at)}function et(at){return Z.throw(at)}return new Promise(function(at,nt){(function ht(ft){ft.done?at(ft.value):Promise.resolve(ft.value).then(tt,et).then(ht,nt)})(Z.next())})}(new d(new l(V)))}e.prototype.s=function(V){this.h=V},e.prototype.return=function(V){this.j={return:V},this.g=this.u},P("Promise",function(V){function Z(ht){this.h=0,this.i=void 0,this.g=[],this.s=!1;var ft=this.j();try{ht(ft.resolve,ft.reject)}catch(xt){ft.reject(xt)}}function tt(){this.g=null}function et(ht){return ht instanceof Z?ht:new Z(function(ft){ft(ht)})}if(V)return V;tt.prototype.h=function(ht){if(this.g==null){this.g=[];var ft=this;this.i(function(){ft.l()})}this.g.push(ht)};var at=w.setTimeout;tt.prototype.i=function(ht){at(ht,0)},tt.prototype.l=function(){for(;this.g&&this.g.length;){var ht=this.g;this.g=[];for(var ft=0;ft<ht.length;++ft){var xt=ht[ft];ht[ft]=null;try{xt()}catch(Ct){this.j(Ct)}}}this.g=null},tt.prototype.j=function(ht){this.i(function(){throw ht})},Z.prototype.j=function(){function ht(Ct){return function(Mt){xt||(xt=!0,Ct.call(ft,Mt))}}var ft=this,xt=!1;return{resolve:ht(this.D),reject:ht(this.l)}},Z.prototype.D=function(ht){if(ht===this)this.l(new TypeError("A Promise cannot resolve to itself"));else if(ht instanceof Z)this.H(ht);else{t:switch(typeof ht){case"object":var ft=ht!=null;break t;case"function":ft=!0;break t;default:ft=!1}ft?this.A(ht):this.o(ht)}},Z.prototype.A=function(ht){var ft=void 0;try{ft=ht.then}catch(xt){return void this.l(xt)}typeof ft=="function"?this.I(ft,ht):this.o(ht)},Z.prototype.l=function(ht){this.u(2,ht)},Z.prototype.o=function(ht){this.u(1,ht)},Z.prototype.u=function(ht,ft){if(this.h!=0)throw Error("Cannot settle("+ht+", "+ft+"): Promise already settled in state"+this.h);this.h=ht,this.i=ft,this.h===2&&this.G(),this.B()},Z.prototype.G=function(){var ht=this;at(function(){if(ht.C()){var ft=w.console;ft!==void 0&&ft.error(ht.i)}},1)},Z.prototype.C=function(){if(this.s)return!1;var ht=w.CustomEvent,ft=w.Event,xt=w.dispatchEvent;return xt===void 0||(typeof ht=="function"?ht=new ht("unhandledrejection",{cancelable:!0}):typeof ft=="function"?ht=new ft("unhandledrejection",{cancelable:!0}):(ht=w.document.createEvent("CustomEvent")).initCustomEvent("unhandledrejection",!1,!0,ht),ht.promise=this,ht.reason=this.i,xt(ht))},Z.prototype.B=function(){if(this.g!=null){for(var ht=0;ht<this.g.length;++ht)nt.h(this.g[ht]);this.g=null}};var nt=new tt;return Z.prototype.H=function(ht){var ft=this.j();ht.M(ft.resolve,ft.reject)},Z.prototype.I=function(ht,ft){var xt=this.j();try{ht.call(ft,xt.resolve,xt.reject)}catch(Ct){xt.reject(Ct)}},Z.prototype.then=function(ht,ft){function xt(Dt,Bt){return typeof Dt=="function"?function($t){try{Ct(Dt($t))}catch(Zt){Mt(Zt)}}:Bt}var Ct,Mt,Rt=new Z(function(Dt,Bt){Ct=Dt,Mt=Bt});return this.M(xt(ht,Ct),xt(ft,Mt)),Rt},Z.prototype.catch=function(ht){return this.then(void 0,ht)},Z.prototype.M=function(ht,ft){function xt(){switch(Ct.h){case 1:ht(Ct.i);break;case 2:ft(Ct.i);break;default:throw Error("Unexpected state: "+Ct.h)}}var Ct=this;this.g==null?nt.h(xt):this.g.push(xt),this.s=!0},Z.resolve=et,Z.reject=function(ht){return new Z(function(ft,xt){xt(ht)})},Z.race=function(ht){return new Z(function(ft,xt){for(var Ct=c(ht),Mt=Ct.next();!Mt.done;Mt=Ct.next())et(Mt.value).M(ft,xt)})},Z.all=function(ht){var ft=c(ht),xt=ft.next();return xt.done?et([]):new Z(function(Ct,Mt){function Rt($t){return function(Zt){Dt[$t]=Zt,--Bt==0&&Ct(Dt)}}var Dt=[],Bt=0;do Dt.push(void 0),Bt++,et(xt.value).M(Rt(Dt.length-1),Mt),xt=ft.next();while(!xt.done)})},Z});var x=typeof Object.assign=="function"?Object.assign:function(V,Z){for(var tt=1;tt<arguments.length;tt++){var et=arguments[tt];if(et)for(var at in et)Object.prototype.hasOwnProperty.call(et,at)&&(V[at]=et[at])}return V};P("Object.assign",function(V){return V||x}),P("Object.is",function(V){return V||function(Z,tt){return Z===tt?Z!==0||1/Z==1/tt:Z!=Z&&tt!=tt}}),P("Array.prototype.includes",function(V){return V||function(Z,tt){var et=this;et instanceof String&&(et=String(et));var at=et.length;for(0>(tt=tt||0)&&(tt=Math.max(tt+at,0));tt<at;tt++){var nt=et[tt];if(nt===Z||Object.is(nt,Z))return!0}return!1}}),P("String.prototype.includes",function(V){return V||function(Z,tt){if(this==null)throw new TypeError("The 'this' value for String.prototype.includes must not be null or undefined");if(Z instanceof RegExp)throw new TypeError("First argument to String.prototype.includes must not be a regular expression");return this.indexOf(Z,tt||0)!==-1}}),P("Array.prototype.keys",function(V){return V||function(){return function(Z,tt){Z instanceof String&&(Z+="");var et=0,at=!1,nt={next:function(){if(!at&&et<Z.length){var ht=et++;return{value:tt(ht,Z[ht]),done:!1}}return at=!0,{done:!0,value:void 0}}};return nt[Symbol.iterator]=function(){return nt},nt}(this,function(Z){return Z})}});var E=this||self;function T(V,Z){V=V.split(".");var tt,et=E;for((V[0]in et)||et.execScript===void 0||et.execScript("var "+V[0]);V.length&&(tt=V.shift());)V.length||Z===void 0?et=et[tt]&&et[tt]!==Object.prototype[tt]?et[tt]:et[tt]={}:et[tt]=Z}function C(){throw Error("Invalid UTF8")}function A(V,Z){return Z=String.fromCharCode.apply(null,Z),V==null?Z:V+Z}var M,R,O=typeof TextDecoder<"u",L=typeof TextEncoder<"u",b={},N=null;function I(V){var Z;Z===void 0&&(Z=0),X(),Z=b[Z];for(var tt=Array(Math.floor(V.length/3)),et=Z[64]||"",at=0,nt=0;at<V.length-2;at+=3){var ht=V[at],ft=V[at+1],xt=V[at+2],Ct=Z[ht>>2];ht=Z[(3&ht)<<4|ft>>4],ft=Z[(15&ft)<<2|xt>>6],xt=Z[63&xt],tt[nt++]=Ct+ht+ft+xt}switch(Ct=0,xt=et,V.length-at){case 2:xt=Z[(15&(Ct=V[at+1]))<<2]||et;case 1:V=V[at],tt[nt]=Z[V>>2]+Z[(3&V)<<4|Ct>>4]+xt+et}return tt.join("")}function G(V){var Z=V.length,tt=3*Z/4;tt%3?tt=Math.floor(tt):"=.".indexOf(V[Z-1])!=-1&&(tt="=.".indexOf(V[Z-2])!=-1?tt-2:tt-1);var et=new Uint8Array(tt),at=0;return function(nt,ht){function ft(Bt){for(;xt<nt.length;){var $t=nt.charAt(xt++),Zt=N[$t];if(Zt!=null)return Zt;if(!/^[\s\xa0]*$/.test($t))throw Error("Unknown base64 encoding at char: "+$t)}return Bt}X();for(var xt=0;;){var Ct=ft(-1),Mt=ft(0),Rt=ft(64),Dt=ft(64);if(Dt===64&&Ct===-1)break;ht(Ct<<2|Mt>>4),Rt!=64&&(ht(Mt<<4&240|Rt>>2),Dt!=64&&ht(Rt<<6&192|Dt))}}(V,function(nt){et[at++]=nt}),at!==tt?et.subarray(0,at):et}function X(){if(!N){N={};for(var V="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),Z=["+/=","+/","-_=","-_.","-_"],tt=0;5>tt;tt++){var et=V.concat(Z[tt].split(""));b[tt]=et;for(var at=0;at<et.length;at++){var nt=et[at];N[nt]===void 0&&(N[nt]=at)}}}}var $,J=typeof Uint8Array=="function";function z(V){return J&&V!=null&&V instanceof Uint8Array}function Y(V){if(this.L=V,V!==null&&V.length===0)throw Error("ByteString should be constructed with non-empty values")}var D=typeof Uint8Array.prototype.slice=="function",B=0;function U(V,Z){return Error("Invalid wire type: "+V+" (at position "+Z+")")}function H(){return Error("Failed to read varint, encoding is invalid.")}function j(V,Z){Z=(Z=Z===void 0?{}:Z).v!==void 0&&Z.v,this.h=null,this.g=this.i=this.j=0,this.v=Z,V&&q(this,V)}function q(V,Z){V.h=function(tt,et){if(tt.constructor===Uint8Array)return tt;if(tt.constructor===ArrayBuffer)return new Uint8Array(tt);if(tt.constructor===Array)return new Uint8Array(tt);if(tt.constructor===String)return G(tt);if(tt.constructor===Y)return!et&&(et=tt.L)&&et.constructor===Uint8Array?et:(et=(et=tt.L)==null||z(et)?et:typeof et=="string"?G(et):null,(tt=tt.L=et)?new Uint8Array(tt):$||($=new Uint8Array(0)));if(tt instanceof Uint8Array)return new Uint8Array(tt.buffer,tt.byteOffset,tt.byteLength);throw Error("Type not convertible to a Uint8Array, expected a Uint8Array, an ArrayBuffer, a base64 encoded string, or Array of numbers")}(Z,V.v),V.j=0,V.i=V.h.length,V.g=V.j}function _(V){if(V.g>V.i)throw Error("Tried to read past the end of the data "+V.g+" > "+V.i)}function st(V){var Z=V.h,tt=Z[V.g],et=127&tt;if(128>tt)return V.g+=1,_(V),et;if(et|=(127&(tt=Z[V.g+1]))<<7,128>tt)return V.g+=2,_(V),et;if(et|=(127&(tt=Z[V.g+2]))<<14,128>tt)return V.g+=3,_(V),et;if(et|=(127&(tt=Z[V.g+3]))<<21,128>tt)return V.g+=4,_(V),et;if(tt=Z[V.g+4],V.g+=5,et|=(15&tt)<<28,128>tt)return _(V),et;if(128<=Z[V.g++]&&128<=Z[V.g++]&&128<=Z[V.g++]&&128<=Z[V.g++]&&128<=Z[V.g++])throw H();return _(V),et}j.prototype.reset=function(){this.g=this.j};var ut=[];function ct(){this.g=[]}function pt(V,Z){for(;127<Z;)V.g.push(127&Z|128),Z>>>=7;V.g.push(Z)}function Tt(V){var Z={},tt=Z.W!==void 0&&Z.W;this.l={v:Z.v!==void 0&&Z.v},this.W=tt,Z=this.l,ut.length?(tt=ut.pop(),Z&&(tt.v=Z.v),V&&q(tt,V),V=tt):V=new j(V,Z),this.g=V,this.j=this.g.g,this.h=this.i=-1}function mt(V){var Z=V.g;if(Z.g==Z.i)return!1;V.j=V.g.g;var tt=st(V.g)>>>0;if(Z=tt>>>3,!(0<=(tt&=7)&&5>=tt))throw U(tt,V.j);if(1>Z)throw Error("Invalid field number: "+Z+" (at position "+V.j+")");return V.i=Z,V.h=tt,!0}function wt(V){switch(V.h){case 0:if(V.h!=0)wt(V);else t:{for(var Z=(V=V.g).g,tt=Z+10;Z<tt;)if((128&V.h[Z++])==0){V.g=Z,_(V);break t}throw H()}break;case 1:(V=V.g).g+=8,_(V);break;case 2:V.h!=2?wt(V):(Z=st(V.g)>>>0,(V=V.g).g+=Z,_(V));break;case 5:(V=V.g).g+=4,_(V);break;case 3:for(Z=V.i;;){if(!mt(V))throw Error("Unmatched start-group tag: stream EOF");if(V.h==4){if(V.i!=Z)throw Error("Unmatched end-group tag");break}wt(V)}break;default:throw U(V.h,V.j)}}ct.prototype.length=function(){return this.g.length},ct.prototype.end=function(){var V=this.g;return this.g=[],V},Tt.prototype.reset=function(){this.g.reset(),this.j=this.g.g,this.h=this.i=-1};var Nt=[];function zt(){this.i=[],this.h=0,this.g=new ct}function Ot(V,Z){Z.length!==0&&(V.i.push(Z),V.h+=Z.length)}var St=typeof Symbol=="function"&&typeof Symbol()=="symbol"?Symbol(void 0):void 0;function It(V,Z){Object.isFrozen(V)||(St?V[St]|=Z:V.N!==void 0?V.N|=Z:Object.defineProperties(V,{N:{value:Z,configurable:!0,writable:!0,enumerable:!1}}))}function bt(V){var Z;return(Z=St?V[St]:V.N)==null?0:Z}function Xt(V){return It(V,1),V}function Wt(V){return!!Array.isArray(V)&&!!(2&bt(V))}function he(V){if(!Array.isArray(V))throw Error("cannot mark non-array as immutable");It(V,2)}function kt(V){return V!==null&&typeof V=="object"&&!Array.isArray(V)&&V.constructor===Object}var jt=Object.freeze(Xt([]));function Ht(V){if(Wt(V.m))throw Error("Cannot mutate an immutable Message")}var ve,le=typeof Symbol<"u"&&Symbol.hasInstance!==void 0;function Te(V){return{value:V,configurable:!1,writable:!1,enumerable:!1}}function se(V,Z,tt){return Z===-1?null:Z>=V.i?V.g?V.g[Z]:void 0:tt!==void 0&&tt&&V.g&&(tt=V.g[Z])!=null?tt:V.m[Z+V.h]}function ne(V,Z,tt,et){et=et!==void 0&&et,Ht(V),Z<V.i&&!et?V.m[Z+V.h]=tt:(V.g||(V.g=V.m[V.i+V.h]={}))[Z]=tt}function fe(V,Z,tt,et){tt=tt===void 0||tt;var at=se(V,Z,et=et!==void 0&&et);return at==null&&(at=jt),Wt(V.m)?tt&&(he(at),Object.freeze(at)):(at===jt||Wt(at))&&ne(V,Z,at=Xt(at.slice()),et),at}function Se(V,Z,tt){return(V=(V=se(V,Z))==null?V:+V)==null?tt===void 0?0:tt:V}function Ie(V,Z,tt,et){V.j||(V.j={});var at=Wt(V.m),nt=V.j[tt];if(!nt){et=fe(V,tt,!0,et!==void 0&&et),nt=[],at=at||Wt(et);for(var ht=0;ht<et.length;ht++)nt[ht]=new Z(et[ht]),at&&he(nt[ht].m);at&&(he(nt),Object.freeze(nt)),V.j[tt]=nt}return nt}function re(V,Z,tt,et,at){var nt=nt!==void 0&&nt;return Ht(V),nt=Ie(V,tt,Z,nt),tt=et||new tt,V=fe(V,Z),at!=null?(nt.splice(at,0,tt),V.splice(at,0,tt.m)):(nt.push(tt),V.push(tt.m)),tt}function Be(V,Z){return(V=se(V,Z))==null?0:V}function Yn(V,Z){return(V=se(V,Z))==null?"":V}function li(V){var Z=xs;return te(V,Z=Z===void 0?Cn:Z)}function $e(V,Z){if(V!=null){if(Array.isArray(V))V=te(V,Z);else if(kt(V)){var tt,et={};for(tt in V)et[tt]=$e(V[tt],Z);V=et}else V=Z(V);return V}}function te(V,Z){for(var tt=V.slice(),et=0;et<tt.length;et++)tt[et]=$e(tt[et],Z);return Array.isArray(V)&&1&bt(V)&&Xt(tt),tt}function xs(V){return V&&typeof V=="object"&&V.toJSON?V.toJSON():(V=function(Z){switch(typeof Z){case"number":return isFinite(Z)?Z:String(Z);case"object":if(Z&&!Array.isArray(Z)){if(z(Z))return I(Z);if(Z instanceof Y){var tt=Z.L;return tt=tt==null||typeof tt=="string"?tt:J&&tt instanceof Uint8Array?I(tt):null,(Z.L=tt)||""}}}return Z}(V),Array.isArray(V)?li(V):V)}function Cn(V){return z(V)?new Uint8Array(V):V}function Zi(V,Z,tt){V||(V=ve),ve=null;var et=this.constructor.h;if(V||(V=et?[et]:[]),this.h=(et?0:-1)-(this.constructor.g||0),this.j=void 0,this.m=V,V=(et=this.m.length)-1,et&&kt(et=this.m[V])?(this.i=V-this.h,this.g=et):Z!==void 0&&-1<Z?(this.i=Math.max(Z,V+1-this.h),this.g=void 0):this.i=Number.MAX_VALUE,tt)for(Z=0;Z<tt.length;Z++)if((V=tt[Z])<this.i)V+=this.h,(et=this.m[V])?Array.isArray(et)&&Xt(et):this.m[V]=jt;else{var at=(et=this.g||(this.g=this.m[this.i+this.h]={}))[V];at?Array.isArray(at)&&Xt(at):et[V]=jt}}function Ji(){Zi.apply(this,arguments)}if(Zi.prototype.toJSON=function(){return li(this.m)},Zi.prototype.toString=function(){return this.m.toString()},s(Ji,Zi),le){var ui={};Object.defineProperties(Ji,(ui[Symbol.hasInstance]=Te(function(){throw Error("Cannot perform instanceof checks for MutableMessage")}),ui))}function wn(V,Z,tt){if(tt){var et,at={};for(et in tt){var nt=tt[et],ht=nt.ha;ht||(at.F=nt.la||nt.fa.P,nt.aa?(at.U=Ss(nt.aa),ht=function(ft){return function(xt,Ct,Mt){return ft.F(xt,Ct,Mt,ft.U)}}(at)):nt.ca?(at.T=An(nt.X.g,nt.ca),ht=function(ft){return function(xt,Ct,Mt){return ft.F(xt,Ct,Mt,ft.T)}}(at)):ht=at.F,nt.ha=ht),ht(Z,V,nt.X),at={F:at.F,U:at.U,T:at.T}}}(function(ft,xt){if(xt=xt.ba){Ot(ft,ft.g.end());for(var Ct=0;Ct<xt.length;Ct++)Ot(ft,xt[Ct])}})(Z,V)}var Ke=Symbol();function fi(V,Z,tt){return V[Ke]||(V[Ke]=function(et,at){return Z(et,at,tt)})}function Ts(V){var Z=V[Ke];if(!Z){var tt=Ps(V);Z=function(et,at){return Hn(et,at,tt)},V[Ke]=Z}return Z}function Tr(V){var Z=function(at){var nt=at.aa;return nt?Ts(nt):(nt=at.ka)?fi(at.X.g,nt,at.ca):void 0}(V),tt=V.X,et=V.fa.O;return Z?function(at,nt){return et(at,nt,tt,Z)}:function(at,nt){return et(at,nt,tt)}}function Fe(V,Z,tt,et,at,nt){var ht=0;for((V=V()).length&&typeof V[0]!="number"&&(tt(Z,V[0]),ht++);ht<V.length;){tt=V[ht++];for(var ft=ht+1;ft<V.length&&typeof V[ft]!="number";)ft++;var xt=V[ht++];switch(ft-=ht){case 0:et(Z,tt,xt);break;case 1:et(Z,tt,xt,V[ht++]);break;case 2:at(Z,tt,xt,V[ht++],V[ht++]);break;case 3:ft=V[ht++];var Ct=V[ht++],Mt=V[ht++];Array.isArray(Mt)?at(Z,tt,xt,ft,Ct,Mt):nt(Z,tt,xt,ft,Ct,Mt);break;case 4:nt(Z,tt,xt,V[ht++],V[ht++],V[ht++],V[ht++]);break;default:throw Error("unexpected number of binary field arguments: "+ft)}}return Z}var di=Symbol();function Ss(V){var Z=V[di];if(!Z){var tt=As(V);Z=function(et,at){return Kn(et,at,tt)},V[di]=Z}return Z}function An(V,Z){var tt=V[di];return tt||(tt=function(et,at){return wn(et,at,Z)},V[di]=tt),tt}var Es=Symbol();function Ni(V,Z){V.push(Z)}function Sr(V,Z,tt){V.push(Z,tt.P)}function Cs(V,Z,tt,et,at){var nt=Ss(at),ht=tt.P;V.push(Z,function(ft,xt,Ct){return ht(ft,xt,Ct,et,nt)})}function ws(V,Z,tt,et,at,nt){var ht=An(et,nt),ft=tt.P;V.push(Z,function(xt,Ct,Mt){return ft(xt,Ct,Mt,et,ht)})}function As(V){var Z=V[Es];return Z||Fe(V,V[Es]=[],Ni,Sr,Cs,ws)}var Pn=Symbol();function yi(V,Z){V[0]=Z}function Er(V,Z,tt,et){var at=tt.O;V[Z]=et?function(nt,ht,ft){return at(nt,ht,ft,et)}:at}function Cr(V,Z,tt,et,at,nt){var ht=tt.O,ft=Ts(at);V[Z]=function(xt,Ct,Mt){return ht(xt,Ct,Mt,et,ft,nt)}}function Mn(V,Z,tt,et,at,nt,ht){var ft=tt.O,xt=fi(et,at,nt);V[Z]=function(Ct,Mt,Rt){return ft(Ct,Mt,Rt,et,xt,ht)}}function Ps(V){var Z=V[Pn];return Z||Fe(V,V[Pn]={},yi,Er,Cr,Mn)}function Hn(V,Z,tt){for(;mt(Z)&&Z.h!=4;){var et=Z.i,at=tt[et];if(!at){var nt=tt[0];nt&&(nt=nt[et])&&(at=tt[et]=Tr(nt))}if(!(at&&at(Z,V,et)||(at=Z,et=V,nt=at.j,wt(at),at.W))){var ht=at.g.h;at=nt===(at=at.g.g)?$||($=new Uint8Array(0)):D?ht.slice(nt,at):new Uint8Array(ht.subarray(nt,at)),(nt=et.ba)?nt.push(at):et.ba=[at]}}return V}function $n(V,Z,tt){if(Nt.length){var et=Nt.pop();V&&(q(et.g,V),et.i=-1,et.h=-1),V=et}else V=new Tt(V);try{return Hn(new Z,V,Ps(tt))}finally{(Z=V.g).h=null,Z.j=0,Z.i=0,Z.g=0,Z.v=!1,V.i=-1,V.h=-1,100>Nt.length&&Nt.push(V)}}function Kn(V,Z,tt){for(var et=tt.length,at=et%2==1,nt=at?1:0;nt<et;nt+=2)(0,tt[nt+1])(Z,V,tt[nt]);wn(V,Z,at?tt[0]:void 0)}function Qi(V,Z){var tt=new zt;Kn(V,tt,As(Z)),Ot(tt,tt.g.end()),V=new Uint8Array(tt.h);for(var et=(Z=tt.i).length,at=0,nt=0;nt<et;nt++){var ht=Z[nt];V.set(ht,at),at+=ht.length}return tt.i=[V],V}function Ii(V,Z){return{O:V,P:Z}}var je=Ii(function(V,Z,tt){if(V.h!==5)return!1;var et=(V=V.g).h[V.g],at=V.h[V.g+1],nt=V.h[V.g+2],ht=V.h[V.g+3];return V.g+=4,_(V),V=2*((at=(et<<0|at<<8|nt<<16|ht<<24)>>>0)>>31)+1,et=at>>>23&255,at&=8388607,ne(Z,tt,et==255?at?NaN:1/0*V:et==0?V*Math.pow(2,-149)*at:V*Math.pow(2,et-150)*(at+Math.pow(2,23))),!0},function(V,Z,tt){if((Z=se(Z,tt))!=null){pt(V.g,8*tt+5),V=V.g;var et=Z;(et=(tt=0>et?1:0)?-et:et)===0?0<1/et?B=0:B=2147483648:isNaN(et)?B=2147483647:34028234663852886e22<et?B=(tt<<31|2139095040)>>>0:11754943508222875e-54>et?(et=Math.round(et/Math.pow(2,-149)),B=(tt<<31|et)>>>0):(Z=Math.floor(Math.log(et)/Math.LN2),et*=Math.pow(2,-Z),16777216<=(et=Math.round(8388608*et))&&++Z,B=(tt<<31|Z+127<<23|8388607&et)>>>0),tt=B,V.g.push(tt>>>0&255),V.g.push(tt>>>8&255),V.g.push(tt>>>16&255),V.g.push(tt>>>24&255)}}),wr=Ii(function(V,Z,tt){if(V.h!==0)return!1;for(var et=V.g,at=128,nt=0,ht=V=0;4>ht&&128<=at;ht++)at=et.h[et.g++],_(et),nt|=(127&at)<<7*ht;if(128<=at&&(at=et.h[et.g++],_(et),nt|=(127&at)<<28,V|=(127&at)>>4),128<=at)for(ht=0;5>ht&&128<=at;ht++)at=et.h[et.g++],_(et),V|=(127&at)<<7*ht+3;if(!(128>at))throw H();return et=nt>>>0,(V=2147483648&(at=V>>>0))&&(at=~at>>>0,(et=1+~et>>>0)==0&&(at=at+1>>>0)),et=4294967296*at+(et>>>0),ne(Z,tt,V?-et:et),!0},function(V,Z,tt){if((Z=se(Z,tt))!=null&&Z!=null){pt(V.g,8*tt),V=V.g;var et=Z;for(tt=0>et,Z=(et=Math.abs(et))>>>0,et=Math.floor((et-Z)/4294967296),et>>>=0,tt&&(et=~et>>>0,4294967295<(Z=1+(~Z>>>0))&&(Z=0,4294967295<++et&&(et=0))),tt=B=Z,Z=et;0<Z||127<tt;)V.g.push(127&tt|128),tt=(tt>>>7|Z<<25)>>>0,Z>>>=7;V.g.push(tt)}}),Ar=Ii(function(V,Z,tt){return V.h===0&&(ne(Z,tt,st(V.g)),!0)},function(V,Z,tt){if((Z=se(Z,tt))!=null&&Z!=null)if(pt(V.g,8*tt),V=V.g,0<=(tt=Z))pt(V,tt);else{for(Z=0;9>Z;Z++)V.g.push(127&tt|128),tt>>=7;V.g.push(1)}}),Ms=Ii(function(V,Z,tt){if(V.h!==2)return!1;var et,at=st(V.g)>>>0,nt=(V=V.g).g;if(V.g+=at,_(V),V=V.h,O)(et=M)||(et=M=new TextDecoder("utf-8",{fatal:!0})),et=et.decode(V.subarray(nt,nt+at));else{at=nt+at;for(var ht,ft,xt,Ct=[],Mt=null;nt<at;)128>(ht=V[nt++])?Ct.push(ht):224>ht?nt>=at?C():(ft=V[nt++],194>ht||(192&ft)!=128?(nt--,C()):Ct.push((31&ht)<<6|63&ft)):240>ht?nt>=at-1?C():(192&(ft=V[nt++]))!=128||ht===224&&160>ft||ht===237&&160<=ft||(192&(et=V[nt++]))!=128?(nt--,C()):Ct.push((15&ht)<<12|(63&ft)<<6|63&et):244>=ht?nt>=at-2?C():(192&(ft=V[nt++]))!=128||ft-144+(ht<<28)>>30!=0||(192&(et=V[nt++]))!=128||(192&(xt=V[nt++]))!=128?(nt--,C()):(ht=(7&ht)<<18|(63&ft)<<12|(63&et)<<6|63&xt,ht-=65536,Ct.push(55296+(ht>>10&1023),56320+(1023&ht))):C(),8192<=Ct.length&&(Mt=A(Mt,Ct),Ct.length=0);et=A(Mt,Ct)}return ne(Z,tt,et),!0},function(V,Z,tt){if((Z=se(Z,tt))!=null){var et=!1;if(et=et!==void 0&&et,L){if(et&&/(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])/.test(Z))throw Error("Found an unpaired surrogate");Z=(R||(R=new TextEncoder)).encode(Z)}else{for(var at=0,nt=new Uint8Array(3*Z.length),ht=0;ht<Z.length;ht++){var ft=Z.charCodeAt(ht);if(128>ft)nt[at++]=ft;else{if(2048>ft)nt[at++]=ft>>6|192;else{if(55296<=ft&&57343>=ft){if(56319>=ft&&ht<Z.length){var xt=Z.charCodeAt(++ht);if(56320<=xt&&57343>=xt){ft=1024*(ft-55296)+xt-56320+65536,nt[at++]=ft>>18|240,nt[at++]=ft>>12&63|128,nt[at++]=ft>>6&63|128,nt[at++]=63&ft|128;continue}ht--}if(et)throw Error("Found an unpaired surrogate");ft=65533}nt[at++]=ft>>12|224,nt[at++]=ft>>6&63|128}nt[at++]=63&ft|128}}Z=nt.subarray(0,at)}pt(V.g,8*tt+2),pt(V.g,Z.length),Ot(V,V.g.end()),Ot(V,Z)}}),jn=Ii(function(V,Z,tt,et,at){if(V.h!==2)return!1;Z=re(Z,tt,et),tt=V.g.i,et=st(V.g)>>>0;var nt=V.g.g+et,ht=nt-tt;if(0>=ht&&(V.g.i=nt,at(Z,V),ht=nt-V.g.g),ht)throw Error("Message parsing ended unexpectedly. Expected to read "+et+" bytes, instead read "+(et-ht)+" bytes, either the data ended unexpectedly or the message misreported its own length");return V.g.g=nt,V.g.i=tt,!0},function(V,Z,tt,et,at){if((Z=Ie(Z,et,tt))!=null)for(et=0;et<Z.length;et++){var nt=V;pt(nt.g,8*tt+2);var ht=nt.g.end();Ot(nt,ht),ht.push(nt.h),nt=ht,at(Z[et],V),ht=V;var ft=nt.pop();for(ft=ht.h+ht.g.length()-ft;127<ft;)nt.push(127&ft|128),ft>>>=7,ht.h++;nt.push(ft),ht.h++}});function Ve(){Ji.apply(this,arguments)}if(s(Ve,Ji),le){var Fs={};Object.defineProperties(Ve,(Fs[Symbol.hasInstance]=Te(Object[Symbol.hasInstance]),Fs))}function xi(V){Ve.call(this,V)}function Rs(){return[1,Ar,2,je,3,Ms,4,Ms]}function kn(V){Ve.call(this,V,-1,Mr)}function Pr(){return[1,jn,xi,Rs]}s(xi,Ve),s(kn,Ve),kn.prototype.addClassification=function(V,Z){return re(this,1,xi,V,Z),this};var Mr=[1];function Bi(V){Ve.call(this,V)}function Ls(){return[1,je,2,je,3,je,4,je,5,je]}function Os(V){Ve.call(this,V,-1,Rr)}function Fr(){return[1,jn,Bi,Ls]}s(Bi,Ve),s(Os,Ve);var Rr=[1];function Zn(V){Ve.call(this,V)}function Jn(){return[1,je,2,je,3,je,4,je,5,je,6,wr]}s(Zn,Ve);var Qn=[[61,146],[146,91],[91,181],[181,84],[84,17],[17,314],[314,405],[405,321],[321,375],[375,291],[61,185],[185,40],[40,39],[39,37],[37,0],[0,267],[267,269],[269,270],[270,409],[409,291],[78,95],[95,88],[88,178],[178,87],[87,14],[14,317],[317,402],[402,318],[318,324],[324,308],[78,191],[191,80],[80,81],[81,82],[82,13],[13,312],[312,311],[311,310],[310,415],[415,308]],qn=[[263,249],[249,390],[390,373],[373,374],[374,380],[380,381],[381,382],[382,362],[263,466],[466,388],[388,387],[387,386],[386,385],[385,384],[384,398],[398,362]],_n=[[276,283],[283,282],[282,295],[295,285],[300,293],[293,334],[334,296],[296,336]],ts=[[33,7],[7,163],[163,144],[144,145],[145,153],[153,154],[154,155],[155,133],[33,246],[246,161],[161,160],[160,159],[159,158],[158,157],[157,173],[173,133]],es=[[46,53],[53,52],[52,65],[65,55],[70,63],[63,105],[105,66],[66,107]],bs=[[10,338],[338,297],[297,332],[332,284],[284,251],[251,389],[389,356],[356,454],[454,323],[323,361],[361,288],[288,397],[397,365],[365,379],[379,378],[378,400],[400,377],[377,152],[152,148],[148,176],[176,149],[149,150],[150,136],[136,172],[172,58],[58,132],[132,93],[93,234],[234,127],[127,162],[162,21],[21,54],[54,103],[103,67],[67,109],[109,10]],Ds=[].concat(g(Qn),g(qn),g(_n),g(ts),g(es),g(bs));function W(V,Z,tt){if(tt=V.createShader(tt===0?V.VERTEX_SHADER:V.FRAGMENT_SHADER),V.shaderSource(tt,Z),V.compileShader(tt),!V.getShaderParameter(tt,V.COMPILE_STATUS))throw Error(`Could not compile WebGL shader.

`+V.getShaderInfoLog(tt));return tt}function k(V){return Ie(V,xi,1).map(function(Z){return{index:Be(Z,1),ga:Se(Z,2),label:se(Z,3)!=null?Yn(Z,3):void 0,displayName:se(Z,4)!=null?Yn(Z,4):void 0}})}function Q(V){return{x:Se(V,1),y:Se(V,2),z:Se(V,3),visibility:se(V,4)!=null?Se(V,4):void 0}}function ot(V,Z){this.h=V,this.g=Z,this.l=0}function vt(V,Z,tt){return function(et,at){var nt=et.g;if(et.o===void 0){var ht=W(nt,`
  attribute vec2 aVertex;
  attribute vec2 aTex;
  varying vec2 vTex;
  void main(void) {
    gl_Position = vec4(aVertex, 0.0, 1.0);
    vTex = aTex;
  }`,0),ft=W(nt,`
  precision mediump float;
  varying vec2 vTex;
  uniform sampler2D sampler0;
  void main(){
    gl_FragColor = texture2D(sampler0, vTex);
  }`,1),xt=nt.createProgram();if(nt.attachShader(xt,ht),nt.attachShader(xt,ft),nt.linkProgram(xt),!nt.getProgramParameter(xt,nt.LINK_STATUS))throw Error(`Could not compile WebGL program.

`+nt.getProgramInfoLog(xt));ht=et.o=xt,nt.useProgram(ht),ft=nt.getUniformLocation(ht,"sampler0"),et.j={K:nt.getAttribLocation(ht,"aVertex"),J:nt.getAttribLocation(ht,"aTex"),ma:ft},et.u=nt.createBuffer(),nt.bindBuffer(nt.ARRAY_BUFFER,et.u),nt.enableVertexAttribArray(et.j.K),nt.vertexAttribPointer(et.j.K,2,nt.FLOAT,!1,0,0),nt.bufferData(nt.ARRAY_BUFFER,new Float32Array([-1,-1,-1,1,1,1,1,-1]),nt.STATIC_DRAW),nt.bindBuffer(nt.ARRAY_BUFFER,null),et.s=nt.createBuffer(),nt.bindBuffer(nt.ARRAY_BUFFER,et.s),nt.enableVertexAttribArray(et.j.J),nt.vertexAttribPointer(et.j.J,2,nt.FLOAT,!1,0,0),nt.bufferData(nt.ARRAY_BUFFER,new Float32Array([0,1,0,0,1,0,1,1]),nt.STATIC_DRAW),nt.bindBuffer(nt.ARRAY_BUFFER,null),nt.uniform1i(ft,0)}ht=et.j,nt.useProgram(et.o),nt.canvas.width=at.width,nt.canvas.height=at.height,nt.viewport(0,0,at.width,at.height),nt.activeTexture(nt.TEXTURE0),et.h.bindTexture2d(at.glName),nt.enableVertexAttribArray(ht.K),nt.bindBuffer(nt.ARRAY_BUFFER,et.u),nt.vertexAttribPointer(ht.K,2,nt.FLOAT,!1,0,0),nt.enableVertexAttribArray(ht.J),nt.bindBuffer(nt.ARRAY_BUFFER,et.s),nt.vertexAttribPointer(ht.J,2,nt.FLOAT,!1,0,0),nt.bindFramebuffer(nt.DRAW_FRAMEBUFFER?nt.DRAW_FRAMEBUFFER:nt.FRAMEBUFFER,null),nt.clearColor(0,0,0,0),nt.clear(nt.COLOR_BUFFER_BIT),nt.colorMask(!0,!0,!0,!0),nt.drawArrays(nt.TRIANGLE_FAN,0,4),nt.disableVertexAttribArray(ht.K),nt.disableVertexAttribArray(ht.J),nt.bindBuffer(nt.ARRAY_BUFFER,null),et.h.bindTexture2d(0)}(V,Z),typeof V.g.canvas.transferToImageBitmap=="function"?Promise.resolve(V.g.canvas.transferToImageBitmap()):tt?Promise.resolve(V.g.canvas):typeof createImageBitmap=="function"?createImageBitmap(V.g.canvas):(V.i===void 0&&(V.i=document.createElement("canvas")),new Promise(function(et){V.i.height=V.g.canvas.height,V.i.width=V.g.canvas.width,V.i.getContext("2d",{}).drawImage(V.g.canvas,0,0,V.g.canvas.width,V.g.canvas.height),et(V.i)}))}function Et(V){this.g=V}var yt=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,9,1,7,0,65,0,253,15,26,11]);function At(V,Z){return Z+V}function Ft(V,Z){window[V]=Z}function Gt(V){if(this.g=V,this.listeners={},this.j={},this.H={},this.o={},this.u={},this.I=this.s=this.Z=!0,this.D=Promise.resolve(),this.Y="",this.C={},this.locateFile=V&&V.locateFile||At,typeof window=="object")var Z=window.location.pathname.toString().substring(0,window.location.pathname.toString().lastIndexOf("/"))+"/";else{if(typeof location>"u")throw Error("solutions can only be loaded on a web page or in a web worker");Z=location.pathname.toString().substring(0,location.pathname.toString().lastIndexOf("/"))+"/"}if(this.$=Z,V.options)for(var tt=(Z=c(Object.keys(V.options))).next();!tt.done;tt=Z.next()){tt=tt.value;var et=V.options[tt].default;et!==void 0&&(this.j[tt]=typeof et=="function"?et():et)}}function Yt(V){var Z,tt,et,at,nt,ht,ft,xt,Ct,Mt,Rt;return p(function(Dt){switch(Dt.g){case 1:return V.Z?(Z=V.g.files===void 0?[]:typeof V.g.files=="function"?V.g.files(V.j):V.g.files,n(Dt,p(function(Bt){switch(Bt.g){case 1:return Bt.o=2,n(Bt,WebAssembly.instantiate(yt),4);case 4:Bt.g=3,Bt.o=0;break;case 2:return Bt.o=0,Bt.j=null,Bt.return(!1);case 3:return Bt.return(!0)}}),2)):Dt.return();case 2:if(tt=Dt.h,typeof window=="object")return Ft("createMediapipeSolutionsWasm",{locateFile:V.locateFile}),Ft("createMediapipeSolutionsPackedAssets",{locateFile:V.locateFile}),ht=Z.filter(function(Bt){return Bt.data!==void 0}),ft=Z.filter(function(Bt){return Bt.data===void 0}),xt=Promise.all(ht.map(function(Bt){var $t=ae(V,Bt.url);if(Bt.path!==void 0){var Zt=Bt.path;$t=$t.then(function(ce){return V.overrideFile(Zt,ce),Promise.resolve(ce)})}return $t})),Ct=Promise.all(ft.map(function(Bt){return Bt.simd===void 0||Bt.simd&&tt||!Bt.simd&&!tt?function($t){var Zt=document.createElement("script");return Zt.setAttribute("src",$t),Zt.setAttribute("crossorigin","anonymous"),new Promise(function(ce){Zt.addEventListener("load",function(){ce()},!1),Zt.addEventListener("error",function(){ce()},!1),document.body.appendChild(Zt)})}(V.locateFile(Bt.url,V.$)):Promise.resolve()})).then(function(){var Bt,$t,Zt;return p(function(ce){if(ce.g==1)return Bt=window.createMediapipeSolutionsWasm,$t=window.createMediapipeSolutionsPackedAssets,Zt=V,n(ce,Bt($t),2);Zt.h=ce.h,ce.g=0})}),Mt=p(function(Bt){return V.g.graph&&V.g.graph.url?Bt=n(Bt,ae(V,V.g.graph.url),0):(Bt.g=0,Bt=void 0),Bt}),n(Dt,Promise.all([Ct,xt,Mt]),7);if(typeof importScripts!="function")throw Error("solutions can only be loaded on a web page or in a web worker");return et=Z.filter(function(Bt){return Bt.simd===void 0||Bt.simd&&tt||!Bt.simd&&!tt}).map(function(Bt){return V.locateFile(Bt.url,V.$)}),importScripts.apply(null,g(et)),at=V,n(Dt,createMediapipeSolutionsWasm(Module),6);case 6:at.h=Dt.h,V.l=new OffscreenCanvas(1,1),V.h.canvas=V.l,nt=V.h.GL.createContext(V.l,{antialias:!1,alpha:!1,ja:typeof WebGL2RenderingContext<"u"?2:1}),V.h.GL.makeContextCurrent(nt),Dt.g=4;break;case 7:if(V.l=document.createElement("canvas"),!(Rt=V.l.getContext("webgl2",{}))&&!(Rt=V.l.getContext("webgl",{})))return alert("Failed to create WebGL canvas context when passing video frame."),Dt.return();V.G=Rt,V.h.canvas=V.l,V.h.createContext(V.l,!0,!0,{});case 4:V.i=new V.h.SolutionWasm,V.Z=!1,Dt.g=0}})}function ae(V,Z){var tt,et;return p(function(at){return Z in V.H?at.return(V.H[Z]):(tt=V.locateFile(Z,""),et=fetch(tt).then(function(nt){return nt.arrayBuffer()}),V.H[Z]=et,at.return(et))})}function qt(V,Z,tt){var et,at,nt,ht,ft,xt,Ct,Mt,Rt,Dt,Bt,$t,Zt,ce;return p(function(pe){switch(pe.g){case 1:if(!tt)return pe.return(Z);for(et={},at=0,nt=c(Object.keys(tt)),ht=nt.next();!ht.done;ht=nt.next())ft=ht.value,typeof(xt=tt[ft])!="string"&&xt.type==="texture"&&Z[xt.stream]!==void 0&&++at;1<at&&(V.I=!1),Ct=c(Object.keys(tt)),ht=Ct.next();case 2:if(ht.done){pe.g=4;break}if(Mt=ht.value,typeof(Rt=tt[Mt])=="string")return Zt=et,ce=Mt,n(pe,function(qi,Ja,Fn){var Ns;return p(function(Lr){return typeof Fn=="number"||Fn instanceof Uint8Array||Fn instanceof qi.h.Uint8BlobList?Lr.return(Fn):Fn instanceof qi.h.Texture2dDataOut?((Ns=qi.u[Ja])||(Ns=new ot(qi.h,qi.G),qi.u[Ja]=Ns),Lr.return(vt(Ns,Fn,qi.I))):Lr.return(void 0)})}(V,Mt,Z[Rt]),14);if(Dt=Z[Rt.stream],Rt.type==="detection_list"){if(Dt){for(var Ge=Dt.getRectList(),Qe=Dt.getLandmarksList(),We=Dt.getClassificationsList(),ue=[],be=0;be<Ge.size();++be){var Gi=$n(Ge.get(be),Zn,Jn);Gi={boundingBox:{xCenter:Se(Gi,1),yCenter:Se(Gi,2),height:Se(Gi,3),width:Se(Gi,4),rotation:Se(Gi,5,0),rectId:Be(Gi,6)},landmarks:Ie($n(Qe.get(be),Os,Fr),Bi,1).map(Q),V:k($n(We.get(be),kn,Pr))},ue.push(Gi)}Ge=ue}else Ge=[];et[Mt]=Ge,pe.g=7;break}if(Rt.type==="proto_list"){if(Dt){for(Ge=Array(Dt.size()),Qe=0;Qe<Dt.size();Qe++)Ge[Qe]=Dt.get(Qe);Dt.delete()}else Ge=[];et[Mt]=Ge,pe.g=7;break}if(Dt===void 0){pe.g=3;break}if(Rt.type==="float_list"){et[Mt]=Dt,pe.g=7;break}if(Rt.type==="proto"){et[Mt]=Dt,pe.g=7;break}if(Rt.type!=="texture")throw Error("Unknown output config type: '"+Rt.type+"'");return(Bt=V.u[Mt])||(Bt=new ot(V.h,V.G),V.u[Mt]=Bt),n(pe,vt(Bt,Dt,V.I),13);case 13:$t=pe.h,et[Mt]=$t;case 7:Rt.transform&&et[Mt]&&(et[Mt]=Rt.transform(et[Mt])),pe.g=3;break;case 14:Zt[ce]=pe.h;case 3:ht=Ct.next(),pe.g=2;break;case 4:return pe.return(et)}})}function Kt(V,Z){for(var tt=Z.name||"$",et=[].concat(g(Z.wants)),at=new V.h.StringList,nt=c(Z.wants),ht=nt.next();!ht.done;ht=nt.next())at.push_back(ht.value);nt=V.h.PacketListener.implement({onResults:function(ft){for(var xt={},Ct=0;Ct<Z.wants.length;++Ct)xt[et[Ct]]=ft.get(Ct);var Mt=V.listeners[tt];Mt&&(V.D=qt(V,xt,Z.outs).then(function(Rt){Rt=Mt(Rt);for(var Dt=0;Dt<Z.wants.length;++Dt){var Bt=xt[et[Dt]];typeof Bt=="object"&&Bt.hasOwnProperty&&Bt.hasOwnProperty("delete")&&Bt.delete()}Rt&&(V.D=Rt)}))}}),V.i.attachMultiListener(at,nt),at.delete()}function Ut(V){var Z=this;V=V||{};var tt={url:"face_detection_short.binarypb"},et={type:1,graphOptionXref:{calculatorType:"TensorsToDetectionsCalculator",calculatorName:"facedetectionshortrangegpu__facedetectionshortrangecommon__TensorsToDetectionsCalculator",fieldName:"min_score_thresh"}};this.g=new Gt({locateFile:V.locateFile,files:[{data:!0,url:"face_detection_short.binarypb"},{data:!0,url:"face_detection_short_range.tflite"},{simd:!0,url:"face_detection_solution_simd_wasm_bin.js"},{simd:!1,url:"face_detection_solution_wasm_bin.js"}],graph:tt,listeners:[{wants:["detections","image_transformed"],outs:{image:"image_transformed",detections:{type:"detection_list",stream:"detections"}}}],inputs:{image:{type:"video",stream:"input_frames_gpu"}},options:{useCpuInference:{type:0,graphOptionXref:{calculatorType:"InferenceCalculator",fieldName:"use_cpu_inference"},default:typeof window=="object"&&window.navigator!==void 0&&("iPad Simulator;iPhone Simulator;iPod Simulator;iPad;iPhone;iPod".split(";").includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document)},selfieMode:{type:0,graphOptionXref:{calculatorType:"GlScalerCalculator",calculatorIndex:1,fieldName:"flip_horizontal"}},model:{type:0,onChange:function(at){var nt,ht,ft,xt,Ct;return p(function(Mt){switch(Mt.g){case 1:nt=c(at==="short"?["face_detection_short_range.tflite"]:["face_detection_full_range_sparse.tflite"]),ht=nt.next();case 2:if(ht.done){Mt.g=4;break}return ft=ht.value,xt="third_party/mediapipe/modules/face_detection/"+ft,n(Mt,ae(Z.g,ft),5);case 5:Ct=Mt.h,Z.g.overrideFile(xt,Ct),ht=nt.next(),Mt.g=2;break;case 4:return tt.url=at==="short"?"face_detection_short.binarypb":"face_detection_full.binarypb",et.graphOptionXref.calculatorName=at==="short"?"facedetectionshortrangegpu__facedetectionshortrangecommon__TensorsToDetectionsCalculator":"facedetectionfullrangegpu__facedetectionfullrangecommon__TensorsToDetectionsCalculator",Mt.return(!0)}})}},minDetectionConfidence:et}})}(S=Gt.prototype).close=function(){return this.i&&this.i.delete(),Promise.resolve()},S.reset=function(){var V=this;return p(function(Z){V.i&&(V.i.reset(),V.o={},V.u={}),Z.g=0})},S.setOptions=function(V,Z){var tt=this;if(Z=Z||this.g.options){for(var et=[],at=[],nt={},ht=c(Object.keys(V)),ft=ht.next();!ft.done;nt={R:nt.R,S:nt.S},ft=ht.next()){var xt=ft.value;xt in this.j&&this.j[xt]===V[xt]||(this.j[xt]=V[xt],(ft=Z[xt])!==void 0&&(ft.onChange&&(nt.R=ft.onChange,nt.S=V[xt],et.push(function(Ct){return function(){return p(function(Mt){if(Mt.g==1)return n(Mt,Ct.R(Ct.S),2);Mt.h===!0&&(tt.s=!0),Mt.g=0})}}(nt))),ft.graphOptionXref&&(xt={valueNumber:ft.type===1?V[xt]:0,valueBoolean:ft.type===0&&V[xt],valueString:ft.type===2?V[xt]:""},ft=Object.assign(Object.assign(Object.assign({},{calculatorName:"",calculatorIndex:0}),ft.graphOptionXref),xt),at.push(ft))))}et.length===0&&at.length===0||(this.s=!0,this.B=(this.B===void 0?[]:this.B).concat(at),this.A=(this.A===void 0?[]:this.A).concat(et))}},S.initialize=function(){var V=this;return p(function(Z){return Z.g==1?n(Z,Yt(V),2):Z.g!=3?n(Z,function(tt){var et,at,nt,ht,ft,xt,Ct,Mt;return p(function(Rt){if(Rt.g==1)return tt.g.graph&&tt.g.graph.url&&tt.Y===tt.g.graph.url?Rt.return():(tt.s=!0,tt.g.graph&&tt.g.graph.url?(tt.Y=tt.g.graph.url,n(Rt,ae(tt,tt.g.graph.url),3)):void(Rt.g=2));for(Rt.g!=2&&(et=Rt.h,tt.i.loadGraph(et)),at=c(Object.keys(tt.C)),nt=at.next();!nt.done;nt=at.next())ht=nt.value,tt.i.overrideFile(ht,tt.C[ht]);if(tt.C={},tt.g.listeners)for(ft=c(tt.g.listeners),xt=ft.next();!xt.done;xt=ft.next())Ct=xt.value,Kt(tt,Ct);Mt=tt.j,tt.j={},tt.setOptions(Mt),Rt.g=0})}(V),3):n(Z,function(tt){var et,at,nt,ht,ft,xt;return p(function(Ct){switch(Ct.g){case 1:if(!tt.s)return Ct.return();if(!tt.A){Ct.g=2;break}et=c(tt.A),at=et.next();case 3:if(at.done){Ct.g=5;break}return n(Ct,(0,at.value)(),4);case 4:at=et.next(),Ct.g=3;break;case 5:tt.A=void 0;case 2:if(tt.B){for(nt=new tt.h.GraphOptionChangeRequestList,ht=c(tt.B),ft=ht.next();!ft.done;ft=ht.next())xt=ft.value,nt.push_back(xt);tt.i.changeOptions(nt),nt.delete(),tt.B=void 0}tt.s=!1,Ct.g=0}})}(V),0)})},S.overrideFile=function(V,Z){this.i?this.i.overrideFile(V,Z):this.C[V]=Z},S.clearOverriddenFiles=function(){this.C={},this.i&&this.i.clearOverriddenFiles()},S.send=function(V,Z){var tt,et,at,nt,ht,ft,xt,Ct,Mt,Rt=this;return p(function(Dt){switch(Dt.g){case 1:return Rt.g.inputs?(tt=1e3*(Z??performance.now()),n(Dt,Rt.D,2)):Dt.return();case 2:return n(Dt,Rt.initialize(),3);case 3:for(et=new Rt.h.PacketDataList,at=c(Object.keys(V)),nt=at.next();!nt.done;nt=at.next())if(ht=nt.value,ft=Rt.g.inputs[ht]){t:{var Bt=V[ht];switch(ft.type){case"video":var $t=Rt.o[ft.stream];if($t||($t=new ot(Rt.h,Rt.G),Rt.o[ft.stream]=$t),$t.l===0&&($t.l=$t.h.createTexture()),typeof HTMLVideoElement<"u"&&Bt instanceof HTMLVideoElement)var Zt=Bt.videoWidth,ce=Bt.videoHeight;else typeof HTMLImageElement<"u"&&Bt instanceof HTMLImageElement?(Zt=Bt.naturalWidth,ce=Bt.naturalHeight):(Zt=Bt.width,ce=Bt.height);ce={glName:$t.l,width:Zt,height:ce},(Zt=$t.g).canvas.width=ce.width,Zt.canvas.height=ce.height,Zt.activeTexture(Zt.TEXTURE0),$t.h.bindTexture2d($t.l),Zt.texImage2D(Zt.TEXTURE_2D,0,Zt.RGBA,Zt.RGBA,Zt.UNSIGNED_BYTE,Bt),$t.h.bindTexture2d(0),$t=ce;break t;case"detections":for(($t=Rt.o[ft.stream])||($t=new Et(Rt.h),Rt.o[ft.stream]=$t),$t.data||($t.data=new $t.g.DetectionListData),$t.data.reset(Bt.length),ce=0;ce<Bt.length;++ce){Zt=Bt[ce];var pe=$t.data,Ge=pe.setBoundingBox,Qe=ce,We=Zt.boundingBox,ue=new Zn;if(ne(ue,1,We.xCenter),ne(ue,2,We.yCenter),ne(ue,3,We.height),ne(ue,4,We.width),ne(ue,5,We.rotation),ne(ue,6,We.rectId),We=Qi(ue,Jn),Ge.call(pe,Qe,We),Zt.landmarks)for(pe=0;pe<Zt.landmarks.length;++pe){var be=!!(ue=Zt.landmarks[pe]).visibility;Qe=(Ge=$t.data).addNormalizedLandmark,We=ce,ue=Object.assign(Object.assign({},ue),{visibility:be?ue.visibility:0}),ne(be=new Bi,1,ue.x),ne(be,2,ue.y),ne(be,3,ue.z),ue.visibility&&ne(be,4,ue.visibility),ue=Qi(be,Ls),Qe.call(Ge,We,ue)}if(Zt.V)for(pe=0;pe<Zt.V.length;++pe)Qe=(Ge=$t.data).addClassification,We=ce,ue=Zt.V[pe],ne(be=new xi,2,ue.ga),ue.index&&ne(be,1,ue.index),ue.label&&ne(be,3,ue.label),ue.displayName&&ne(be,4,ue.displayName),ue=Qi(be,Rs),Qe.call(Ge,We,ue)}$t=$t.data;break t;default:$t={}}}switch(xt=$t,Ct=ft.stream,ft.type){case"video":et.pushTexture2d(Object.assign(Object.assign({},xt),{stream:Ct,timestamp:tt}));break;case"detections":(Mt=xt).stream=Ct,Mt.timestamp=tt,et.pushDetectionList(Mt);break;default:throw Error("Unknown input config type: '"+ft.type+"'")}}return Rt.i.send(et),n(Dt,Rt.D,4);case 4:et.delete(),Dt.g=0}})},S.onResults=function(V,Z){this.listeners[Z||"$"]=V},T("Solution",Gt),T("OptionType",{BOOL:0,NUMBER:1,ia:2,0:"BOOL",1:"NUMBER",2:"STRING"}),(S=Ut.prototype).close=function(){return this.g.close(),Promise.resolve()},S.onResults=function(V){this.g.onResults(V)},S.initialize=function(){var V=this;return p(function(Z){return n(Z,V.g.initialize(),0)})},S.reset=function(){this.g.reset()},S.send=function(V){var Z=this;return p(function(tt){return n(tt,Z.g.send(V),0)})},S.setOptions=function(V){this.g.setOptions(V)},T("FaceDetection",Ut),T("FACEDETECTION_LIPS",Qn),T("FACEDETECTION_LEFT_EYE",qn),T("FACEDETECTION_LEFT_EYEBROW",_n),T("FACEDETECTION_RIGHT_EYE",ts),T("FACEDETECTION_RIGHT_EYEBROW",es),T("FACEDETECTION_FACE_OVAL",bs),T("FACEDETECTION_CONTOURS",Ds),T("FACEDETECTION_TESSELATION",[[127,34],[34,139],[139,127],[11,0],[0,37],[37,11],[232,231],[231,120],[120,232],[72,37],[37,39],[39,72],[128,121],[121,47],[47,128],[232,121],[121,128],[128,232],[104,69],[69,67],[67,104],[175,171],[171,148],[148,175],[118,50],[50,101],[101,118],[73,39],[39,40],[40,73],[9,151],[151,108],[108,9],[48,115],[115,131],[131,48],[194,204],[204,211],[211,194],[74,40],[40,185],[185,74],[80,42],[42,183],[183,80],[40,92],[92,186],[186,40],[230,229],[229,118],[118,230],[202,212],[212,214],[214,202],[83,18],[18,17],[17,83],[76,61],[61,146],[146,76],[160,29],[29,30],[30,160],[56,157],[157,173],[173,56],[106,204],[204,194],[194,106],[135,214],[214,192],[192,135],[203,165],[165,98],[98,203],[21,71],[71,68],[68,21],[51,45],[45,4],[4,51],[144,24],[24,23],[23,144],[77,146],[146,91],[91,77],[205,50],[50,187],[187,205],[201,200],[200,18],[18,201],[91,106],[106,182],[182,91],[90,91],[91,181],[181,90],[85,84],[84,17],[17,85],[206,203],[203,36],[36,206],[148,171],[171,140],[140,148],[92,40],[40,39],[39,92],[193,189],[189,244],[244,193],[159,158],[158,28],[28,159],[247,246],[246,161],[161,247],[236,3],[3,196],[196,236],[54,68],[68,104],[104,54],[193,168],[168,8],[8,193],[117,228],[228,31],[31,117],[189,193],[193,55],[55,189],[98,97],[97,99],[99,98],[126,47],[47,100],[100,126],[166,79],[79,218],[218,166],[155,154],[154,26],[26,155],[209,49],[49,131],[131,209],[135,136],[136,150],[150,135],[47,126],[126,217],[217,47],[223,52],[52,53],[53,223],[45,51],[51,134],[134,45],[211,170],[170,140],[140,211],[67,69],[69,108],[108,67],[43,106],[106,91],[91,43],[230,119],[119,120],[120,230],[226,130],[130,247],[247,226],[63,53],[53,52],[52,63],[238,20],[20,242],[242,238],[46,70],[70,156],[156,46],[78,62],[62,96],[96,78],[46,53],[53,63],[63,46],[143,34],[34,227],[227,143],[123,117],[117,111],[111,123],[44,125],[125,19],[19,44],[236,134],[134,51],[51,236],[216,206],[206,205],[205,216],[154,153],[153,22],[22,154],[39,37],[37,167],[167,39],[200,201],[201,208],[208,200],[36,142],[142,100],[100,36],[57,212],[212,202],[202,57],[20,60],[60,99],[99,20],[28,158],[158,157],[157,28],[35,226],[226,113],[113,35],[160,159],[159,27],[27,160],[204,202],[202,210],[210,204],[113,225],[225,46],[46,113],[43,202],[202,204],[204,43],[62,76],[76,77],[77,62],[137,123],[123,116],[116,137],[41,38],[38,72],[72,41],[203,129],[129,142],[142,203],[64,98],[98,240],[240,64],[49,102],[102,64],[64,49],[41,73],[73,74],[74,41],[212,216],[216,207],[207,212],[42,74],[74,184],[184,42],[169,170],[170,211],[211,169],[170,149],[149,176],[176,170],[105,66],[66,69],[69,105],[122,6],[6,168],[168,122],[123,147],[147,187],[187,123],[96,77],[77,90],[90,96],[65,55],[55,107],[107,65],[89,90],[90,180],[180,89],[101,100],[100,120],[120,101],[63,105],[105,104],[104,63],[93,137],[137,227],[227,93],[15,86],[86,85],[85,15],[129,102],[102,49],[49,129],[14,87],[87,86],[86,14],[55,8],[8,9],[9,55],[100,47],[47,121],[121,100],[145,23],[23,22],[22,145],[88,89],[89,179],[179,88],[6,122],[122,196],[196,6],[88,95],[95,96],[96,88],[138,172],[172,136],[136,138],[215,58],[58,172],[172,215],[115,48],[48,219],[219,115],[42,80],[80,81],[81,42],[195,3],[3,51],[51,195],[43,146],[146,61],[61,43],[171,175],[175,199],[199,171],[81,82],[82,38],[38,81],[53,46],[46,225],[225,53],[144,163],[163,110],[110,144],[52,65],[65,66],[66,52],[229,228],[228,117],[117,229],[34,127],[127,234],[234,34],[107,108],[108,69],[69,107],[109,108],[108,151],[151,109],[48,64],[64,235],[235,48],[62,78],[78,191],[191,62],[129,209],[209,126],[126,129],[111,35],[35,143],[143,111],[117,123],[123,50],[50,117],[222,65],[65,52],[52,222],[19,125],[125,141],[141,19],[221,55],[55,65],[65,221],[3,195],[195,197],[197,3],[25,7],[7,33],[33,25],[220,237],[237,44],[44,220],[70,71],[71,139],[139,70],[122,193],[193,245],[245,122],[247,130],[130,33],[33,247],[71,21],[21,162],[162,71],[170,169],[169,150],[150,170],[188,174],[174,196],[196,188],[216,186],[186,92],[92,216],[2,97],[97,167],[167,2],[141,125],[125,241],[241,141],[164,167],[167,37],[37,164],[72,38],[38,12],[12,72],[38,82],[82,13],[13,38],[63,68],[68,71],[71,63],[226,35],[35,111],[111,226],[101,50],[50,205],[205,101],[206,92],[92,165],[165,206],[209,198],[198,217],[217,209],[165,167],[167,97],[97,165],[220,115],[115,218],[218,220],[133,112],[112,243],[243,133],[239,238],[238,241],[241,239],[214,135],[135,169],[169,214],[190,173],[173,133],[133,190],[171,208],[208,32],[32,171],[125,44],[44,237],[237,125],[86,87],[87,178],[178,86],[85,86],[86,179],[179,85],[84,85],[85,180],[180,84],[83,84],[84,181],[181,83],[201,83],[83,182],[182,201],[137,93],[93,132],[132,137],[76,62],[62,183],[183,76],[61,76],[76,184],[184,61],[57,61],[61,185],[185,57],[212,57],[57,186],[186,212],[214,207],[207,187],[187,214],[34,143],[143,156],[156,34],[79,239],[239,237],[237,79],[123,137],[137,177],[177,123],[44,1],[1,4],[4,44],[201,194],[194,32],[32,201],[64,102],[102,129],[129,64],[213,215],[215,138],[138,213],[59,166],[166,219],[219,59],[242,99],[99,97],[97,242],[2,94],[94,141],[141,2],[75,59],[59,235],[235,75],[24,110],[110,228],[228,24],[25,130],[130,226],[226,25],[23,24],[24,229],[229,23],[22,23],[23,230],[230,22],[26,22],[22,231],[231,26],[112,26],[26,232],[232,112],[189,190],[190,243],[243,189],[221,56],[56,190],[190,221],[28,56],[56,221],[221,28],[27,28],[28,222],[222,27],[29,27],[27,223],[223,29],[30,29],[29,224],[224,30],[247,30],[30,225],[225,247],[238,79],[79,20],[20,238],[166,59],[59,75],[75,166],[60,75],[75,240],[240,60],[147,177],[177,215],[215,147],[20,79],[79,166],[166,20],[187,147],[147,213],[213,187],[112,233],[233,244],[244,112],[233,128],[128,245],[245,233],[128,114],[114,188],[188,128],[114,217],[217,174],[174,114],[131,115],[115,220],[220,131],[217,198],[198,236],[236,217],[198,131],[131,134],[134,198],[177,132],[132,58],[58,177],[143,35],[35,124],[124,143],[110,163],[163,7],[7,110],[228,110],[110,25],[25,228],[356,389],[389,368],[368,356],[11,302],[302,267],[267,11],[452,350],[350,349],[349,452],[302,303],[303,269],[269,302],[357,343],[343,277],[277,357],[452,453],[453,357],[357,452],[333,332],[332,297],[297,333],[175,152],[152,377],[377,175],[347,348],[348,330],[330,347],[303,304],[304,270],[270,303],[9,336],[336,337],[337,9],[278,279],[279,360],[360,278],[418,262],[262,431],[431,418],[304,408],[408,409],[409,304],[310,415],[415,407],[407,310],[270,409],[409,410],[410,270],[450,348],[348,347],[347,450],[422,430],[430,434],[434,422],[313,314],[314,17],[17,313],[306,307],[307,375],[375,306],[387,388],[388,260],[260,387],[286,414],[414,398],[398,286],[335,406],[406,418],[418,335],[364,367],[367,416],[416,364],[423,358],[358,327],[327,423],[251,284],[284,298],[298,251],[281,5],[5,4],[4,281],[373,374],[374,253],[253,373],[307,320],[320,321],[321,307],[425,427],[427,411],[411,425],[421,313],[313,18],[18,421],[321,405],[405,406],[406,321],[320,404],[404,405],[405,320],[315,16],[16,17],[17,315],[426,425],[425,266],[266,426],[377,400],[400,369],[369,377],[322,391],[391,269],[269,322],[417,465],[465,464],[464,417],[386,257],[257,258],[258,386],[466,260],[260,388],[388,466],[456,399],[399,419],[419,456],[284,332],[332,333],[333,284],[417,285],[285,8],[8,417],[346,340],[340,261],[261,346],[413,441],[441,285],[285,413],[327,460],[460,328],[328,327],[355,371],[371,329],[329,355],[392,439],[439,438],[438,392],[382,341],[341,256],[256,382],[429,420],[420,360],[360,429],[364,394],[394,379],[379,364],[277,343],[343,437],[437,277],[443,444],[444,283],[283,443],[275,440],[440,363],[363,275],[431,262],[262,369],[369,431],[297,338],[338,337],[337,297],[273,375],[375,321],[321,273],[450,451],[451,349],[349,450],[446,342],[342,467],[467,446],[293,334],[334,282],[282,293],[458,461],[461,462],[462,458],[276,353],[353,383],[383,276],[308,324],[324,325],[325,308],[276,300],[300,293],[293,276],[372,345],[345,447],[447,372],[352,345],[345,340],[340,352],[274,1],[1,19],[19,274],[456,248],[248,281],[281,456],[436,427],[427,425],[425,436],[381,256],[256,252],[252,381],[269,391],[391,393],[393,269],[200,199],[199,428],[428,200],[266,330],[330,329],[329,266],[287,273],[273,422],[422,287],[250,462],[462,328],[328,250],[258,286],[286,384],[384,258],[265,353],[353,342],[342,265],[387,259],[259,257],[257,387],[424,431],[431,430],[430,424],[342,353],[353,276],[276,342],[273,335],[335,424],[424,273],[292,325],[325,307],[307,292],[366,447],[447,345],[345,366],[271,303],[303,302],[302,271],[423,266],[266,371],[371,423],[294,455],[455,460],[460,294],[279,278],[278,294],[294,279],[271,272],[272,304],[304,271],[432,434],[434,427],[427,432],[272,407],[407,408],[408,272],[394,430],[430,431],[431,394],[395,369],[369,400],[400,395],[334,333],[333,299],[299,334],[351,417],[417,168],[168,351],[352,280],[280,411],[411,352],[325,319],[319,320],[320,325],[295,296],[296,336],[336,295],[319,403],[403,404],[404,319],[330,348],[348,349],[349,330],[293,298],[298,333],[333,293],[323,454],[454,447],[447,323],[15,16],[16,315],[315,15],[358,429],[429,279],[279,358],[14,15],[15,316],[316,14],[285,336],[336,9],[9,285],[329,349],[349,350],[350,329],[374,380],[380,252],[252,374],[318,402],[402,403],[403,318],[6,197],[197,419],[419,6],[318,319],[319,325],[325,318],[367,364],[364,365],[365,367],[435,367],[367,397],[397,435],[344,438],[438,439],[439,344],[272,271],[271,311],[311,272],[195,5],[5,281],[281,195],[273,287],[287,291],[291,273],[396,428],[428,199],[199,396],[311,271],[271,268],[268,311],[283,444],[444,445],[445,283],[373,254],[254,339],[339,373],[282,334],[334,296],[296,282],[449,347],[347,346],[346,449],[264,447],[447,454],[454,264],[336,296],[296,299],[299,336],[338,10],[10,151],[151,338],[278,439],[439,455],[455,278],[292,407],[407,415],[415,292],[358,371],[371,355],[355,358],[340,345],[345,372],[372,340],[346,347],[347,280],[280,346],[442,443],[443,282],[282,442],[19,94],[94,370],[370,19],[441,442],[442,295],[295,441],[248,419],[419,197],[197,248],[263,255],[255,359],[359,263],[440,275],[275,274],[274,440],[300,383],[383,368],[368,300],[351,412],[412,465],[465,351],[263,467],[467,466],[466,263],[301,368],[368,389],[389,301],[395,378],[378,379],[379,395],[412,351],[351,419],[419,412],[436,426],[426,322],[322,436],[2,164],[164,393],[393,2],[370,462],[462,461],[461,370],[164,0],[0,267],[267,164],[302,11],[11,12],[12,302],[268,12],[12,13],[13,268],[293,300],[300,301],[301,293],[446,261],[261,340],[340,446],[330,266],[266,425],[425,330],[426,423],[423,391],[391,426],[429,355],[355,437],[437,429],[391,327],[327,326],[326,391],[440,457],[457,438],[438,440],[341,382],[382,362],[362,341],[459,457],[457,461],[461,459],[434,430],[430,394],[394,434],[414,463],[463,362],[362,414],[396,369],[369,262],[262,396],[354,461],[461,457],[457,354],[316,403],[403,402],[402,316],[315,404],[404,403],[403,315],[314,405],[405,404],[404,314],[313,406],[406,405],[405,313],[421,418],[418,406],[406,421],[366,401],[401,361],[361,366],[306,408],[408,407],[407,306],[291,409],[409,408],[408,291],[287,410],[410,409],[409,287],[432,436],[436,410],[410,432],[434,416],[416,411],[411,434],[264,368],[368,383],[383,264],[309,438],[438,457],[457,309],[352,376],[376,401],[401,352],[274,275],[275,4],[4,274],[421,428],[428,262],[262,421],[294,327],[327,358],[358,294],[433,416],[416,367],[367,433],[289,455],[455,439],[439,289],[462,370],[370,326],[326,462],[2,326],[326,370],[370,2],[305,460],[460,455],[455,305],[254,449],[449,448],[448,254],[255,261],[261,446],[446,255],[253,450],[450,449],[449,253],[252,451],[451,450],[450,252],[256,452],[452,451],[451,256],[341,453],[453,452],[452,341],[413,464],[464,463],[463,413],[441,413],[413,414],[414,441],[258,442],[442,441],[441,258],[257,443],[443,442],[442,257],[259,444],[444,443],[443,259],[260,445],[445,444],[444,260],[467,342],[342,445],[445,467],[459,458],[458,250],[250,459],[289,392],[392,290],[290,289],[290,328],[328,460],[460,290],[376,433],[433,435],[435,376],[250,290],[290,392],[392,250],[411,416],[416,433],[433,411],[341,463],[463,464],[464,341],[453,464],[464,465],[465,453],[357,465],[465,412],[412,357],[343,412],[412,399],[399,343],[360,363],[363,440],[440,360],[437,399],[399,456],[456,437],[420,456],[456,363],[363,420],[401,435],[435,288],[288,401],[372,383],[383,353],[353,372],[339,255],[255,249],[249,339],[448,261],[261,255],[255,448],[133,243],[243,190],[190,133],[133,155],[155,112],[112,133],[33,246],[246,247],[247,33],[33,130],[130,25],[25,33],[398,384],[384,286],[286,398],[362,398],[398,414],[414,362],[362,463],[463,341],[341,362],[263,359],[359,467],[467,263],[263,249],[249,255],[255,263],[466,467],[467,260],[260,466],[75,60],[60,166],[166,75],[238,239],[239,79],[79,238],[162,127],[127,139],[139,162],[72,11],[11,37],[37,72],[121,232],[232,120],[120,121],[73,72],[72,39],[39,73],[114,128],[128,47],[47,114],[233,232],[232,128],[128,233],[103,104],[104,67],[67,103],[152,175],[175,148],[148,152],[119,118],[118,101],[101,119],[74,73],[73,40],[40,74],[107,9],[9,108],[108,107],[49,48],[48,131],[131,49],[32,194],[194,211],[211,32],[184,74],[74,185],[185,184],[191,80],[80,183],[183,191],[185,40],[40,186],[186,185],[119,230],[230,118],[118,119],[210,202],[202,214],[214,210],[84,83],[83,17],[17,84],[77,76],[76,146],[146,77],[161,160],[160,30],[30,161],[190,56],[56,173],[173,190],[182,106],[106,194],[194,182],[138,135],[135,192],[192,138],[129,203],[203,98],[98,129],[54,21],[21,68],[68,54],[5,51],[51,4],[4,5],[145,144],[144,23],[23,145],[90,77],[77,91],[91,90],[207,205],[205,187],[187,207],[83,201],[201,18],[18,83],[181,91],[91,182],[182,181],[180,90],[90,181],[181,180],[16,85],[85,17],[17,16],[205,206],[206,36],[36,205],[176,148],[148,140],[140,176],[165,92],[92,39],[39,165],[245,193],[193,244],[244,245],[27,159],[159,28],[28,27],[30,247],[247,161],[161,30],[174,236],[236,196],[196,174],[103,54],[54,104],[104,103],[55,193],[193,8],[8,55],[111,117],[117,31],[31,111],[221,189],[189,55],[55,221],[240,98],[98,99],[99,240],[142,126],[126,100],[100,142],[219,166],[166,218],[218,219],[112,155],[155,26],[26,112],[198,209],[209,131],[131,198],[169,135],[135,150],[150,169],[114,47],[47,217],[217,114],[224,223],[223,53],[53,224],[220,45],[45,134],[134,220],[32,211],[211,140],[140,32],[109,67],[67,108],[108,109],[146,43],[43,91],[91,146],[231,230],[230,120],[120,231],[113,226],[226,247],[247,113],[105,63],[63,52],[52,105],[241,238],[238,242],[242,241],[124,46],[46,156],[156,124],[95,78],[78,96],[96,95],[70,46],[46,63],[63,70],[116,143],[143,227],[227,116],[116,123],[123,111],[111,116],[1,44],[44,19],[19,1],[3,236],[236,51],[51,3],[207,216],[216,205],[205,207],[26,154],[154,22],[22,26],[165,39],[39,167],[167,165],[199,200],[200,208],[208,199],[101,36],[36,100],[100,101],[43,57],[57,202],[202,43],[242,20],[20,99],[99,242],[56,28],[28,157],[157,56],[124,35],[35,113],[113,124],[29,160],[160,27],[27,29],[211,204],[204,210],[210,211],[124,113],[113,46],[46,124],[106,43],[43,204],[204,106],[96,62],[62,77],[77,96],[227,137],[137,116],[116,227],[73,41],[41,72],[72,73],[36,203],[203,142],[142,36],[235,64],[64,240],[240,235],[48,49],[49,64],[64,48],[42,41],[41,74],[74,42],[214,212],[212,207],[207,214],[183,42],[42,184],[184,183],[210,169],[169,211],[211,210],[140,170],[170,176],[176,140],[104,105],[105,69],[69,104],[193,122],[122,168],[168,193],[50,123],[123,187],[187,50],[89,96],[96,90],[90,89],[66,65],[65,107],[107,66],[179,89],[89,180],[180,179],[119,101],[101,120],[120,119],[68,63],[63,104],[104,68],[234,93],[93,227],[227,234],[16,15],[15,85],[85,16],[209,129],[129,49],[49,209],[15,14],[14,86],[86,15],[107,55],[55,9],[9,107],[120,100],[100,121],[121,120],[153,145],[145,22],[22,153],[178,88],[88,179],[179,178],[197,6],[6,196],[196,197],[89,88],[88,96],[96,89],[135,138],[138,136],[136,135],[138,215],[215,172],[172,138],[218,115],[115,219],[219,218],[41,42],[42,81],[81,41],[5,195],[195,51],[51,5],[57,43],[43,61],[61,57],[208,171],[171,199],[199,208],[41,81],[81,38],[38,41],[224,53],[53,225],[225,224],[24,144],[144,110],[110,24],[105,52],[52,66],[66,105],[118,229],[229,117],[117,118],[227,34],[34,234],[234,227],[66,107],[107,69],[69,66],[10,109],[109,151],[151,10],[219,48],[48,235],[235,219],[183,62],[62,191],[191,183],[142,129],[129,126],[126,142],[116,111],[111,143],[143,116],[118,117],[117,50],[50,118],[223,222],[222,52],[52,223],[94,19],[19,141],[141,94],[222,221],[221,65],[65,222],[196,3],[3,197],[197,196],[45,220],[220,44],[44,45],[156,70],[70,139],[139,156],[188,122],[122,245],[245,188],[139,71],[71,162],[162,139],[149,170],[170,150],[150,149],[122,188],[188,196],[196,122],[206,216],[216,92],[92,206],[164,2],[2,167],[167,164],[242,141],[141,241],[241,242],[0,164],[164,37],[37,0],[11,72],[72,12],[12,11],[12,38],[38,13],[13,12],[70,63],[63,71],[71,70],[31,226],[226,111],[111,31],[36,101],[101,205],[205,36],[203,206],[206,165],[165,203],[126,209],[209,217],[217,126],[98,165],[165,97],[97,98],[237,220],[220,218],[218,237],[237,239],[239,241],[241,237],[210,214],[214,169],[169,210],[140,171],[171,32],[32,140],[241,125],[125,237],[237,241],[179,86],[86,178],[178,179],[180,85],[85,179],[179,180],[181,84],[84,180],[180,181],[182,83],[83,181],[181,182],[194,201],[201,182],[182,194],[177,137],[137,132],[132,177],[184,76],[76,183],[183,184],[185,61],[61,184],[184,185],[186,57],[57,185],[185,186],[216,212],[212,186],[186,216],[192,214],[214,187],[187,192],[139,34],[34,156],[156,139],[218,79],[79,237],[237,218],[147,123],[123,177],[177,147],[45,44],[44,4],[4,45],[208,201],[201,32],[32,208],[98,64],[64,129],[129,98],[192,213],[213,138],[138,192],[235,59],[59,219],[219,235],[141,242],[242,97],[97,141],[97,2],[2,141],[141,97],[240,75],[75,235],[235,240],[229,24],[24,228],[228,229],[31,25],[25,226],[226,31],[230,23],[23,229],[229,230],[231,22],[22,230],[230,231],[232,26],[26,231],[231,232],[233,112],[112,232],[232,233],[244,189],[189,243],[243,244],[189,221],[221,190],[190,189],[222,28],[28,221],[221,222],[223,27],[27,222],[222,223],[224,29],[29,223],[223,224],[225,30],[30,224],[224,225],[113,247],[247,225],[225,113],[99,60],[60,240],[240,99],[213,147],[147,215],[215,213],[60,20],[20,166],[166,60],[192,187],[187,213],[213,192],[243,112],[112,244],[244,243],[244,233],[233,245],[245,244],[245,128],[128,188],[188,245],[188,114],[114,174],[174,188],[134,131],[131,220],[220,134],[174,217],[217,236],[236,174],[236,198],[198,134],[134,236],[215,177],[177,58],[58,215],[156,143],[143,124],[124,156],[25,110],[110,7],[7,25],[31,228],[228,25],[25,31],[264,356],[356,368],[368,264],[0,11],[11,267],[267,0],[451,452],[452,349],[349,451],[267,302],[302,269],[269,267],[350,357],[357,277],[277,350],[350,452],[452,357],[357,350],[299,333],[333,297],[297,299],[396,175],[175,377],[377,396],[280,347],[347,330],[330,280],[269,303],[303,270],[270,269],[151,9],[9,337],[337,151],[344,278],[278,360],[360,344],[424,418],[418,431],[431,424],[270,304],[304,409],[409,270],[272,310],[310,407],[407,272],[322,270],[270,410],[410,322],[449,450],[450,347],[347,449],[432,422],[422,434],[434,432],[18,313],[313,17],[17,18],[291,306],[306,375],[375,291],[259,387],[387,260],[260,259],[424,335],[335,418],[418,424],[434,364],[364,416],[416,434],[391,423],[423,327],[327,391],[301,251],[251,298],[298,301],[275,281],[281,4],[4,275],[254,373],[373,253],[253,254],[375,307],[307,321],[321,375],[280,425],[425,411],[411,280],[200,421],[421,18],[18,200],[335,321],[321,406],[406,335],[321,320],[320,405],[405,321],[314,315],[315,17],[17,314],[423,426],[426,266],[266,423],[396,377],[377,369],[369,396],[270,322],[322,269],[269,270],[413,417],[417,464],[464,413],[385,386],[386,258],[258,385],[248,456],[456,419],[419,248],[298,284],[284,333],[333,298],[168,417],[417,8],[8,168],[448,346],[346,261],[261,448],[417,413],[413,285],[285,417],[326,327],[327,328],[328,326],[277,355],[355,329],[329,277],[309,392],[392,438],[438,309],[381,382],[382,256],[256,381],[279,429],[429,360],[360,279],[365,364],[364,379],[379,365],[355,277],[277,437],[437,355],[282,443],[443,283],[283,282],[281,275],[275,363],[363,281],[395,431],[431,369],[369,395],[299,297],[297,337],[337,299],[335,273],[273,321],[321,335],[348,450],[450,349],[349,348],[359,446],[446,467],[467,359],[283,293],[293,282],[282,283],[250,458],[458,462],[462,250],[300,276],[276,383],[383,300],[292,308],[308,325],[325,292],[283,276],[276,293],[293,283],[264,372],[372,447],[447,264],[346,352],[352,340],[340,346],[354,274],[274,19],[19,354],[363,456],[456,281],[281,363],[426,436],[436,425],[425,426],[380,381],[381,252],[252,380],[267,269],[269,393],[393,267],[421,200],[200,428],[428,421],[371,266],[266,329],[329,371],[432,287],[287,422],[422,432],[290,250],[250,328],[328,290],[385,258],[258,384],[384,385],[446,265],[265,342],[342,446],[386,387],[387,257],[257,386],[422,424],[424,430],[430,422],[445,342],[342,276],[276,445],[422,273],[273,424],[424,422],[306,292],[292,307],[307,306],[352,366],[366,345],[345,352],[268,271],[271,302],[302,268],[358,423],[423,371],[371,358],[327,294],[294,460],[460,327],[331,279],[279,294],[294,331],[303,271],[271,304],[304,303],[436,432],[432,427],[427,436],[304,272],[272,408],[408,304],[395,394],[394,431],[431,395],[378,395],[395,400],[400,378],[296,334],[334,299],[299,296],[6,351],[351,168],[168,6],[376,352],[352,411],[411,376],[307,325],[325,320],[320,307],[285,295],[295,336],[336,285],[320,319],[319,404],[404,320],[329,330],[330,349],[349,329],[334,293],[293,333],[333,334],[366,323],[323,447],[447,366],[316,15],[15,315],[315,316],[331,358],[358,279],[279,331],[317,14],[14,316],[316,317],[8,285],[285,9],[9,8],[277,329],[329,350],[350,277],[253,374],[374,252],[252,253],[319,318],[318,403],[403,319],[351,6],[6,419],[419,351],[324,318],[318,325],[325,324],[397,367],[367,365],[365,397],[288,435],[435,397],[397,288],[278,344],[344,439],[439,278],[310,272],[272,311],[311,310],[248,195],[195,281],[281,248],[375,273],[273,291],[291,375],[175,396],[396,199],[199,175],[312,311],[311,268],[268,312],[276,283],[283,445],[445,276],[390,373],[373,339],[339,390],[295,282],[282,296],[296,295],[448,449],[449,346],[346,448],[356,264],[264,454],[454,356],[337,336],[336,299],[299,337],[337,338],[338,151],[151,337],[294,278],[278,455],[455,294],[308,292],[292,415],[415,308],[429,358],[358,355],[355,429],[265,340],[340,372],[372,265],[352,346],[346,280],[280,352],[295,442],[442,282],[282,295],[354,19],[19,370],[370,354],[285,441],[441,295],[295,285],[195,248],[248,197],[197,195],[457,440],[440,274],[274,457],[301,300],[300,368],[368,301],[417,351],[351,465],[465,417],[251,301],[301,389],[389,251],[394,395],[395,379],[379,394],[399,412],[412,419],[419,399],[410,436],[436,322],[322,410],[326,2],[2,393],[393,326],[354,370],[370,461],[461,354],[393,164],[164,267],[267,393],[268,302],[302,12],[12,268],[312,268],[268,13],[13,312],[298,293],[293,301],[301,298],[265,446],[446,340],[340,265],[280,330],[330,425],[425,280],[322,426],[426,391],[391,322],[420,429],[429,437],[437,420],[393,391],[391,326],[326,393],[344,440],[440,438],[438,344],[458,459],[459,461],[461,458],[364,434],[434,394],[394,364],[428,396],[396,262],[262,428],[274,354],[354,457],[457,274],[317,316],[316,402],[402,317],[316,315],[315,403],[403,316],[315,314],[314,404],[404,315],[314,313],[313,405],[405,314],[313,421],[421,406],[406,313],[323,366],[366,361],[361,323],[292,306],[306,407],[407,292],[306,291],[291,408],[408,306],[291,287],[287,409],[409,291],[287,432],[432,410],[410,287],[427,434],[434,411],[411,427],[372,264],[264,383],[383,372],[459,309],[309,457],[457,459],[366,352],[352,401],[401,366],[1,274],[274,4],[4,1],[418,421],[421,262],[262,418],[331,294],[294,358],[358,331],[435,433],[433,367],[367,435],[392,289],[289,439],[439,392],[328,462],[462,326],[326,328],[94,2],[2,370],[370,94],[289,305],[305,455],[455,289],[339,254],[254,448],[448,339],[359,255],[255,446],[446,359],[254,253],[253,449],[449,254],[253,252],[252,450],[450,253],[252,256],[256,451],[451,252],[256,341],[341,452],[452,256],[414,413],[413,463],[463,414],[286,441],[441,414],[414,286],[286,258],[258,441],[441,286],[258,257],[257,442],[442,258],[257,259],[259,443],[443,257],[259,260],[260,444],[444,259],[260,467],[467,445],[445,260],[309,459],[459,250],[250,309],[305,289],[289,290],[290,305],[305,290],[290,460],[460,305],[401,376],[376,435],[435,401],[309,250],[250,392],[392,309],[376,411],[411,433],[433,376],[453,341],[341,464],[464,453],[357,453],[453,465],[465,357],[343,357],[357,412],[412,343],[437,343],[343,399],[399,437],[344,360],[360,440],[440,344],[420,437],[437,456],[456,420],[360,420],[420,363],[363,360],[361,401],[401,288],[288,361],[265,372],[372,353],[353,265],[390,339],[339,249],[249,390],[339,448],[448,255],[255,339]]),T("VERSION","0.4.1646425229")}).call(Wr);var $i=function(){return $i=Object.assign||function(S){for(var m,y=1,w=arguments.length;y<w;y++)for(var P in m=arguments[y])Object.prototype.hasOwnProperty.call(m,P)&&(S[P]=m[P]);return S},$i.apply(this,arguments)};function Oi(S,m,y,w){return new(y||(y=Promise))(function(P,F){function c(o){try{t(w.next(o))}catch(v){F(v)}}function g(o){try{t(w.throw(o))}catch(v){F(v)}}function t(o){var v;o.done?P(o.value):(v=o.value,v instanceof y?v:new y(function(a){a(v)})).then(c,g)}t((w=w.apply(S,[])).next())})}function bi(S,m){var y,w,P,F,c={label:0,sent:function(){if(1&P[0])throw P[1];return P[1]},trys:[],ops:[]};return F={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(F[Symbol.iterator]=function(){return this}),F;function g(t){return function(o){return function(v){if(y)throw new TypeError("Generator is already executing.");for(;c;)try{if(y=1,w&&(P=2&v[0]?w.return:v[0]?w.throw||((P=w.return)&&P.call(w),0):w.next)&&!(P=P.call(w,v[1])).done)return P;switch(w=0,P&&(v=[2&v[0],P.value]),v[0]){case 0:case 1:P=v;break;case 4:return c.label++,{value:v[1],done:!1};case 5:c.label++,w=v[1],v=[0];continue;case 7:v=c.ops.pop(),c.trys.pop();continue;default:if(!((P=(P=c.trys).length>0&&P[P.length-1])||v[0]!==6&&v[0]!==2)){c=0;continue}if(v[0]===3&&(!P||v[1]>P[0]&&v[1]<P[3])){c.label=v[1];break}if(v[0]===6&&c.label<P[1]){c.label=P[1],P=v;break}if(P&&c.label<P[2]){c.label=P[2],c.ops.push(v);break}P[2]&&c.ops.pop(),c.trys.pop();continue}v=m.call(S,c)}catch(a){v=[6,a],w=0}finally{y=P=0}if(5&v[0])throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}([t,o])}}}var Al=["rightEye","leftEye","noseTip","mouthCenter","rightEarTragion","leftEarTragion"],Xr={modelType:"short",runtime:"mediapipe",maxFaces:1},A4=function(){function S(m){var y=this;this.width=0,this.height=0,this.selfieMode=!1,this.faceDetectorSolution=new w4.FaceDetection({locateFile:function(w,P){if(m.solutionPath){var F=m.solutionPath.replace(/\/+$/,"");return"".concat(F,"/").concat(w)}return"".concat(P,"/").concat(w)}}),this.faceDetectorSolution.setOptions({selfieMode:this.selfieMode,model:m.modelType}),this.faceDetectorSolution.onResults(function(w){if(y.height=w.image.height,y.width=w.image.width,y.faces=[],w.detections!==null)for(var P=0,F=w.detections;P<F.length;P++){var c=F[P];y.faces.push(y.normalizedToAbsolute(c.landmarks,{xMin:t=(g=c.boundingBox).xCenter-g.width/2,xMax:t+g.width,yMin:o=g.yCenter-g.height/2,yMax:o+g.height,width:g.width,height:g.height}))}var g,t,o})}return S.prototype.normalizedToAbsolute=function(m,y){var w=this;return{keypoints:m.map(function(P,F){return{x:P.x*w.width,y:P.y*w.height,name:Al[F]}}),box:{xMin:y.xMin*this.width,yMin:y.yMin*this.height,xMax:y.xMax*this.width,yMax:y.yMax*this.height,width:y.width*this.width,height:y.height*this.height}}},S.prototype.estimateFaces=function(m,y){return Oi(this,void 0,void 0,function(){var w,P;return bi(this,function(F){switch(F.label){case 0:return y&&y.flipHorizontal&&y.flipHorizontal!==this.selfieMode&&(this.selfieMode=y.flipHorizontal,this.faceDetectorSolution.setOptions({selfieMode:this.selfieMode})),m instanceof Ee?(P=ImageData.bind,[4,yl(m)]):[3,2];case 1:return w=new(P.apply(ImageData,[void 0,F.sent(),m.shape[1],m.shape[0]])),[3,3];case 2:w=m,F.label=3;case 3:return m=w,[4,this.faceDetectorSolution.send({image:m})];case 4:return F.sent(),[2,this.faces]}})})},S.prototype.dispose=function(){this.faceDetectorSolution.close()},S.prototype.reset=function(){this.faceDetectorSolution.reset(),this.width=0,this.height=0,this.faces=null,this.selfieMode=!1},S.prototype.initialize=function(){return this.faceDetectorSolution.initialize()},S}();function P4(S){return Oi(this,void 0,void 0,function(){var m,y;return bi(this,function(w){switch(w.label){case 0:return m=function(P){if(P==null)return $i({},Xr);var F=$i({},P);return F.runtime="mediapipe",F.modelType==null&&(F.modelType=Xr.modelType),F.maxFaces==null&&(F.maxFaces=Xr.maxFaces),F}(S),[4,(y=new A4(m)).initialize()];case 1:return w.sent(),[2,y]}})})}function Pl(S){return S instanceof Ee?{height:S.shape[0],width:S.shape[1]}:{height:S.height,width:S.width}}function Ml(S){return S instanceof Ee?S:xl(S)}function Yr(S,m){rt(S.width!==0,function(){return"".concat(m," width cannot be 0.")}),rt(S.height!==0,function(){return"".concat(m," height cannot be 0.")})}function M4(S,m,y){var w=m.outputTensorSize,P=m.keepAspectRatio,F=m.borderMode,c=m.outputTensorFloatRange,g=Pl(S),t=function(i,s){return{xCenter:.5*i.width,yCenter:.5*i.height,width:i.width,height:i.height,rotation:0}}(g),o=function(i,s,e){if(e===void 0&&(e=!1),!e)return{top:0,left:0,right:0,bottom:0};var r=s.height,h=s.width;Yr(s,"targetSize"),Yr(i,"roi");var n,l,f=r/h,u=i.height/i.width,d=0,p=0;return f>u?(n=i.width,l=i.width*f,p=(1-u/f)/2):(n=i.height/f,l=i.height,d=(1-f/u)/2),i.width=n,i.height=l,{top:p,left:d,right:d,bottom:p}}(t,w,P),v=function(i,s,e,r){var h=i.width,n=i.height,l=1,f=Math.cos(i.rotation),u=Math.sin(i.rotation),d=i.xCenter,p=i.yCenter,x=1/s,E=1/e,T=new Array(16);return T[0]=h*f*l*x,T[1]=-n*u*x,T[2]=0,T[3]=(-.5*h*f*l+.5*n*u+d)*x,T[4]=h*u*l*E,T[5]=n*f*E,T[6]=0,T[7]=(-.5*n*f-.5*h*u*l+p)*E,T[8]=0,T[9]=0,T[10]=h*x,T[11]=0,T[12]=0,T[13]=0,T[14]=0,T[15]=1,function(C){if(C.length!==16)throw new Error("Array length must be 16 but got ".concat(C.length));return[[C[0],C[1],C[2],C[3]],[C[4],C[5],C[6],C[7]],[C[8],C[9],C[10],C[11]],[C[12],C[13],C[14],C[15]]]}(T)}(t,g.width,g.height),a=_t(function(){var i=Ml(S),s=Xi(function(h,n,l){return Yr(l,"inputResolution"),[1/l.width*h[0][0]*n.width,1/l.height*h[0][1]*n.width,h[0][3]*n.width,1/l.width*h[1][0]*n.height,1/l.height*h[1][1]*n.height,h[1][3]*n.height,0,0]}(v,g,w),[1,8]),e=F==="zero"?"constant":"nearest",r=Xn.transform(ti(ge(i,"float32")),s,"bilinear",e,0,[w.height,w.width]);return c!=null?function(h,n){var l=function(f,u,d,p){var x=(p-d)/255;return{scale:x,offset:d-0*x}}(0,0,n[0],n[1]);return _t(function(){return Vt(Lt(h,l.scale),l.offset)})}(r,c):r});return{imageTensor:a,padding:o,transformationMatrix:v}}function zo(S){S.reduceBoxesInLowestLayer==null&&(S.reduceBoxesInLowestLayer=!1),S.interpolatedScaleAspectRatio==null&&(S.interpolatedScaleAspectRatio=1),S.fixedAnchorSize==null&&(S.fixedAnchorSize=!1);for(var m=[],y=0;y<S.numLayers;){for(var w=[],P=[],F=[],c=[],g=y;g<S.strides.length&&S.strides[g]===S.strides[y];){var t=Uo(S.minScale,S.maxScale,g,S.strides.length);if(g===0&&S.reduceBoxesInLowestLayer)F.push(1),F.push(2),F.push(.5),c.push(.1),c.push(t),c.push(t);else{for(var o=0;o<S.aspectRatios.length;++o)F.push(S.aspectRatios[o]),c.push(t);if(S.interpolatedScaleAspectRatio>0){var v=g===S.strides.length-1?1:Uo(S.minScale,S.maxScale,g+1,S.strides.length);c.push(Math.sqrt(t*v)),F.push(S.interpolatedScaleAspectRatio)}}g++}for(var a=0;a<F.length;++a){var i=Math.sqrt(F[a]);w.push(c[a]/i),P.push(c[a]*i)}var s=0,e=0;if(S.featureMapHeight.length>0)s=S.featureMapHeight[y],e=S.featureMapWidth[y];else{var r=S.strides[y];s=Math.ceil(S.inputSizeHeight/r),e=Math.ceil(S.inputSizeWidth/r)}for(var h=0;h<s;++h)for(var n=0;n<e;++n)for(var l=0;l<w.length;++l){var f={xCenter:(n+S.anchorOffsetX)/e,yCenter:(h+S.anchorOffsetY)/s,width:0,height:0};S.fixedAnchorSize?(f.width=1,f.height=1):(f.width=P[l],f.height=w[l]),m.push(f)}y=g}return m}function Uo(S,m,y,w){return w===1?.5*(S+m):S+(m-S)*y/(w-1)}function Vo(S,m){var y=m[0],w=m[1];return[y*S[0]+w*S[1]+S[3],y*S[4]+w*S[5]+S[7]]}function F4(S,m,y,w){return Oi(this,void 0,void 0,function(){var P,F,c,g,t;return bi(this,function(o){switch(o.label){case 0:return S.sort(function(v,a){return Math.max.apply(Math,a.score)-Math.max.apply(Math,v.score)}),P=Xi(S.map(function(v){return[v.locationData.relativeBoundingBox.yMin,v.locationData.relativeBoundingBox.xMin,v.locationData.relativeBoundingBox.yMax,v.locationData.relativeBoundingBox.xMax]})),F=De(S.map(function(v){return v.score[0]})),[4,Xn.nonMaxSuppressionAsync(P,F,m,y)];case 1:return[4,(c=o.sent()).array()];case 2:return g=o.sent(),t=S.filter(function(v,a){return g.indexOf(a)>-1}),xe([P,F,c]),[2,t]}})})}function R4(S,m,y){return Oi(this,void 0,void 0,function(){var w,P,F,c,g;return bi(this,function(t){switch(t.label){case 0:return w=S[0],P=S[1],F=function(o,v,a){return _t(function(){var i,s,e,r;a.reverseOutputOrder?(s=Pe(Jt(o,[0,a.boxCoordOffset+0],[-1,1])),i=Pe(Jt(o,[0,a.boxCoordOffset+1],[-1,1])),r=Pe(Jt(o,[0,a.boxCoordOffset+2],[-1,1])),e=Pe(Jt(o,[0,a.boxCoordOffset+3],[-1,1]))):(i=Pe(Jt(o,[0,a.boxCoordOffset+0],[-1,1])),s=Pe(Jt(o,[0,a.boxCoordOffset+1],[-1,1])),e=Pe(Jt(o,[0,a.boxCoordOffset+2],[-1,1])),r=Pe(Jt(o,[0,a.boxCoordOffset+3],[-1,1]))),s=Vt(Lt(ee(s,a.xScale),v.w),v.x),i=Vt(Lt(ee(i,a.yScale),v.h),v.y),a.applyExponentialOnBoxSize?(e=Lt(Fi(ee(e,a.hScale)),v.h),r=Lt(Fi(ee(r,a.wScale)),v.w)):(e=Lt(ee(e,a.hScale),v.h),r=Lt(ee(r,a.wScale),v.h));var h=Qt(i,ee(e,2)),n=Qt(s,ee(r,2)),l=Vt(i,ee(e,2)),f=Vt(s,ee(r,2)),u=Le([Pt(h,[a.numBoxes,1]),Pt(n,[a.numBoxes,1]),Pt(l,[a.numBoxes,1]),Pt(f,[a.numBoxes,1])],1);if(a.numKeypoints)for(var d=0;d<a.numKeypoints;++d){var p=a.keypointCoordOffset+d*a.numValuesPerKeypoint,x=void 0,E=void 0;a.reverseOutputOrder?(x=Pe(Jt(o,[0,p],[-1,1])),E=Pe(Jt(o,[0,p+1],[-1,1]))):(E=Pe(Jt(o,[0,p],[-1,1])),x=Pe(Jt(o,[0,p+1],[-1,1])));var T=Vt(Lt(ee(x,a.xScale),v.w),v.x),C=Vt(Lt(ee(E,a.yScale),v.h),v.y);u=Le([u,Pt(T,[a.numBoxes,1]),Pt(C,[a.numBoxes,1])],1)}return u})}(P,m,y),c=_t(function(){var o=w;return y.sigmoidScore?(y.scoreClippingThresh!=null&&(o=Dh(w,-y.scoreClippingThresh,y.scoreClippingThresh)),o=fn(o)):o}),[4,L4(F,c,y)];case 1:return g=t.sent(),xe([F,c]),[2,g]}})})}function L4(S,m,y){return Oi(this,void 0,void 0,function(){var w,P,F,c,g,t,o,v,a,i,s,e;return bi(this,function(r){switch(r.label){case 0:return w=[],[4,S.data()];case 1:return P=r.sent(),[4,m.data()];case 2:for(F=r.sent(),c=0;c<y.numBoxes;++c)if(!(y.minScoreThresh!=null&&F[c]<y.minScoreThresh||(g=c*y.numCoords,t=O4(P[g+0],P[g+1],P[g+2],P[g+3],F[c],y.flipVertically,c),(o=t.locationData.relativeBoundingBox).width<0||o.height<0))){if(y.numKeypoints>0)for((v=t.locationData).relativeKeypoints=[],a=y.numKeypoints*y.numValuesPerKeypoint,i=0;i<a;i+=y.numValuesPerKeypoint)s=g+y.keypointCoordOffset+i,e={x:P[s+0],y:y.flipVertically?1-P[s+1]:P[s+1]},v.relativeKeypoints.push(e);w.push(t)}return[2,w]}})})}function O4(S,m,y,w,P,F,c){return{score:[P],ind:c,locationData:{relativeBoundingBox:{xMin:m,yMin:F?1-y:S,xMax:w,yMax:F?1-S:y,width:w-m,height:y-S}}}}var hr,b4={reduceBoxesInLowestLayer:!1,interpolatedScaleAspectRatio:1,featureMapHeight:[],featureMapWidth:[],numLayers:4,minScale:.1484375,maxScale:.75,inputSizeHeight:128,inputSizeWidth:128,anchorOffsetX:.5,anchorOffsetY:.5,strides:[8,16,16,16],aspectRatios:[1],fixedAnchorSize:!0},D4={reduceBoxesInLowestLayer:!1,interpolatedScaleAspectRatio:0,featureMapHeight:[],featureMapWidth:[],numLayers:1,minScale:.1484375,maxScale:.75,inputSizeHeight:192,inputSizeWidth:192,anchorOffsetX:.5,anchorOffsetY:.5,strides:[4],aspectRatios:[1],fixedAnchorSize:!0},Hr={runtime:"tfjs",modelType:"short",maxFaces:1,detectorModelUrl:"https://tfhub.dev/mediapipe/tfjs-model/face_detection/short/1"},N4={applyExponentialOnBoxSize:!1,flipVertically:!1,ignoreClasses:[],numClasses:1,numBoxes:896,numCoords:16,boxCoordOffset:0,keypointCoordOffset:4,numKeypoints:6,numValuesPerKeypoint:2,sigmoidScore:!0,scoreClippingThresh:100,reverseOutputOrder:!0,xScale:128,yScale:128,hScale:128,wScale:128,minScoreThresh:.5},I4={applyExponentialOnBoxSize:!1,flipVertically:!1,ignoreClasses:[],numClasses:1,numBoxes:2304,numCoords:16,boxCoordOffset:0,keypointCoordOffset:4,numKeypoints:6,numValuesPerKeypoint:2,sigmoidScore:!0,scoreClippingThresh:100,reverseOutputOrder:!0,xScale:192,yScale:192,hScale:192,wScale:192,minScoreThresh:.6},B4={outputTensorSize:{width:128,height:128},keepAspectRatio:!0,outputTensorFloatRange:[-1,1],borderMode:"zero"},G4={outputTensorSize:{width:192,height:192},keepAspectRatio:!0,outputTensorFloatRange:[-1,1],borderMode:"zero"},z4=function(){function S(m,y,w){this.detectorModel=y,this.maxFaces=w,m==="full"?(this.imageToTensorConfig=G4,this.tensorsToDetectionConfig=I4,this.anchors=zo(D4)):(this.imageToTensorConfig=B4,this.tensorsToDetectionConfig=N4,this.anchors=zo(b4));var P=De(this.anchors.map(function(t){return t.width})),F=De(this.anchors.map(function(t){return t.height})),c=De(this.anchors.map(function(t){return t.xCenter})),g=De(this.anchors.map(function(t){return t.yCenter}));this.anchorTensor={x:c,y:g,w:P,h:F}}return S.prototype.dispose=function(){this.detectorModel.dispose(),xe([this.anchorTensor.x,this.anchorTensor.y,this.anchorTensor.w,this.anchorTensor.h])},S.prototype.reset=function(){},S.prototype.detectFaces=function(m,y){return y===void 0&&(y=!1),Oi(this,void 0,void 0,function(){var w,P,F,c,g,t,o,v,a,i,s;return bi(this,function(e){switch(e.label){case 0:return m==null?(this.reset(),[2,[]]):(w=_t(function(){var r=ge(Ml(m),"float32");return y&&(r=Pe(Xn.flipLeftRight(ti(r,0)),[0])),r}),P=M4(w,this.imageToTensorConfig),F=P.imageTensor,c=P.transformationMatrix,g=this.detectorModel.execute(F,"Identity:0"),t=function(r){return _t(function(){var h=function(f){return _t(function(){return[Jt(f,[0,0,0],[1,-1,1]),Jt(f,[0,0,1],[1,-1,-1])]})}(r),n=h[0],l=h[1];return{boxes:Pe(l),logits:Pe(n)}})}(g),o=t.boxes,[4,R4([v=t.logits,o],this.anchorTensor,this.tensorsToDetectionConfig)]);case 1:return(a=e.sent()).length===0?(xe([w,F,g,v,o]),[2,a]):[4,F4(a,this.maxFaces,.3)];case 2:return i=e.sent(),s=function(r,h){r===void 0&&(r=[]);var n,l=(n=h,[].concat.apply([],n));return r.forEach(function(f){var u=f.locationData;u.relativeKeypoints.forEach(function(C){var A=Vo(l,[C.x,C.y]),M=A[0],R=A[1];C.x=M,C.y=R});var d=u.relativeBoundingBox,p=Number.MAX_VALUE,x=Number.MAX_VALUE,E=Number.MIN_VALUE,T=Number.MIN_VALUE;[[d.xMin,d.yMin],[d.xMin+d.width,d.yMin],[d.xMin+d.width,d.yMin+d.height],[d.xMin,d.yMin+d.height]].forEach(function(C){var A=Vo(l,C),M=A[0],R=A[1];p=Math.min(p,M),E=Math.max(E,M),x=Math.min(x,R),T=Math.max(T,R)}),u.relativeBoundingBox={xMin:p,xMax:E,yMin:x,yMax:T,width:E-p,height:T-x}}),r}(i,c),xe([w,F,g,v,o]),[2,s]}})})},S.prototype.estimateFaces=function(m,y){return Oi(this,void 0,void 0,function(){var w,P;return bi(this,function(F){return w=Pl(m),P=!!y&&y.flipHorizontal,[2,this.detectFaces(m,P).then(function(c){return c.map(function(g){for(var t=g.locationData.relativeKeypoints.map(function(e,r){return $i($i({},e),{x:e.x*w.width,y:e.y*w.height,name:Al[r]})}),o=g.locationData.relativeBoundingBox,v=0,a=["width","xMax","xMin"];v<a.length;v++)o[a[v]]*=w.width;for(var i=0,s=["height","yMax","yMin"];i<s.length;i++)o[s[i]]*=w.height;return{keypoints:t,box:o}})})]})})},S}();function U4(S){return Oi(this,void 0,void 0,function(){var m,y,w;return bi(this,function(P){switch(P.label){case 0:return m=function(F){if(F==null)return $i({},Hr);var c=$i({},F);return c.modelType==null&&(c.modelType=Hr.modelType),c.maxFaces==null&&(c.maxFaces=Hr.maxFaces),c.detectorModelUrl==null&&(c.modelType==="full"?c.detectorModelUrl="https://tfhub.dev/mediapipe/tfjs-model/face_detection/full/1":c.detectorModelUrl="https://tfhub.dev/mediapipe/tfjs-model/face_detection/short/1"),c}(S),y=typeof m.detectorModelUrl=="string"&&m.detectorModelUrl.indexOf("https://tfhub.dev")>-1,[4,Cl(m.detectorModelUrl,{fromTFHub:y})];case 1:return w=P.sent(),[2,new z4(m.modelType,w,m.maxFaces)]}})})}function V4(S,m){return Oi(this,void 0,void 0,function(){var y,w;return bi(this,function(P){if(S===hr.MediaPipeFaceDetector){if(w=void 0,(y=m)!=null){if(y.runtime==="tfjs")return[2,U4(y)];if(y.runtime==="mediapipe")return[2,P4(y)];w=y.runtime}throw new Error("Expect modelConfig.runtime to be either 'tfjs' "+"or 'mediapipe', but got ".concat(w))}throw new Error("".concat(S," is not a supported model name."))})})}function $r(S){return S.width*S.height}function Wo(S){var m=S.xCenter-S.width/2,y=m+S.width,w=S.yCenter-S.height/2;return{xMin:m,xMax:y,yMin:w,yMax:w+S.height,width:S.width,height:S.height}}function W4(S,m){var y=Wo(S),w=Wo(m);if(!function(c,g){return!(c.xMax<g.xMin||g.xMax<c.xMin||c.yMax<g.yMin||g.yMax<c.yMin)}(y,w))return 0;var P=$r(function(c,g){var t=Math.max(c.xMin,g.xMin),o=Math.min(c.xMax,g.xMax),v=Math.max(c.yMin,g.yMin),a=Math.min(c.yMax,g.yMax);return{xMin:t,xMax:o,yMin:v,yMax:a,width:Math.max(o-t,0),height:Math.max(a-v,0)}}(y,w)),F=$r(y)+$r(w)-P;return F>0?P/F:0}function X4(S,m,y,w){var P=S.width,F=S.height,c=1,g=Math.cos(S.rotation),t=Math.sin(S.rotation),o=S.xCenter,v=S.yCenter,a=1/m,i=1/y,s=new Array(16);return s[0]=P*g*c*a,s[1]=-F*t*a,s[2]=0,s[3]=(-.5*P*g*c+.5*F*t+o)*a,s[4]=P*t*c*i,s[5]=F*g*i,s[6]=0,s[7]=(-.5*F*g-.5*P*t*c+v)*i,s[8]=0,s[9]=0,s[10]=P*a,s[11]=0,s[12]=0,s[13]=0,s[14]=0,s[15]=1,function(e){if(e.length!==16)throw new Error("Array length must be 16 but got "+e.length);return[[e[0],e[1],e[2],e[3]],[e[4],e[5],e[6],e[7]],[e[8],e[9],e[10],e[11]],[e[12],e[13],e[14],e[15]]]}(s)}function Fl(S){return S instanceof Ee?{height:S.shape[0],width:S.shape[1]}:{height:S.height,width:S.width}}function Rl(S){return S-2*Math.PI*Math.floor((S+Math.PI)/(2*Math.PI))}function Ll(S){return S instanceof Ee?S:xl(S)}function Kr(S,m){rt(S.width!==0,function(){return m+" width cannot be 0."}),rt(S.height!==0,function(){return m+" height cannot be 0."})}function Y4(S,m){var y=function(w,P,F,c){var g=P-w,t=c-F,o=t/g;return{scale:o,offset:F-w*o}}(0,255,m[0],m[1]);return _t(function(){return Vt(Lt(S,y.scale),y.offset)})}function H4(S,m,y){var w=m.outputTensorSize,P=m.keepAspectRatio,F=m.outputTensorFloatRange,c=Fl(S),g=function(a,i){return i?{xCenter:i.xCenter*a.width,yCenter:i.yCenter*a.height,width:i.width*a.width,height:i.height*a.height,rotation:i.rotation}:{xCenter:.5*a.width,yCenter:.5*a.height,width:a.width,height:a.height,rotation:0}}(c,y),t=function(a,i,s){if(s===void 0&&(s=!1),!s)return{top:0,left:0,right:0,bottom:0};var e=i.height,r=i.width;Kr(i,"targetSize"),Kr(a,"roi");var h,n,l=e/r,f=a.height/a.width,u=0,d=0;return l>f?(h=a.width,n=a.width*l,d=(1-f/l)/2):(h=a.height/l,n=a.height,u=(1-l/f)/2),a.width=h,a.height=n,{top:d,left:u,right:u,bottom:d}}(g,w,P),o=X4(g,c.width,c.height),v=_t(function(){var a=Ll(S),i=Xi(function(r,h,n){return Kr(n,"inputResolution"),[1/n.width*r[0][0]*h.width,1/n.height*r[0][1]*h.width,r[0][3]*h.width,1/n.width*r[1][0]*h.height,1/n.height*r[1][1]*h.height,r[1][3]*h.height,0,0]}(o,c,w),[1,8]),s="nearest",e=Xn.transform(ti(ge(a,"float32")),i,"bilinear",s,0,[w.height,w.width]);return F!=null?Y4(e,F):e});return{imageTensor:v,padding:t,transformationMatrix:o}}function Xo(S){return{xCenter:S.xMin+S.width/2,yCenter:S.yMin+S.height/2,width:S.width,height:S.height}}function $4(S){var m=S.relativeKeypoints;if(m.length<=1)throw new Error("2 or more keypoints required to calculate a rect.");var y=Number.MAX_VALUE,w=Number.MAX_VALUE,P=Number.MIN_VALUE,F=Number.MIN_VALUE;return m.forEach(function(c){y=Math.min(y,c.x),P=Math.max(P,c.x),w=Math.min(w,c.y),F=Math.max(F,c.y)}),{xCenter:(y+P)/2,yCenter:(w+F)/2,width:P-y,height:F-w}}function Yo(S,m,y,w,P){var F=y==="rect"?function(c,g,t){var o,v=c.locationData;return o=Xo(v.boundingBox),o}(S):function(c,g){var t=c.locationData;return g==="boundingbox"?Xo(t.relativeBoundingBox):$4(t)}(S,m);return P&&(F.rotation=function(c,g,t){var o,v=c.locationData,a=t.rotationVectorStartKeypointIndex,i=t.rotationVectorEndKeypointIndex;o=t.rotationVectorTargetAngle?t.rotationVectorTargetAngle:Math.PI*t.rotationVectorTargetAngleDegree/180;var s=v.relativeKeypoints[a].x*g.width,e=v.relativeKeypoints[a].y*g.height,r=v.relativeKeypoints[i].x*g.width,h=v.relativeKeypoints[i].y*g.height;return Rl(o-Math.atan2(-(h-e),r-s))}(S,w,P)),F}function K4(S,m,y){for(var w=0;w<m.length;++w){var P=m[w],F=y[S[w]];F.x=P.x,F.y=P.y}}function j4(S,m,y,w){if(typeof m=="string"){if(m==="copy")for(var P=0;P<y.length;++P)w[S[P]].z=y[P].z}else{var F=function(c,g){for(var t=0,o=0;o<g.length;++o)t+=c[g[o]].z;return t/g.length}(w,m);for(P=0;P<S.length;++P)w[S[P]].z=F}}function k4(S,m){for(var y=function(g){var t=[].concat.apply([],g.map(function(s){return s.indexesMapping}));if(t.length===0)throw new Error("There should be at least one landmark in indexes mapping");var o=t[0],v=t[0],a=new Set(t);a.forEach(function(s){o=Math.min(o,s),v=Math.max(v,s)});var i=a.size;if(o!==0)throw new Error("Indexes are expected to start with 0 instead of "+o);if(v+1!==i)throw new Error("Indexes should have no gaps but "+(v-i+1)+" indexes are missing");return i}(m),w=new Array(y).fill(null).map(Object),P=0;P<S.length;++P){var F=S[P],c=m[P];if(F.length!==c.indexesMapping.length)throw new Error("There are "+F.length+" refinement landmarks while mapping has "+c.indexesMapping.length);K4(c.indexesMapping,F,w),j4(c.indexesMapping,c.zRefinement,F,w)}return w}function Z4(S,m){return S.map(function(y){var w=ai(ai({},y),{x:y.x*m.width,y:y.y*m.height});return y.z!=null&&(w.z=y.z*m.width),w})}function J4(S,m){return S==="none"?m:function(y){return 1/(1+Math.exp(-y))}(m)}function tn(S,m,y,w){return Ci(this,void 0,void 0,function(){var P,F,c,g,t,o,v,a;return wi(this,function(i){switch(i.label){case 0:return y=y||m.flipHorizontally||!1,w=w||m.flipVertically||!1,P=S.size,F=P/m.numLandmarks,[4,S.data()];case 1:for(c=i.sent(),g=[],t=0;t<m.numLandmarks;++t)o=t*F,(a={x:0,y:0}).x=y?m.inputImageWidth-c[o]:c[o],F>1&&(a.y=w?m.inputImageHeight-c[o+1]:c[o+1]),F>2&&(a.z=c[o+2]),F>3&&(a.score=J4(m.visibilityActivation,c[o+3])),g.push(a);for(v=0;v<g.length;++v)(a=g[v]).x=a.x/m.inputImageWidth,a.y=a.y/m.inputImageHeight,a.z=a.z/m.inputImageWidth/(m.normalizeZ||1);return[2,g]}})})}function Ho(S,m,y){var w=S.width,P=S.height,F=S.rotation;if(y.rotation==null&&y.rotationDegree==null||(F=function(o,v){return v.rotation!=null?o+=v.rotation:v.rotationDegree!=null&&(o+=Math.PI*v.rotationDegree/180),Rl(o)}(F,y)),F===0)S.xCenter=S.xCenter+w*y.shiftX,S.yCenter=S.yCenter+P*y.shiftY;else{var c=(m.width*w*y.shiftX*Math.cos(F)-m.height*P*y.shiftY*Math.sin(F))/m.width,g=(m.width*w*y.shiftX*Math.sin(F)+m.height*P*y.shiftY*Math.cos(F))/m.height;S.xCenter=S.xCenter+c,S.yCenter=S.yCenter+g}{var t=Math.max(w*m.width,P*m.height);w=t/m.width,P=t/m.height}return S.width=w*y.scaleX,S.height=P*y.scaleY,S}(hr||(hr={})).MediaPipeFaceDetector="MediaPipeFaceDetector";var jr={runtime:"tfjs",maxFaces:1,refineLandmarks:!1,landmarkModelUrl:"https://tfhub.dev/mediapipe/tfjs-model/face_landmarks_detection/face_mesh/1"},kr={flipHorizontal:!1,staticImageMode:!1},$o={shiftX:0,shiftY:0,scaleX:1.5,scaleY:1.5},Q4={outputTensorSize:{width:192,height:192},outputTensorFloatRange:[0,1]},Ko={numLandmarks:468,inputImageWidth:192,inputImageHeight:192,visibilityActivation:"none",flipHorizontally:!1,flipVertically:!1},q4={numLandmarks:80,inputImageWidth:192,inputImageHeight:192,visibilityActivation:"none",flipHorizontally:!1,flipVertically:!1},jo={numLandmarks:71,inputImageWidth:192,inputImageHeight:192,visibilityActivation:"none",flipHorizontally:!1,flipVertically:!1},ko={numLandmarks:5,inputImageWidth:192,inputImageHeight:192,visibilityActivation:"none",flipHorizontally:!1,flipVertically:!1},_4={indexesMapping:Array.from(Array(468).keys()),zRefinement:"copy"},tT={indexesMapping:[61,146,91,181,84,17,314,405,321,375,291,185,40,39,37,0,267,269,270,409,78,95,88,178,87,14,317,402,318,324,308,191,80,81,82,13,312,311,310,415,76,77,90,180,85,16,315,404,320,307,306,184,74,73,72,11,302,303,304,408,62,96,89,179,86,15,316,403,319,325,292,183,42,41,38,12,268,271,272,407],zRefinement:"none"},eT={indexesMapping:[33,7,163,144,145,153,154,155,133,246,161,160,159,158,157,173,130,25,110,24,23,22,26,112,243,247,30,29,27,28,56,190,226,31,228,229,230,231,232,233,244,113,225,224,223,222,221,189,35,124,46,53,52,65,143,111,117,118,119,120,121,128,245,156,70,63,105,66,107,55,193],zRefinement:"none"},iT={indexesMapping:[263,249,390,373,374,380,381,382,362,466,388,387,386,385,384,398,359,255,339,254,253,252,256,341,463,467,260,259,257,258,286,414,446,261,448,449,450,451,452,453,464,342,445,444,443,442,441,413,265,353,276,283,282,295,372,340,346,347,348,349,350,357,465,383,300,293,334,296,336,285,417],zRefinement:"none"},nT={indexesMapping:[468,469,470,471,472],zRefinement:[33,7,163,144,145,153,154,155,133,246,161,160,159,158,157,173]},sT={indexesMapping:[473,474,475,476,477],zRefinement:[263,249,390,373,374,380,381,382,362,466,388,387,386,385,384,398]},lr,rT=function(){function S(m,y,w,P){this.detector=m,this.landmarkModel=y,this.maxFaces=w,this.withAttention=P,this.prevFaceRectsFromLandmarks=null}return S.prototype.estimateFaces=function(m,y){return Ci(this,void 0,void 0,function(){var w,P,F,c,g,t,o,v,a,i,s,e,r,h=this;return wi(this,function(n){switch(n.label){case 0:return w=function(u){if(u==null)return ai({},kr);var d=ai({},u);return d.flipHorizontal==null&&(d.flipHorizontal=kr.flipHorizontal),d.staticImageMode==null&&(d.staticImageMode=kr.staticImageMode),d}(y),m==null?(this.reset(),[2,[]]):(P=Fl(m),F=_t(function(){var u=ge(Ll(m),"float32");return w.flipHorizontal&&(u=Pe(Xn.flipLeftRight(ti(u,0)),[0])),u}),c=this.prevFaceRectsFromLandmarks,w.staticImageMode||c==null||c.length<this.maxFaces?[4,this.detector.detectFaces(F,!1)]:[3,2]);case 1:return(t=n.sent()).length===0?(this.reset(),F.dispose(),[2,[]]):(g=t.map(function(u){return h.faceDetectionFrontDetectionToRoi(u,P)}),[3,3]);case 2:g=[],n.label=3;case 3:return l=.5,f=[],[g,c||[]].forEach(function(u){return u.forEach(function(d){(f=f.filter(function(p){return W4(d,p)<=l})).push(d)})}),o=f,[4,Promise.all(o.map(function(u){return h.faceLandmark(u,F)}))];case 4:for(v=n.sent(),a=[],this.prevFaceRectsFromLandmarks=[],i=0;i<v.length;++i)(s=v[i])!=null&&(this.prevFaceRectsFromLandmarks.push(this.faceLandmarksToRoi(s,P)),(e=Z4(s,P))!=null&&e.forEach(function(u,d){var p=wl.get(d);p!=null&&(u.name=p)}),r=Aa(e),a.push({keypoints:e,box:r.locationData.relativeBoundingBox}));return F.dispose(),[2,a]}var l,f})})},S.prototype.dispose=function(){this.detector.dispose(),this.landmarkModel.dispose()},S.prototype.reset=function(){this.detector.reset(),this.prevFaceRectsFromLandmarks=null},S.prototype.faceDetectionFrontDetectionToRoi=function(m,y){return Ho(Yo(m,"boundingbox","normRect",y,{rotationVectorStartKeypointIndex:0,rotationVectorEndKeypointIndex:1,rotationVectorTargetAngleDegree:0}),y,$o)},S.prototype.faceLandmark=function(m,y){return Ci(this,void 0,void 0,function(){var w,P,F,c,g,t,o;return wi(this,function(v){switch(v.label){case 0:return w=H4(y,Q4,m).imageTensor,P=["output_faceflag"].concat(this.withAttention?["output_mesh_identity","output_lips","Identity_6:0","Identity_1:0","Identity_2:0","Identity_5:0"]:["output_mesh"]),F=this.landmarkModel.execute(w,P),c=F[0],g=F.slice(1),[4,c.data()];case 1:return v.sent()[0]<.5?(xe(F),xe(w),[2,null]):this.withAttention?[4,this.tensorsToFaceLandmarksWithAttention(g)]:[3,3];case 2:return t=v.sent(),[3,5];case 3:return[4,this.tensorsToFaceLandmarks(g)];case 4:t=v.sent(),v.label=5;case 5:return o=function(a,i,s){s===void 0&&(s={ignoreRotation:!1});for(var e=[],r=0,h=a;r<h.length;r++){var n=h[r],l=n.x-.5,f=n.y-.5,u=s.ignoreRotation?0:i.rotation,d=Math.cos(u)*l-Math.sin(u)*f,p=Math.sin(u)*l+Math.cos(u)*f;d=d*i.width+i.xCenter,p=p*i.height+i.yCenter;var x=n.z*i.width,E=ai({},n);E.x=d,E.y=p,E.z=x,e.push(E)}return e}(t,m),xe(F),xe(w),[2,o]}})})},S.prototype.tensorsToFaceLandmarks=function(m){return Ci(this,void 0,void 0,function(){return wi(this,function(y){return[2,tn(m[0],Ko)]})})},S.prototype.tensorsToFaceLandmarksWithAttention=function(m){return Ci(this,void 0,void 0,function(){var y,w,P,F,c,g;return wi(this,function(t){switch(t.label){case 0:return[4,tn(m[0],Ko)];case 1:return y=t.sent(),[4,tn(m[1],q4)];case 2:return w=t.sent(),[4,tn(m[3],jo)];case 3:return P=t.sent(),[4,tn(m[5],jo)];case 4:return F=t.sent(),[4,tn(m[4],ko)];case 5:return c=t.sent(),[4,tn(m[2],ko)];case 6:return g=t.sent(),[2,k4([y,w,P,F,c,g],[_4,tT,eT,iT,nT,sT])]}})})},S.prototype.faceLandmarksToRoi=function(m,y){return Ho(Yo(Aa(m),"boundingbox","normRect",y,{rotationVectorStartKeypointIndex:33,rotationVectorEndKeypointIndex:263,rotationVectorTargetAngleDegree:0}),y,$o)},S}();function aT(S){return Ci(this,void 0,void 0,function(){var m,y,w,P;return wi(this,function(F){switch(F.label){case 0:return m=function(c){if(c==null)return ai({},jr);var g=ai({},c);return g.runtime="tfjs",g.maxFaces==null&&(g.maxFaces=jr.maxFaces),g.refineLandmarks==null&&(g.refineLandmarks=jr.refineLandmarks),g.landmarkModelUrl==null&&(g.landmarkModelUrl=g.refineLandmarks?"https://tfhub.dev/mediapipe/tfjs-model/face_landmarks_detection/attention_mesh/1":"https://tfhub.dev/mediapipe/tfjs-model/face_landmarks_detection/face_mesh/1"),g}(S),y=typeof m.landmarkModelUrl=="string"&&m.landmarkModelUrl.indexOf("https://tfhub.dev")>-1,[4,Cl(m.landmarkModelUrl,{fromTFHub:y})];case 1:return w=F.sent(),[4,V4(hr.MediaPipeFaceDetector,{modelType:"short",maxFaces:m.maxFaces,detectorModelUrl:m.detectorModelUrl,runtime:m.runtime})];case 2:return P=F.sent(),[2,new rT(P,w,m.maxFaces,m.refineLandmarks)]}})})}function oT(S,m){return Ci(this,void 0,void 0,function(){var y,w;return wi(this,function(P){if(S===lr.MediaPipeFaceMesh){if(w=void 0,(y=m)!=null){if(y.runtime==="tfjs")return[2,aT(y)];if(y.runtime==="mediapipe")return[2,C4(y)];w=y.runtime}throw new Error("Expect modelConfig.runtime to be either 'tfjs' or 'mediapipe', but got "+w)}throw new Error(S+" is not a supported model name.")})})}(function(S){S.MediaPipeFaceMesh="MediaPipeFaceMesh"})(lr||(lr={}));class ci{constructor(m,y,w){gt(this,"name");gt(this,"description");gt(this,"referenceLink");gt(this,"isFound",!1);this.name=m,this.description=y,this.referenceLink=w}}const ur=class ur{constructor(){gt(this,"faceControlEnabled",!1);gt(this,"currentChapter",0);gt(this,"allHiddenObjects",[[new ci("Oil","The Oil Barrel",""),new ci("Flag","The XR Flag",""),new ci("Flower","The Wreath","")],[new ci("Dust","The Dust Protector",""),new ci("Soup","The Soup Can",""),new ci("Suffragetes","The Suffragettes","")],[new ci("Wheel","The Hamster",""),new ci("Goggles","The Trapped One",""),new ci("Fight","The Reactors",""),new ci("Brain","The Guinea Pig","")],[],[]])}static get shared(){return this._shared}};gt(ur,"_shared",new ur);let Ae=ur;var en=(S=>(S[S.None=0]="None",S[S.LeftEye=1]="LeftEye",S[S.RightEye=2]="RightEye",S[S.Both=3]="Both",S))(en||{});class hT{constructor(m,y,w,P,F){gt(this,"name");gt(this,"x");gt(this,"y");gt(this,"ratio");gt(this,"description");this.name=m,this.x=y,this.y=w,this.ratio=P,this.description=F}}class lT{constructor(m,y,w,P){gt(this,"name");gt(this,"x");gt(this,"y");gt(this,"ratio");this.name=m,this.x=y,this.y=w,this.ratio=P}}let uT=class{constructor(m,y,w){gt(this,"name");gt(this,"x");gt(this,"y");gt(this,"imageSprite");this.name=m,this.x=y,this.y=w}};class fT{constructor(m,y,w){gt(this,"name");gt(this,"x");gt(this,"y");gt(this,"imageSprite");this.name=m,this.x=y,this.y=w}}class dT{constructor(m,y,w,P=0){gt(this,"name");gt(this,"x");gt(this,"y");gt(this,"imageSprite");gt(this,"animated");this.name=m,this.x=y,this.y=w,this.animated=P}}class pi extends Js.Scene{constructor(y){super(y);gt(this,"cameraSpeed",.1);gt(this,"showUserInterface",!0);gt(this,"sceneWidth",0);gt(this,"sceneHeight",0);gt(this,"sceneData");gt(this,"interactiveObjectSpritesFileName");gt(this,"isStarted",!1);gt(this,"startPointX",0);gt(this,"startPointY",0);gt(this,"touchPoints",[]);gt(this,"sfxs",[]);gt(this,"images",[]);gt(this,"interactiveObjects",[]);gt(this,"animationSprites",[]);gt(this,"imageObjects",[]);gt(this,"sceneStopped",!1);gt(this,"parent");gt(this,"sizer");gt(this,"_eyeMaskImage");gt(this,"_eyeMask");gt(this,"backgroundMusicPath");gt(this,"_mouseTrackpadScale",.5);gt(this,"keySpace");gt(this,"isNear",(y,w,P,F,c)=>Math.abs(y-P)<c&&Math.abs(w-F)<c)}get windowWidth(){return window.innerWidth}get windowHeight(){return window.innerHeight}get widthScale(){return this.windowWidth/this.sceneWidth}get heightScale(){return this.windowHeight/this.sceneHeight}get defaultUIScene(){return this.scene.get("UserInterface")}get mask(){return this._eyeMaskImage||(this._eyeMaskImage=this.add.sprite(window.innerWidth/2,window.innerHeight/2,"interface","Mask_Eye"),this._eyeMaskImage.setVisible(!1),this._eyeMaskImage.setScrollFactor(0),this._eyeMask=this.add.bitmapMask(this._eyeMaskImage),this._eyeMask.invertAlpha=!1),this._eyeMask}preload(){if(console.log("Preloading Scene"),this.backgroundMusicPath&&this.load.audio(this.backgroundMusicPath,this.backgroundMusicPath),this.sceneData!=null){this.startPointX=this.sceneData.startpoint.x,this.startPointY=this.sceneData.startpoint.y;for(var y=0;y<this.sceneData.touchpoints.length;y++){var w=this.sceneData.touchpoints[y];this.touchPoints.push(new hT(w.name,w.x,w.y,w.ratio,w.description))}for(var y=0;y<this.sceneData.sfxs.length;y++){var P=this.sceneData.sfxs[y];this.sfxs.push(new lT(P.name,P.x,P.y,P.ratio))}for(var y=0;y<this.sceneData.images.length;y++){var F=this.sceneData.images[y],c=this.sceneId+"_"+F.name;this.images.push(new uT(c,F.x,F.y)),this.load.image(c,"144ppi/"+c+".png")}if(this.interactiveObjectSpritesFileName){this.load.multiatlas(this.interactiveObjectSpritesFileName,`144ppi/${this.interactiveObjectSpritesFileName}.json`,"144ppi/");for(var y=0;y<this.sceneData.interactiveObjects.length;y++){var g=this.sceneData.interactiveObjects[y];this.interactiveObjects.push(new fT(g.name,g.x,g.y))}}for(var y=0;y<this.sceneData.animationSprites.length;y++){var t=this.sceneData.animationSprites[y],o=t.name;this.animationSprites.push(new dT(o,t.x,t.y,100)),this.load.multiatlas(o,`144ppi/${o}.json`,"144ppi/")}}}addGameObjects(y,w){for(var P=0;P<y.length;P++){let F=y[P];F.imageSprite=this.add.image(0,0,F.name),F.imageSprite.setOrigin(0),F.imageSprite.x=F.x+this.windowWidth/2-this.sceneWidth/2,F.imageSprite.y=F.y+this.windowHeight/2-this.sceneHeight/2,F.imageSprite.setMask(this.mask),F.imageSprite.setScale(.5),F.imageSprite.setDepth(w-P)}}create(){console.log("Creating a scene"),this.cameras.main.scrollX=this.sceneWidth,this.cameras.main.scrollY=this.sceneHeight,this.addGameObjects(this.images,0);for(var y=0;y<this.animationSprites.length;y++){let P=this.animationSprites[y];P.imageSprite=this.add.sprite(0,0,P.name),P.imageSprite.setOrigin(0),P.imageSprite.x=P.x+this.windowWidth/2-this.sceneWidth/2,P.imageSprite.y=P.y+this.windowHeight/2-this.sceneHeight/2,P.imageSprite.setMask(this.mask),P.imageSprite.setScale(.65),P.imageSprite.setDepth(100-y)}if(this.interactiveObjectSpritesFileName)for(var y=0;y<this.interactiveObjects.length;y++){let F=this.interactiveObjects[y];F.imageSprite=this.add.sprite(0,0,this.interactiveObjectSpritesFileName,F.name),F.imageSprite.setOrigin(0),F.imageSprite.x=F.x+this.windowWidth/2-this.sceneWidth/2,F.imageSprite.y=F.y+this.windowHeight/2-this.sceneHeight/2,F.imageSprite.setMask(this.mask),F.imageSprite.setScale(.65),F.imageSprite.setDepth(1e3+y)}this.input.on("pointerdown",P=>{if(P.leftButtonDown())if(!Ae.shared.faceControlEnabled)this.checkInteraction(P.x,P.y);else{let F=_e.default.translateX*window.innerWidth,c=_e.default.translateY*window.innerHeight;this.checkInteraction(F,c)}}),this.input.keyboard&&(this.keySpace=this.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.SPACE),this.keySpace.on("down",()=>{if(!Ae.shared.faceControlEnabled)this.checkInteraction(this.input.x,this.input.y);else{let P=_e.default.translateX*window.innerWidth,F=_e.default.translateY*window.innerHeight;this.checkInteraction(P,F)}}));var w=this.add.circle(this.windowWidth/2,this.windowHeight/2,100);w.setScrollFactor(0),w.setStrokeStyle(5,0,.1),w.setDepth(1e3)}update(){this._eyeMaskImage&&(this._eyeMaskImage.x=window.innerWidth/2,this._eyeMaskImage.y=window.innerHeight/2);let y,w,P,F,c=.5;this.input.on("wheel",(s,e,r,h,n)=>{h>2?this._mouseTrackpadScale+=.1:h<-2&&(this._mouseTrackpadScale-=.1)}),Ae.shared.faceControlEnabled?(c=1.7-_e.default.scale,y=_e.default.translateX*this.windowWidth,w=_e.default.translateY*this.windowHeight,P=window.innerWidth,F=window.innerHeight):(c=this._mouseTrackpadScale,y=this.input.x,w=this.input.y,P=this.cameras.main.width,F=this.cameras.main.height);var g=y-P/2,t=w-F/2,o=g-this.cameras.main.scrollX,v=t-this.cameras.main.scrollY,a=this.cameras.main.scrollX+o*this.cameraSpeed,i=this.cameras.main.scrollY+v*this.cameraSpeed;c>=2?c=2:c<=0&&(c=0),this.cameras.main.setScroll(a,i),this.cameras.main.setZoom(Math.abs(c)),this.onHoverOnTouchPoint(y,w)}onHoverOnTouchPoint(y,w){var P=null;this.touchPoints.forEach(F=>{this.isNear(F.x+this.windowWidth/2-this.sceneWidth/2+F.ratio,F.y+this.windowHeight/2-this.sceneHeight/2+F.ratio,y,w,F.ratio)&&F.description&&(P=F.description)}),P&&this.defaultUIScene.setDescriptionText(P)}onBlinkStatusChanged(y){console.log(y)}checkInteraction(y,w){console.log(y,w)}checkCollideWithTouchPoints(y,w){var P=[];let F=this.tweens.add({targets:[this._eyeMaskImage],scaleY:0,duration:150,ease:Phaser.Math.Easing.Sine.InOut,repeat:0,yoyo:!0,onComplete:function(){F.remove()}});return this.touchPoints.forEach(c=>{this.isNear(c.x+this.windowWidth/2-this.sceneWidth/2+c.ratio,c.y+this.windowHeight/2-this.sceneHeight/2+c.ratio,y,w,c.ratio)&&(P.push(c),console.log(c))}),P}}gt(pi,"sceneName"),gt(pi,"cutsceneVideoFileName"),gt(pi,"cutsceneSectionsTimestamps"),gt(pi,"cutsceneSectionsSubtitles");const an=class an{constructor(){gt(this,"detector");gt(this,"startInferenceTime",0);gt(this,"numInferences",0);gt(this,"inferenceTimeSum",0);gt(this,"lastPanelUpdate",0);gt(this,"rafId");gt(this,"translateX",0);gt(this,"translateY",0);gt(this,"scale",0);gt(this,"blinkingStatus",en.None);gt(this,"_previousBlink",en.None);gt(this,"blinkConfirmationDelay",0);gt(this,"smoothFace");gt(this,"smoothingFactor",.8);gt(this,"faceInit",!0)}static async setup(){an.default=new an,await ni.setup();const m={runtime:"mediapipe",refineLandmarks:!0,solutionPath:"https://cdn.jsdelivr.net/npm/@mediapipe/face_mesh"};an.default.detector=await oT(lr.MediaPipeFaceMesh,m),await an.default.renderPrediction()}beginEstimateFaceStats(){this.startInferenceTime=(performance||Date).now()}endEstimateFaceStats(){const m=(performance||Date).now();this.inferenceTimeSum+=m-this.startInferenceTime,++this.numInferences,m-this.lastPanelUpdate>=1e3&&(this.inferenceTimeSum=0,this.numInferences=0,this.lastPanelUpdate=m)}async renderPrediction(){await this.renderResult(),this.rafId=requestAnimationFrame(()=>this.renderPrediction())}async renderResult(){var m,y;if(ni.defaultCamera.video.readyState<2&&await new Promise(w=>{ni.defaultCamera.video.onloadeddata=()=>{w(ni.defaultCamera.video)}}),this.detector!=null){this.beginEstimateFaceStats();try{let w=await((m=this.detector)==null?void 0:m.estimateFaces(ni.defaultCamera.video,{flipHorizontal:!1}));if(w.length==1){let P=w[0];this.smoothFace==null&&this.faceInit==!0?(console.log("First Face"),this.smoothFace=P,this.faceInit=!1):this.smoothFace={box:{xMin:Math.round(this.smoothFace.box.xMin*this.smoothingFactor+P.box.xMin*(1-this.smoothingFactor)),xMax:Math.round(this.smoothFace.box.xMax*this.smoothingFactor+P.box.xMax*(1-this.smoothingFactor)),yMin:Math.round(this.smoothFace.box.yMin*this.smoothingFactor+P.box.yMin*(1-this.smoothingFactor)),yMax:Math.round(this.smoothFace.box.yMax*this.smoothingFactor+P.box.yMax*(1-this.smoothingFactor)),width:Math.round(this.smoothFace.box.width*this.smoothingFactor+P.box.width*(1-this.smoothingFactor)),height:Math.round(this.smoothFace.box.height*this.smoothingFactor+P.box.height*(1-this.smoothingFactor))},keypoints:[...P.keypoints]},await this.calculatePosition(this.smoothFace)}}catch(w){(y=this.detector)==null||y.dispose(),alert(w)}this.endEstimateFaceStats()}}async calculatePosition(m){this.translateX=(ni.videoConfig.video.width-(m.box.xMin+m.box.width/2))/ni.videoConfig.video.width,this.translateY=(m.box.yMin+m.box.height/1.8)/ni.videoConfig.video.height,this.translateX=this.translateX*2.4-.7,this.translateY=this.translateY*2.4-.7,this.translateX=Math.round(this.translateX*1e3)/1e3,this.translateY=Math.round(this.translateY*1e3)/1e3,this.scale=Math.round(ni.videoConfig.video.height/2/m.box.height*100)/100;let y=Math.abs(Math.round(m.keypoints[159].y-m.keypoints[145].y)),w=Math.abs(Math.round(m.keypoints[386].y-m.keypoints[374].y)),P=20,F;if(y>P&&w>P?F=en.Both:y<P&&w>=P?F=en.LeftEye:y>=P&&w<P?F=en.RightEye:F=en.None,this.blinkingStatus!=F)if(this.blinkConfirmationDelay==10){this.blinkingStatus=this._previousBlink,this.blinkConfirmationDelay=0;let c=Wl.scene.getAt(0);c&&c.onBlinkStatusChanged&&c.scene.isActive(c)&&c.onBlinkStatusChanged(this.blinkingStatus)}else F!=this._previousBlink?(this._previousBlink=F,this.blinkConfirmationDelay=0):this.blinkConfirmationDelay+=1}};gt(an,"default");let _e=an;const cT={x:903.525274240568,y:566.185389500999},vT=[{name:"Button_Sound_On",x:754.591037712697,y:766.972945863021},{name:"Button_Sound_Off",x:838.440992271639,y:812.678558185105},{name:"Button_Control",x:1140.55522514662,y:827.46232843621},{name:"Button_Play",x:885.451191273829,y:544.876942253521},{name:"Object_3_4",x:1142.00191524788,y:439.970308434682},{name:"Object_3_3",x:1331.51852755119,y:532.175053423476},{name:"Object_3_2",x:1116.46902844885,y:605.728577768619},{name:"Object_3_1",x:1318.90999426219,y:346.094023132355},{name:"Object_2_1",x:1433.68751401473,y:208.064603311046},{name:"Object_2_2",x:1276.39486461454,y:87.1285772704769},{name:"Object_2_3",x:1084.52397193726,y:148.193710202158},{name:"Object_1_3",x:589.736751659681,y:616.591567616928},{name:"Object_1_2",x:619.359915612222,y:467.517678668815},{name:"Object_1_1",x:788.271676757495,y:401.091118203813}],pT=[],mT=[{name:"Object_2_1",x:1403.01127701457,y:187.541154486911,ratio:59.4297839271394,description:"The Suffragettes"},{name:"Object_2_2",x:1277.71738080919,y:64.4346017563457,ratio:59.4297839271394,description:"The Dust Protector"},{name:"Object_2_3",x:1072.98209956368,y:113.809056256123,ratio:59.4297839271394,description:"The Soup Can"},{name:"Object_3_4",x:1097.03710944506,y:570.568912004184,ratio:59.4297839271394,description:"The Guinea Pig"},{name:"Object_3_3",x:1308.85978675568,y:507.051724795647,ratio:59.4297839271394,description:"The Reactors"},{name:"Object_3_2",x:1123.25091703704,y:403.57992582825,ratio:59.4297839271394,description:"The Oil Barrel"},{name:"Object_3_1",x:1292.91654143453,y:333.680585118511,ratio:59.4297839271394,description:"The Hamster"},{name:"Object_1_1",x:769.577574674979,y:364.206803898898,ratio:59.4297839271394,description:"The Oil Barrel"},{name:"Object_1_2",x:603.996440222798,y:429.140856645094,ratio:69.6263228332846,description:"The XR Flag"},{name:"Object_1_3",x:565.738466282804,y:583.299217707065,ratio:69.6263228332846,description:"The Wreath"},{name:"Control",x:1121.91506752766,y:804.230100275003,ratio:45.4534805564199},{name:"Captions",x:982.541408499666,y:748.645228134155,ratio:45.4534805564217},{name:"Mute",x:812.833102054596,y:779.856841917121,ratio:45.4534805564199},{name:"Volume",x:722.410949049245,y:732.914783049629,ratio:45.4534805564181},{name:"Play",x:812.808921618462,y:470.444228444849,ratio:99.2862776411739,description:"Left click or Press space bar to start."}],gT=[],yT=[{name:"Image_6",x:752.497325956285,y:323.199486763118},{name:"Image_5",x:704.780195097183,y:454.715101529007},{name:"Image_4",x:504.446956524964,y:354.039254772855},{name:"Image_3",x:151.812217035346,y:54.174169732717},{name:"Image_2",x:446.870970628692,y:130.764526367188},{name:"Image_1",x:337.669097900391,y:169.606023640365}],xT={startpoint:cT,interactiveObjects:vT,animationSprites:pT,touchpoints:mT,sfxs:gT,images:yT},TT={x:1282.48429791504,y:473.338500508366},ST=[],ET=[],CT=[{name:"Touchpoint_1",x:889.324558720982,y:816.253015129289,ratio:106.811299658484},{name:"Touchpoint_2",x:599.268565654676,y:536.721671207857,ratio:114.896082729231},{name:"Touchpoint_3",x:1119.21451656324,y:3.53331411076306,ratio:106.811299658485}],wT=[],AT=[{name:"Image_3",x:1443.16664697208,y:823.662312569324},{name:"Image_2",x:-112.597180834328,y:-63.2204893802818},{name:"Image_1",x:-130.147083293358,y:-252.374238490664}],PT={startpoint:TT,interactiveObjects:ST,animationSprites:ET,touchpoints:CT,sfxs:wT,images:AT},MT=[{timestamp:3.459,caption:"Wake up, Little Eye. It's time to take a dive into the Flood."},{timestamp:7.15,caption:"Look, Little Eye."},{timestamp:8,caption:"There are gems here if"},{timestamp:9,caption:"you can only see."}],FT={x:1256.64267588309,y:650.269570434246},RT=[],LT=[],OT=[{name:"Touchpoint_1",x:1170.83572158114,y:560.099425074064,ratio:91.1691469744856},{name:"Touchpoint_2",x:1554.93971454975,y:910.439167856495,ratio:23.814166486005},{name:"Touchpoint_3",x:-223.956813577299,y:542.579648664241,ratio:100.696704503593}],bT=[],DT=[{name:"Image_6",x:132.790652902252,y:657.140372451931},{name:"Image_5",x:87.5068329540391,y:702.822550691146},{name:"Image_4",x:-240.922009574155,y:523.386626490343},{name:"Image_3",x:-324.485751274477,y:-461.73727487685},{name:"Image_2",x:-269.134338212479,y:272.18875051378},{name:"Image_1",x:-269.456498778148,y:680.82824718037}],NT={startpoint:FT,interactiveObjects:RT,animationSprites:LT,touchpoints:OT,sfxs:bT,images:DT},IT=[{timestamp:1.84,caption:"Great job, little eye. Staying focused on climate news can be challenging with all the distractions around."},{timestamp:8.22,caption:"Let's take a look at what you found."},{timestamp:11.02,caption:"Back in April 2023, 60,000 voices united in Westminster, London, for Extinction Rebellion's 'The Big One'"},{timestamp:18.63,caption:"the largest environmental protests in British history."},{timestamp:22.08,caption:"Yet, despite this massive turnout, it barely made a ripple in the news."},{timestamp:27.1,caption:"Did you catch it? Or was it drowned out by the noise noise noise?"},{timestamp:31.11,caption:"And then there's Wynn Bruce."},{timestamp:33.63,caption:"On Earth Day 2022, he made the heartbreaking decision to set himself on fire outside the U.S. Supreme Court"},{timestamp:40.2,caption:"in a desperate plea against the government's climate inaction."},{timestamp:43.54,caption:"Bruce soon died from his injuries after being airlifted to a hospital."},{timestamp:47.78,caption:"But have you ever heard his name name name?"},{timestamp:50.11,caption:'In July 2023, activists from "This is Rigged" made waves at oil refineries across Scotland,'},{timestamp:56.74,caption:"calling for a fair transition for workers."},{timestamp:59.52,caption:"Did their message make it to your feed feed feed?"},{timestamp:61.84,caption:"But sometimesjust sometimesclimate news breaks through and steals the spotlight."},{timestamp:67.38,caption:"Remember when two Just Stop Oil protesters splashed tomato soup on Van Gogh's Sunflowers,"},{timestamp:72.28,caption:"sparking a whirlwind of online drama?"},{timestamp:74.96,caption:"Come little eye. Let's step into the gallery on that day"},{timestamp:79.02,caption:"and see exactly how this one went viral."}],BT={x:406.846694972388,y:765.631484504227},GT=[],zT=[],UT=[{name:"Touchpoint_1",x:743.032116294427,y:588.56737254677,ratio:91.1691469744865},{name:"Touchpoint_2",x:31.7370128740768,y:97.366240215445,ratio:165.496276348573},{name:"Touchpoint_3",x:573.777704038916,y:166.707223665672,ratio:71.2027086447106},{name:"Touchpoint_4",x:1655.36942354405,y:684.954646177133,ratio:112.505279949085}],VT=[],WT=[{name:"Image_6",x:-207.219504564675,y:-269.090132587789},{name:"Image_5",x:-53.4636257339225,y:-22.6386478549985},{name:"Image_4",x:-35.2057655589206,y:-86.1599999999999},{name:"Image_3",x:-141.847045898438,y:-109.190391579069},{name:"Image_2",x:-206.380004882813,y:-270.210327148438},{name:"Image_1",x:-317.315063476563,y:-213.896349925311}],XT={startpoint:BT,interactiveObjects:GT,animationSprites:zT,touchpoints:UT,sfxs:VT,images:WT},YT=[{timestamp:1.159,caption:"Thank you, little eye!"},{timestamp:3.35,caption:"Now we've gathered all the clues."},{timestamp:5.12,caption:"Let's see what they've been pointing to!"},{timestamp:8.3,caption:"First, there's the dust protector."},{timestamp:10.38,caption:"Funny how that thin sheet of glass is conveniently forgotten, isn't it?"},{timestamp:14.78,caption:"Headlines scream disaster,"},{timestamp:17.05,caption:"but three paragraphs in, readers realise the painting was never harmed."},{timestamp:21.32,caption:"Guess a little rage-baiting always boosts those clicks."},{timestamp:25.4,caption:"Then there's the can of soup."},{timestamp:27.36,caption:"That splash of orange caught everyone's eye,"},{timestamp:30.52,caption:"but how many paused to understand why?"},{timestamp:32.42,caption:"While glued to the gallery wall, Phoebe Plummer spelled it out:"},{timestamp:35.66,caption:'"The cost of living crisis is part of the cost of oil crisis."'},{timestamp:39.6,caption:'"Fuel is unaffordable to millions of cold, hungry families."'},{timestamp:43.22,caption:`"They can't even afford to heat a tin of soup."`},{timestamp:46.6,caption:"Unfortunately, modern protesters need to walk a fine line:"},{timestamp:50,caption:"their campaign must be absurd enough to drive online engagement,"},{timestamp:53.44,caption:"but never so absurd that the message gets dismissed."},{timestamp:56.16,caption:"And let's not forget the slashing of the Rokeby Venus."},{timestamp:59.2,caption:"at the National Gallery over a century ago."},{timestamp:62.72,caption:"Suffragette Mary Richardson took a meat chopper"},{timestamp:65.46,caption:"to an equally famous painting in protest against the mistreatment of women."},{timestamp:70.22,caption:"While it might seem like an impulsive act"},{timestamp:72.56,caption:"much like JSO's soup-throwing."},{timestamp:74.5,caption:"But both were carefully planned."},{timestamp:77.24,caption:"Richardson herself stressed in her Prisoner's Speech and in court"},{timestamp:81,caption:'that her protest was "premeditated."'},{timestamp:84.04,caption:"These protests are part of a long history of disruptive acts"},{timestamp:86.96,caption:"meant to shake us out of our complacency."},{timestamp:89.1,caption:"But in today's world of constant digital noise, do they still work, little eye?"}],HT=[{timestamp:1.52,caption:"Hooray, little eye! You've found all the poor souls stuck in the factory."},{timestamp:5.56,caption:"Ah, you've met the hamster sprinting on his wheel."},{timestamp:9.07,caption:"The infinite scroll feature, invented in 2006, was quickly embraced by tech companies to keep us hooked."},{timestamp:15.6,caption:"The more we scroll, the more data they collect,"},{timestamp:18.44,caption:"feeding algorithms that dish out the perfect content at just the right time."},{timestamp:22.42,caption:"Not for the benefit of the hamsters, of course, but to keep them running and running."},{timestamp:27.1,caption:"Next, there's the trapped one with his headset on."},{timestamp:30.36,caption:"Ever wondered why your neighbours might support a terrible campaign after seeing all the news you see?"},{timestamp:35.82,caption:"Well it's probably because they didn't."},{timestamp:38.94,caption:"Echo chambers create personalized realities for each of us, and they're not responding to the one you're living in."},{timestamp:45.06,caption:"Every now and then, cracks appear in our echo chambers, but don't get your hopes up for breaking free."},{timestamp:50.539,caption:"More often than not, our confirmation bias takes over, and we end up like those reactors"},{timestamp:55.68,caption:"you found in the boxing ringfighting anyone who dares question our beliefs"},{timestamp:60.06,caption:"The anonymity and the lack of immediate consequences make it all too easy for our words to grow"},{timestamp:64.28,caption:"harsher and more extreme."},{timestamp:66.76,caption:"Then, in the lab, lies the poor Guinea Pig."},{timestamp:70.24,caption:"We've been led to believe we're the customers, but in reality, we're the products being sold"},{timestamp:75.86,caption:"to advertising companies"},{timestamp:77.12,caption:"modified into a downgraded version of ourselves that's easier to exploit, all without even realising"}],Ol="Chapter4Scene",$T={active:!1,visible:!1,key:Ol};class rn extends pi{constructor(){super($T);gt(this,"sceneId","Chapter4");gt(this,"sceneData",null);gt(this,"backgroundMusicPath","Audio/BGM_Chapter_1.mp3");gt(this,"sceneWidth",1920);gt(this,"sceneHeight",1080);gt(this,"background");gt(this,"headline");gt(this,"description");gt(this,"image");gt(this,"qrCode")}preload(){super.preload(),this.load.multiatlas("Chapter4","144ppi/Chapter4_Images.json","144ppi")}create(){this.background=this.add.rectangle(0,0,window.innerWidth,window.innerHeight,16777215),this.headline=this.add.text(0,0,"Thank you for playing!",{fontFamily:Gl,fontSize:zl,color:"#ffffff"}),this.headline.tint=0,this.headline.lineSpacing=.5,this.headline.setAlign("center"),this.headline.setResolution(3);const y=`You've just completed the first three chapters of FOCUS, BUT WHERE. This game is crafted with passion by our small indie team based in the UK. 

We're working hard on the next chapters, and we'd love to keep you in the loop! Scan the QR code to visit our project page and sign up for our newsletteryoull be the first to hear about updates, exclusive content, and release dates. 

To restart the game, simply refresh the page!`;this.description=this.add.text(0,0,y,{fontFamily:cn,fontSize:Vl,color:"#ffffff"}),this.description.setResolution(3),this.description.tint=0,this.description.setAlign("left"),this.description.setWordWrapWidth(960,!1),this.image=this.add.image(0,0,"Chapter4","Image_Loading"),this.image.setScale(.25),this.qrCode=this.add.image(0,0,"Chapter4","Image_QRCode"),this.qrCode.setScale(.25),this.input.topOnly=!1,Ae.shared.currentChapter=4}update(){this.background.width=this.windowWidth*2,this.background.height=this.windowHeight*2,this.headline.x=window.innerWidth/2-this.headline.width/2,this.headline.y=100,this.description.x=window.innerWidth/2-this.description.width/2,this.description.y=window.innerHeight/2+30,this.image.x=window.innerWidth/2,this.image.y=window.innerHeight/2-this.image.height*.25/2,this.qrCode.x=window.innerWidth/2,this.qrCode.y=this.description.y+this.description.height+30}}gt(rn,"cutsceneVideoFileName","Videos/Chapter_4.mp4"),gt(rn,"cutsceneSectionsSubtitles",HT),gt(rn,"sceneName",Ol),gt(rn,"title"),gt(rn,"subtitle");const bl="Chapter3Scene",KT={active:!1,visible:!1,key:bl};class ln extends pi{constructor(){super(KT);gt(this,"sceneId","Chapter3");gt(this,"sceneData",XT);gt(this,"backgroundMusicPath","Audio/BGM_Chapter_3.mp3");gt(this,"sceneWidth",1920);gt(this,"sceneHeight",1080)}preload(){super.preload()}create(){super.create(),Ae.shared.currentChapter=3}checkInteraction(y,w){var P=this.checkCollideWithTouchPoints(y,w);if(P.length!=0)this.defaultUIScene.sfxs.play("Woohoo_1");else{let g=Math.round(Math.random()*2+1);this.defaultUIScene.sfxs.play("Sigh_"+g)}P.forEach(g=>{switch(g.name){case"Touchpoint_1":this.defaultUIScene.foundHiddenObject(2,0);break;case"Touchpoint_2":this.defaultUIScene.foundHiddenObject(2,1);break;case"Touchpoint_3":this.defaultUIScene.foundHiddenObject(2,2);break;case"Touchpoint_4":this.defaultUIScene.foundHiddenObject(2,3);break}});const F=Ae.shared.allHiddenObjects[2];let c=!0;for(let g=0;g<F.length;g++)if(!F[g].isFound){c=!1;break}c&&this.defaultUIScene.changeScene(rn)}}gt(ln,"cutsceneVideoFileName","Videos/Chapter_3.mp4"),gt(ln,"cutsceneSectionsTimestamps",[0,2,10]),gt(ln,"cutsceneSectionsSubtitles",YT),gt(ln,"sceneName",bl);const Dl="Chapter2Scene",jT={active:!1,visible:!1,key:Dl};class un extends pi{constructor(){super(jT);gt(this,"sceneId","Chapter2");gt(this,"sceneData",NT);gt(this,"backgroundMusicPath","Audio/BGM_Chapter_2.mp3");gt(this,"sceneWidth",2438);gt(this,"sceneHeight",1213)}preload(){super.preload()}create(){super.create(),Ae.shared.currentChapter=2}checkInteraction(y,w){var P=this.checkCollideWithTouchPoints(y,w);if(P.length!=0)this.defaultUIScene.sfxs.play("Woohoo_1");else{let g=Math.round(Math.random()*2+1);this.defaultUIScene.sfxs.play("Sigh_"+g)}P.forEach(g=>{switch(g.name){case"Touchpoint_1":this.defaultUIScene.foundHiddenObject(1,0);break;case"Touchpoint_2":this.defaultUIScene.foundHiddenObject(1,1);break;case"Touchpoint_3":this.defaultUIScene.foundHiddenObject(1,2);break}});const F=Ae.shared.allHiddenObjects[1];let c=!0;for(let g=0;g<F.length;g++)if(!F[g].isFound){c=!1;break}c&&this.defaultUIScene.changeScene(ln)}}gt(un,"cutsceneVideoFileName","Videos/Chapter_2.mp4"),gt(un,"cutsceneSectionsTimestamps",[0,2,10]),gt(un,"cutsceneSectionsSubtitles",IT),gt(un,"sceneName",Dl);const Nl="Chapter1Scene",kT={active:!1,visible:!1,key:Nl};class bn extends pi{constructor(){super(kT);gt(this,"sceneId","Chapter1");gt(this,"sceneData",PT);gt(this,"backgroundMusicPath","Audio/BGM_Chapter_1.mp3");gt(this,"sceneWidth",2048);gt(this,"sceneHeight",1204)}preload(){super.preload()}create(){super.create(),Ae.shared.currentChapter=1}checkInteraction(y,w){var P=this.checkCollideWithTouchPoints(y,w);if(P.length!=0)this.defaultUIScene.sfxs.play("Woohoo_1");else{let F=Math.round(Math.random()*2+1);this.defaultUIScene.sfxs.play("Sigh_"+F)}P.forEach(F=>{switch(F.name){case"Touchpoint_1":this.defaultUIScene.foundHiddenObject(0,0);break;case"Touchpoint_2":this.defaultUIScene.foundHiddenObject(0,1);break;case"Touchpoint_3":this.defaultUIScene.foundHiddenObject(0,2);break}const c=Ae.shared.allHiddenObjects[0];let g=!0;for(let t=0;t<c.length;t++)if(!c[t].isFound){g=!1;break}g&&this.defaultUIScene.changeScene(un)})}}gt(bn,"cutsceneVideoFileName","Videos/Chapter_1.mp4"),gt(bn,"cutsceneSectionsTimestamps",[0,2,6]),gt(bn,"cutsceneSectionsSubtitles",MT),gt(bn,"sceneName",Nl);const Il="MainMenuScene",ZT={active:!1,visible:!1,key:Il};class Un extends pi{constructor(){super(ZT);gt(this,"backgroundMusicPath","Audio/BGM_Main_Menu.mp3");gt(this,"interactiveObjectSpritesFileName","MainMenu_Objects");gt(this,"sceneId","MainMenu");gt(this,"sceneData",xT);gt(this,"title");gt(this,"subtitle");gt(this,"sceneWidth",2048);gt(this,"sceneHeight",1204)}create(){super.create(),this.cameras.main.setBackgroundColor(0),this.interactiveObjects.forEach(y=>{y.name.startsWith("Object_")&&y.imageSprite.setVisible(!1),y.imageSprite.setScale(.5)})}update(){super.update();for(let y=0;y<Ae.shared.allHiddenObjects.length;y++)for(let w=0;w<Ae.shared.allHiddenObjects[y].length;w++){let P=Ae.shared.allHiddenObjects[y][w],F="Object_"+(y+1)+"_"+(w+1),c=this.interactiveObjects.find(g=>g.name==F);P.isFound?c==null||c.imageSprite.setVisible(!0):c==null||c.imageSprite.setVisible(!1)}}checkInteraction(y,w){console.log("Blink detected");var P=this.checkCollideWithTouchPoints(y,w);if(P.length==0){let F=Math.floor(Math.random()*2+1);this.defaultUIScene.sfxs.play("Sigh_"+F)}P.forEach(F=>{switch(console.log(F.name),F.name){case"Play":this.defaultUIScene.sfxs.play("Woohoo_1"),this.resetAndPlayGame();break}})}resetAndPlayGame(){switch(Ae.shared.currentChapter){case 2:this.defaultUIScene.changeScene(un);break;case 3:this.defaultUIScene.changeScene(ln);break;default:this.defaultUIScene.changeScene(bn);break}}}gt(Un,"sceneName",Il);const Bl="PermissionScene",JT={active:!1,visible:!1,key:Bl};class dn extends pi{constructor(){super(JT);gt(this,"sceneId","Permission");gt(this,"sceneData",null);gt(this,"sceneWidth",1920);gt(this,"sceneHeight",1080);gt(this,"background");gt(this,"headline");gt(this,"description");gt(this,"image");gt(this,"cameraPermissionButton")}preload(){this.load.image("permission","Image_Permission.png")}create(){this.background=this.add.rectangle(0,0,window.innerWidth,window.innerHeight,16777215),this.headline=this.add.text(0,0,`Hi there, little eye.
How would you like to play this game ?`,{fontFamily:cn,fontSize:Ul,color:"#ffffff"}),this.headline.tint=0,this.headline.lineSpacing=.5,this.headline.setAlign("center"),this.headline.setResolution(3);const y=`We recommend granting us access to your camera.
Then, blink, wink, and bob your way through this game using face tracking.
If people around you start to stare,
you can always switch to using your cursor.`;this.description=this.add.text(0,0,y,{fontFamily:cn,fontSize:Vl,color:"#ffffff"}),this.description.setResolution(3),this.description.tint=0,this.description.setAlign("center"),this.image=this.add.image(0,0,"permission"),this.image.setScale(.25),this.input.topOnly=!1,this.cameraPermissionButton=this.createButton("Great, face tracking it is!"),this.input.on("pointerup",(w,P)=>{P[0]==this.cameraPermissionButton&&this.askCameraPermission()})}createButton(y){const w=this.add.graphics();w.fillStyle(0),w.fillRoundedRect(0,0,300,48,24);const P=this.add.text(0,0,y,{fontFamily:cn,fontSize:qT,color:"#ffffff"});P.tint=16777215,P.setAlign("center"),P.setOrigin(-.25,-.75),P.setResolution(2);const F=this.add.container(0,0,[w,P]);return F.setInteractive(new Phaser.Geom.Rectangle(0,0,300,48),Phaser.Geom.Rectangle.Contains),F}update(){this.background.width=this.windowWidth*2,this.background.height=this.windowHeight*2,this.headline.x=window.innerWidth/2-this.headline.width/2,this.headline.y=100,this.description.x=window.innerWidth/2-this.description.width/2,this.description.y=window.innerHeight/2+30,this.image.x=window.innerWidth/2,this.image.y=window.innerHeight/2-this.image.height*.25/2,this.cameraPermissionButton.x=window.innerWidth/2-150,this.cameraPermissionButton.y=window.innerHeight-150}async askCameraPermission(){try{await _e.setup(),this.defaultUIScene.changeScene(Un),Ae.shared.faceControlEnabled=!0}catch(y){this.defaultUIScene.changeScene(Un),console.log(y)}}}gt(dn,"sceneName",Bl),gt(dn,"title"),gt(dn,"subtitle");const QT={active:!1,visible:!1,key:"UserInterface"},Gl="Road Rage",cn="Gaegu",zl=96,Ul=32,Vl=22,qT=18;class _T extends Phaser.Scene{constructor(){super(QT);gt(this,"showUserInterface",!1);gt(this,"currentScene");gt(this,"isUserInterfaceVisible",!1);gt(this,"isLoadingVisible",!1);gt(this,"hiddenObjectIndicators",[]);gt(this,"zoomIndicator");gt(this,"zoomIndicatorBackground");gt(this,"mainMenuButton");gt(this,"flashBackground");gt(this,"descriptionText");gt(this,"cutsceneBackground");gt(this,"cutsceneTitleText");gt(this,"cutsceneSubtitleText");gt(this,"mainMenuCountdown");gt(this,"mainMenuConfirm");gt(this,"backgroundMusic");gt(this,"sfxs");gt(this,"centerX",50);gt(this,"centerY",window.innerHeight/2);gt(this,"iconTween",y=>{this.tweens.add({targets:y,duration:1e3,scaleX:.4,scaleY:.4,alpha:.3,repeat:0})})}preload(){this.load.multiatlas("interface","144ppi/Interface.json","144ppi"),this.load.bitmapFont(Gl,"Fonts/RoadRage_0.png","Fonts/RoadRage.fnt"),this.load.bitmapFont(cn,"Fonts/Gaegu_0.png","Fonts/Gaegu.fnt"),this.load.audioSprite("sfxs","Audio/sfxs.json",["Audio/sfxs.mp3"]),this.load.audio("Chapter_1_Intro","Audio/Chapter_1_Intro.mp3")}create(){this.zoomIndicatorBackground=this.add.image(100,100,"interface","Control_Zoom_Background"),this.zoomIndicatorBackground.setScale(.5),this.zoomIndicatorBackground.setDepth(1),this.zoomIndicatorBackground.setAlpha(0),this.zoomIndicator=this.add.image(100,100,"interface","Control_Zoom_Indicator"),this.zoomIndicator.setScale(.5),this.zoomIndicator.setDepth(2),this.zoomIndicator.setAlpha(0),this.mainMenuButton=this.add.image(100,100,"interface","Control_Main_Menu"),this.mainMenuButton.setScale(.5),this.mainMenuButton.setDepth(1),this.mainMenuButton.setAlpha(0),this.changeScene(dn),this.scale.on("resize",this.resize,this),this.flashBackground=this.add.rectangle(0,0,window.innerWidth,window.innerHeight,16777215),this.flashBackground.alpha=0,this.flashBackground.setDepth(200),this.sfxs=this.sound.addAudioSprite("sfxs"),this.descriptionText=this.add.text(0,0,"",{fontFamily:"Gaegu",fontSize:18,color:"#ffffff"}),this.descriptionText.letterSpacing=.5,this.descriptionText.setBackgroundColor("#000000"),this.descriptionText.tint=16777215}update(){if(this.zoomIndicatorBackground.x=this.centerX,this.zoomIndicatorBackground.y=this.centerY,this.zoomIndicator.x=this.centerX,this.zoomIndicator.y=this.centerY,this.mainMenuButton.x=50,Ae.shared.faceControlEnabled?this.mainMenuButton.y=this.centerY+this.zoomIndicatorBackground.height/2:this.mainMenuButton.y=this.centerY+this.zoomIndicatorBackground.height-100,this.flashBackground.width=window.innerWidth*2,this.flashBackground.height=window.innerHeight*2,this.descriptionText.setAlign("center"),this.descriptionText.x=window.innerWidth/2,this.descriptionText.y=window.innerHeight-40,this.descriptionText.setOrigin(.5),this.cutsceneBackground&&(this.cutsceneBackground.width=window.innerWidth*2,this.cutsceneBackground.height=window.innerHeight*2),this.currentScene instanceof dn?this.input.setDefaultCursor("pointer"):this.input.setDefaultCursor("none"),_e.default){const y=Phaser.Math.Clamp(_e.default.scale,0,1.5),w=this.zoomIndicatorBackground.height*.5/2,P=this.zoomIndicatorBackground.y-this.zoomIndicatorBackground.height*.5,F=this.zoomIndicatorBackground.y+w,c=Phaser.Math.Linear(P,F,(y-0)/(1.5-0));!(this.currentScene instanceof Un)&&!(this.currentScene instanceof dn)&&(y>=1.5&&this.mainMenuCountdown==null?this.showMainMenuCountdown():this.mainMenuCountdown!=null&&y<1.5&&this.hideCountdownMenu()),this.zoomIndicator.y=c}}changeScene(y,w){var P,F;(P=this.backgroundMusic)==null||P.stop(),this.currentScene&&(this.scene.stop(this.currentScene),this.scene.sendToBack(this.currentScene),this.setDescriptionText("")),y.cutsceneVideoFileName&&((F=this.currentScene)==null?void 0:F.isStarted)==!1?this.showCutsceneVideo(y):this.launchScene(y)}launchScene(y){this.currentScene=this.scene.get(y.sceneName),console.log(this.currentScene),console.log("Loading Scene "+y.sceneName+", Activated: "+this.scene.isActive(y.sceneName)),this.currentScene.load.on("complete",()=>{var w;switch(console.log("Launching Scene "+y.sceneName),this.scene.sendToBack(this.currentScene),y.sceneName){case"Chapter1Scene":this.reloadIcons(1);break;case"Chapter2Scene":this.reloadIcons(2);break;case"Chapter3Scene":this.reloadIcons(3);break;default:this.reloadIcons(0)}(w=this.currentScene)!=null&&w.backgroundMusicPath&&(this.backgroundMusic=this.sound.add(this.currentScene.backgroundMusicPath),this.backgroundMusic.setLoop(!0),this.backgroundMusic.setVolume(.5),this.backgroundMusic.play())}),this.scene.launch(this.currentScene)}reloadIcons(y=0){if(this.hiddenObjectIndicators.length!=0){for(let w=0;w<this.hiddenObjectIndicators.length;w++)this.hiddenObjectIndicators[w].destroy();this.hiddenObjectIndicators=[]}if(y!=0){const w=Ae.shared.allHiddenObjects[y-1];for(let P=0;P<w.length;P++){let F=this.add.sprite(window.innerWidth/2+window.innerWidth/8*(P-1),window.innerHeight/12*11,"interface","Clue_"+y+"_"+(P+1));F.setScale(.5),this.hiddenObjectIndicators.push(F),this.hiddenObjectIndicators[P].setDepth(1)}this.setUserInterfacesTransparency(1)}else this.setUserInterfacesTransparency(0)}setUserInterfacesTransparency(y){this.zoomIndicator.setAlpha(y),this.zoomIndicatorBackground.setAlpha(y),this.mainMenuButton.setAlpha(y);for(let w=0;w<this.hiddenObjectIndicators.length;w++)this.hiddenObjectIndicators[w].setAlpha(y)}createCutscene(y,w){this.cutsceneBackground=this.add.rectangle(0,0,window.innerWidth,window.innerHeight,0),this.cutsceneBackground.setDepth(100),this.cutsceneBackground.alpha=0,this.cutsceneTitleText=this.add.text(0,0,y,{fontFamily:cn,fontSize:zl,color:"#ffffff"}),this.cutsceneTitleText.tint=16777215,this.cutsceneTitleText.x=window.innerWidth/2-this.cutsceneTitleText.width/2,this.cutsceneTitleText.y=window.innerHeight/2-this.cutsceneTitleText.height/2,this.cutsceneTitleText.setDepth(101),this.cutsceneTitleText.alpha=0,this.cutsceneSubtitleText=this.add.text(0,0,w.toUpperCase(),{fontFamily:cn,fontSize:Ul,color:"#ffffff"}),this.cutsceneSubtitleText.letterSpacing=.5,this.cutsceneSubtitleText.tint=16777215,this.cutsceneSubtitleText.x=window.innerWidth/2-this.cutsceneSubtitleText.width/2,this.cutsceneSubtitleText.y=window.innerHeight/2+this.cutsceneTitleText.height/2,this.cutsceneSubtitleText.setDepth(102),this.cutsceneSubtitleText.alpha=0}showMainMenuCountdown(){this.createCutscene("3","Continue?");var y=3;this.mainMenuCountdown=this.time.addEvent({delay:1e3,loop:!0,callback:()=>{this.cutsceneTitleText.text=y.toString(),y-=1}}),this.tweens.add({targets:[this.cutsceneBackground,this.cutsceneSubtitleText,this.cutsceneTitleText],duration:700,alpha:1}),this.mainMenuConfirm=this.time.delayedCall(4e3,()=>{var w;(w=this.mainMenuCountdown)==null||w.remove(),console.log("Moving back to MainMenu"),this.changeScene(Un),this.tweens.add({targets:[this.cutsceneBackground],duration:700,alpha:0,complete:()=>{this.cutsceneBackground.destroy(),this.cutsceneTitleText.destroy(),this.cutsceneSubtitleText.destroy()}})},[],this)}hideCountdownMenu(){var y,w;console.log("Ending CountDown"),(y=this.mainMenuCountdown)==null||y.destroy(),this.mainMenuCountdown=void 0,(w=this.mainMenuConfirm)==null||w.destroy(),this.mainMenuConfirm=void 0,this.cutsceneBackground.destroy(),this.cutsceneTitleText.destroy(),this.cutsceneSubtitleText.destroy(),this.tweens.add({targets:[this.cutsceneBackground],duration:700,alpha:0,complete:()=>{this.cutsceneBackground.destroy(),this.cutsceneTitleText.destroy(),this.cutsceneSubtitleText.destroy()}})}showCutsceneVideo(y){var o;this.cutsceneBackground=this.add.rectangle(0,0,window.innerWidth,window.innerHeight,0),this.cutsceneBackground.setDepth(100),this.cutsceneBackground.alpha=0,this.zoomIndicator.setAlpha(0),this.zoomIndicatorBackground.setAlpha(0),this.mainMenuButton.setAlpha(0),this.setUserInterfacesTransparency(0);const w=this.add.video(window.innerWidth/2,window.innerHeight/2).loadURL(y.cutsceneVideoFileName,!1);w.setDepth(101),w.setScale(.5),w.play();const P=(o=this.input.keyboard)==null?void 0:o.addKey(Phaser.Input.Keyboard.KeyCodes.SPACE);let F;if(y.cutsceneSectionsSubtitles){let v=y.cutsceneSectionsSubtitles,a=-1;F=this.time.addEvent({delay:100,callback:()=>{const i=w.getCurrentTime();let s=-1;for(let e=0;e<v.length&&i>=v[e].timestamp;e++)s=e;if(s!==a)if(a=s,s>=0&&s<v.length){if(this.descriptionText.setText(v[s].caption),s+1<v.length){const e=v[s+1].timestamp;e-v[s].timestamp>.5&&this.time.delayedCall((e-i-.2)*1e3,()=>{a===s&&this.descriptionText.setText("")})}}else this.descriptionText.setText("")},loop:!0})}const c=()=>{P==null||P.off("down",g),this.input.off("pointerdown",t),this.tweens.add({targets:[this.cutsceneBackground,w],duration:700,alpha:0,onComplete:()=>{this.cutsceneBackground.destroy(),w.destroy(),F.destroy(),this.setUserInterfacesTransparency(1),this.launchScene(y),this.setDescriptionText("")}})},g=()=>{if(console.log(y.cutsceneSectionsTimestamps),y.cutsceneSectionsTimestamps){let v=y.cutsceneSectionsTimestamps[y.cutsceneSectionsTimestamps.length-1];if(w.getCurrentTime()>v)c();else for(let a=0;a<y.cutsceneSectionsTimestamps.length;a++)if(w.getCurrentTime()<y.cutsceneSectionsTimestamps[a]){w.setCurrentTime(y.cutsceneSectionsTimestamps[a]);break}}else c()},t=v=>{v.leftButtonDown()&&g()};P==null||P.on("down",g),this.input.on("pointerdown",t),w.on("complete",()=>{g()}),this.setDescriptionText("[Left click or press spacebar to skip]")}foundHiddenObject(y,w){const P=Ae.shared.allHiddenObjects[y][w];P.isFound||(this.iconTween(this.hiddenObjectIndicators[w]),this.flashBackground.alpha=1,this.tweens.add({targets:[this.flashBackground],duration:1e3,alpha:0}),P.isFound=!0)}setDescriptionText(y){console.log(y==""),y==""?this.descriptionText.setPadding(0):this.descriptionText.setPadding(10,5,10,5),this.descriptionText.setText(y)}resize(){if(this.currentScene==null)return;const y=this.currentScene.scale.gameSize.width,w=this.currentScene.scale.gameSize.height;this.currentScene.parent=new Phaser.Structs.Size(y,w),this.currentScene.sizer=new Phaser.Structs.Size(this.currentScene.scale.width,this.currentScene.scale.height);const P=this.currentScene.sizer.width/this.game.canvas.width,F=this.currentScene.sizer.height/this.game.canvas.height;this.currentScene.cameras.main.setZoom(Math.max(P,F)),this.currentScene.cameras.main.centerOn(this.game.canvas.width/2,this.game.canvas.height/2)}}const tS=1920,eS=1080,iS=640,nS=480,sS=1280,rS=832,aS={title:"focus-but-where",type:Js.AUTO,scale:{mode:Js.Scale.RESIZE,parent:"game",width:sS,height:rS,min:{width:iS,height:nS},max:{width:tS,height:eS}},physics:{default:"arcade",arcade:{debug:!0}},dom:{createContainer:!0},backgroundColor:"#000000",scene:[_T,dn,Un,bn,un,ln,rn]},Wl=new Js.Game(aS);Wl.input.globalTopOnly=!1;
